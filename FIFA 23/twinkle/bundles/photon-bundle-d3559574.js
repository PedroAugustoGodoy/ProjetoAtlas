/* Twinkle Signature v1 j8TSyAZrSyp5Tg+kJiJom69NpVneYDvj9zKxSVu4ntzEG/6Xcl5n6t5Tdw2aQvoY2Lg1TaVgQ0EbPPOEsO/1Bg== *//*!
*   Version: main_41713
*   Build #: 41713
*    Branch: main
*  Revision: f509103d419dd5ab17647825e336b336f9c12728
* Timestamp: 2023-03-07 08:36:51 UTC
*/
!function() {
var e = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
function t(e, t, r) {
return e(r = {
path: t,
exports: {},
require: function(e, t) {
return n(null == t && r.path);
}
}, r.exports), r.exports;
}
function n() {
throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");
}
/**
	 * @license React
	 * react.production.min.js
	 *
	 * Copyright (c) Facebook, Inc. and its affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */ var r = Symbol.for("react.element"), i = Symbol.for("react.portal"), a = Symbol.for("react.fragment"), o = Symbol.for("react.strict_mode"), s = Symbol.for("react.profiler"), l = Symbol.for("react.provider"), c = Symbol.for("react.context"), d = Symbol.for("react.forward_ref"), u = Symbol.for("react.suspense"), p = Symbol.for("react.memo"), f = Symbol.for("react.lazy"), m = Symbol.iterator;
function y(e) {
return null === e || "object" != typeof e ? null : "function" == typeof (e = m && e[m] || e["@@iterator"]) ? e : null;
}
var h = {
isMounted: function() {
return !1;
},
enqueueForceUpdate: function() {},
enqueueReplaceState: function() {},
enqueueSetState: function() {}
}, g = Object.assign, I = {};
function v(e, t, n) {
this.props = e, this.context = t, this.refs = I, this.updater = n || h;
}
function b() {}
function _(e, t, n) {
this.props = e, this.context = t, this.refs = I, this.updater = n || h;
}
v.prototype.isReactComponent = {}, v.prototype.setState = function(e, t) {
if ("object" != typeof e && "function" != typeof e && null != e) throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");
this.updater.enqueueSetState(this, e, t, "setState");
}, v.prototype.forceUpdate = function(e) {
this.updater.enqueueForceUpdate(this, e, "forceUpdate");
}, b.prototype = v.prototype;
var P = _.prototype = new b;
P.constructor = _, g(P, v.prototype), P.isPureReactComponent = !0;
var S = Array.isArray, T = Object.prototype.hasOwnProperty, E = {
current: null
}, k = {
key: !0,
ref: !0,
__self: !0,
__source: !0
};
function N(e, t, n) {
var i, a = {}, o = null, s = null;
if (null != t) for (i in void 0 !== t.ref && (s = t.ref), void 0 !== t.key && (o = "" + t.key), 
t) T.call(t, i) && !k.hasOwnProperty(i) && (a[i] = t[i]);
var l = arguments.length - 2;
if (1 === l) a.children = n; else if (1 < l) {
for (var c = Array(l), d = 0; d < l; d++) c[d] = arguments[d + 2];
a.children = c;
}
if (e && e.defaultProps) for (i in l = e.defaultProps) void 0 === a[i] && (a[i] = l[i]);
return {
$$typeof: r,
type: e,
key: o,
ref: s,
props: a,
_owner: E.current
};
}
function C(e, t) {
return {
$$typeof: r,
type: e.type,
key: t,
ref: e.ref,
props: e.props,
_owner: e._owner
};
}
function O(e) {
return "object" == typeof e && null !== e && e.$$typeof === r;
}
function A(e) {
var t = {
"=": "=0",
":": "=2"
};
return "$" + e.replace(/[=:]/g, (function(e) {
return t[e];
}));
}
var w = /\/+/g;
function L(e, t) {
return "object" == typeof e && null !== e && null != e.key ? A("" + e.key) : t.toString(36);
}
function R(e, t, n, a, o) {
var s = typeof e;
"undefined" !== s && "boolean" !== s || (e = null);
var l = !1;
if (null === e) l = !0; else switch (s) {
case "string":
case "number":
l = !0;
break;

case "object":
switch (e.$$typeof) {
case r:
case i:
l = !0;
}
}
if (l) return o = o(l = e), e = "" === a ? "." + L(l, 0) : a, S(o) ? (n = "", null != e && (n = e.replace(w, "$&/") + "/"), 
R(o, t, n, "", (function(e) {
return e;
}))) : null != o && (O(o) && (o = C(o, n + (!o.key || l && l.key === o.key ? "" : ("" + o.key).replace(w, "$&/") + "/") + e)), 
t.push(o)), 1;
if (l = 0, a = "" === a ? "." : a + ":", S(e)) for (var c = 0; c < e.length; c++) {
var d = a + L(s = e[c], c);
l += R(s, t, n, d, o);
} else if ("function" == typeof (d = y(e))) for (e = d.call(e), c = 0; !(s = e.next()).done; ) l += R(s = s.value, t, n, d = a + L(s, c++), o); else if ("object" === s) throw t = String(e), 
Error("Objects are not valid as a React child (found: " + ("[object Object]" === t ? "object with keys {" + Object.keys(e).join(", ") + "}" : t) + "). If you meant to render a collection of children, use an array instead.");
return l;
}
function x(e, t, n) {
if (null == e) return e;
var r = [], i = 0;
return R(e, r, "", "", (function(e) {
return t.call(n, e, i++);
})), r;
}
function B(e) {
if (-1 === e._status) {
var t = e._result;
(t = t()).then((function(t) {
0 !== e._status && -1 !== e._status || (e._status = 1, e._result = t);
}), (function(t) {
0 !== e._status && -1 !== e._status || (e._status = 2, e._result = t);
})), -1 === e._status && (e._status = 0, e._result = t);
}
if (1 === e._status) return e._result.default;
throw e._result;
}
var D = {
current: null
}, M = {
transition: null
}, F = {
map: x,
forEach: function(e, t, n) {
x(e, (function() {
t.apply(this, arguments);
}), n);
},
count: function(e) {
var t = 0;
return x(e, (function() {
t++;
})), t;
},
toArray: function(e) {
return x(e, (function(e) {
return e;
})) || [];
},
only: function(e) {
if (!O(e)) throw Error("React.Children.only expected to receive a single React element child.");
return e;
}
}, U = {
Children: F,
Component: v,
Fragment: a,
Profiler: s,
PureComponent: _,
StrictMode: o,
Suspense: u,
__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {
ReactCurrentDispatcher: D,
ReactCurrentBatchConfig: M,
ReactCurrentOwner: E
},
cloneElement: function(e, t, n) {
if (null == e) throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + e + ".");
var i = g({}, e.props), a = e.key, o = e.ref, s = e._owner;
if (null != t) {
if (void 0 !== t.ref && (o = t.ref, s = E.current), void 0 !== t.key && (a = "" + t.key), 
e.type && e.type.defaultProps) var l = e.type.defaultProps;
for (c in t) T.call(t, c) && !k.hasOwnProperty(c) && (i[c] = void 0 === t[c] && void 0 !== l ? l[c] : t[c]);
}
var c = arguments.length - 2;
if (1 === c) i.children = n; else if (1 < c) {
l = Array(c);
for (var d = 0; d < c; d++) l[d] = arguments[d + 2];
i.children = l;
}
return {
$$typeof: r,
type: e.type,
key: a,
ref: o,
props: i,
_owner: s
};
},
createContext: function(e) {
return (e = {
$$typeof: c,
_currentValue: e,
_currentValue2: e,
_threadCount: 0,
Provider: null,
Consumer: null,
_defaultValue: null,
_globalName: null
}).Provider = {
$$typeof: l,
_context: e
}, e.Consumer = e;
},
createElement: N,
createFactory: function(e) {
var t = N.bind(null, e);
return t.type = e, t;
},
createRef: function() {
return {
current: null
};
},
forwardRef: function(e) {
return {
$$typeof: d,
render: e
};
},
isValidElement: O,
lazy: function(e) {
return {
$$typeof: f,
_payload: {
_status: -1,
_result: e
},
_init: B
};
},
memo: function(e, t) {
return {
$$typeof: p,
type: e,
compare: void 0 === t ? null : t
};
},
startTransition: function(e) {
var t = M.transition;
M.transition = {};
try {
e();
} finally {
M.transition = t;
}
},
unstable_act: function() {
throw Error("act(...) is not supported in production builds of React.");
},
useCallback: function(e, t) {
return D.current.useCallback(e, t);
},
useContext: function(e) {
return D.current.useContext(e);
},
useDebugValue: function() {},
useDeferredValue: function(e) {
return D.current.useDeferredValue(e);
},
useEffect: function(e, t) {
return D.current.useEffect(e, t);
},
useId: function() {
return D.current.useId();
},
useImperativeHandle: function(e, t, n) {
return D.current.useImperativeHandle(e, t, n);
},
useInsertionEffect: function(e, t) {
return D.current.useInsertionEffect(e, t);
},
useLayoutEffect: function(e, t) {
return D.current.useLayoutEffect(e, t);
},
useMemo: function(e, t) {
return D.current.useMemo(e, t);
},
useReducer: function(e, t, n) {
return D.current.useReducer(e, t, n);
},
useRef: function(e) {
return D.current.useRef(e);
},
useState: function(e) {
return D.current.useState(e);
},
useSyncExternalStore: function(e, t, n) {
return D.current.useSyncExternalStore(e, t, n);
},
useTransition: function() {
return D.current.useTransition();
},
version: "18.2.0"
}, H = (t((function(e, t) {})), t((function(e) {
e.exports = U;
}))), V = t((function(e, t) {
Object.defineProperty(t, "__esModule", {
value: !0
}), t.isUsingStaticRendering = t.enableStaticRendering = void 0;
var n = !1;
t.enableStaticRendering = function(e) {
n = e;
}, t.isUsingStaticRendering = function() {
return n;
};
}));
function J(e) {
for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
throw new Error("number" == typeof e ? "[MobX] minified error nr: " + e + (n.length ? " " + n.map(String).join(",") : "") + ". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts" : "[MobX] " + e);
}
var z = {};
function G() {
return "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : z;
}
var j = Object.assign, q = Object.getOwnPropertyDescriptor, W = Object.defineProperty, Y = Object.prototype, K = [];
Object.freeze(K);
var X = {};
Object.freeze(X);
var Q = "undefined" != typeof Proxy, $ = Object.toString();
function Z(e) {
var t = !1;
return function() {
if (!t) return t = !0, e.apply(this, arguments);
};
}
Q || J("Proxy not available");
var ee = function() {};
function te(e) {
return "function" == typeof e;
}
function ne(e) {
switch (typeof e) {
case "string":
case "symbol":
case "number":
return !0;
}
return !1;
}
function re(e) {
return null !== e && "object" == typeof e;
}
function ie(e) {
if (!re(e)) return !1;
var t = Object.getPrototypeOf(e);
if (null == t) return !0;
var n = Object.hasOwnProperty.call(t, "constructor") && t.constructor;
return "function" == typeof n && n.toString() === $;
}
function ae(e) {
var t = null == e ? void 0 : e.constructor;
return !!t && ("GeneratorFunction" === t.name || "GeneratorFunction" === t.displayName);
}
function oe(e, t, n) {
W(e, t, {
enumerable: !1,
writable: !0,
configurable: !0,
value: n
});
}
function se(e, t) {
var n = "isMobX" + e;
return t.prototype[n] = !0, function(e) {
return re(e) && !0 === e[n];
};
}
function le(e) {
return e instanceof Map;
}
function ce(e) {
return e instanceof Set;
}
var de = void 0 !== Object.getOwnPropertySymbols;
function ue(e) {
var t = Object.keys(e);
if (!de) return t;
var n = Object.getOwnPropertySymbols(e);
return n.length ? [].concat(t, n.filter((function(t) {
return Y.propertyIsEnumerable.call(e, t);
}))) : t;
}
var pe = "undefined" != typeof Reflect && Reflect.ownKeys ? Reflect.ownKeys : de ? function(e) {
return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));
} : Object.getOwnPropertyNames;
function fe(e) {
return null === e ? null : "object" == typeof e ? "" + e : e;
}
function me(e, t) {
return Y.hasOwnProperty.call(e, t);
}
var ye = Object.getOwnPropertyDescriptors || function(e) {
var t = {};
return pe(e).forEach((function(n) {
t[n] = q(e, n);
})), t;
};
function he(e, t) {
for (var n = 0; n < t.length; n++) {
var r = t[n];
r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), 
Object.defineProperty(e, r.key, r);
}
}
function ge(e, t, n) {
return t && he(e.prototype, t), n && he(e, n), Object.defineProperty(e, "prototype", {
writable: !1
}), e;
}
function Ie() {
return Ie = Object.assign || function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, Ie.apply(this, arguments);
}
function ve(e, t) {
return ve = Object.setPrototypeOf || function(e, t) {
return e.__proto__ = t, e;
}, ve(e, t);
}
function be(e, t) {
if (e) {
if ("string" == typeof e) return _e(e, t);
var n = Object.prototype.toString.call(e).slice(8, -1);
return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? _e(e, t) : void 0;
}
}
function _e(e, t) {
(null == t || t > e.length) && (t = e.length);
for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
return r;
}
function Pe(e, t) {
var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
if (n) return (n = n.call(e)).next.bind(n);
if (Array.isArray(e) || (n = be(e)) || t && e && "number" == typeof e.length) {
n && (e = n);
var r = 0;
return function() {
return r >= e.length ? {
done: !0
} : {
done: !1,
value: e[r++]
};
};
}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
var Se = Symbol("mobx-stored-annotations");
function Te(e) {
return Object.assign((function(t, n) {
Ee(t, n, e);
}), e);
}
function Ee(e, t, n) {
me(e, Se) || oe(e, Se, Ie({}, e[Se])), De(n) || (e[Se][t] = n);
}
function ke(e) {
return me(e, Se) || oe(e, Se, Ie({}, e[Se])), e[Se];
}
var Ne = Symbol("mobx administration"), Ce = function() {
function e(e) {
void 0 === e && (e = "Atom"), this.name_ = void 0, this.isPendingUnobservation_ = !1, 
this.isBeingObserved_ = !1, this.observers_ = new Set, this.diffValue_ = 0, this.lastAccessedBy_ = 0, 
this.lowestObserverState_ = Rt.NOT_TRACKING_, this.onBOL = void 0, this.onBUOL = void 0, 
this.name_ = e;
}
var t = e.prototype;
return t.onBO = function() {
this.onBOL && this.onBOL.forEach((function(e) {
return e();
}));
}, t.onBUO = function() {
this.onBUOL && this.onBUOL.forEach((function(e) {
return e();
}));
}, t.reportObserved = function() {
return pn(this);
}, t.reportChanged = function() {
dn(), fn(this), un();
}, t.toString = function() {
return this.name_;
}, e;
}(), Oe = se("Atom", Ce);
function Ae(e, t, n) {
void 0 === t && (t = ee), void 0 === n && (n = ee);
var r = new Ce(e);
return t !== ee && Fn(r, t), n !== ee && Un(r, n), r;
}
var we = {
identity: function(e, t) {
return e === t;
},
structural: function(e, t) {
return li(e, t);
},
default: function(e, t) {
return Object.is ? Object.is(e, t) : e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t;
},
shallow: function(e, t) {
return li(e, t, 1);
}
};
function Le(e, t, n) {
return nr(e) ? e : Array.isArray(e) ? ht.array(e, {
name: n
}) : ie(e) ? ht.object(e, void 0, {
name: n
}) : le(e) ? ht.map(e, {
name: n
}) : ce(e) ? ht.set(e, {
name: n
}) : "function" != typeof e || Rn(e) || Qn(e) ? e : ae(e) ? Kn(e) : wn(n, e);
}
function Re(e) {
return e;
}
var xe = "override", Be = Te({
annotationType_: xe,
make_: function(e, t) {
return 0;
},
extend_: function(e, t, n, r) {
J("'" + this.annotationType_ + "' can only be used with 'makeObservable'");
}
});
function De(e) {
return e.annotationType_ === xe;
}
function Me(e, t) {
return {
annotationType_: e,
options_: t,
make_: Fe,
extend_: Ue
};
}
function Fe(e, t, n, r) {
var i;
if (null != (i = this.options_) && i.bound) return null === this.extend_(e, t, n, !1) ? 0 : 1;
if (r === e.target_) return null === this.extend_(e, t, n, !1) ? 0 : 2;
if (Rn(n.value)) return 1;
var a = He(e, this, t, n, !1);
return W(r, t, a), 2;
}
function Ue(e, t, n, r) {
var i = He(e, this, t, n);
return e.defineProperty_(t, i, r);
}
function He(e, t, n, r, i) {
var a, o, s, l, c, d, u, p;
void 0 === i && (i = nn.safeDescriptors), p = r, t.annotationType_, p.value;
var f, m = r.value;
null != (a = t.options_) && a.bound && (m = m.bind(null != (f = e.proxy_) ? f : e.target_));
return {
value: kt(null != (o = null == (s = t.options_) ? void 0 : s.name) ? o : n.toString(), m, null != (l = null == (c = t.options_) ? void 0 : c.autoAction) && l, null != (d = t.options_) && d.bound ? null != (u = e.proxy_) ? u : e.target_ : void 0),
configurable: !i || e.isPlainObject_,
enumerable: !1,
writable: !i
};
}
function Ve(e, t) {
return {
annotationType_: e,
options_: t,
make_: Je,
extend_: ze
};
}
function Je(e, t, n, r) {
var i;
if (r === e.target_) return null === this.extend_(e, t, n, !1) ? 0 : 2;
if (null != (i = this.options_) && i.bound && (!me(e.target_, t) || !Qn(e.target_[t])) && null === this.extend_(e, t, n, !1)) return 0;
if (Qn(n.value)) return 1;
var a = Ge(e, this, t, n, !1, !1);
return W(r, t, a), 2;
}
function ze(e, t, n, r) {
var i, a = Ge(e, this, t, n, null == (i = this.options_) ? void 0 : i.bound);
return e.defineProperty_(t, a, r);
}
function Ge(e, t, n, r, i, a) {
var o;
void 0 === a && (a = nn.safeDescriptors), o = r, t.annotationType_, o.value;
var s, l = r.value;
(Qn(l) || (l = Kn(l)), i) && ((l = l.bind(null != (s = e.proxy_) ? s : e.target_)).isMobXFlow = !0);
return {
value: l,
configurable: !a || e.isPlainObject_,
enumerable: !1,
writable: !a
};
}
function je(e, t) {
return {
annotationType_: e,
options_: t,
make_: qe,
extend_: We
};
}
function qe(e, t, n) {
return null === this.extend_(e, t, n, !1) ? 0 : 1;
}
function We(e, t, n, r) {
return Ye(e, this, t, n), e.defineComputedProperty_(t, Ie({}, this.options_, {
get: n.get,
set: n.set
}), r);
}
function Ye(e, t, n, r) {
t.annotationType_, r.get;
}
function Ke(e, t) {
return {
annotationType_: e,
options_: t,
make_: Xe,
extend_: Qe
};
}
function Xe(e, t, n) {
return null === this.extend_(e, t, n, !1) ? 0 : 1;
}
function Qe(e, t, n, r) {
var i, a;
return $e(e, this), e.defineObservableProperty_(t, n.value, null != (i = null == (a = this.options_) ? void 0 : a.enhancer) ? i : Le, r);
}
function $e(e, t, n, r) {
t.annotationType_;
}
var Ze = et();
function et(e) {
return {
annotationType_: "true",
options_: e,
make_: tt,
extend_: nt
};
}
function tt(e, t, n, r) {
var i, a, o, s;
if (n.get) return bt.make_(e, t, n, r);
if (n.set) {
var l = kt(t.toString(), n.set);
return r === e.target_ ? null === e.defineProperty_(t, {
configurable: !nn.safeDescriptors || e.isPlainObject_,
set: l
}) ? 0 : 2 : (W(r, t, {
configurable: !0,
set: l
}), 2);
}
if (r !== e.target_ && "function" == typeof n.value) return ae(n.value) ? (null != (s = this.options_) && s.autoBind ? Kn.bound : Kn).make_(e, t, n, r) : (null != (o = this.options_) && o.autoBind ? wn.bound : wn).make_(e, t, n, r);
var c, d = !1 === (null == (i = this.options_) ? void 0 : i.deep) ? ht.ref : ht;
"function" == typeof n.value && null != (a = this.options_) && a.autoBind && (n.value = n.value.bind(null != (c = e.proxy_) ? c : e.target_));
return d.make_(e, t, n, r);
}
function nt(e, t, n, r) {
var i, a, o;
if (n.get) return bt.extend_(e, t, n, r);
if (n.set) return e.defineProperty_(t, {
configurable: !nn.safeDescriptors || e.isPlainObject_,
set: kt(t.toString(), n.set)
}, r);
"function" == typeof n.value && null != (i = this.options_) && i.autoBind && (n.value = n.value.bind(null != (o = e.proxy_) ? o : e.target_));
return (!1 === (null == (a = this.options_) ? void 0 : a.deep) ? ht.ref : ht).extend_(e, t, n, r);
}
var rt = {
deep: !0,
name: void 0,
defaultDecorator: void 0
};
function it(e) {
return e || rt;
}
Object.freeze(rt);
var at = Ke("observable"), ot = Ke("observable.ref", {
enhancer: Re
}), st = Ke("observable.shallow", {
enhancer: function(e, t, n) {
return null == e || ni(e) || Hr(e) || jr(e) || Kr(e) ? e : Array.isArray(e) ? ht.array(e, {
name: n,
deep: !1
}) : ie(e) ? ht.object(e, void 0, {
name: n,
deep: !1
}) : le(e) ? ht.map(e, {
name: n,
deep: !1
}) : ce(e) ? ht.set(e, {
name: n,
deep: !1
}) : void 0;
}
}), lt = Ke("observable.struct", {
enhancer: function(e, t) {
return li(e, t) ? t : e;
}
}), ct = Te(at);
function dt(e) {
return !0 === e.deep ? Le : !1 === e.deep ? Re : (t = e.defaultDecorator) && null != (n = null == (r = t.options_) ? void 0 : r.enhancer) ? n : Le;
var t, n, r;
}
function ut(e) {
var t;
return e ? null != (t = e.defaultDecorator) ? t : et(e) : void 0;
}
function pt(e, t, n) {
if (!ne(t)) return nr(e) ? e : ie(e) ? ht.object(e, t, n) : Array.isArray(e) ? ht.array(e, t) : le(e) ? ht.map(e, t) : ce(e) ? ht.set(e, t) : "object" == typeof e && null !== e ? e : ht.box(e, t);
Ee(e, t, at);
}
Object.assign(pt, ct);
var ft, mt, yt = {
box: function(e, t) {
var n = it(t);
return new Bt(e, dt(n), n.name, !0, n.equals);
},
array: function(e, t) {
var n = it(t);
return Rr(e, dt(n), n.name);
},
map: function(e, t) {
var n = it(t);
return new Gr(e, dt(n), n.name);
},
set: function(e, t) {
var n = it(t);
return new Yr(e, dt(n), n.name);
},
object: function(e, t, n) {
return Jn(br({}, n), e, t);
},
ref: Te(ot),
shallow: Te(st),
deep: ct,
struct: Te(lt)
}, ht = j(pt, yt), gt = "computed", It = je(gt), vt = je("computed.struct", {
equals: we.structural
}), bt = function(e, t) {
if (ne(t)) return Ee(e, t, It);
if (ie(e)) return Te(je(gt, e));
var n = ie(t) ? t : {};
return n.get = e, n.name || (n.name = e.name || ""), new Mt(n);
};
Object.assign(bt, It), bt.struct = Te(vt);
var _t, Pt = 0, St = 1, Tt = null != (ft = null == (mt = q((function() {}), "name")) ? void 0 : mt.configurable) && ft, Et = {
value: "action",
configurable: !0,
writable: !1,
enumerable: !1
};
function kt(e, t, n, r) {
function i() {
return Nt(e, n, t, r || this, arguments);
}
return void 0 === n && (n = !1), i.isMobxAction = !0, Tt && (Et.value = e, Object.defineProperty(i, "name", Et)), 
i;
}
function Nt(e, t, n, r, i) {
var a = Ct(e, t);
try {
return n.apply(r, i);
} catch (e) {
throw a.error_ = e, e;
} finally {
Ot(a);
}
}
function Ct(e, t, n, r) {
var i = nn.trackingDerivation, a = !t || !i;
dn();
var o = nn.allowStateChanges;
a && (Wt(), o = wt(!0));
var s = {
runAsAction_: a,
prevDerivation_: i,
prevAllowStateChanges_: o,
prevAllowStateReads_: Kt(!0),
notifySpy_: !1,
startTime_: 0,
actionId_: St++,
parentActionId_: Pt
};
return Pt = s.actionId_, s;
}
function Ot(e) {
Pt !== e.actionId_ && J(30), Pt = e.parentActionId_, void 0 !== e.error_ && (nn.suppressReactionErrors = !0), 
Lt(e.prevAllowStateChanges_), Xt(e.prevAllowStateReads_), un(), e.runAsAction_ && Yt(e.prevDerivation_), 
nn.suppressReactionErrors = !1;
}
function At(e, t) {
var n = wt(e);
try {
return t();
} finally {
Lt(n);
}
}
function wt(e) {
var t = nn.allowStateChanges;
return nn.allowStateChanges = e, t;
}
function Lt(e) {
nn.allowStateChanges = e;
}
_t = Symbol.toPrimitive;
var Rt, xt, Bt = function(e, t) {
var n, r;
function i(t, n, r, i, a) {
var o;
return void 0 === r && (r = "ObservableValue"), void 0 === a && (a = we.default), 
(o = e.call(this, r) || this).enhancer = void 0, o.name_ = void 0, o.equals = void 0, 
o.interceptors_ = void 0, o.changeListeners_ = void 0, o.value_ = void 0, o.dehancer = void 0, 
o.enhancer = n, o.name_ = r, o.equals = a, o.value_ = n(t, void 0, r), o;
}
r = e, (n = i).prototype = Object.create(r.prototype), n.prototype.constructor = n, 
ve(n, r);
var a = i.prototype;
return a.dehanceValue = function(e) {
return void 0 !== this.dehancer ? this.dehancer(e) : e;
}, a.set = function(e) {
this.value_;
(e = this.prepareNewValue_(e)) !== nn.UNCHANGED && this.setNewValue_(e);
}, a.prepareNewValue_ = function(e) {
if (_r(this)) {
var t = Sr(this, {
object: this,
type: Ar,
newValue: e
});
if (!t) return nn.UNCHANGED;
e = t.newValue;
}
return e = this.enhancer(e, this.value_, this.name_), this.equals(this.value_, e) ? nn.UNCHANGED : e;
}, a.setNewValue_ = function(e) {
var t = this.value_;
this.value_ = e, this.reportChanged(), Tr(this) && kr(this, {
type: Ar,
object: this,
newValue: e,
oldValue: t
});
}, a.get = function() {
return this.reportObserved(), this.dehanceValue(this.value_);
}, a.intercept_ = function(e) {
return Pr(this, e);
}, a.observe_ = function(e, t) {
return t && e({
observableKind: "value",
debugObjectName: this.name_,
object: this,
type: Ar,
newValue: this.value_,
oldValue: void 0
}), Er(this, e);
}, a.raw = function() {
return this.value_;
}, a.toJSON = function() {
return this.get();
}, a.toString = function() {
return this.name_ + "[" + this.value_ + "]";
}, a.valueOf = function() {
return fe(this.get());
}, a[t] = function() {
return this.valueOf();
}, i;
}(Ce, _t), Dt = se("ObservableValue", Bt), Mt = function(e) {
function t(e) {
this.dependenciesState_ = Rt.NOT_TRACKING_, this.observing_ = [], this.newObserving_ = null, 
this.isBeingObserved_ = !1, this.isPendingUnobservation_ = !1, this.observers_ = new Set, 
this.diffValue_ = 0, this.runId_ = 0, this.lastAccessedBy_ = 0, this.lowestObserverState_ = Rt.UP_TO_DATE_, 
this.unboundDepsCount_ = 0, this.value_ = new Ut(null), this.name_ = void 0, this.triggeredBy_ = void 0, 
this.isComputing_ = !1, this.isRunningSetter_ = !1, this.derivation = void 0, this.setter_ = void 0, 
this.isTracing_ = xt.NONE, this.scope_ = void 0, this.equals_ = void 0, this.requiresReaction_ = void 0, 
this.keepAlive_ = void 0, this.onBOL = void 0, this.onBUOL = void 0, e.get || J(31), 
this.derivation = e.get, this.name_ = e.name || "ComputedValue", e.set && (this.setter_ = kt("ComputedValue-setter", e.set)), 
this.equals_ = e.equals || (e.compareStructural || e.struct ? we.structural : we.default), 
this.scope_ = e.context, this.requiresReaction_ = e.requiresReaction, this.keepAlive_ = !!e.keepAlive;
}
var n = t.prototype;
return n.onBecomeStale_ = function() {
yn(this);
}, n.onBO = function() {
this.onBOL && this.onBOL.forEach((function(e) {
return e();
}));
}, n.onBUO = function() {
this.onBUOL && this.onBUOL.forEach((function(e) {
return e();
}));
}, n.get = function() {
if (this.isComputing_ && J(32, this.name_, this.derivation), 0 !== nn.inBatch || 0 !== this.observers_.size || this.keepAlive_) {
if (pn(this), Vt(this)) {
var e = nn.trackingContext;
this.keepAlive_ && !e && (nn.trackingContext = this), this.trackAndCompute() && mn(this), 
nn.trackingContext = e;
}
} else Vt(this) && (this.warnAboutUntrackedRead_(), dn(), this.value_ = this.computeValue_(!1), 
un());
var t = this.value_;
if (Ht(t)) throw t.cause;
return t;
}, n.set = function(e) {
if (this.setter_) {
this.isRunningSetter_ && J(33, this.name_), this.isRunningSetter_ = !0;
try {
this.setter_.call(this.scope_, e);
} finally {
this.isRunningSetter_ = !1;
}
} else J(34, this.name_);
}, n.trackAndCompute = function() {
var e = this.value_, t = this.dependenciesState_ === Rt.NOT_TRACKING_, n = this.computeValue_(!0), r = t || Ht(e) || Ht(n) || !this.equals_(e, n);
return r && (this.value_ = n), r;
}, n.computeValue_ = function(e) {
this.isComputing_ = !0;
var t, n = wt(!1);
if (e) t = zt(this, this.derivation, this.scope_); else if (!0 === nn.disableErrorBoundaries) t = this.derivation.call(this.scope_); else try {
t = this.derivation.call(this.scope_);
} catch (e) {
t = new Ut(e);
}
return Lt(n), this.isComputing_ = !1, t;
}, n.suspend_ = function() {
this.keepAlive_ || (jt(this), this.value_ = void 0);
}, n.observe_ = function(e, t) {
var n = this, r = !0, i = void 0;
return xn((function() {
var a = n.get();
if (!r || t) {
var o = Wt();
e({
observableKind: "computed",
debugObjectName: n.name_,
type: Ar,
object: n,
newValue: a,
oldValue: i
}), Yt(o);
}
r = !1, i = a;
}));
}, n.warnAboutUntrackedRead_ = function() {}, n.toString = function() {
return this.name_ + "[" + this.derivation.toString() + "]";
}, n.valueOf = function() {
return fe(this.get());
}, n[e] = function() {
return this.valueOf();
}, t;
}(Symbol.toPrimitive), Ft = se("ComputedValue", Mt);
!function(e) {
e[e.NOT_TRACKING_ = -1] = "NOT_TRACKING_", e[e.UP_TO_DATE_ = 0] = "UP_TO_DATE_", 
e[e.POSSIBLY_STALE_ = 1] = "POSSIBLY_STALE_", e[e.STALE_ = 2] = "STALE_";
}(Rt || (Rt = {})), function(e) {
e[e.NONE = 0] = "NONE", e[e.LOG = 1] = "LOG", e[e.BREAK = 2] = "BREAK";
}(xt || (xt = {}));
var Ut = function(e) {
this.cause = void 0, this.cause = e;
};
function Ht(e) {
return e instanceof Ut;
}
function Vt(e) {
switch (e.dependenciesState_) {
case Rt.UP_TO_DATE_:
return !1;

case Rt.NOT_TRACKING_:
case Rt.STALE_:
return !0;

case Rt.POSSIBLY_STALE_:
for (var t = Kt(!0), n = Wt(), r = e.observing_, i = r.length, a = 0; a < i; a++) {
var o = r[a];
if (Ft(o)) {
if (nn.disableErrorBoundaries) o.get(); else try {
o.get();
} catch (e) {
return Yt(n), Xt(t), !0;
}
if (e.dependenciesState_ === Rt.STALE_) return Yt(n), Xt(t), !0;
}
}
return Qt(e), Yt(n), Xt(t), !1;
}
}
function Jt() {
return null !== nn.trackingDerivation;
}
function zt(e, t, n) {
var r = Kt(!0);
Qt(e), e.newObserving_ = new Array(e.observing_.length + 100), e.unboundDepsCount_ = 0, 
e.runId_ = ++nn.runId;
var i, a = nn.trackingDerivation;
if (nn.trackingDerivation = e, nn.inBatch++, !0 === nn.disableErrorBoundaries) i = t.call(n); else try {
i = t.call(n);
} catch (e) {
i = new Ut(e);
}
return nn.inBatch--, nn.trackingDerivation = a, Gt(e), Xt(r), i;
}
function Gt(e) {
for (var t = e.observing_, n = e.observing_ = e.newObserving_, r = Rt.UP_TO_DATE_, i = 0, a = e.unboundDepsCount_, o = 0; o < a; o++) {
var s = n[o];
0 === s.diffValue_ && (s.diffValue_ = 1, i !== o && (n[i] = s), i++), s.dependenciesState_ > r && (r = s.dependenciesState_);
}
for (n.length = i, e.newObserving_ = null, a = t.length; a--; ) {
var l = t[a];
0 === l.diffValue_ && ln(l, e), l.diffValue_ = 0;
}
for (;i--; ) {
var c = n[i];
1 === c.diffValue_ && (c.diffValue_ = 0, sn(c, e));
}
r !== Rt.UP_TO_DATE_ && (e.dependenciesState_ = r, e.onBecomeStale_());
}
function jt(e) {
var t = e.observing_;
e.observing_ = [];
for (var n = t.length; n--; ) ln(t[n], e);
e.dependenciesState_ = Rt.NOT_TRACKING_;
}
function qt(e) {
var t = Wt();
try {
return e();
} finally {
Yt(t);
}
}
function Wt() {
var e = nn.trackingDerivation;
return nn.trackingDerivation = null, e;
}
function Yt(e) {
nn.trackingDerivation = e;
}
function Kt(e) {
var t = nn.allowStateReads;
return nn.allowStateReads = e, t;
}
function Xt(e) {
nn.allowStateReads = e;
}
function Qt(e) {
if (e.dependenciesState_ !== Rt.UP_TO_DATE_) {
e.dependenciesState_ = Rt.UP_TO_DATE_;
for (var t = e.observing_, n = t.length; n--; ) t[n].lowestObserverState_ = Rt.UP_TO_DATE_;
}
}
var $t = [ "mobxGuid", "spyListeners", "enforceActions", "computedRequiresReaction", "reactionRequiresObservable", "observableRequiresReaction", "allowStateReads", "disableErrorBoundaries", "runId", "UNCHANGED" ], Zt = function() {
this.version = 6, this.UNCHANGED = {}, this.trackingDerivation = null, this.trackingContext = null, 
this.runId = 0, this.mobxGuid = 0, this.inBatch = 0, this.pendingUnobservations = [], 
this.pendingReactions = [], this.isRunningReactions = !1, this.allowStateChanges = !1, 
this.allowStateReads = !0, this.enforceActions = !0, this.spyListeners = [], this.globalReactionErrorHandlers = [], 
this.computedRequiresReaction = !1, this.reactionRequiresObservable = !1, this.observableRequiresReaction = !1, 
this.disableErrorBoundaries = !1, this.suppressReactionErrors = !1, this.safeDescriptors = !0;
}, en = !0, tn = !1, nn = function() {
var e = G();
return e.__mobxInstanceCount > 0 && !e.__mobxGlobals && (en = !1), e.__mobxGlobals && e.__mobxGlobals.version !== (new Zt).version && (en = !1), 
en ? e.__mobxGlobals ? (e.__mobxInstanceCount += 1, e.__mobxGlobals.UNCHANGED || (e.__mobxGlobals.UNCHANGED = {}), 
e.__mobxGlobals) : (e.__mobxInstanceCount = 1, e.__mobxGlobals = new Zt) : (setTimeout((function() {
tn || J(35);
}), 1), new Zt);
}();
function rn() {
if ((nn.pendingReactions.length || nn.inBatch || nn.isRunningReactions) && J(36), 
tn = !0, en) {
var e = G();
0 == --e.__mobxInstanceCount && (e.__mobxGlobals = void 0), nn = new Zt;
}
}
function an(e) {
return e.observers_ && e.observers_.size > 0;
}
function on(e) {
return e.observers_;
}
function sn(e, t) {
e.observers_.add(t), e.lowestObserverState_ > t.dependenciesState_ && (e.lowestObserverState_ = t.dependenciesState_);
}
function ln(e, t) {
e.observers_.delete(t), 0 === e.observers_.size && cn(e);
}
function cn(e) {
!1 === e.isPendingUnobservation_ && (e.isPendingUnobservation_ = !0, nn.pendingUnobservations.push(e));
}
function dn() {
nn.inBatch++;
}
function un() {
if (0 == --nn.inBatch) {
In();
for (var e = nn.pendingUnobservations, t = 0; t < e.length; t++) {
var n = e[t];
n.isPendingUnobservation_ = !1, 0 === n.observers_.size && (n.isBeingObserved_ && (n.isBeingObserved_ = !1, 
n.onBUO()), n instanceof Mt && n.suspend_());
}
nn.pendingUnobservations = [];
}
}
function pn(e) {
var t = nn.trackingDerivation;
return null !== t ? (t.runId_ !== e.lastAccessedBy_ && (e.lastAccessedBy_ = t.runId_, 
t.newObserving_[t.unboundDepsCount_++] = e, !e.isBeingObserved_ && nn.trackingContext && (e.isBeingObserved_ = !0, 
e.onBO())), !0) : (0 === e.observers_.size && nn.inBatch > 0 && cn(e), !1);
}
function fn(e) {
e.lowestObserverState_ !== Rt.STALE_ && (e.lowestObserverState_ = Rt.STALE_, e.observers_.forEach((function(e) {
e.dependenciesState_ === Rt.UP_TO_DATE_ && e.onBecomeStale_(), e.dependenciesState_ = Rt.STALE_;
})));
}
function mn(e) {
e.lowestObserverState_ !== Rt.STALE_ && (e.lowestObserverState_ = Rt.STALE_, e.observers_.forEach((function(t) {
t.dependenciesState_ === Rt.POSSIBLY_STALE_ ? t.dependenciesState_ = Rt.STALE_ : t.dependenciesState_ === Rt.UP_TO_DATE_ && (e.lowestObserverState_ = Rt.UP_TO_DATE_);
})));
}
function yn(e) {
e.lowestObserverState_ === Rt.UP_TO_DATE_ && (e.lowestObserverState_ = Rt.POSSIBLY_STALE_, 
e.observers_.forEach((function(e) {
e.dependenciesState_ === Rt.UP_TO_DATE_ && (e.dependenciesState_ = Rt.POSSIBLY_STALE_, 
e.onBecomeStale_());
})));
}
var hn = function() {
function e(e, t, n, r) {
void 0 === e && (e = "Reaction"), this.name_ = void 0, this.onInvalidate_ = void 0, 
this.errorHandler_ = void 0, this.requiresObservable_ = void 0, this.observing_ = [], 
this.newObserving_ = [], this.dependenciesState_ = Rt.NOT_TRACKING_, this.diffValue_ = 0, 
this.runId_ = 0, this.unboundDepsCount_ = 0, this.isDisposed_ = !1, this.isScheduled_ = !1, 
this.isTrackPending_ = !1, this.isRunning_ = !1, this.isTracing_ = xt.NONE, this.name_ = e, 
this.onInvalidate_ = t, this.errorHandler_ = n, this.requiresObservable_ = r;
}
var t = e.prototype;
return t.onBecomeStale_ = function() {
this.schedule_();
}, t.schedule_ = function() {
this.isScheduled_ || (this.isScheduled_ = !0, nn.pendingReactions.push(this), In());
}, t.isScheduled = function() {
return this.isScheduled_;
}, t.runReaction_ = function() {
if (!this.isDisposed_) {
dn(), this.isScheduled_ = !1;
var e = nn.trackingContext;
if (nn.trackingContext = this, Vt(this)) {
this.isTrackPending_ = !0;
try {
this.onInvalidate_();
} catch (e) {
this.reportExceptionInDerivation_(e);
}
}
nn.trackingContext = e, un();
}
}, t.track = function(e) {
if (!this.isDisposed_) {
dn(), this.isRunning_ = !0;
var t = nn.trackingContext;
nn.trackingContext = this;
var n = zt(this, e, void 0);
nn.trackingContext = t, this.isRunning_ = !1, this.isTrackPending_ = !1, this.isDisposed_ && jt(this), 
Ht(n) && this.reportExceptionInDerivation_(n.cause), un();
}
}, t.reportExceptionInDerivation_ = function(e) {
var t = this;
if (this.errorHandler_) this.errorHandler_(e, this); else {
if (nn.disableErrorBoundaries) throw e;
var n = "[mobx] uncaught error in '" + this + "'";
nn.suppressReactionErrors || console.error(n, e), nn.globalReactionErrorHandlers.forEach((function(n) {
return n(e, t);
}));
}
}, t.dispose = function() {
this.isDisposed_ || (this.isDisposed_ = !0, this.isRunning_ || (dn(), jt(this), 
un()));
}, t.getDisposer_ = function() {
var e = this.dispose.bind(this);
return e[Ne] = this, e;
}, t.toString = function() {
return "Reaction[" + this.name_ + "]";
}, t.trace = function(e) {
void 0 === e && (e = !1), pr(this, e);
}, e;
}();
var gn = function(e) {
return e();
};
function In() {
nn.inBatch > 0 || nn.isRunningReactions || gn(vn);
}
function vn() {
nn.isRunningReactions = !0;
for (var e = nn.pendingReactions, t = 0; e.length > 0; ) {
100 == ++t && (console.error("[mobx] cycle in reaction: " + e[0]), e.splice(0));
for (var n = e.splice(0), r = 0, i = n.length; r < i; r++) n[r].runReaction_();
}
nn.isRunningReactions = !1;
}
var bn = se("Reaction", hn);
function _n(e) {
return console.warn("[mobx.spy] Is a no-op in production builds"), function() {};
}
var Pn = "action", Sn = "autoAction", Tn = "<unnamed action>", En = Me(Pn), kn = Me("action.bound", {
bound: !0
}), Nn = Me(Sn, {
autoAction: !0
}), Cn = Me("autoAction.bound", {
autoAction: !0,
bound: !0
});
function On(e) {
return function(t, n) {
return te(t) ? kt(t.name || Tn, t, e) : te(n) ? kt(t, n, e) : ne(n) ? Ee(t, n, e ? Nn : En) : ne(t) ? Te(Me(e ? Sn : Pn, {
name: t,
autoAction: e
})) : void 0;
};
}
var An = On(!1);
Object.assign(An, En);
var wn = On(!0);
function Ln(e) {
return Nt(e.name || Tn, !1, e, this, void 0);
}
function Rn(e) {
return te(e) && !0 === e.isMobxAction;
}
function xn(e, t) {
var n, r;
void 0 === t && (t = X);
var i, a = null != (n = null == (r = t) ? void 0 : r.name) ? n : "Autorun";
if (!t.scheduler && !t.delay) i = new hn(a, (function() {
this.track(l);
}), t.onError, t.requiresObservable); else {
var o = Dn(t), s = !1;
i = new hn(a, (function() {
s || (s = !0, o((function() {
s = !1, i.isDisposed_ || i.track(l);
})));
}), t.onError, t.requiresObservable);
}
function l() {
e(i);
}
return i.schedule_(), i.getDisposer_();
}
Object.assign(wn, Nn), An.bound = Te(kn), wn.bound = Te(Cn);
var Bn = function(e) {
return e();
};
function Dn(e) {
return e.scheduler ? e.scheduler : e.delay ? function(t) {
return setTimeout(t, e.delay);
} : Bn;
}
function Mn(e, t, n) {
var r;
void 0 === n && (n = X);
var i, a, o, s, l = null != (r = n.name) ? r : "Reaction", c = An(l, n.onError ? (i = n.onError, 
a = t, function() {
try {
return a.apply(this, arguments);
} catch (e) {
i.call(this, e);
}
}) : t), d = !n.scheduler && !n.delay, u = Dn(n), p = !0, f = !1, m = n.compareStructural ? we.structural : n.equals || we.default, y = new hn(l, (function() {
p || d ? h() : f || (f = !0, u(h));
}), n.onError, n.requiresObservable);
function h() {
if (f = !1, !y.isDisposed_) {
var t = !1;
y.track((function() {
var n = At(!1, (function() {
return e(y);
}));
t = p || !m(o, n), s = o, o = n;
})), (p && n.fireImmediately || !p && t) && c(o, s, y), p = !1;
}
}
return y.schedule_(), y.getDisposer_();
}
function Fn(e, t, n) {
return Hn("onBO", e, t, n);
}
function Un(e, t, n) {
return Hn("onBUO", e, t, n);
}
function Hn(e, t, n, r) {
var i = "function" == typeof r ? ii(t, n) : ii(t), a = te(r) ? r : n, o = e + "L";
return i[o] ? i[o].add(a) : i[o] = new Set([ a ]), function() {
var e = i[o];
e && (e.delete(a), 0 === e.size && delete i[o]);
};
}
var Vn = "always";
function Jn(e, t, n, r) {
var i = ye(t), a = Zr(e, r)[Ne];
dn();
try {
pe(i).forEach((function(e) {
a.extend_(e, i[e], !n || (!(e in n) || n[e]));
}));
} finally {
un();
}
return e;
}
function zn(e) {
var t, n = {
name: e.name_
};
return e.observing_ && e.observing_.length > 0 && (n.dependencies = (t = e.observing_, 
Array.from(new Set(t))).map(zn)), n;
}
function Gn(e) {
var t = {
name: e.name_
};
return an(e) && (t.observers = Array.from(on(e)).map(Gn)), t;
}
var jn = 0;
function qn() {
this.message = "FLOW_CANCELLED";
}
qn.prototype = Object.create(Error.prototype);
var Wn = Ve("flow"), Yn = Ve("flow.bound", {
bound: !0
}), Kn = Object.assign((function(e, t) {
if (ne(t)) return Ee(e, t, Wn);
var n = e, r = n.name || "<unnamed flow>", i = function() {
var e, t = this, i = arguments, a = ++jn, o = An(r + " - runid: " + a + " - init", n).apply(t, i), s = void 0, l = new Promise((function(t, n) {
var i = 0;
function l(e) {
var t;
s = void 0;
try {
t = An(r + " - runid: " + a + " - yield " + i++, o.next).call(o, e);
} catch (e) {
return n(e);
}
d(t);
}
function c(e) {
var t;
s = void 0;
try {
t = An(r + " - runid: " + a + " - yield " + i++, o.throw).call(o, e);
} catch (e) {
return n(e);
}
d(t);
}
function d(e) {
if (!te(null == e ? void 0 : e.then)) return e.done ? t(e.value) : (s = Promise.resolve(e.value)).then(l, c);
e.then(d, n);
}
e = n, l(void 0);
}));
return l.cancel = An(r + " - runid: " + a + " - cancel", (function() {
try {
s && Xn(s);
var t = o.return(void 0), n = Promise.resolve(t.value);
n.then(ee, ee), Xn(n), e(new qn);
} catch (t) {
e(t);
}
})), l;
};
return i.isMobXFlow = !0, i;
}), Wn);
function Xn(e) {
te(e.cancel) && e.cancel();
}
function Qn(e) {
return !0 === (null == e ? void 0 : e.isMobXFlow);
}
function $n(e, t) {
return ai(e).intercept_(t);
}
function Zn(e, t, n) {
return ai(e, t).intercept_(n);
}
function er(e, t) {
if (void 0 === t) return Ft(e);
if (!1 === ni(e)) return !1;
if (!e[Ne].values_.has(t)) return !1;
var n = ii(e, t);
return Ft(n);
}
function tr(e, t) {
return !!e && (void 0 !== t ? !!ni(e) && e[Ne].values_.has(t) : ni(e) || !!e[Ne] || Oe(e) || bn(e) || Ft(e));
}
function nr(e) {
return tr(e);
}
function rr(e) {
return ni(e) ? e[Ne].keys_() : jr(e) || Kr(e) ? Array.from(e.keys()) : Hr(e) ? e.map((function(e, t) {
return t;
})) : void J(5);
}
function ir(e, t) {
return ni(e) ? e[Ne].has_(t) : jr(e) || Kr(e) ? e.has(t) : Hr(e) ? t >= 0 && t < e.length : void J(10);
}
function ar(e) {
if (ni(e)) return e[Ne].ownKeys_();
J(38);
}
function or(e, t, n, r) {
return te(n) ? lr(e, t, n, r) : sr(e, t, n);
}
function sr(e, t, n) {
return ai(e).observe_(t, n);
}
function lr(e, t, n, r) {
return ai(e, t).observe_(n, r);
}
function cr(e, t, n) {
return e.set(t, n), n;
}
function dr(e, t) {
if (null == e || "object" != typeof e || e instanceof Date || !nr(e)) return e;
if (Dt(e) || Ft(e)) return dr(e.get(), t);
if (t.has(e)) return t.get(e);
if (Hr(e)) {
var n = cr(t, e, new Array(e.length));
return e.forEach((function(e, r) {
n[r] = dr(e, t);
})), n;
}
if (Kr(e)) {
var r = cr(t, e, new Set);
return e.forEach((function(e) {
r.add(dr(e, t));
})), r;
}
if (jr(e)) {
var i = cr(t, e, new Map);
return e.forEach((function(e, n) {
i.set(n, dr(e, t));
})), i;
}
var a = cr(t, e, {});
return ar(e).forEach((function(n) {
Y.propertyIsEnumerable.call(e, n) && (a[n] = dr(e[n], t));
})), a;
}
function ur(e, t) {
return dr(e, new Map);
}
function pr() {
J("trace() is not available in production builds");
for (var e = !1, t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
"boolean" == typeof n[n.length - 1] && (e = n.pop());
var i = fr(n);
if (!i) return J("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");
i.isTracing_ === xt.NONE && console.log("[mobx.trace] '" + i.name_ + "' tracing enabled"), 
i.isTracing_ = e ? xt.BREAK : xt.LOG;
}
function fr(e) {
switch (e.length) {
case 0:
return nn.trackingDerivation;

case 1:
return ii(e[0]);

case 2:
return ii(e[0], e[1]);
}
}
function mr(e, t) {
void 0 === t && (t = void 0), dn();
try {
return e.apply(t);
} finally {
un();
}
}
function yr(e, t, n) {
return 1 === arguments.length || t && "object" == typeof t ? gr(e, t) : hr(e, t, n || {});
}
function hr(e, t, n) {
var r;
if ("number" == typeof n.timeout) {
var i = new Error("WHEN_TIMEOUT");
r = setTimeout((function() {
if (!o[Ne].isDisposed_) {
if (o(), !n.onError) throw i;
n.onError(i);
}
}), n.timeout);
}
n.name = "When";
var a = kt("When-effect", t), o = xn((function(t) {
At(!1, e) && (t.dispose(), r && clearTimeout(r), a());
}), n);
return o;
}
function gr(e, t) {
var n, r = new Promise((function(r, i) {
var a = hr(e, r, Ie({}, t, {
onError: i
}));
n = function() {
a(), i(new Error("WHEN_CANCELLED"));
};
}));
return r.cancel = n, r;
}
function Ir(e) {
return e[Ne];
}
Kn.bound = Te(Yn);
var vr = {
has: function(e, t) {
return Ir(e).has_(t);
},
get: function(e, t) {
return Ir(e).get_(t);
},
set: function(e, t, n) {
var r;
return !!ne(t) && (null == (r = Ir(e).set_(t, n, !0)) || r);
},
deleteProperty: function(e, t) {
var n;
return !!ne(t) && (null == (n = Ir(e).delete_(t, !0)) || n);
},
defineProperty: function(e, t, n) {
var r;
return null == (r = Ir(e).defineProperty_(t, n)) || r;
},
ownKeys: function(e) {
return Ir(e).ownKeys_();
},
preventExtensions: function(e) {
J(13);
}
};
function br(e, t) {
var n, r;
return null != (r = (n = (e = Zr(e, t))[Ne]).proxy_) ? r : n.proxy_ = new Proxy(e, vr);
}
function _r(e) {
return void 0 !== e.interceptors_ && e.interceptors_.length > 0;
}
function Pr(e, t) {
var n = e.interceptors_ || (e.interceptors_ = []);
return n.push(t), Z((function() {
var e = n.indexOf(t);
-1 !== e && n.splice(e, 1);
}));
}
function Sr(e, t) {
var n = Wt();
try {
for (var r = [].concat(e.interceptors_ || []), i = 0, a = r.length; i < a && ((t = r[i](t)) && !t.type && J(14), 
t); i++) ;
return t;
} finally {
Yt(n);
}
}
function Tr(e) {
return void 0 !== e.changeListeners_ && e.changeListeners_.length > 0;
}
function Er(e, t) {
var n = e.changeListeners_ || (e.changeListeners_ = []);
return n.push(t), Z((function() {
var e = n.indexOf(t);
-1 !== e && n.splice(e, 1);
}));
}
function kr(e, t) {
var n = Wt(), r = e.changeListeners_;
if (r) {
for (var i = 0, a = (r = r.slice()).length; i < a; i++) r[i](t);
Yt(n);
}
}
function Nr(e, t, n) {
var r = Zr(e, n)[Ne];
dn();
try {
0, null != t || (t = ke(e)), pe(t).forEach((function(e) {
return r.make_(e, t[e]);
}));
} finally {
un();
}
return e;
}
var Cr = Symbol("mobx-keys");
var Or = "splice", Ar = "update", wr = {
get: function(e, t) {
var n = e[Ne];
return t === Ne ? n : "length" === t ? n.getArrayLength_() : "string" != typeof t || isNaN(t) ? me(xr, t) ? xr[t] : e[t] : n.get_(parseInt(t));
},
set: function(e, t, n) {
var r = e[Ne];
return "length" === t && r.setArrayLength_(n), "symbol" == typeof t || isNaN(t) ? e[t] = n : r.set_(parseInt(t), n), 
!0;
},
preventExtensions: function() {
J(15);
}
}, Lr = function() {
function e(e, t, n) {
void 0 === e && (e = "ObservableArray"), this.owned_ = void 0, this.atom_ = void 0, 
this.values_ = [], this.interceptors_ = void 0, this.changeListeners_ = void 0, 
this.enhancer_ = void 0, this.dehancer = void 0, this.proxy_ = void 0, this.lastKnownLength_ = 0, 
this.owned_ = n, this.atom_ = new Ce(e), this.enhancer_ = function(e, n) {
return t(e, n, "ObservableArray[..]");
};
}
var t = e.prototype;
return t.dehanceValue_ = function(e) {
return void 0 !== this.dehancer ? this.dehancer(e) : e;
}, t.dehanceValues_ = function(e) {
return void 0 !== this.dehancer && e.length > 0 ? e.map(this.dehancer) : e;
}, t.intercept_ = function(e) {
return Pr(this, e);
}, t.observe_ = function(e, t) {
return void 0 === t && (t = !1), t && e({
observableKind: "array",
object: this.proxy_,
debugObjectName: this.atom_.name_,
type: "splice",
index: 0,
added: this.values_.slice(),
addedCount: this.values_.length,
removed: [],
removedCount: 0
}), Er(this, e);
}, t.getArrayLength_ = function() {
return this.atom_.reportObserved(), this.values_.length;
}, t.setArrayLength_ = function(e) {
("number" != typeof e || isNaN(e) || e < 0) && J("Out of range: " + e);
var t = this.values_.length;
if (e !== t) if (e > t) {
for (var n = new Array(e - t), r = 0; r < e - t; r++) n[r] = void 0;
this.spliceWithArray_(t, 0, n);
} else this.spliceWithArray_(e, t - e);
}, t.updateArrayLength_ = function(e, t) {
e !== this.lastKnownLength_ && J(16), this.lastKnownLength_ += t;
}, t.spliceWithArray_ = function(e, t, n) {
var r = this;
this.atom_;
var i = this.values_.length;
if (void 0 === e ? e = 0 : e > i ? e = i : e < 0 && (e = Math.max(0, i + e)), t = 1 === arguments.length ? i - e : null == t ? 0 : Math.max(0, Math.min(t, i - e)), 
void 0 === n && (n = K), _r(this)) {
var a = Sr(this, {
object: this.proxy_,
type: Or,
index: e,
removedCount: t,
added: n
});
if (!a) return K;
t = a.removedCount, n = a.added;
}
n = 0 === n.length ? n : n.map((function(e) {
return r.enhancer_(e, void 0);
}));
var o = this.spliceItemsIntoValues_(e, t, n);
return 0 === t && 0 === n.length || this.notifyArraySplice_(e, n, o), this.dehanceValues_(o);
}, t.spliceItemsIntoValues_ = function(e, t, n) {
var r;
if (n.length < 1e4) return (r = this.values_).splice.apply(r, [ e, t ].concat(n));
var i = this.values_.slice(e, e + t), a = this.values_.slice(e + t);
this.values_.length += n.length - t;
for (var o = 0; o < n.length; o++) this.values_[e + o] = n[o];
for (var s = 0; s < a.length; s++) this.values_[e + n.length + s] = a[s];
return i;
}, t.notifyArrayChildUpdate_ = function(e, t, n) {
var r = !this.owned_ && !1, i = Tr(this), a = i || r ? {
observableKind: "array",
object: this.proxy_,
type: Ar,
debugObjectName: this.atom_.name_,
index: e,
newValue: t,
oldValue: n
} : null;
this.atom_.reportChanged(), i && kr(this, a);
}, t.notifyArraySplice_ = function(e, t, n) {
var r = !this.owned_ && !1, i = Tr(this), a = i || r ? {
observableKind: "array",
object: this.proxy_,
debugObjectName: this.atom_.name_,
type: Or,
index: e,
removed: n,
added: t,
removedCount: n.length,
addedCount: t.length
} : null;
this.atom_.reportChanged(), i && kr(this, a);
}, t.get_ = function(e) {
if (e < this.values_.length) return this.atom_.reportObserved(), this.dehanceValue_(this.values_[e]);
console.warn("[mobx.array] Attempt to read an array index (" + e + ") that is out of bounds (" + this.values_.length + "). Please check length first. Out of bound indices will not be tracked by MobX");
}, t.set_ = function(e, t) {
var n = this.values_;
if (e < n.length) {
this.atom_;
var r = n[e];
if (_r(this)) {
var i = Sr(this, {
type: Ar,
object: this.proxy_,
index: e,
newValue: t
});
if (!i) return;
t = i.newValue;
}
(t = this.enhancer_(t, r)) !== r && (n[e] = t, this.notifyArrayChildUpdate_(e, t, r));
} else e === n.length ? this.spliceWithArray_(e, 0, [ t ]) : J(17, e, n.length);
}, e;
}();
function Rr(e, t, n, r) {
void 0 === n && (n = "ObservableArray"), void 0 === r && (r = !1);
var i, a = new Lr(n, t, r);
i = a.values_, W(i, Ne, {
enumerable: !1,
writable: !1,
configurable: !0,
value: a
});
var o = new Proxy(a.values_, wr);
if (a.proxy_ = o, e && e.length) {
var s = wt(!0);
a.spliceWithArray_(0, 0, e), Lt(s);
}
return o;
}
var xr = {
clear: function() {
return this.splice(0);
},
replace: function(e) {
var t = this[Ne];
return t.spliceWithArray_(0, t.values_.length, e);
},
toJSON: function() {
return this.slice();
},
splice: function(e, t) {
for (var n = arguments.length, r = new Array(n > 2 ? n - 2 : 0), i = 2; i < n; i++) r[i - 2] = arguments[i];
var a = this[Ne];
switch (arguments.length) {
case 0:
return [];

case 1:
return a.spliceWithArray_(e);

case 2:
return a.spliceWithArray_(e, t);
}
return a.spliceWithArray_(e, t, r);
},
spliceWithArray: function(e, t, n) {
return this[Ne].spliceWithArray_(e, t, n);
},
push: function() {
for (var e = this[Ne], t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
return e.spliceWithArray_(e.values_.length, 0, n), e.values_.length;
},
pop: function() {
return this.splice(Math.max(this[Ne].values_.length - 1, 0), 1)[0];
},
shift: function() {
return this.splice(0, 1)[0];
},
unshift: function() {
for (var e = this[Ne], t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
return e.spliceWithArray_(0, 0, n), e.values_.length;
},
reverse: function() {
return nn.trackingDerivation && J(37, "reverse"), this.replace(this.slice().reverse()), 
this;
},
sort: function() {
nn.trackingDerivation && J(37, "sort");
var e = this.slice();
return e.sort.apply(e, arguments), this.replace(e), this;
},
remove: function(e) {
var t = this[Ne], n = t.dehanceValues_(t.values_).indexOf(e);
return n > -1 && (this.splice(n, 1), !0);
}
};
function Br(e, t) {
"function" == typeof Array.prototype[e] && (xr[e] = t(e));
}
function Dr(e) {
return function() {
var t = this[Ne];
t.atom_.reportObserved();
var n = t.dehanceValues_(t.values_);
return n[e].apply(n, arguments);
};
}
function Mr(e) {
return function(t, n) {
var r = this, i = this[Ne];
return i.atom_.reportObserved(), i.dehanceValues_(i.values_)[e]((function(e, i) {
return t.call(n, e, i, r);
}));
};
}
function Fr(e) {
return function() {
var t = this, n = this[Ne];
n.atom_.reportObserved();
var r = n.dehanceValues_(n.values_), i = arguments[0];
return arguments[0] = function(e, n, r) {
return i(e, n, r, t);
}, r[e].apply(r, arguments);
};
}
Br("concat", Dr), Br("flat", Dr), Br("includes", Dr), Br("indexOf", Dr), Br("join", Dr), 
Br("lastIndexOf", Dr), Br("slice", Dr), Br("toString", Dr), Br("toLocaleString", Dr), 
Br("every", Mr), Br("filter", Mr), Br("find", Mr), Br("findIndex", Mr), Br("flatMap", Mr), 
Br("forEach", Mr), Br("map", Mr), Br("some", Mr), Br("reduce", Fr), Br("reduceRight", Fr);
var Ur = se("ObservableArrayAdministration", Lr);
function Hr(e) {
return re(e) && Ur(e[Ne]);
}
var Vr = {}, Jr = "add", zr = "delete", Gr = function(e, t) {
function n(e, t, n) {
var r = this;
void 0 === t && (t = Le), void 0 === n && (n = "ObservableMap"), this.enhancer_ = void 0, 
this.name_ = void 0, this[Ne] = Vr, this.data_ = void 0, this.hasMap_ = void 0, 
this.keysAtom_ = void 0, this.interceptors_ = void 0, this.changeListeners_ = void 0, 
this.dehancer = void 0, this.enhancer_ = t, this.name_ = n, te(Map) || J(18), this.keysAtom_ = Ae("ObservableMap.keys()"), 
this.data_ = new Map, this.hasMap_ = new Map, At(!0, (function() {
r.merge(e);
}));
}
var r = n.prototype;
return r.has_ = function(e) {
return this.data_.has(e);
}, r.has = function(e) {
var t = this;
if (!nn.trackingDerivation) return this.has_(e);
var n = this.hasMap_.get(e);
if (!n) {
var r = n = new Bt(this.has_(e), Re, "ObservableMap.key?", !1);
this.hasMap_.set(e, r), Un(r, (function() {
return t.hasMap_.delete(e);
}));
}
return n.get();
}, r.set = function(e, t) {
var n = this.has_(e);
if (_r(this)) {
var r = Sr(this, {
type: n ? Ar : Jr,
object: this,
newValue: t,
name: e
});
if (!r) return this;
t = r.newValue;
}
return n ? this.updateValue_(e, t) : this.addValue_(e, t), this;
}, r.delete = function(e) {
var t = this;
if ((this.keysAtom_, _r(this)) && !Sr(this, {
type: zr,
object: this,
name: e
})) return !1;
if (this.has_(e)) {
var n = Tr(this), r = n ? {
observableKind: "map",
debugObjectName: this.name_,
type: zr,
object: this,
oldValue: this.data_.get(e).value_,
name: e
} : null;
return mr((function() {
var n;
t.keysAtom_.reportChanged(), null == (n = t.hasMap_.get(e)) || n.setNewValue_(!1), 
t.data_.get(e).setNewValue_(void 0), t.data_.delete(e);
})), n && kr(this, r), !0;
}
return !1;
}, r.updateValue_ = function(e, t) {
var n = this.data_.get(e);
if ((t = n.prepareNewValue_(t)) !== nn.UNCHANGED) {
var r = Tr(this), i = r ? {
observableKind: "map",
debugObjectName: this.name_,
type: Ar,
object: this,
oldValue: n.value_,
name: e,
newValue: t
} : null;
n.setNewValue_(t), r && kr(this, i);
}
}, r.addValue_ = function(e, t) {
var n = this;
this.keysAtom_, mr((function() {
var r, i = new Bt(t, n.enhancer_, "ObservableMap.key", !1);
n.data_.set(e, i), t = i.value_, null == (r = n.hasMap_.get(e)) || r.setNewValue_(!0), 
n.keysAtom_.reportChanged();
}));
var r = Tr(this), i = r ? {
observableKind: "map",
debugObjectName: this.name_,
type: Jr,
object: this,
name: e,
newValue: t
} : null;
r && kr(this, i);
}, r.get = function(e) {
return this.has(e) ? this.dehanceValue_(this.data_.get(e).get()) : this.dehanceValue_(void 0);
}, r.dehanceValue_ = function(e) {
return void 0 !== this.dehancer ? this.dehancer(e) : e;
}, r.keys = function() {
return this.keysAtom_.reportObserved(), this.data_.keys();
}, r.values = function() {
var e = this, t = this.keys();
return ui({
next: function() {
var n = t.next(), r = n.done, i = n.value;
return {
done: r,
value: r ? void 0 : e.get(i)
};
}
});
}, r.entries = function() {
var e = this, t = this.keys();
return ui({
next: function() {
var n = t.next(), r = n.done, i = n.value;
return {
done: r,
value: r ? void 0 : [ i, e.get(i) ]
};
}
});
}, r[e] = function() {
return this.entries();
}, r.forEach = function(e, t) {
for (var n, r = Pe(this); !(n = r()).done; ) {
var i = n.value, a = i[0], o = i[1];
e.call(t, o, a, this);
}
}, r.merge = function(e) {
var t = this;
return jr(e) && (e = new Map(e)), mr((function() {
ie(e) ? ue(e).forEach((function(n) {
return t.set(n, e[n]);
})) : Array.isArray(e) ? e.forEach((function(e) {
var n = e[0], r = e[1];
return t.set(n, r);
})) : le(e) ? (e.constructor !== Map && J(19, e), e.forEach((function(e, n) {
return t.set(n, e);
}))) : null != e && J(20, e);
})), this;
}, r.clear = function() {
var e = this;
mr((function() {
qt((function() {
for (var t, n = Pe(e.keys()); !(t = n()).done; ) {
var r = t.value;
e.delete(r);
}
}));
}));
}, r.replace = function(e) {
var t = this;
return mr((function() {
for (var n, r = qr(e), i = new Map, a = !1, o = Pe(t.data_.keys()); !(n = o()).done; ) {
var s = n.value;
if (!r.has(s)) if (t.delete(s)) a = !0; else {
var l = t.data_.get(s);
i.set(s, l);
}
}
for (var c, d = Pe(r.entries()); !(c = d()).done; ) {
var u = c.value, p = u[0], f = u[1], m = t.data_.has(p);
if (t.set(p, f), t.data_.has(p)) {
var y = t.data_.get(p);
i.set(p, y), m || (a = !0);
}
}
if (!a) if (t.data_.size !== i.size) t.keysAtom_.reportChanged(); else for (var h = t.data_.keys(), g = i.keys(), I = h.next(), v = g.next(); !I.done; ) {
if (I.value !== v.value) {
t.keysAtom_.reportChanged();
break;
}
I = h.next(), v = g.next();
}
t.data_ = i;
})), this;
}, r.toString = function() {
return "[object ObservableMap]";
}, r.toJSON = function() {
return Array.from(this);
}, r.observe_ = function(e, t) {
return Er(this, e);
}, r.intercept_ = function(e) {
return Pr(this, e);
}, ge(n, [ {
key: "size",
get: function() {
return this.keysAtom_.reportObserved(), this.data_.size;
}
}, {
key: t,
get: function() {
return "Map";
}
} ]), n;
}(Symbol.iterator, Symbol.toStringTag), jr = se("ObservableMap", Gr);
function qr(e) {
if (le(e) || jr(e)) return e;
if (Array.isArray(e)) return new Map(e);
if (ie(e)) {
var t = new Map;
for (var n in e) t.set(n, e[n]);
return t;
}
return J(21, e);
}
var Wr = {}, Yr = function(e, t) {
function n(e, t, n) {
void 0 === t && (t = Le), void 0 === n && (n = "ObservableSet"), this.name_ = void 0, 
this[Ne] = Wr, this.data_ = new Set, this.atom_ = void 0, this.changeListeners_ = void 0, 
this.interceptors_ = void 0, this.dehancer = void 0, this.enhancer_ = void 0, this.name_ = n, 
te(Set) || J(22), this.atom_ = Ae(this.name_), this.enhancer_ = function(e, r) {
return t(e, r, n);
}, e && this.replace(e);
}
var r = n.prototype;
return r.dehanceValue_ = function(e) {
return void 0 !== this.dehancer ? this.dehancer(e) : e;
}, r.clear = function() {
var e = this;
mr((function() {
qt((function() {
for (var t, n = Pe(e.data_.values()); !(t = n()).done; ) {
var r = t.value;
e.delete(r);
}
}));
}));
}, r.forEach = function(e, t) {
for (var n, r = Pe(this); !(n = r()).done; ) {
var i = n.value;
e.call(t, i, i, this);
}
}, r.add = function(e) {
var t = this;
if ((this.atom_, _r(this)) && !Sr(this, {
type: Jr,
object: this,
newValue: e
})) return this;
if (!this.has(e)) {
mr((function() {
t.data_.add(t.enhancer_(e, void 0)), t.atom_.reportChanged();
}));
var n = Tr(this), r = n ? {
observableKind: "set",
debugObjectName: this.name_,
type: Jr,
object: this,
newValue: e
} : null;
n && kr(this, r);
}
return this;
}, r.delete = function(e) {
var t = this;
if (_r(this) && !Sr(this, {
type: zr,
object: this,
oldValue: e
})) return !1;
if (this.has(e)) {
var n = Tr(this), r = n ? {
observableKind: "set",
debugObjectName: this.name_,
type: zr,
object: this,
oldValue: e
} : null;
return mr((function() {
t.atom_.reportChanged(), t.data_.delete(e);
})), n && kr(this, r), !0;
}
return !1;
}, r.has = function(e) {
return this.atom_.reportObserved(), this.data_.has(this.dehanceValue_(e));
}, r.entries = function() {
var e = 0, t = Array.from(this.keys()), n = Array.from(this.values());
return ui({
next: function() {
var r = e;
return e += 1, r < n.length ? {
value: [ t[r], n[r] ],
done: !1
} : {
done: !0
};
}
});
}, r.keys = function() {
return this.values();
}, r.values = function() {
this.atom_.reportObserved();
var e = this, t = 0, n = Array.from(this.data_.values());
return ui({
next: function() {
return t < n.length ? {
value: e.dehanceValue_(n[t++]),
done: !1
} : {
done: !0
};
}
});
}, r.replace = function(e) {
var t = this;
return Kr(e) && (e = new Set(e)), mr((function() {
Array.isArray(e) || ce(e) ? (t.clear(), e.forEach((function(e) {
return t.add(e);
}))) : null != e && J("Cannot initialize set from " + e);
})), this;
}, r.observe_ = function(e, t) {
return Er(this, e);
}, r.intercept_ = function(e) {
return Pr(this, e);
}, r.toJSON = function() {
return Array.from(this);
}, r.toString = function() {
return "[object ObservableSet]";
}, r[e] = function() {
return this.values();
}, ge(n, [ {
key: "size",
get: function() {
return this.atom_.reportObserved(), this.data_.size;
}
}, {
key: t,
get: function() {
return "Set";
}
} ]), n;
}(Symbol.iterator, Symbol.toStringTag), Kr = se("ObservableSet", Yr), Xr = Object.create(null), Qr = "remove", $r = function() {
function e(e, t, n, r) {
void 0 === t && (t = new Map), void 0 === r && (r = Ze), this.target_ = void 0, 
this.values_ = void 0, this.name_ = void 0, this.defaultAnnotation_ = void 0, this.keysAtom_ = void 0, 
this.changeListeners_ = void 0, this.interceptors_ = void 0, this.proxy_ = void 0, 
this.isPlainObject_ = void 0, this.appliedAnnotations_ = void 0, this.pendingKeys_ = void 0, 
this.target_ = e, this.values_ = t, this.name_ = n, this.defaultAnnotation_ = r, 
this.keysAtom_ = new Ce("ObservableObject.keys"), this.isPlainObject_ = ie(this.target_);
}
var t = e.prototype;
return t.getObservablePropValue_ = function(e) {
return this.values_.get(e).get();
}, t.setObservablePropValue_ = function(e, t) {
var n = this.values_.get(e);
if (n instanceof Mt) return n.set(t), !0;
if (_r(this)) {
var r = Sr(this, {
type: Ar,
object: this.proxy_ || this.target_,
name: e,
newValue: t
});
if (!r) return null;
t = r.newValue;
}
if ((t = n.prepareNewValue_(t)) !== nn.UNCHANGED) {
var i = Tr(this), a = i ? {
type: Ar,
observableKind: "object",
debugObjectName: this.name_,
object: this.proxy_ || this.target_,
oldValue: n.value_,
name: e,
newValue: t
} : null;
n.setNewValue_(t), i && kr(this, a);
}
return !0;
}, t.get_ = function(e) {
return nn.trackingDerivation && !me(this.target_, e) && this.has_(e), this.target_[e];
}, t.set_ = function(e, t, n) {
return void 0 === n && (n = !1), me(this.target_, e) ? this.values_.has(e) ? this.setObservablePropValue_(e, t) : n ? Reflect.set(this.target_, e, t) : (this.target_[e] = t, 
!0) : this.extend_(e, {
value: t,
enumerable: !0,
writable: !0,
configurable: !0
}, this.defaultAnnotation_, n);
}, t.has_ = function(e) {
if (!nn.trackingDerivation) return e in this.target_;
this.pendingKeys_ || (this.pendingKeys_ = new Map);
var t = this.pendingKeys_.get(e);
return t || (t = new Bt(e in this.target_, Re, "ObservableObject.key?", !1), this.pendingKeys_.set(e, t)), 
t.get();
}, t.make_ = function(e, t) {
if (!0 === t && (t = this.defaultAnnotation_), !1 !== t) {
if (!(e in this.target_)) {
var n;
if (null != (n = this.target_[Se]) && n[e]) return;
J(1, t.annotationType_, this.name_ + "." + e.toString());
}
for (var r = this.target_; r && r !== Y; ) {
var i = q(r, e);
if (i) {
var a = t.make_(this, e, i, r);
if (0 === a) return;
if (1 === a) break;
}
r = Object.getPrototypeOf(r);
}
ri(this, t, e);
}
}, t.extend_ = function(e, t, n, r) {
if (void 0 === r && (r = !1), !0 === n && (n = this.defaultAnnotation_), !1 === n) return this.defineProperty_(e, t, r);
var i = n.extend_(this, e, t, r);
return i && ri(this, n, e), i;
}, t.defineProperty_ = function(e, t, n) {
void 0 === n && (n = !1);
try {
dn();
var r = this.delete_(e);
if (!r) return r;
if (_r(this)) {
var i = Sr(this, {
object: this.proxy_ || this.target_,
name: e,
type: Jr,
newValue: t.value
});
if (!i) return null;
var a = i.newValue;
t.value !== a && (t = Ie({}, t, {
value: a
}));
}
if (n) {
if (!Reflect.defineProperty(this.target_, e, t)) return !1;
} else W(this.target_, e, t);
this.notifyPropertyAddition_(e, t.value);
} finally {
un();
}
return !0;
}, t.defineObservableProperty_ = function(e, t, n, r) {
void 0 === r && (r = !1);
try {
dn();
var i = this.delete_(e);
if (!i) return i;
if (_r(this)) {
var a = Sr(this, {
object: this.proxy_ || this.target_,
name: e,
type: Jr,
newValue: t
});
if (!a) return null;
t = a.newValue;
}
var o = ti(e), s = {
configurable: !nn.safeDescriptors || this.isPlainObject_,
enumerable: !0,
get: o.get,
set: o.set
};
if (r) {
if (!Reflect.defineProperty(this.target_, e, s)) return !1;
} else W(this.target_, e, s);
var l = new Bt(t, n, "ObservableObject.key", !1);
this.values_.set(e, l), this.notifyPropertyAddition_(e, l.value_);
} finally {
un();
}
return !0;
}, t.defineComputedProperty_ = function(e, t, n) {
void 0 === n && (n = !1);
try {
dn();
var r = this.delete_(e);
if (!r) return r;
if (_r(this)) if (!Sr(this, {
object: this.proxy_ || this.target_,
name: e,
type: Jr,
newValue: void 0
})) return null;
t.name || (t.name = "ObservableObject.key"), t.context = this.proxy_ || this.target_;
var i = ti(e), a = {
configurable: !nn.safeDescriptors || this.isPlainObject_,
enumerable: !1,
get: i.get,
set: i.set
};
if (n) {
if (!Reflect.defineProperty(this.target_, e, a)) return !1;
} else W(this.target_, e, a);
this.values_.set(e, new Mt(t)), this.notifyPropertyAddition_(e, void 0);
} finally {
un();
}
return !0;
}, t.delete_ = function(e, t) {
if (void 0 === t && (t = !1), !me(this.target_, e)) return !0;
if (_r(this) && !Sr(this, {
object: this.proxy_ || this.target_,
name: e,
type: Qr
})) return null;
try {
var n, r;
dn();
var i, a = Tr(this), o = this.values_.get(e), s = void 0;
if (!o && a) s = null == (i = q(this.target_, e)) ? void 0 : i.value;
if (t) {
if (!Reflect.deleteProperty(this.target_, e)) return !1;
} else delete this.target_[e];
if (o && (this.values_.delete(e), o instanceof Bt && (s = o.value_), fn(o)), this.keysAtom_.reportChanged(), 
null == (n = this.pendingKeys_) || null == (r = n.get(e)) || r.set(e in this.target_), 
a) {
var l = {
type: Qr,
observableKind: "object",
object: this.proxy_ || this.target_,
debugObjectName: this.name_,
oldValue: s,
name: e
};
0, a && kr(this, l);
}
} finally {
un();
}
return !0;
}, t.observe_ = function(e, t) {
return Er(this, e);
}, t.intercept_ = function(e) {
return Pr(this, e);
}, t.notifyPropertyAddition_ = function(e, t) {
var n, r, i = Tr(this);
if (i) {
var a = i ? {
type: Jr,
observableKind: "object",
debugObjectName: this.name_,
object: this.proxy_ || this.target_,
name: e,
newValue: t
} : null;
i && kr(this, a);
}
null == (n = this.pendingKeys_) || null == (r = n.get(e)) || r.set(!0), this.keysAtom_.reportChanged();
}, t.ownKeys_ = function() {
return this.keysAtom_.reportObserved(), pe(this.target_);
}, t.keys_ = function() {
return this.keysAtom_.reportObserved(), Object.keys(this.target_);
}, e;
}();
function Zr(e, t) {
var n;
if (me(e, Ne)) return e;
var r = null != (n = null == t ? void 0 : t.name) ? n : "ObservableObject", i = new $r(e, new Map, String(r), ut(t));
return oe(e, Ne, i), e;
}
var ei = se("ObservableObjectAdministration", $r);
function ti(e) {
return Xr[e] || (Xr[e] = {
get: function() {
return this[Ne].getObservablePropValue_(e);
},
set: function(t) {
return this[Ne].setObservablePropValue_(e, t);
}
});
}
function ni(e) {
return !!re(e) && ei(e[Ne]);
}
function ri(e, t, n) {
var r;
null == (r = e.target_[Se]) || delete r[n];
}
function ii(e, t) {
if ("object" == typeof e && null !== e) {
if (Hr(e)) return void 0 !== t && J(23), e[Ne].atom_;
if (Kr(e)) return e[Ne];
if (jr(e)) {
if (void 0 === t) return e.keysAtom_;
var n = e.data_.get(t) || e.hasMap_.get(t);
return n || J(25, t, oi(e)), n;
}
if (ni(e)) {
if (!t) return J(26);
var r = e[Ne].values_.get(t);
return r || J(27, t, oi(e)), r;
}
if (Oe(e) || Ft(e) || bn(e)) return e;
} else if (te(e) && bn(e[Ne])) return e[Ne];
J(28);
}
function ai(e, t) {
return e || J(29), void 0 !== t ? ai(ii(e, t)) : Oe(e) || Ft(e) || bn(e) || jr(e) || Kr(e) ? e : e[Ne] ? e[Ne] : void J(24, e);
}
function oi(e, t) {
var n;
if (void 0 !== t) n = ii(e, t); else {
if (Rn(e)) return e.name;
n = ni(e) || jr(e) || Kr(e) ? ai(e) : ii(e);
}
return n.name_;
}
var si = Y.toString;
function li(e, t, n) {
return void 0 === n && (n = -1), ci(e, t, n);
}
function ci(e, t, n, r, i) {
if (e === t) return 0 !== e || 1 / e == 1 / t;
if (null == e || null == t) return !1;
if (e != e) return t != t;
var a = typeof e;
if ("function" !== a && "object" !== a && "object" != typeof t) return !1;
var o = si.call(e);
if (o !== si.call(t)) return !1;
switch (o) {
case "[object RegExp]":
case "[object String]":
return "" + e == "" + t;

case "[object Number]":
return +e != +e ? +t != +t : 0 == +e ? 1 / +e == 1 / t : +e == +t;

case "[object Date]":
case "[object Boolean]":
return +e == +t;

case "[object Symbol]":
return "undefined" != typeof Symbol && Symbol.valueOf.call(e) === Symbol.valueOf.call(t);

case "[object Map]":
case "[object Set]":
n >= 0 && n++;
}
e = di(e), t = di(t);
var s = "[object Array]" === o;
if (!s) {
if ("object" != typeof e || "object" != typeof t) return !1;
var l = e.constructor, c = t.constructor;
if (l !== c && !(te(l) && l instanceof l && te(c) && c instanceof c) && "constructor" in e && "constructor" in t) return !1;
}
if (0 === n) return !1;
n < 0 && (n = -1), i = i || [];
for (var d = (r = r || []).length; d--; ) if (r[d] === e) return i[d] === t;
if (r.push(e), i.push(t), s) {
if ((d = e.length) !== t.length) return !1;
for (;d--; ) if (!ci(e[d], t[d], n - 1, r, i)) return !1;
} else {
var u, p = Object.keys(e);
if (d = p.length, Object.keys(t).length !== d) return !1;
for (;d--; ) if (!me(t, u = p[d]) || !ci(e[u], t[u], n - 1, r, i)) return !1;
}
return r.pop(), i.pop(), !0;
}
function di(e) {
return Hr(e) ? e.slice() : le(e) || jr(e) || ce(e) || Kr(e) ? Array.from(e.entries()) : e;
}
function ui(e) {
return e[Symbol.iterator] = pi, e;
}
function pi() {
return this;
}
[ "Symbol", "Map", "Set" ].forEach((function(e) {
void 0 === G()[e] && J("MobX requires global '" + e + "' to be available or polyfilled");
})), "object" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ && __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
spy: _n,
extras: {
getDebugName: oi
},
$mobx: Ne
});
var fi = Object.freeze({
__proto__: null,
$mobx: Ne,
FlowCancellationError: qn,
ObservableMap: Gr,
ObservableSet: Yr,
Reaction: hn,
_allowStateChanges: At,
_allowStateChangesInsideComputed: Ln,
_allowStateReadsEnd: Xt,
_allowStateReadsStart: Kt,
_autoAction: wn,
_endAction: Ot,
_getAdministration: ai,
_getGlobalState: function() {
return nn;
},
_interceptReads: function(e, t, n) {
var r;
return jr(e) || Hr(e) || Dt(e) ? r = ai(e) : ni(e) && (r = ai(e, t)), r.dehancer = "function" == typeof t ? t : n, 
function() {
r.dehancer = void 0;
};
},
_isComputingDerivation: Jt,
_resetGlobalState: function() {
var e = new Zt;
for (var t in e) -1 === $t.indexOf(t) && (nn[t] = e[t]);
nn.allowStateChanges = !nn.enforceActions;
},
_startAction: Ct,
action: An,
autorun: xn,
comparer: we,
computed: bt,
configure: function(e) {
!0 === e.isolateGlobalState && rn();
var t, n, r = e.enforceActions;
if (void 0 !== r) {
var i = r === Vn ? Vn : "observed" === r;
nn.enforceActions = i, nn.allowStateChanges = !0 !== i && i !== Vn;
}
[ "computedRequiresReaction", "reactionRequiresObservable", "observableRequiresReaction", "disableErrorBoundaries", "safeDescriptors" ].forEach((function(t) {
t in e && (nn[t] = !!e[t]);
})), nn.allowStateReads = !nn.observableRequiresReaction, e.reactionScheduler && (t = e.reactionScheduler, 
n = gn, gn = function(e) {
return t((function() {
return n(e);
}));
});
},
createAtom: Ae,
defineProperty: function(e, t, n) {
if (ni(e)) return e[Ne].defineProperty_(t, n);
J(39);
},
entries: function(e) {
return ni(e) ? rr(e).map((function(t) {
return [ t, e[t] ];
})) : jr(e) ? rr(e).map((function(t) {
return [ t, e.get(t) ];
})) : Kr(e) ? Array.from(e.entries()) : Hr(e) ? e.map((function(e, t) {
return [ t, e ];
})) : void J(7);
},
extendObservable: Jn,
flow: Kn,
flowResult: function(e) {
return e;
},
get: function(e, t) {
if (ir(e, t)) return ni(e) ? e[Ne].get_(t) : jr(e) ? e.get(t) : Hr(e) ? e[t] : void J(11);
},
getAtom: ii,
getDebugName: oi,
getDependencyTree: function(e, t) {
return zn(ii(e, t));
},
getObserverTree: function(e, t) {
return Gn(ii(e, t));
},
has: ir,
intercept: function(e, t, n) {
return te(n) ? Zn(e, t, n) : $n(e, t);
},
isAction: Rn,
isBoxedObservable: Dt,
isComputed: function(e) {
return er(e);
},
isComputedProp: function(e, t) {
return er(e, t);
},
isFlow: Qn,
isFlowCancellationError: function(e) {
return e instanceof qn;
},
isObservable: nr,
isObservableArray: Hr,
isObservableMap: jr,
isObservableObject: ni,
isObservableProp: function(e, t) {
return tr(e, t);
},
isObservableSet: Kr,
keys: rr,
makeAutoObservable: function(e, t, n) {
if (ie(e)) return Jn(e, e, t, n);
var r = Zr(e, n)[Ne];
if (!e[Cr]) {
var i = Object.getPrototypeOf(e), a = new Set([].concat(pe(e), pe(i)));
a.delete("constructor"), a.delete(Ne), oe(i, Cr, a);
}
dn();
try {
e[Cr].forEach((function(e) {
return r.make_(e, !t || (!(e in t) || t[e]));
}));
} finally {
un();
}
return e;
},
makeObservable: Nr,
observable: ht,
observe: or,
onBecomeObserved: Fn,
onBecomeUnobserved: Un,
onReactionError: function(e) {
return nn.globalReactionErrorHandlers.push(e), function() {
var t = nn.globalReactionErrorHandlers.indexOf(e);
t >= 0 && nn.globalReactionErrorHandlers.splice(t, 1);
};
},
override: Be,
ownKeys: ar,
reaction: Mn,
remove: function(e, t) {
ni(e) ? e[Ne].delete_(t) : jr(e) || Kr(e) ? e.delete(t) : Hr(e) ? ("number" != typeof t && (t = parseInt(t, 10)), 
e.splice(t, 1)) : J(9);
},
runInAction: Ln,
set: function e(t, n, r) {
if (2 !== arguments.length || Kr(t)) ni(t) ? t[Ne].set_(n, r) : jr(t) ? t.set(n, r) : Kr(t) ? t.add(n) : Hr(t) ? ("number" != typeof n && (n = parseInt(n, 10)), 
n < 0 && J("Invalid index: '" + n + "'"), dn(), n >= t.length && (t.length = n + 1), 
t[n] = r, un()) : J(8); else {
dn();
var i = n;
try {
for (var a in i) e(t, a, i[a]);
} finally {
un();
}
}
},
spy: _n,
toJS: ur,
trace: pr,
transaction: mr,
untracked: qt,
values: function(e) {
return ni(e) ? rr(e).map((function(t) {
return e[t];
})) : jr(e) ? rr(e).map((function(t) {
return e.get(t);
})) : Kr(e) ? Array.from(e.values()) : Hr(e) ? e.slice() : void J(6);
},
when: yr
}), mi = (t((function(e, t) {
Object.defineProperty(t, "__esModule", {
value: !0
}), t.printDebugValue = void 0, t.printDebugValue = function(e) {
return (0, fi.getDependencyTree)(e);
};
})), t((function(e, t) {
Object.defineProperty(t, "__esModule", {
value: !0
}), t.CLEANUP_TIMER_LOOP_MILLIS = t.CLEANUP_LEAKED_REACTIONS_AFTER_MILLIS = t.createTrackingData = void 0, 
t.createTrackingData = function(e) {
return {
reaction: e,
mounted: !1,
changedBeforeMount: !1,
cleanAt: Date.now() + t.CLEANUP_LEAKED_REACTIONS_AFTER_MILLIS
};
}, t.CLEANUP_LEAKED_REACTIONS_AFTER_MILLIS = 1e4, t.CLEANUP_TIMER_LOOP_MILLIS = 1e4;
}))), yi = t((function(t, n) {
var r = e && e.__values || function(e) {
var t = "function" == typeof Symbol && Symbol.iterator, n = t && e[t], r = 0;
if (n) return n.call(e);
if (e && "number" == typeof e.length) return {
next: function() {
return e && r >= e.length && (e = void 0), {
value: e && e[r++],
done: !e
};
}
};
throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(n, "__esModule", {
value: !0
}), n.createTimerBasedReactionCleanupTracking = void 0, n.createTimerBasedReactionCleanupTracking = function() {
var e, t = new Set;
function n() {
void 0 === e && (e = setTimeout(i, mi.CLEANUP_TIMER_LOOP_MILLIS));
}
function i() {
e = void 0;
var r = Date.now();
t.forEach((function(e) {
var n = e.current;
n && r >= n.cleanAt && (n.reaction.dispose(), e.current = null, t.delete(e));
})), t.size > 0 && n();
}
return {
addReactionToTrack: function(e, r, i) {
var a;
return e.current = (0, mi.createTrackingData)(r), a = e, t.add(a), n(), e.current;
},
recordReactionAsCommitted: function(e) {
t.delete(e);
},
forceCleanupTimerToRunNowForTests: function() {
e && (clearTimeout(e), i());
},
resetCleanupScheduleForTests: function() {
var n, i;
if (t.size > 0) {
try {
for (var a = r(t), o = a.next(); !o.done; o = a.next()) {
var s = o.value, l = s.current;
l && (l.reaction.dispose(), s.current = null);
}
} catch (e) {
n = {
error: e
};
} finally {
try {
o && !o.done && (i = a.return) && i.call(a);
} finally {
if (n) throw n.error;
}
}
t.clear();
}
e && (clearTimeout(e), e = void 0);
}
};
};
})), hi = t((function(e, t) {
Object.defineProperty(t, "__esModule", {
value: !0
}), t.forceCleanupTimerToRunNowForTests = t.resetCleanupScheduleForTests = t.recordReactionAsCommitted = t.addReactionToTrack = void 0;
var n = (0, yi.createTimerBasedReactionCleanupTracking)(), r = n.addReactionToTrack, i = n.recordReactionAsCommitted, a = n.resetCleanupScheduleForTests, o = n.forceCleanupTimerToRunNowForTests;
t.addReactionToTrack = r, t.recordReactionAsCommitted = i, t.resetCleanupScheduleForTests = a, 
t.forceCleanupTimerToRunNowForTests = o;
})), gi = t((function(t, n) {
var r = e && e.__importDefault || function(e) {
return e && e.__esModule ? e : {
default: e
};
};
Object.defineProperty(n, "__esModule", {
value: !0
}), n.useObserver = void 0;
var i = r(H);
function a(e) {
return "observer".concat(e);
}
n.useObserver = function(e, t) {
void 0 === t && (t = "observed");
var n = i.default.useState()[1], r = function() {
return n([]);
}, o = i.default.useRef(null);
if (!o.current) var s = new fi.Reaction(a(t), (function() {
l.mounted ? r() : l.changedBeforeMount = !0;
})), l = (0, hi.addReactionToTrack)(o, s);
var c, d, u = o.current.reaction;
if (i.default.useEffect((function() {
return (0, hi.recordReactionAsCommitted)(o), o.current ? (o.current.mounted = !0, 
o.current.changedBeforeMount && (o.current.changedBeforeMount = !1, r())) : (o.current = {
reaction: new fi.Reaction(a(t), (function() {
r();
})),
mounted: !0,
changedBeforeMount: !1,
cleanAt: 1 / 0
}, r()), function() {
o.current.reaction.dispose(), o.current = null;
};
}), []), u.track((function() {
try {
c = e();
} catch (e) {
d = e;
}
})), d) throw d;
return c;
};
})), Ii = t((function(e, t) {
Object.defineProperty(t, "__esModule", {
value: !0
}), t.observer = void 0;
var n = "function" == typeof Symbol && Symbol.for, r = n ? Symbol.for("react.forward_ref") : "function" == typeof H.forwardRef && (0, 
H.forwardRef)((function(e) {
return null;
})).$$typeof, i = n ? Symbol.for("react.memo") : "function" == typeof H.memo && (0, 
H.memo)((function(e) {
return null;
})).$$typeof;
t.observer = function(e, t) {
var n;
if (i && e.$$typeof === i) throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");
if ((0, V.isUsingStaticRendering)()) return e;
var o = null !== (n = null == t ? void 0 : t.forwardRef) && void 0 !== n && n, s = e, l = e.displayName || e.name;
if (r && e.$$typeof === r && (o = !0, "function" != typeof (s = e.render))) throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");
var c, d, u = function(e, t) {
return (0, gi.useObserver)((function() {
return s(e, t);
}), l);
};
return "" !== l && (u.displayName = l), e.contextTypes && (u.contextTypes = e.contextTypes), 
o && (u = (0, H.forwardRef)(u)), u = (0, H.memo)(u), c = e, d = u, Object.keys(c).forEach((function(e) {
a[e] || Object.defineProperty(d, e, Object.getOwnPropertyDescriptor(c, e));
})), u;
};
var a = {
$$typeof: !0,
render: !0,
compare: !0,
type: !0,
displayName: !0
};
}));
function vi(e, t) {
return vi = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e, t) {
return e.__proto__ = t, e;
}, vi(e, t);
}
function bi(e, t) {
e.prototype = Object.create(t.prototype), e.prototype.constructor = e, vi(e, t);
}
/**
	 * @license React
	 * react-is.production.min.js
	 *
	 * Copyright (c) Facebook, Inc. and its affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */ var _i, Pi = Symbol.for("react.element"), Si = Symbol.for("react.portal"), Ti = Symbol.for("react.fragment"), Ei = Symbol.for("react.strict_mode"), ki = Symbol.for("react.profiler"), Ni = Symbol.for("react.provider"), Ci = Symbol.for("react.context"), Oi = Symbol.for("react.server_context"), Ai = Symbol.for("react.forward_ref"), wi = Symbol.for("react.suspense"), Li = Symbol.for("react.suspense_list"), Ri = Symbol.for("react.memo"), xi = Symbol.for("react.lazy"), Bi = Symbol.for("react.offscreen");
function Di(e) {
if ("object" == typeof e && null !== e) {
var t = e.$$typeof;
switch (t) {
case Pi:
switch (e = e.type) {
case Ti:
case ki:
case Ei:
case wi:
case Li:
return e;

default:
switch (e = e && e.$$typeof) {
case Oi:
case Ci:
case Ai:
case xi:
case Ri:
case Ni:
return e;

default:
return t;
}
}

case Si:
return t;
}
}
}
_i = Symbol.for("react.module.reference");
var Mi = {
ContextConsumer: Ci,
ContextProvider: Ni,
Element: Pi,
ForwardRef: Ai,
Fragment: Ti,
Lazy: xi,
Memo: Ri,
Portal: Si,
Profiler: ki,
StrictMode: Ei,
Suspense: wi,
SuspenseList: Li,
isAsyncMode: function() {
return !1;
},
isConcurrentMode: function() {
return !1;
},
isContextConsumer: function(e) {
return Di(e) === Ci;
},
isContextProvider: function(e) {
return Di(e) === Ni;
},
isElement: function(e) {
return "object" == typeof e && null !== e && e.$$typeof === Pi;
},
isForwardRef: function(e) {
return Di(e) === Ai;
},
isFragment: function(e) {
return Di(e) === Ti;
},
isLazy: function(e) {
return Di(e) === xi;
},
isMemo: function(e) {
return Di(e) === Ri;
},
isPortal: function(e) {
return Di(e) === Si;
},
isProfiler: function(e) {
return Di(e) === ki;
},
isStrictMode: function(e) {
return Di(e) === Ei;
},
isSuspense: function(e) {
return Di(e) === wi;
},
isSuspenseList: function(e) {
return Di(e) === Li;
},
isValidElementType: function(e) {
return "string" == typeof e || "function" == typeof e || e === Ti || e === ki || e === Ei || e === wi || e === Li || e === Bi || "object" == typeof e && null !== e && (e.$$typeof === xi || e.$$typeof === Ri || e.$$typeof === Ni || e.$$typeof === Ci || e.$$typeof === Ai || e.$$typeof === _i || void 0 !== e.getModuleId);
},
typeOf: Di
}, Fi = (t((function(e, t) {})), t((function(e) {
e.exports = Mi;
}))), Ui = Object.getOwnPropertySymbols, Hi = Object.prototype.hasOwnProperty, Vi = Object.prototype.propertyIsEnumerable;
function Ji(e) {
if (null == e) throw new TypeError("Object.assign cannot be called with null or undefined");
return Object(e);
}
(function() {
try {
if (!Object.assign) return !1;
var e = new String("abc");
if (e[5] = "de", "5" === Object.getOwnPropertyNames(e)[0]) return !1;
for (var t = {}, n = 0; n < 10; n++) t["_" + String.fromCharCode(n)] = n;
var r = Object.getOwnPropertyNames(t).map((function(e) {
return t[e];
}));
if ("0123456789" !== r.join("")) return !1;
var i = {};
return "abcdefghijklmnopqrst".split("").forEach((function(e) {
i[e] = e;
})), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, i)).join("");
} catch (e) {
return !1;
}
})() && Object.assign, Function.call.bind(Object.prototype.hasOwnProperty);
function zi() {}
function Gi() {}
Gi.resetWarningCache = zi;
var ji = function() {
function e(e, t, n, r, i, a) {
if ("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED" !== a) {
var o = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");
throw o.name = "Invariant Violation", o;
}
}
function t() {
return e;
}
e.isRequired = e;
var n = {
array: e,
bool: e,
func: e,
number: e,
object: e,
string: e,
symbol: e,
any: e,
arrayOf: t,
element: e,
elementType: e,
instanceOf: t,
node: e,
objectOf: t,
oneOf: t,
oneOfType: t,
shape: t,
exact: t,
checkPropTypes: Gi,
resetWarningCache: zi
};
return n.PropTypes = n, n;
};
t((function(e) {
e.exports = ji();
}));
function qi() {
return qi = Object.assign ? Object.assign.bind() : function(e) {
for (var t = 1; t < arguments.length; t++) {
var n = arguments[t];
for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
}
return e;
}, qi.apply(this, arguments);
}
function Wi(e) {
return "/" === e.charAt(0);
}
function Yi(e, t) {
for (var n = t, r = n + 1, i = e.length; r < i; n += 1, r += 1) e[n] = e[r];
e.pop();
}
function Ki(e, t) {
void 0 === t && (t = "");
var n, r = e && e.split("/") || [], i = t && t.split("/") || [], a = e && Wi(e), o = t && Wi(t), s = a || o;
if (e && Wi(e) ? i = r : r.length && (i.pop(), i = i.concat(r)), !i.length) return "/";
if (i.length) {
var l = i[i.length - 1];
n = "." === l || ".." === l || "" === l;
} else n = !1;
for (var c = 0, d = i.length; d >= 0; d--) {
var u = i[d];
"." === u ? Yi(i, d) : ".." === u ? (Yi(i, d), c++) : c && (Yi(i, d), c--);
}
if (!s) for (;c--; c) i.unshift("..");
!s || "" === i[0] || i[0] && Wi(i[0]) || i.unshift("");
var p = i.join("/");
return n && "/" !== p.substr(-1) && (p += "/"), p;
}
function Xi(e, t) {
if (!e) throw new Error("Invariant failed");
}
function Qi(e) {
var t = e || "/", n = "", r = "", i = t.indexOf("#");
-1 !== i && (r = t.substr(i), t = t.substr(0, i));
var a = t.indexOf("?");
return -1 !== a && (n = t.substr(a), t = t.substr(0, a)), {
pathname: t,
search: "?" === n ? "" : n,
hash: "#" === r ? "" : r
};
}
function $i(e) {
var t = e.pathname, n = e.search, r = e.hash, i = t || "/";
return n && "?" !== n && (i += "?" === n.charAt(0) ? n : "?" + n), r && "#" !== r && (i += "#" === r.charAt(0) ? r : "#" + r), 
i;
}
function Zi(e, t, n, r) {
var i;
"string" == typeof e ? (i = Qi(e)).state = t : (void 0 === (i = qi({}, e)).pathname && (i.pathname = ""), 
i.search ? "?" !== i.search.charAt(0) && (i.search = "?" + i.search) : i.search = "", 
i.hash ? "#" !== i.hash.charAt(0) && (i.hash = "#" + i.hash) : i.hash = "", void 0 !== t && void 0 === i.state && (i.state = t));
try {
i.pathname = decodeURI(i.pathname);
} catch (e) {
throw e instanceof URIError ? new URIError('Pathname "' + i.pathname + '" could not be decoded. This is likely caused by an invalid percent-encoding.') : e;
}
return n && (i.key = n), r ? i.pathname ? "/" !== i.pathname.charAt(0) && (i.pathname = Ki(i.pathname, r.pathname)) : i.pathname = r.pathname : i.pathname || (i.pathname = "/"), 
i;
}
function ea(e, t, n) {
return Math.min(Math.max(e, t), n);
}
function ta(e) {
void 0 === e && (e = {});
var t, n, r = e, i = r.getUserConfirmation, a = r.initialEntries, o = void 0 === a ? [ "/" ] : a, s = r.initialIndex, l = void 0 === s ? 0 : s, c = r.keyLength, d = void 0 === c ? 6 : c, u = (t = null, 
n = [], {
setPrompt: function(e) {
return t = e, function() {
t === e && (t = null);
};
},
confirmTransitionTo: function(e, n, r, i) {
if (null != t) {
var a = "function" == typeof t ? t(e, n) : t;
"string" == typeof a ? "function" == typeof r ? r(a, i) : i(!0) : i(!1 !== a);
} else i(!0);
},
appendListener: function(e) {
var t = !0;
function r() {
t && e.apply(void 0, arguments);
}
return n.push(r), function() {
t = !1, n = n.filter((function(e) {
return e !== r;
}));
};
},
notifyListeners: function() {
for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
n.forEach((function(e) {
return e.apply(void 0, t);
}));
}
});
function p(e) {
qi(I, e), I.length = I.entries.length, u.notifyListeners(I.location, I.action);
}
function f() {
return Math.random().toString(36).substr(2, d);
}
var m = ea(l, 0, o.length - 1), y = o.map((function(e) {
return Zi(e, void 0, "string" == typeof e ? f() : e.key || f());
})), h = $i;
function g(e) {
var t = ea(I.index + e, 0, I.entries.length - 1), n = I.entries[t];
u.confirmTransitionTo(n, "POP", i, (function(e) {
e ? p({
action: "POP",
location: n,
index: t
}) : p();
}));
}
var I = {
length: y.length,
action: "POP",
location: y[m],
index: m,
entries: y,
createHref: h,
push: function(e, t) {
var n = "PUSH", r = Zi(e, t, f(), I.location);
u.confirmTransitionTo(r, n, i, (function(e) {
if (e) {
var t = I.index + 1, i = I.entries.slice(0);
i.length > t ? i.splice(t, i.length - t, r) : i.push(r), p({
action: n,
location: r,
index: t,
entries: i
});
}
}));
},
replace: function(e, t) {
var n = "REPLACE", r = Zi(e, t, f(), I.location);
u.confirmTransitionTo(r, n, i, (function(e) {
e && (I.entries[I.index] = r, p({
action: n,
location: r
}));
}));
},
go: g,
goBack: function() {
g(-1);
},
goForward: function() {
g(1);
},
canGo: function(e) {
var t = I.index + e;
return t >= 0 && t < I.entries.length;
},
block: function(e) {
return void 0 === e && (e = !1), u.setPrompt(e);
},
listen: function(e) {
return u.appendListener(e);
}
};
return I;
}
var na = Array.isArray || function(e) {
return "[object Array]" == Object.prototype.toString.call(e);
}, ra = ba, ia = ca, aa = function(e, t) {
return ua(ca(e, t), t);
}, oa = ua, sa = va, la = new RegExp([ "(\\\\.)", "([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))" ].join("|"), "g");
function ca(e, t) {
for (var n, r = [], i = 0, a = 0, o = "", s = t && t.delimiter || "/"; null != (n = la.exec(e)); ) {
var l = n[0], c = n[1], d = n.index;
if (o += e.slice(a, d), a = d + l.length, c) o += c[1]; else {
var u = e[a], p = n[2], f = n[3], m = n[4], y = n[5], h = n[6], g = n[7];
o && (r.push(o), o = "");
var I = null != p && null != u && u !== p, v = "+" === h || "*" === h, b = "?" === h || "*" === h, _ = n[2] || s, P = m || y;
r.push({
name: f || i++,
prefix: p || "",
delimiter: _,
optional: b,
repeat: v,
partial: I,
asterisk: !!g,
pattern: P ? fa(P) : g ? ".*" : "[^" + pa(_) + "]+?"
});
}
}
return a < e.length && (o += e.substr(a)), o && r.push(o), r;
}
function da(e) {
return encodeURI(e).replace(/[\/?#]/g, (function(e) {
return "%" + e.charCodeAt(0).toString(16).toUpperCase();
}));
}
function ua(e, t) {
for (var n = new Array(e.length), r = 0; r < e.length; r++) "object" == typeof e[r] && (n[r] = new RegExp("^(?:" + e[r].pattern + ")$", ya(t)));
return function(t, r) {
for (var i = "", a = t || {}, o = (r || {}).pretty ? da : encodeURIComponent, s = 0; s < e.length; s++) {
var l = e[s];
if ("string" != typeof l) {
var c, d = a[l.name];
if (null == d) {
if (l.optional) {
l.partial && (i += l.prefix);
continue;
}
throw new TypeError('Expected "' + l.name + '" to be defined');
}
if (na(d)) {
if (!l.repeat) throw new TypeError('Expected "' + l.name + '" to not repeat, but received `' + JSON.stringify(d) + "`");
if (0 === d.length) {
if (l.optional) continue;
throw new TypeError('Expected "' + l.name + '" to not be empty');
}
for (var u = 0; u < d.length; u++) {
if (c = o(d[u]), !n[s].test(c)) throw new TypeError('Expected all "' + l.name + '" to match "' + l.pattern + '", but received `' + JSON.stringify(c) + "`");
i += (0 === u ? l.prefix : l.delimiter) + c;
}
} else {
if (c = l.asterisk ? encodeURI(d).replace(/[?#]/g, (function(e) {
return "%" + e.charCodeAt(0).toString(16).toUpperCase();
})) : o(d), !n[s].test(c)) throw new TypeError('Expected "' + l.name + '" to match "' + l.pattern + '", but received "' + c + '"');
i += l.prefix + c;
}
} else i += l;
}
return i;
};
}
function pa(e) {
return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g, "\\$1");
}
function fa(e) {
return e.replace(/([=!:$\/()])/g, "\\$1");
}
function ma(e, t) {
return e.keys = t, e;
}
function ya(e) {
return e && e.sensitive ? "" : "i";
}
function ha(e, t) {
var n = e.source.match(/\((?!\?)/g);
if (n) for (var r = 0; r < n.length; r++) t.push({
name: r,
prefix: null,
delimiter: null,
optional: !1,
repeat: !1,
partial: !1,
asterisk: !1,
pattern: null
});
return ma(e, t);
}
function ga(e, t, n) {
for (var r = [], i = 0; i < e.length; i++) r.push(ba(e[i], t, n).source);
return ma(new RegExp("(?:" + r.join("|") + ")", ya(n)), t);
}
function Ia(e, t, n) {
return va(ca(e, n), t, n);
}
function va(e, t, n) {
na(t) || (n = t || n, t = []);
for (var r = (n = n || {}).strict, i = !1 !== n.end, a = "", o = 0; o < e.length; o++) {
var s = e[o];
if ("string" == typeof s) a += pa(s); else {
var l = pa(s.prefix), c = "(?:" + s.pattern + ")";
t.push(s), s.repeat && (c += "(?:" + l + c + ")*"), a += c = s.optional ? s.partial ? l + "(" + c + ")?" : "(?:" + l + "(" + c + "))?" : l + "(" + c + ")";
}
}
var d = pa(n.delimiter || "/"), u = a.slice(-d.length) === d;
return r || (a = (u ? a.slice(0, -d.length) : a) + "(?:" + d + "(?=$))?"), a += i ? "$" : r && u ? "" : "(?=" + d + "|$)", 
ma(new RegExp("^" + a, ya(n)), t);
}
function ba(e, t, n) {
return na(t) || (n = t || n, t = []), n = n || {}, e instanceof RegExp ? ha(e, t) : na(e) ? ga(e, t, n) : Ia(e, t, n);
}
function _a(e, t) {
if (null == e) return {};
var n, r, i = {}, a = Object.keys(e);
for (r = 0; r < a.length; r++) n = a[r], t.indexOf(n) >= 0 || (i[n] = e[n]);
return i;
}
ra.parse = ia, ra.compile = aa, ra.tokensToFunction = oa, ra.tokensToRegExp = sa;
var Pa = {};
Pa[Fi.ForwardRef] = {
$$typeof: !0,
render: !0,
defaultProps: !0,
displayName: !0,
propTypes: !0
}, Pa[Fi.Memo] = {
$$typeof: !0,
compare: !0,
defaultProps: !0,
displayName: !0,
propTypes: !0,
type: !0
};
var Sa = H.createContext, Ta = function(e) {
var t = Sa();
return t.displayName = e, t;
}, Ea = Ta("Router-History"), ka = Ta("Router"), Na = function(e) {
function t(t) {
var n;
return (n = e.call(this, t) || this).state = {
location: t.history.location
}, n._isMounted = !1, n._pendingLocation = null, t.staticContext || (n.unlisten = t.history.listen((function(e) {
n._pendingLocation = e;
}))), n;
}
bi(t, e), t.computeRootMatch = function(e) {
return {
path: "/",
url: "/",
params: {},
isExact: "/" === e
};
};
var n = t.prototype;
return n.componentDidMount = function() {
var e = this;
this._isMounted = !0, this.unlisten && this.unlisten(), this.props.staticContext || (this.unlisten = this.props.history.listen((function(t) {
e._isMounted && e.setState({
location: t
});
}))), this._pendingLocation && this.setState({
location: this._pendingLocation
});
}, n.componentWillUnmount = function() {
this.unlisten && (this.unlisten(), this._isMounted = !1, this._pendingLocation = null);
}, n.render = function() {
return H.createElement(ka.Provider, {
value: {
history: this.props.history,
location: this.state.location,
match: t.computeRootMatch(this.state.location.pathname),
staticContext: this.props.staticContext
}
}, H.createElement(Ea.Provider, {
children: this.props.children || null,
value: this.props.history
}));
}, t;
}(H.Component), Ca = (H.Component, H.Component, {}), Oa = 0;
function Aa(e) {
if (Ca[e]) return Ca[e];
var t = ra.compile(e);
return Oa < 1e4 && (Ca[e] = t, Oa++), t;
}
var wa = {}, La = 0;
function Ra(e, t) {
var n = "" + t.end + t.strict + t.sensitive, r = wa[n] || (wa[n] = {});
if (r[e]) return r[e];
var i = [], a = {
regexp: ra(e, i, t),
keys: i
};
return La < 1e4 && (r[e] = a, La++), a;
}
function xa(e, t) {
void 0 === t && (t = {}), ("string" == typeof t || Array.isArray(t)) && (t = {
path: t
});
var n = t, r = n.path, i = n.exact, a = void 0 !== i && i, o = n.strict, s = void 0 !== o && o, l = n.sensitive, c = void 0 !== l && l;
return [].concat(r).reduce((function(t, n) {
if (!n && "" !== n) return null;
if (t) return t;
var r = Ra(n, {
end: a,
strict: s,
sensitive: c
}), i = r.regexp, o = r.keys, l = i.exec(e);
if (!l) return null;
var d = l[0], u = l.slice(1), p = e === d;
return a && !p ? null : {
path: n,
url: "/" === n && "" === d ? "/" : d,
isExact: p,
params: o.reduce((function(e, t, n) {
return e[t.name] = u[n], e;
}), {})
};
}), null);
}
function Ba(e) {
return 0 === H.Children.count(e);
}
var Da = function(e) {
function t() {
return e.apply(this, arguments) || this;
}
return bi(t, e), t.prototype.render = function() {
var e = this;
return H.createElement(ka.Consumer, null, (function(t) {
t || Xi(!1);
var n = e.props.location || t.location, r = qi({}, t, {
location: n,
match: e.props.computedMatch ? e.props.computedMatch : e.props.path ? xa(n.pathname, e.props) : t.match
}), i = e.props, a = i.children, o = i.component, s = i.render;
return Array.isArray(a) && Ba(a) && (a = null), H.createElement(ka.Provider, {
value: r
}, r.match ? a ? "function" == typeof a ? a(r) : a : o ? H.createElement(o, r) : s ? s(r) : null : "function" == typeof a ? a(r) : null);
}));
}, t;
}(H.Component);
function Ma(e) {
return "/" === e.charAt(0) ? e : "/" + e;
}
function Fa(e, t) {
return e ? qi({}, t, {
pathname: Ma(e) + t.pathname
}) : t;
}
function Ua(e, t) {
if (!e) return t;
var n = Ma(e);
return 0 !== t.pathname.indexOf(n) ? t : qi({}, t, {
pathname: t.pathname.substr(n.length)
});
}
function Ha(e) {
return "string" == typeof e ? e : $i(e);
}
function Va(e) {
return function() {
Xi(!1);
};
}
function Ja() {}
H.Component, H.Component;
var za = H.useContext;
function Ga() {
return za(Ea);
}
function ja() {
return za(ka).location;
}
function qa() {
var e = za(ka).match;
return e ? e.params : {};
}
var Wa = t((function(e, t) {
function n(e, t) {
var n = e.length;
e.push(t);
e: for (;0 < n; ) {
var r = n - 1 >>> 1, i = e[r];
if (!(0 < a(i, t))) break e;
e[r] = t, e[n] = i, n = r;
}
}
function r(e) {
return 0 === e.length ? null : e[0];
}
function i(e) {
if (0 === e.length) return null;
var t = e[0], n = e.pop();
if (n !== t) {
e[0] = n;
e: for (var r = 0, i = e.length, o = i >>> 1; r < o; ) {
var s = 2 * (r + 1) - 1, l = e[s], c = s + 1, d = e[c];
if (0 > a(l, n)) c < i && 0 > a(d, l) ? (e[r] = d, e[c] = n, r = c) : (e[r] = l, 
e[s] = n, r = s); else {
if (!(c < i && 0 > a(d, n))) break e;
e[r] = d, e[c] = n, r = c;
}
}
}
return t;
}
function a(e, t) {
var n = e.sortIndex - t.sortIndex;
return 0 !== n ? n : e.id - t.id;
}
if ("object" == typeof performance && "function" == typeof performance.now) {
var o = performance;
t.unstable_now = function() {
return o.now();
};
} else {
var s = Date.now();
t.unstable_now = function() {
return Date.now() - s;
};
}
var l = [], c = [], d = 1, u = null, p = 3, f = !1, m = !1, y = !1;
function h(e) {
for (var t = r(c); null !== t; ) {
if (null === t.callback) i(c); else {
if (!(t.startTime <= e)) break;
i(c), t.sortIndex = t.expirationTime, n(l, t);
}
t = r(c);
}
}
function g(e) {
if (y = !1, h(e), !m) if (null !== r(l)) m = !0, O(I); else {
var t = r(c);
null !== t && A(g, t.startTime - e);
}
}
function I(e, n) {
m = !1, y && (y = !1, clearTimeout(P), P = -1), f = !0;
var a = p;
try {
for (h(n), u = r(l); null !== u && (!(u.expirationTime > n) || e && !E()); ) {
var o = u.callback;
if ("function" == typeof o) {
u.callback = null, p = u.priorityLevel;
var s = o(u.expirationTime <= n);
n = t.unstable_now(), "function" == typeof s ? u.callback = s : u === r(l) && i(l), 
h(n);
} else i(l);
u = r(l);
}
if (null !== u) var d = !0; else {
var I = r(c);
null !== I && A(g, I.startTime - n), d = !1;
}
return d;
} finally {
u = null, p = a, f = !1;
}
}
"undefined" != typeof navigator && void 0 !== navigator.scheduling && void 0 !== navigator.scheduling.isInputPending && navigator.scheduling.isInputPending.bind(navigator.scheduling);
var v, b = !1, _ = null, P = -1, S = 5, T = -1;
function E() {
return !(t.unstable_now() - T < S);
}
function k() {
if (null !== _) {
var e = t.unstable_now();
T = e;
var n = !0;
try {
n = _(!0, e);
} finally {
n ? v() : (b = !1, _ = null);
}
} else b = !1;
}
if ("undefined" != typeof MessageChannel) {
var N = new MessageChannel, C = N.port2;
N.port1.onmessage = k, v = function() {
C.postMessage(null);
};
} else v = function() {
setTimeout(k, 0);
};
function O(e) {
_ = e, b || (b = !0, v());
}
function A(e, n) {
P = setTimeout((function() {
e(t.unstable_now());
}), n);
}
t.unstable_IdlePriority = 5, t.unstable_ImmediatePriority = 1, t.unstable_LowPriority = 4, 
t.unstable_NormalPriority = 3, t.unstable_Profiling = null, t.unstable_UserBlockingPriority = 2, 
t.unstable_cancelCallback = function(e) {
e.callback = null;
}, t.unstable_continueExecution = function() {
m || f || (m = !0, O(I));
}, t.unstable_forceFrameRate = function(e) {
0 > e || 125 < e ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : S = 0 < e ? Math.floor(1e3 / e) : 5;
}, t.unstable_getCurrentPriorityLevel = function() {
return p;
}, t.unstable_getFirstCallbackNode = function() {
return r(l);
}, t.unstable_next = function(e) {
switch (p) {
case 1:
case 2:
case 3:
var t = 3;
break;

default:
t = p;
}
var n = p;
p = t;
try {
return e();
} finally {
p = n;
}
}, t.unstable_pauseExecution = function() {}, t.unstable_requestPaint = function() {}, 
t.unstable_runWithPriority = function(e, t) {
switch (e) {
case 1:
case 2:
case 3:
case 4:
case 5:
break;

default:
e = 3;
}
var n = p;
p = e;
try {
return t();
} finally {
p = n;
}
}, t.unstable_scheduleCallback = function(e, i, a) {
var o = t.unstable_now();
switch ("object" == typeof a && null !== a ? a = "number" == typeof (a = a.delay) && 0 < a ? o + a : o : a = o, 
e) {
case 1:
var s = -1;
break;

case 2:
s = 250;
break;

case 5:
s = 1073741823;
break;

case 4:
s = 1e4;
break;

default:
s = 5e3;
}
return e = {
id: d++,
callback: i,
priorityLevel: e,
startTime: a,
expirationTime: s = a + s,
sortIndex: -1
}, a > o ? (e.sortIndex = a, n(c, e), null === r(l) && e === r(c) && (y ? (clearTimeout(P), 
P = -1) : y = !0, A(g, a - o))) : (e.sortIndex = s, n(l, e), m || f || (m = !0, 
O(I))), e;
}, t.unstable_shouldYield = E, t.unstable_wrapCallback = function(e) {
var t = p;
return function() {
var n = p;
p = t;
try {
return e.apply(this, arguments);
} finally {
p = n;
}
};
};
})), Ya = (t((function(e, t) {})), t((function(e) {
e.exports = Wa;
}))), Ka = function(e) {
var t = {}, n = H, r = Ya, i = Object.assign;
function a(e) {
for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, n = 1; n < arguments.length; n++) t += "&args[]=" + encodeURIComponent(arguments[n]);
return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";
}
var o = n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, s = Symbol.for("react.element"), l = Symbol.for("react.portal"), c = Symbol.for("react.fragment"), d = Symbol.for("react.strict_mode"), u = Symbol.for("react.profiler"), p = Symbol.for("react.provider"), f = Symbol.for("react.context"), m = Symbol.for("react.forward_ref"), y = Symbol.for("react.suspense"), h = Symbol.for("react.suspense_list"), g = Symbol.for("react.memo"), I = Symbol.for("react.lazy"), v = Symbol.for("react.offscreen"), b = Symbol.iterator;
function _(e) {
return null === e || "object" != typeof e ? null : "function" == typeof (e = b && e[b] || e["@@iterator"]) ? e : null;
}
function P(e) {
if (null == e) return null;
if ("function" == typeof e) return e.displayName || e.name || null;
if ("string" == typeof e) return e;
switch (e) {
case c:
return "Fragment";

case l:
return "Portal";

case u:
return "Profiler";

case d:
return "StrictMode";

case y:
return "Suspense";

case h:
return "SuspenseList";
}
if ("object" == typeof e) switch (e.$$typeof) {
case f:
return (e.displayName || "Context") + ".Consumer";

case p:
return (e._context.displayName || "Context") + ".Provider";

case m:
var t = e.render;
return (e = e.displayName) || (e = "" !== (e = t.displayName || t.name || "") ? "ForwardRef(" + e + ")" : "ForwardRef"), 
e;

case g:
return null !== (t = e.displayName || null) ? t : P(e.type) || "Memo";

case I:
t = e._payload, e = e._init;
try {
return P(e(t));
} catch (e) {}
}
return null;
}
function S(e) {
var t = e.type;
switch (e.tag) {
case 24:
return "Cache";

case 9:
return (t.displayName || "Context") + ".Consumer";

case 10:
return (t._context.displayName || "Context") + ".Provider";

case 18:
return "DehydratedFragment";

case 11:
return e = (e = t.render).displayName || e.name || "", t.displayName || ("" !== e ? "ForwardRef(" + e + ")" : "ForwardRef");

case 7:
return "Fragment";

case 5:
return t;

case 4:
return "Portal";

case 3:
return "Root";

case 6:
return "Text";

case 16:
return P(t);

case 8:
return t === d ? "StrictMode" : "Mode";

case 22:
return "Offscreen";

case 12:
return "Profiler";

case 21:
return "Scope";

case 13:
return "Suspense";

case 19:
return "SuspenseList";

case 25:
return "TracingMarker";

case 1:
case 0:
case 17:
case 2:
case 14:
case 15:
if ("function" == typeof t) return t.displayName || t.name || null;
if ("string" == typeof t) return t;
}
return null;
}
function T(e) {
var t = e, n = e;
if (e.alternate) for (;t.return; ) t = t.return; else {
e = t;
do {
0 != (4098 & (t = e).flags) && (n = t.return), e = t.return;
} while (e);
}
return 3 === t.tag ? n : null;
}
function E(e) {
if (T(e) !== e) throw Error(a(188));
}
function k(e) {
var t = e.alternate;
if (!t) {
if (null === (t = T(e))) throw Error(a(188));
return t !== e ? null : e;
}
for (var n = e, r = t; ;) {
var i = n.return;
if (null === i) break;
var o = i.alternate;
if (null === o) {
if (null !== (r = i.return)) {
n = r;
continue;
}
break;
}
if (i.child === o.child) {
for (o = i.child; o; ) {
if (o === n) return E(i), e;
if (o === r) return E(i), t;
o = o.sibling;
}
throw Error(a(188));
}
if (n.return !== r.return) n = i, r = o; else {
for (var s = !1, l = i.child; l; ) {
if (l === n) {
s = !0, n = i, r = o;
break;
}
if (l === r) {
s = !0, r = i, n = o;
break;
}
l = l.sibling;
}
if (!s) {
for (l = o.child; l; ) {
if (l === n) {
s = !0, n = o, r = i;
break;
}
if (l === r) {
s = !0, r = o, n = i;
break;
}
l = l.sibling;
}
if (!s) throw Error(a(189));
}
}
if (n.alternate !== r) throw Error(a(190));
}
if (3 !== n.tag) throw Error(a(188));
return n.stateNode.current === n ? e : t;
}
function N(e) {
return null !== (e = k(e)) ? C(e) : null;
}
function C(e) {
if (5 === e.tag || 6 === e.tag) return e;
for (e = e.child; null !== e; ) {
var t = C(e);
if (null !== t) return t;
e = e.sibling;
}
return null;
}
function O(e) {
if (5 === e.tag || 6 === e.tag) return e;
for (e = e.child; null !== e; ) {
if (4 !== e.tag) {
var t = O(e);
if (null !== t) return t;
}
e = e.sibling;
}
return null;
}
var A, w = Array.isArray, L = e.getPublicInstance, R = e.getRootHostContext, x = e.getChildHostContext, B = e.prepareForCommit, D = e.resetAfterCommit, M = e.createInstance, F = e.appendInitialChild, U = e.finalizeInitialChildren, V = e.prepareUpdate, J = e.shouldSetTextContent, z = e.createTextInstance, G = e.scheduleTimeout, j = e.cancelTimeout, q = e.noTimeout, W = e.isPrimaryRenderer, Y = e.supportsMutation, K = e.supportsPersistence, X = e.supportsHydration, Q = e.getInstanceFromNode, $ = e.preparePortalMount, Z = e.getCurrentEventPriority, ee = e.detachDeletedInstance, te = e.supportsMicrotasks, ne = e.scheduleMicrotask, re = e.supportsTestSelectors, ie = e.findFiberRoot, ae = e.getBoundingRect, oe = e.getTextContent, se = e.isHiddenSubtree, le = e.matchAccessibilityRole, ce = e.setFocusIfFocusable, de = e.setupIntersectionObserver, ue = e.appendChild, pe = e.appendChildToContainer, fe = e.commitTextUpdate, me = e.commitMount, ye = e.commitUpdate, he = e.insertBefore, ge = e.insertInContainerBefore, Ie = e.removeChild, ve = e.removeChildFromContainer, be = e.resetTextContent, _e = e.hideInstance, Pe = e.hideTextInstance, Se = e.unhideInstance, Te = e.unhideTextInstance, Ee = e.clearContainer, ke = e.cloneInstance, Ne = e.createContainerChildSet, Ce = e.appendChildToContainerChildSet, Oe = e.finalizeContainerChildren, Ae = e.replaceContainerChildren, we = e.cloneHiddenInstance, Le = e.cloneHiddenTextInstance, Re = e.canHydrateInstance, xe = e.canHydrateTextInstance, Be = e.canHydrateSuspenseInstance, De = e.isSuspenseInstancePending, Me = e.isSuspenseInstanceFallback, Fe = e.getSuspenseInstanceFallbackErrorDetails, Ue = e.registerSuspenseInstanceRetry, He = e.getNextHydratableSibling, Ve = e.getFirstHydratableChild, Je = e.getFirstHydratableChildWithinContainer, ze = e.getFirstHydratableChildWithinSuspenseInstance, Ge = e.hydrateInstance, je = e.hydrateTextInstance, qe = e.hydrateSuspenseInstance, We = e.getNextHydratableInstanceAfterSuspenseInstance, Ye = e.commitHydratedContainer, Ke = e.commitHydratedSuspenseInstance, Xe = e.clearSuspenseBoundary, Qe = e.clearSuspenseBoundaryFromContainer, $e = e.shouldDeleteUnhydratedTailInstances, Ze = e.didNotMatchHydratedContainerTextInstance, et = e.didNotMatchHydratedTextInstance;
function tt(e) {
if (void 0 === A) try {
throw Error();
} catch (e) {
var t = e.stack.trim().match(/\n( *(at )?)/);
A = t && t[1] || "";
}
return "\n" + A + e;
}
var nt = !1;
function rt(e, t) {
if (!e || nt) return "";
nt = !0;
var n = Error.prepareStackTrace;
Error.prepareStackTrace = void 0;
try {
if (t) if (t = function() {
throw Error();
}, Object.defineProperty(t.prototype, "props", {
set: function() {
throw Error();
}
}), "object" == typeof Reflect && Reflect.construct) {
try {
Reflect.construct(t, []);
} catch (e) {
var r = e;
}
Reflect.construct(e, [], t);
} else {
try {
t.call();
} catch (e) {
r = e;
}
e.call(t.prototype);
} else {
try {
throw Error();
} catch (e) {
r = e;
}
e();
}
} catch (t) {
if (t && r && "string" == typeof t.stack) {
for (var i = t.stack.split("\n"), a = r.stack.split("\n"), o = i.length - 1, s = a.length - 1; 1 <= o && 0 <= s && i[o] !== a[s]; ) s--;
for (;1 <= o && 0 <= s; o--, s--) if (i[o] !== a[s]) {
if (1 !== o || 1 !== s) do {
if (o--, 0 > --s || i[o] !== a[s]) {
var l = "\n" + i[o].replace(" at new ", " at ");
return e.displayName && l.includes("<anonymous>") && (l = l.replace("<anonymous>", e.displayName)), 
l;
}
} while (1 <= o && 0 <= s);
break;
}
}
} finally {
nt = !1, Error.prepareStackTrace = n;
}
return (e = e ? e.displayName || e.name : "") ? tt(e) : "";
}
var it = Object.prototype.hasOwnProperty, at = [], ot = -1;
function st(e) {
return {
current: e
};
}
function lt(e) {
0 > ot || (e.current = at[ot], at[ot] = null, ot--);
}
function ct(e, t) {
ot++, at[ot] = e.current, e.current = t;
}
var dt = {}, ut = st(dt), pt = st(!1), ft = dt;
function mt(e, t) {
var n = e.type.contextTypes;
if (!n) return dt;
var r = e.stateNode;
if (r && r.__reactInternalMemoizedUnmaskedChildContext === t) return r.__reactInternalMemoizedMaskedChildContext;
var i, a = {};
for (i in n) a[i] = t[i];
return r && ((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = t, 
e.__reactInternalMemoizedMaskedChildContext = a), a;
}
function yt(e) {
return null != (e = e.childContextTypes);
}
function ht() {
lt(pt), lt(ut);
}
function gt(e, t, n) {
if (ut.current !== dt) throw Error(a(168));
ct(ut, t), ct(pt, n);
}
function It(e, t, n) {
var r = e.stateNode;
if (t = t.childContextTypes, "function" != typeof r.getChildContext) return n;
for (var o in r = r.getChildContext()) if (!(o in t)) throw Error(a(108, S(e) || "Unknown", o));
return i({}, n, r);
}
function vt(e) {
return e = (e = e.stateNode) && e.__reactInternalMemoizedMergedChildContext || dt, 
ft = ut.current, ct(ut, e), ct(pt, pt.current), !0;
}
function bt(e, t, n) {
var r = e.stateNode;
if (!r) throw Error(a(169));
n ? (e = It(e, t, ft), r.__reactInternalMemoizedMergedChildContext = e, lt(pt), 
lt(ut), ct(ut, e)) : lt(pt), ct(pt, n);
}
var _t = Math.clz32 ? Math.clz32 : function(e) {
return 0 === (e >>>= 0) ? 32 : 31 - (Pt(e) / St | 0) | 0;
}, Pt = Math.log, St = Math.LN2;
var Tt = 64, Et = 4194304;
function kt(e) {
switch (e & -e) {
case 1:
return 1;

case 2:
return 2;

case 4:
return 4;

case 8:
return 8;

case 16:
return 16;

case 32:
return 32;

case 64:
case 128:
case 256:
case 512:
case 1024:
case 2048:
case 4096:
case 8192:
case 16384:
case 32768:
case 65536:
case 131072:
case 262144:
case 524288:
case 1048576:
case 2097152:
return 4194240 & e;

case 4194304:
case 8388608:
case 16777216:
case 33554432:
case 67108864:
return 130023424 & e;

case 134217728:
return 134217728;

case 268435456:
return 268435456;

case 536870912:
return 536870912;

case 1073741824:
return 1073741824;

default:
return e;
}
}
function Nt(e, t) {
var n = e.pendingLanes;
if (0 === n) return 0;
var r = 0, i = e.suspendedLanes, a = e.pingedLanes, o = 268435455 & n;
if (0 !== o) {
var s = o & ~i;
0 !== s ? r = kt(s) : 0 !== (a &= o) && (r = kt(a));
} else 0 !== (o = n & ~i) ? r = kt(o) : 0 !== a && (r = kt(a));
if (0 === r) return 0;
if (0 !== t && t !== r && 0 == (t & i) && ((i = r & -r) >= (a = t & -t) || 16 === i && 0 != (4194240 & a))) return t;
if (0 != (4 & r) && (r |= 16 & n), 0 !== (t = e.entangledLanes)) for (e = e.entanglements, 
t &= r; 0 < t; ) i = 1 << (n = 31 - _t(t)), r |= e[n], t &= ~i;
return r;
}
function Ct(e, t) {
switch (e) {
case 1:
case 2:
case 4:
return t + 250;

case 8:
case 16:
case 32:
case 64:
case 128:
case 256:
case 512:
case 1024:
case 2048:
case 4096:
case 8192:
case 16384:
case 32768:
case 65536:
case 131072:
case 262144:
case 524288:
case 1048576:
case 2097152:
return t + 5e3;

default:
return -1;
}
}
function Ot(e, t) {
for (var n = e.suspendedLanes, r = e.pingedLanes, i = e.expirationTimes, a = e.pendingLanes; 0 < a; ) {
var o = 31 - _t(a), s = 1 << o, l = i[o];
-1 === l ? 0 != (s & n) && 0 == (s & r) || (i[o] = Ct(s, t)) : l <= t && (e.expiredLanes |= s), 
a &= ~s;
}
}
function At(e) {
return 0 !== (e = -1073741825 & e.pendingLanes) ? e : 1073741824 & e ? 1073741824 : 0;
}
function wt() {
var e = Tt;
return 0 == (4194240 & (Tt <<= 1)) && (Tt = 64), e;
}
function Lt(e) {
for (var t = [], n = 0; 31 > n; n++) t.push(e);
return t;
}
function Rt(e, t, n) {
e.pendingLanes |= t, 536870912 !== t && (e.suspendedLanes = 0, e.pingedLanes = 0), 
(e = e.eventTimes)[t = 31 - _t(t)] = n;
}
function xt(e, t) {
var n = e.pendingLanes & ~t;
e.pendingLanes = t, e.suspendedLanes = 0, e.pingedLanes = 0, e.expiredLanes &= t, 
e.mutableReadLanes &= t, e.entangledLanes &= t, t = e.entanglements;
var r = e.eventTimes;
for (e = e.expirationTimes; 0 < n; ) {
var i = 31 - _t(n), a = 1 << i;
t[i] = 0, r[i] = -1, e[i] = -1, n &= ~a;
}
}
function Bt(e, t) {
var n = e.entangledLanes |= t;
for (e = e.entanglements; n; ) {
var r = 31 - _t(n), i = 1 << r;
i & t | e[r] & t && (e[r] |= t), n &= ~i;
}
}
var Dt = 0;
function Mt(e) {
return 1 < (e &= -e) ? 4 < e ? 0 != (268435455 & e) ? 16 : 536870912 : 4 : 1;
}
var Ft = r.unstable_scheduleCallback, Ut = r.unstable_cancelCallback, Ht = r.unstable_shouldYield, Vt = r.unstable_requestPaint, Jt = r.unstable_now, zt = r.unstable_ImmediatePriority, Gt = r.unstable_UserBlockingPriority, jt = r.unstable_NormalPriority, qt = r.unstable_IdlePriority, Wt = null, Yt = null;
function Kt(e) {
if (Yt && "function" == typeof Yt.onCommitFiberRoot) try {
Yt.onCommitFiberRoot(Wt, e, void 0, 128 == (128 & e.current.flags));
} catch (e) {}
}
var Xt = "function" == typeof Object.is ? Object.is : function(e, t) {
return e === t && (0 !== e || 1 / e == 1 / t) || e != e && t != t;
}, Qt = null, $t = !1, Zt = !1;
function en(e) {
null === Qt ? Qt = [ e ] : Qt.push(e);
}
function tn(e) {
$t = !0, en(e);
}
function nn() {
if (!Zt && null !== Qt) {
Zt = !0;
var e = 0, t = Dt;
try {
var n = Qt;
for (Dt = 1; e < n.length; e++) {
var r = n[e];
do {
r = r(!0);
} while (null !== r);
}
Qt = null, $t = !1;
} catch (t) {
throw null !== Qt && (Qt = Qt.slice(e + 1)), Ft(zt, nn), t;
} finally {
Dt = t, Zt = !1;
}
}
return null;
}
var rn = [], an = 0, on = null, sn = 0, ln = [], cn = 0, dn = null, un = 1, pn = "";
function fn(e, t) {
rn[an++] = sn, rn[an++] = on, on = e, sn = t;
}
function mn(e, t, n) {
ln[cn++] = un, ln[cn++] = pn, ln[cn++] = dn, dn = e;
var r = un;
e = pn;
var i = 32 - _t(r) - 1;
r &= ~(1 << i), n += 1;
var a = 32 - _t(t) + i;
if (30 < a) {
var o = i - i % 5;
a = (r & (1 << o) - 1).toString(32), r >>= o, i -= o, un = 1 << 32 - _t(t) + i | n << i | r, 
pn = a + e;
} else un = 1 << a | n << i | r, pn = e;
}
function yn(e) {
null !== e.return && (fn(e, 1), mn(e, 1, 0));
}
function hn(e) {
for (;e === on; ) on = rn[--an], rn[an] = null, sn = rn[--an], rn[an] = null;
for (;e === dn; ) dn = ln[--cn], ln[cn] = null, pn = ln[--cn], ln[cn] = null, un = ln[--cn], 
ln[cn] = null;
}
var gn = null, In = null, vn = !1, bn = !1, _n = null;
function Pn(e, t) {
var n = gs(5, null, null, 0);
n.elementType = "DELETED", n.stateNode = t, n.return = e, null === (t = e.deletions) ? (e.deletions = [ n ], 
e.flags |= 16) : t.push(n);
}
function Sn(e, t) {
switch (e.tag) {
case 5:
return null !== (t = Re(t, e.type, e.pendingProps)) && (e.stateNode = t, gn = e, 
In = Ve(t), !0);

case 6:
return null !== (t = xe(t, e.pendingProps)) && (e.stateNode = t, gn = e, In = null, 
!0);

case 13:
if (null !== (t = Be(t))) {
var n = null !== dn ? {
id: un,
overflow: pn
} : null;
return e.memoizedState = {
dehydrated: t,
treeContext: n,
retryLane: 1073741824
}, (n = gs(18, null, null, 0)).stateNode = t, n.return = e, e.child = n, gn = e, 
In = null, !0;
}
return !1;

default:
return !1;
}
}
function Tn(e) {
return 0 != (1 & e.mode) && 0 == (128 & e.flags);
}
function En(e) {
if (vn) {
var t = In;
if (t) {
var n = t;
if (!Sn(e, t)) {
if (Tn(e)) throw Error(a(418));
t = He(n);
var r = gn;
t && Sn(e, t) ? Pn(r, n) : (e.flags = -4097 & e.flags | 2, vn = !1, gn = e);
}
} else {
if (Tn(e)) throw Error(a(418));
e.flags = -4097 & e.flags | 2, vn = !1, gn = e;
}
}
}
function kn(e) {
for (e = e.return; null !== e && 5 !== e.tag && 3 !== e.tag && 13 !== e.tag; ) e = e.return;
gn = e;
}
function Nn(e) {
if (!X || e !== gn) return !1;
if (!vn) return kn(e), vn = !0, !1;
if (3 !== e.tag && (5 !== e.tag || $e(e.type) && !J(e.type, e.memoizedProps))) {
var t = In;
if (t) {
if (Tn(e)) throw Cn(), Error(a(418));
for (;t; ) Pn(e, t), t = He(t);
}
}
if (kn(e), 13 === e.tag) {
if (!X) throw Error(a(316));
if (!(e = null !== (e = e.memoizedState) ? e.dehydrated : null)) throw Error(a(317));
In = We(e);
} else In = gn ? He(e.stateNode) : null;
return !0;
}
function Cn() {
for (var e = In; e; ) e = He(e);
}
function On() {
X && (In = gn = null, bn = vn = !1);
}
function An(e) {
null === _n ? _n = [ e ] : _n.push(e);
}
var wn = o.ReactCurrentBatchConfig;
function Ln(e, t) {
if (Xt(e, t)) return !0;
if ("object" != typeof e || null === e || "object" != typeof t || null === t) return !1;
var n = Object.keys(e), r = Object.keys(t);
if (n.length !== r.length) return !1;
for (r = 0; r < n.length; r++) {
var i = n[r];
if (!it.call(t, i) || !Xt(e[i], t[i])) return !1;
}
return !0;
}
function Rn(e) {
switch (e.tag) {
case 5:
return tt(e.type);

case 16:
return tt("Lazy");

case 13:
return tt("Suspense");

case 19:
return tt("SuspenseList");

case 0:
case 2:
case 15:
return e = rt(e.type, !1);

case 11:
return e = rt(e.type.render, !1);

case 1:
return e = rt(e.type, !0);

default:
return "";
}
}
function xn(e, t) {
if (e && e.defaultProps) {
for (var n in t = i({}, t), e = e.defaultProps) void 0 === t[n] && (t[n] = e[n]);
return t;
}
return t;
}
var Bn = st(null), Dn = null, Mn = null, Fn = null;
function Un() {
Fn = Mn = Dn = null;
}
function Hn(e, t, n) {
W ? (ct(Bn, t._currentValue), t._currentValue = n) : (ct(Bn, t._currentValue2), 
t._currentValue2 = n);
}
function Vn(e) {
var t = Bn.current;
lt(Bn), W ? e._currentValue = t : e._currentValue2 = t;
}
function Jn(e, t, n) {
for (;null !== e; ) {
var r = e.alternate;
if ((e.childLanes & t) !== t ? (e.childLanes |= t, null !== r && (r.childLanes |= t)) : null !== r && (r.childLanes & t) !== t && (r.childLanes |= t), 
e === n) break;
e = e.return;
}
}
function zn(e, t) {
Dn = e, Fn = Mn = null, null !== (e = e.dependencies) && null !== e.firstContext && (0 != (e.lanes & t) && (Fi = !0), 
e.firstContext = null);
}
function Gn(e) {
var t = W ? e._currentValue : e._currentValue2;
if (Fn !== e) if (e = {
context: e,
memoizedValue: t,
next: null
}, null === Mn) {
if (null === Dn) throw Error(a(308));
Mn = e, Dn.dependencies = {
lanes: 0,
firstContext: e
};
} else Mn = Mn.next = e;
return t;
}
var jn = null;
function qn(e) {
null === jn ? jn = [ e ] : jn.push(e);
}
function Wn(e, t, n, r) {
var i = t.interleaved;
return null === i ? (n.next = n, qn(t)) : (n.next = i.next, i.next = n), t.interleaved = n, 
Yn(e, r);
}
function Yn(e, t) {
e.lanes |= t;
var n = e.alternate;
for (null !== n && (n.lanes |= t), n = e, e = e.return; null !== e; ) e.childLanes |= t, 
null !== (n = e.alternate) && (n.childLanes |= t), n = e, e = e.return;
return 3 === n.tag ? n.stateNode : null;
}
var Kn = !1;
function Xn(e) {
e.updateQueue = {
baseState: e.memoizedState,
firstBaseUpdate: null,
lastBaseUpdate: null,
shared: {
pending: null,
interleaved: null,
lanes: 0
},
effects: null
};
}
function Qn(e, t) {
e = e.updateQueue, t.updateQueue === e && (t.updateQueue = {
baseState: e.baseState,
firstBaseUpdate: e.firstBaseUpdate,
lastBaseUpdate: e.lastBaseUpdate,
shared: e.shared,
effects: e.effects
});
}
function $n(e, t) {
return {
eventTime: e,
lane: t,
tag: 0,
payload: null,
callback: null,
next: null
};
}
function Zn(e, t, n) {
var r = e.updateQueue;
if (null === r) return null;
if (r = r.shared, 0 != (2 & uo)) {
var i = r.pending;
return null === i ? t.next = t : (t.next = i.next, i.next = t), r.pending = t, Yn(e, n);
}
return null === (i = r.interleaved) ? (t.next = t, qn(r)) : (t.next = i.next, i.next = t), 
r.interleaved = t, Yn(e, n);
}
function er(e, t, n) {
if (null !== (t = t.updateQueue) && (t = t.shared, 0 != (4194240 & n))) {
var r = t.lanes;
n |= r &= e.pendingLanes, t.lanes = n, Bt(e, n);
}
}
function tr(e, t) {
var n = e.updateQueue, r = e.alternate;
if (null !== r && n === (r = r.updateQueue)) {
var i = null, a = null;
if (null !== (n = n.firstBaseUpdate)) {
do {
var o = {
eventTime: n.eventTime,
lane: n.lane,
tag: n.tag,
payload: n.payload,
callback: n.callback,
next: null
};
null === a ? i = a = o : a = a.next = o, n = n.next;
} while (null !== n);
null === a ? i = a = t : a = a.next = t;
} else i = a = t;
return n = {
baseState: r.baseState,
firstBaseUpdate: i,
lastBaseUpdate: a,
shared: r.shared,
effects: r.effects
}, void (e.updateQueue = n);
}
null === (e = n.lastBaseUpdate) ? n.firstBaseUpdate = t : e.next = t, n.lastBaseUpdate = t;
}
function nr(e, t, n, r) {
var a = e.updateQueue;
Kn = !1;
var o = a.firstBaseUpdate, s = a.lastBaseUpdate, l = a.shared.pending;
if (null !== l) {
a.shared.pending = null;
var c = l, d = c.next;
c.next = null, null === s ? o = d : s.next = d, s = c;
var u = e.alternate;
null !== u && ((l = (u = u.updateQueue).lastBaseUpdate) !== s && (null === l ? u.firstBaseUpdate = d : l.next = d, 
u.lastBaseUpdate = c));
}
if (null !== o) {
var p = a.baseState;
for (s = 0, u = d = c = null, l = o; ;) {
var f = l.lane, m = l.eventTime;
if ((r & f) === f) {
null !== u && (u = u.next = {
eventTime: m,
lane: 0,
tag: l.tag,
payload: l.payload,
callback: l.callback,
next: null
});
e: {
var y = e, h = l;
switch (f = t, m = n, h.tag) {
case 1:
if ("function" == typeof (y = h.payload)) {
p = y.call(m, p, f);
break e;
}
p = y;
break e;

case 3:
y.flags = -65537 & y.flags | 128;

case 0:
if (null == (f = "function" == typeof (y = h.payload) ? y.call(m, p, f) : y)) break e;
p = i({}, p, f);
break e;

case 2:
Kn = !0;
}
}
null !== l.callback && 0 !== l.lane && (e.flags |= 64, null === (f = a.effects) ? a.effects = [ l ] : f.push(l));
} else m = {
eventTime: m,
lane: f,
tag: l.tag,
payload: l.payload,
callback: l.callback,
next: null
}, null === u ? (d = u = m, c = p) : u = u.next = m, s |= f;
if (null === (l = l.next)) {
if (null === (l = a.shared.pending)) break;
l = (f = l).next, f.next = null, a.lastBaseUpdate = f, a.shared.pending = null;
}
}
if (null === u && (c = p), a.baseState = c, a.firstBaseUpdate = d, a.lastBaseUpdate = u, 
null !== (t = a.shared.interleaved)) {
a = t;
do {
s |= a.lane, a = a.next;
} while (a !== t);
} else null === o && (a.shared.lanes = 0);
vo |= s, e.lanes = s, e.memoizedState = p;
}
}
function rr(e, t, n) {
if (e = t.effects, t.effects = null, null !== e) for (t = 0; t < e.length; t++) {
var r = e[t], i = r.callback;
if (null !== i) {
if (r.callback = null, r = n, "function" != typeof i) throw Error(a(191, i));
i.call(r);
}
}
}
var ir = (new n.Component).refs;
function ar(e, t, n, r) {
n = null == (n = n(r, t = e.memoizedState)) ? t : i({}, t, n), e.memoizedState = n, 
0 === e.lanes && (e.updateQueue.baseState = n);
}
var or = {
isMounted: function(e) {
return !!(e = e._reactInternals) && T(e) === e;
},
enqueueSetState: function(e, t, n) {
e = e._reactInternals;
var r = Uo(), i = Ho(e), a = $n(r, i);
a.payload = t, null != n && (a.callback = n), null !== (t = Zn(e, a, i)) && (Vo(t, e, i, r), 
er(t, e, i));
},
enqueueReplaceState: function(e, t, n) {
e = e._reactInternals;
var r = Uo(), i = Ho(e), a = $n(r, i);
a.tag = 1, a.payload = t, null != n && (a.callback = n), null !== (t = Zn(e, a, i)) && (Vo(t, e, i, r), 
er(t, e, i));
},
enqueueForceUpdate: function(e, t) {
e = e._reactInternals;
var n = Uo(), r = Ho(e), i = $n(n, r);
i.tag = 2, null != t && (i.callback = t), null !== (t = Zn(e, i, r)) && (Vo(t, e, r, n), 
er(t, e, r));
}
};
function sr(e, t, n, r, i, a, o) {
return "function" == typeof (e = e.stateNode).shouldComponentUpdate ? e.shouldComponentUpdate(r, a, o) : !t.prototype || !t.prototype.isPureReactComponent || (!Ln(n, r) || !Ln(i, a));
}
function lr(e, t, n) {
var r = !1, i = dt, a = t.contextType;
return "object" == typeof a && null !== a ? a = Gn(a) : (i = yt(t) ? ft : ut.current, 
a = (r = null != (r = t.contextTypes)) ? mt(e, i) : dt), t = new t(n, a), e.memoizedState = null !== t.state && void 0 !== t.state ? t.state : null, 
t.updater = or, e.stateNode = t, t._reactInternals = e, r && ((e = e.stateNode).__reactInternalMemoizedUnmaskedChildContext = i, 
e.__reactInternalMemoizedMaskedChildContext = a), t;
}
function cr(e, t, n, r) {
e = t.state, "function" == typeof t.componentWillReceiveProps && t.componentWillReceiveProps(n, r), 
"function" == typeof t.UNSAFE_componentWillReceiveProps && t.UNSAFE_componentWillReceiveProps(n, r), 
t.state !== e && or.enqueueReplaceState(t, t.state, null);
}
function dr(e, t, n, r) {
var i = e.stateNode;
i.props = n, i.state = e.memoizedState, i.refs = ir, Xn(e);
var a = t.contextType;
"object" == typeof a && null !== a ? i.context = Gn(a) : (a = yt(t) ? ft : ut.current, 
i.context = mt(e, a)), i.state = e.memoizedState, "function" == typeof (a = t.getDerivedStateFromProps) && (ar(e, t, a, n), 
i.state = e.memoizedState), "function" == typeof t.getDerivedStateFromProps || "function" == typeof i.getSnapshotBeforeUpdate || "function" != typeof i.UNSAFE_componentWillMount && "function" != typeof i.componentWillMount || (t = i.state, 
"function" == typeof i.componentWillMount && i.componentWillMount(), "function" == typeof i.UNSAFE_componentWillMount && i.UNSAFE_componentWillMount(), 
t !== i.state && or.enqueueReplaceState(i, i.state, null), nr(e, n, i, r), i.state = e.memoizedState), 
"function" == typeof i.componentDidMount && (e.flags |= 4194308);
}
function ur(e, t, n) {
if (null !== (e = n.ref) && "function" != typeof e && "object" != typeof e) {
if (n._owner) {
if (n = n._owner) {
if (1 !== n.tag) throw Error(a(309));
var r = n.stateNode;
}
if (!r) throw Error(a(147, e));
var i = r, o = "" + e;
return null !== t && null !== t.ref && "function" == typeof t.ref && t.ref._stringRef === o ? t.ref : (t = function(e) {
var t = i.refs;
t === ir && (t = i.refs = {}), null === e ? delete t[o] : t[o] = e;
}, t._stringRef = o, t);
}
if ("string" != typeof e) throw Error(a(284));
if (!n._owner) throw Error(a(290, e));
}
return e;
}
function pr(e, t) {
throw e = Object.prototype.toString.call(t), Error(a(31, "[object Object]" === e ? "object with keys {" + Object.keys(t).join(", ") + "}" : e));
}
function fr(e) {
return (0, e._init)(e._payload);
}
function mr(e) {
function t(t, n) {
if (e) {
var r = t.deletions;
null === r ? (t.deletions = [ n ], t.flags |= 16) : r.push(n);
}
}
function n(n, r) {
if (!e) return null;
for (;null !== r; ) t(n, r), r = r.sibling;
return null;
}
function r(e, t) {
for (e = new Map; null !== t; ) null !== t.key ? e.set(t.key, t) : e.set(t.index, t), 
t = t.sibling;
return e;
}
function i(e, t) {
return (e = bs(e, t)).index = 0, e.sibling = null, e;
}
function o(t, n, r) {
return t.index = r, e ? null !== (r = t.alternate) ? (r = r.index) < n ? (t.flags |= 2, 
n) : r : (t.flags |= 2, n) : (t.flags |= 1048576, n);
}
function d(t) {
return e && null === t.alternate && (t.flags |= 2), t;
}
function u(e, t, n, r) {
return null === t || 6 !== t.tag ? ((t = Ts(n, e.mode, r)).return = e, t) : ((t = i(t, n)).return = e, 
t);
}
function p(e, t, n, r) {
var a = n.type;
return a === c ? m(e, t, n.props.children, r, n.key) : null !== t && (t.elementType === a || "object" == typeof a && null !== a && a.$$typeof === I && fr(a) === t.type) ? ((r = i(t, n.props)).ref = ur(e, t, n), 
r.return = e, r) : ((r = _s(n.type, n.key, n.props, null, e.mode, r)).ref = ur(e, t, n), 
r.return = e, r);
}
function f(e, t, n, r) {
return null === t || 4 !== t.tag || t.stateNode.containerInfo !== n.containerInfo || t.stateNode.implementation !== n.implementation ? ((t = Es(n, e.mode, r)).return = e, 
t) : ((t = i(t, n.children || [])).return = e, t);
}
function m(e, t, n, r, a) {
return null === t || 7 !== t.tag ? ((t = Ps(n, e.mode, r, a)).return = e, t) : ((t = i(t, n)).return = e, 
t);
}
function y(e, t, n) {
if ("string" == typeof t && "" !== t || "number" == typeof t) return (t = Ts("" + t, e.mode, n)).return = e, 
t;
if ("object" == typeof t && null !== t) {
switch (t.$$typeof) {
case s:
return (n = _s(t.type, t.key, t.props, null, e.mode, n)).ref = ur(e, null, t), n.return = e, 
n;

case l:
return (t = Es(t, e.mode, n)).return = e, t;

case I:
return y(e, (0, t._init)(t._payload), n);
}
if (w(t) || _(t)) return (t = Ps(t, e.mode, n, null)).return = e, t;
pr(e, t);
}
return null;
}
function h(e, t, n, r) {
var i = null !== t ? t.key : null;
if ("string" == typeof n && "" !== n || "number" == typeof n) return null !== i ? null : u(e, t, "" + n, r);
if ("object" == typeof n && null !== n) {
switch (n.$$typeof) {
case s:
return n.key === i ? p(e, t, n, r) : null;

case l:
return n.key === i ? f(e, t, n, r) : null;

case I:
return h(e, t, (i = n._init)(n._payload), r);
}
if (w(n) || _(n)) return null !== i ? null : m(e, t, n, r, null);
pr(e, n);
}
return null;
}
function g(e, t, n, r, i) {
if ("string" == typeof r && "" !== r || "number" == typeof r) return u(t, e = e.get(n) || null, "" + r, i);
if ("object" == typeof r && null !== r) {
switch (r.$$typeof) {
case s:
return p(t, e = e.get(null === r.key ? n : r.key) || null, r, i);

case l:
return f(t, e = e.get(null === r.key ? n : r.key) || null, r, i);

case I:
return g(e, t, n, (0, r._init)(r._payload), i);
}
if (w(r) || _(r)) return m(t, e = e.get(n) || null, r, i, null);
pr(t, r);
}
return null;
}
function v(i, a, s, l) {
for (var c = null, d = null, u = a, p = a = 0, f = null; null !== u && p < s.length; p++) {
u.index > p ? (f = u, u = null) : f = u.sibling;
var m = h(i, u, s[p], l);
if (null === m) {
null === u && (u = f);
break;
}
e && u && null === m.alternate && t(i, u), a = o(m, a, p), null === d ? c = m : d.sibling = m, 
d = m, u = f;
}
if (p === s.length) return n(i, u), vn && fn(i, p), c;
if (null === u) {
for (;p < s.length; p++) null !== (u = y(i, s[p], l)) && (a = o(u, a, p), null === d ? c = u : d.sibling = u, 
d = u);
return vn && fn(i, p), c;
}
for (u = r(i, u); p < s.length; p++) null !== (f = g(u, i, p, s[p], l)) && (e && null !== f.alternate && u.delete(null === f.key ? p : f.key), 
a = o(f, a, p), null === d ? c = f : d.sibling = f, d = f);
return e && u.forEach((function(e) {
return t(i, e);
})), vn && fn(i, p), c;
}
function b(i, s, l, c) {
var d = _(l);
if ("function" != typeof d) throw Error(a(150));
if (null == (l = d.call(l))) throw Error(a(151));
for (var u = d = null, p = s, f = s = 0, m = null, I = l.next(); null !== p && !I.done; f++, 
I = l.next()) {
p.index > f ? (m = p, p = null) : m = p.sibling;
var v = h(i, p, I.value, c);
if (null === v) {
null === p && (p = m);
break;
}
e && p && null === v.alternate && t(i, p), s = o(v, s, f), null === u ? d = v : u.sibling = v, 
u = v, p = m;
}
if (I.done) return n(i, p), vn && fn(i, f), d;
if (null === p) {
for (;!I.done; f++, I = l.next()) null !== (I = y(i, I.value, c)) && (s = o(I, s, f), 
null === u ? d = I : u.sibling = I, u = I);
return vn && fn(i, f), d;
}
for (p = r(i, p); !I.done; f++, I = l.next()) null !== (I = g(p, i, f, I.value, c)) && (e && null !== I.alternate && p.delete(null === I.key ? f : I.key), 
s = o(I, s, f), null === u ? d = I : u.sibling = I, u = I);
return e && p.forEach((function(e) {
return t(i, e);
})), vn && fn(i, f), d;
}
return function e(r, a, o, u) {
if ("object" == typeof o && null !== o && o.type === c && null === o.key && (o = o.props.children), 
"object" == typeof o && null !== o) {
switch (o.$$typeof) {
case s:
e: {
for (var p = o.key, f = a; null !== f; ) {
if (f.key === p) {
if ((p = o.type) === c) {
if (7 === f.tag) {
n(r, f.sibling), (a = i(f, o.props.children)).return = r, r = a;
break e;
}
} else if (f.elementType === p || "object" == typeof p && null !== p && p.$$typeof === I && fr(p) === f.type) {
n(r, f.sibling), (a = i(f, o.props)).ref = ur(r, f, o), a.return = r, r = a;
break e;
}
n(r, f);
break;
}
t(r, f), f = f.sibling;
}
o.type === c ? ((a = Ps(o.props.children, r.mode, u, o.key)).return = r, r = a) : ((u = _s(o.type, o.key, o.props, null, r.mode, u)).ref = ur(r, a, o), 
u.return = r, r = u);
}
return d(r);

case l:
e: {
for (f = o.key; null !== a; ) {
if (a.key === f) {
if (4 === a.tag && a.stateNode.containerInfo === o.containerInfo && a.stateNode.implementation === o.implementation) {
n(r, a.sibling), (a = i(a, o.children || [])).return = r, r = a;
break e;
}
n(r, a);
break;
}
t(r, a), a = a.sibling;
}
(a = Es(o, r.mode, u)).return = r, r = a;
}
return d(r);

case I:
return e(r, a, (f = o._init)(o._payload), u);
}
if (w(o)) return v(r, a, o, u);
if (_(o)) return b(r, a, o, u);
pr(r, o);
}
return "string" == typeof o && "" !== o || "number" == typeof o ? (o = "" + o, null !== a && 6 === a.tag ? (n(r, a.sibling), 
(a = i(a, o)).return = r, r = a) : (n(r, a), (a = Ts(o, r.mode, u)).return = r, 
r = a), d(r)) : n(r, a);
};
}
var yr = mr(!0), hr = mr(!1), gr = {}, Ir = st(gr), vr = st(gr), br = st(gr);
function _r(e) {
if (e === gr) throw Error(a(174));
return e;
}
function Pr(e, t) {
ct(br, t), ct(vr, e), ct(Ir, gr), e = R(t), lt(Ir), ct(Ir, e);
}
function Sr() {
lt(Ir), lt(vr), lt(br);
}
function Tr(e) {
var t = _r(br.current), n = _r(Ir.current);
n !== (t = x(n, e.type, t)) && (ct(vr, e), ct(Ir, t));
}
function Er(e) {
vr.current === e && (lt(Ir), lt(vr));
}
var kr = st(0);
function Nr(e) {
for (var t = e; null !== t; ) {
if (13 === t.tag) {
var n = t.memoizedState;
if (null !== n && (null === (n = n.dehydrated) || De(n) || Me(n))) return t;
} else if (19 === t.tag && void 0 !== t.memoizedProps.revealOrder) {
if (0 != (128 & t.flags)) return t;
} else if (null !== t.child) {
t.child.return = t, t = t.child;
continue;
}
if (t === e) break;
for (;null === t.sibling; ) {
if (null === t.return || t.return === e) return null;
t = t.return;
}
t.sibling.return = t.return, t = t.sibling;
}
return null;
}
var Cr = [];
function Or() {
for (var e = 0; e < Cr.length; e++) {
var t = Cr[e];
W ? t._workInProgressVersionPrimary = null : t._workInProgressVersionSecondary = null;
}
Cr.length = 0;
}
var Ar = o.ReactCurrentDispatcher, wr = o.ReactCurrentBatchConfig, Lr = 0, Rr = null, xr = null, Br = null, Dr = !1, Mr = !1, Fr = 0, Ur = 0;
function Hr() {
throw Error(a(321));
}
function Vr(e, t) {
if (null === t) return !1;
for (var n = 0; n < t.length && n < e.length; n++) if (!Xt(e[n], t[n])) return !1;
return !0;
}
function Jr(e, t, n, r, i, o) {
if (Lr = o, Rr = t, t.memoizedState = null, t.updateQueue = null, t.lanes = 0, Ar.current = null === e || null === e.memoizedState ? Ei : ki, 
e = n(r, i), Mr) {
o = 0;
do {
if (Mr = !1, Fr = 0, 25 <= o) throw Error(a(301));
o += 1, Br = xr = null, t.updateQueue = null, Ar.current = Ni, e = n(r, i);
} while (Mr);
}
if (Ar.current = Ti, t = null !== xr && null !== xr.next, Lr = 0, Br = xr = Rr = null, 
Dr = !1, t) throw Error(a(300));
return e;
}
function zr() {
var e = 0 !== Fr;
return Fr = 0, e;
}
function Gr() {
var e = {
memoizedState: null,
baseState: null,
baseQueue: null,
queue: null,
next: null
};
return null === Br ? Rr.memoizedState = Br = e : Br = Br.next = e, Br;
}
function jr() {
if (null === xr) {
var e = Rr.alternate;
e = null !== e ? e.memoizedState : null;
} else e = xr.next;
var t = null === Br ? Rr.memoizedState : Br.next;
if (null !== t) Br = t, xr = e; else {
if (null === e) throw Error(a(310));
e = {
memoizedState: (xr = e).memoizedState,
baseState: xr.baseState,
baseQueue: xr.baseQueue,
queue: xr.queue,
next: null
}, null === Br ? Rr.memoizedState = Br = e : Br = Br.next = e;
}
return Br;
}
function qr(e, t) {
return "function" == typeof t ? t(e) : t;
}
function Wr(e) {
var t = jr(), n = t.queue;
if (null === n) throw Error(a(311));
n.lastRenderedReducer = e;
var r = xr, i = r.baseQueue, o = n.pending;
if (null !== o) {
if (null !== i) {
var s = i.next;
i.next = o.next, o.next = s;
}
r.baseQueue = i = o, n.pending = null;
}
if (null !== i) {
o = i.next, r = r.baseState;
var l = s = null, c = null, d = o;
do {
var u = d.lane;
if ((Lr & u) === u) null !== c && (c = c.next = {
lane: 0,
action: d.action,
hasEagerState: d.hasEagerState,
eagerState: d.eagerState,
next: null
}), r = d.hasEagerState ? d.eagerState : e(r, d.action); else {
var p = {
lane: u,
action: d.action,
hasEagerState: d.hasEagerState,
eagerState: d.eagerState,
next: null
};
null === c ? (l = c = p, s = r) : c = c.next = p, Rr.lanes |= u, vo |= u;
}
d = d.next;
} while (null !== d && d !== o);
null === c ? s = r : c.next = l, Xt(r, t.memoizedState) || (Fi = !0), t.memoizedState = r, 
t.baseState = s, t.baseQueue = c, n.lastRenderedState = r;
}
if (null !== (e = n.interleaved)) {
i = e;
do {
o = i.lane, Rr.lanes |= o, vo |= o, i = i.next;
} while (i !== e);
} else null === i && (n.lanes = 0);
return [ t.memoizedState, n.dispatch ];
}
function Yr(e) {
var t = jr(), n = t.queue;
if (null === n) throw Error(a(311));
n.lastRenderedReducer = e;
var r = n.dispatch, i = n.pending, o = t.memoizedState;
if (null !== i) {
n.pending = null;
var s = i = i.next;
do {
o = e(o, s.action), s = s.next;
} while (s !== i);
Xt(o, t.memoizedState) || (Fi = !0), t.memoizedState = o, null === t.baseQueue && (t.baseState = o), 
n.lastRenderedState = o;
}
return [ o, r ];
}
function Kr() {}
function Xr(e, t) {
var n = Rr, r = jr(), i = t(), o = !Xt(r.memoizedState, i);
if (o && (r.memoizedState = i, Fi = !0), r = r.queue, li(Zr.bind(null, n, r, e), [ e ]), 
r.getSnapshot !== t || o || null !== Br && 1 & Br.memoizedState.tag) {
if (n.flags |= 2048, ri(9, $r.bind(null, n, r, i, t), void 0, null), null === po) throw Error(a(349));
0 != (30 & Lr) || Qr(n, t, i);
}
return i;
}
function Qr(e, t, n) {
e.flags |= 16384, e = {
getSnapshot: t,
value: n
}, null === (t = Rr.updateQueue) ? (t = {
lastEffect: null,
stores: null
}, Rr.updateQueue = t, t.stores = [ e ]) : null === (n = t.stores) ? t.stores = [ e ] : n.push(e);
}
function $r(e, t, n, r) {
t.value = n, t.getSnapshot = r, ei(t) && ti(e);
}
function Zr(e, t, n) {
return n((function() {
ei(t) && ti(e);
}));
}
function ei(e) {
var t = e.getSnapshot;
e = e.value;
try {
var n = t();
return !Xt(e, n);
} catch (e) {
return !0;
}
}
function ti(e) {
var t = Yn(e, 1);
null !== t && Vo(t, e, 1, -1);
}
function ni(e) {
var t = Gr();
return "function" == typeof e && (e = e()), t.memoizedState = t.baseState = e, e = {
pending: null,
interleaved: null,
lanes: 0,
dispatch: null,
lastRenderedReducer: qr,
lastRenderedState: e
}, t.queue = e, e = e.dispatch = bi.bind(null, Rr, e), [ t.memoizedState, e ];
}
function ri(e, t, n, r) {
return e = {
tag: e,
create: t,
destroy: n,
deps: r,
next: null
}, null === (t = Rr.updateQueue) ? (t = {
lastEffect: null,
stores: null
}, Rr.updateQueue = t, t.lastEffect = e.next = e) : null === (n = t.lastEffect) ? t.lastEffect = e.next = e : (r = n.next, 
n.next = e, e.next = r, t.lastEffect = e), e;
}
function ii() {
return jr().memoizedState;
}
function ai(e, t, n, r) {
var i = Gr();
Rr.flags |= e, i.memoizedState = ri(1 | t, n, void 0, void 0 === r ? null : r);
}
function oi(e, t, n, r) {
var i = jr();
r = void 0 === r ? null : r;
var a = void 0;
if (null !== xr) {
var o = xr.memoizedState;
if (a = o.destroy, null !== r && Vr(r, o.deps)) return void (i.memoizedState = ri(t, n, a, r));
}
Rr.flags |= e, i.memoizedState = ri(1 | t, n, a, r);
}
function si(e, t) {
return ai(8390656, 8, e, t);
}
function li(e, t) {
return oi(2048, 8, e, t);
}
function ci(e, t) {
return oi(4, 2, e, t);
}
function di(e, t) {
return oi(4, 4, e, t);
}
function ui(e, t) {
return "function" == typeof t ? (e = e(), t(e), function() {
t(null);
}) : null != t ? (e = e(), t.current = e, function() {
t.current = null;
}) : void 0;
}
function pi(e, t, n) {
return n = null != n ? n.concat([ e ]) : null, oi(4, 4, ui.bind(null, t, e), n);
}
function fi() {}
function mi(e, t) {
var n = jr();
t = void 0 === t ? null : t;
var r = n.memoizedState;
return null !== r && null !== t && Vr(t, r[1]) ? r[0] : (n.memoizedState = [ e, t ], 
e);
}
function yi(e, t) {
var n = jr();
t = void 0 === t ? null : t;
var r = n.memoizedState;
return null !== r && null !== t && Vr(t, r[1]) ? r[0] : (e = e(), n.memoizedState = [ e, t ], 
e);
}
function hi(e, t, n) {
return 0 == (21 & Lr) ? (e.baseState && (e.baseState = !1, Fi = !0), e.memoizedState = n) : (Xt(n, t) || (n = wt(), 
Rr.lanes |= n, vo |= n, e.baseState = !0), t);
}
function gi(e, t) {
var n = Dt;
Dt = 0 !== n && 4 > n ? n : 4, e(!0);
var r = wr.transition;
wr.transition = {};
try {
e(!1), t();
} finally {
Dt = n, wr.transition = r;
}
}
function Ii() {
return jr().memoizedState;
}
function vi(e, t, n) {
var r = Ho(e);
if (n = {
lane: r,
action: n,
hasEagerState: !1,
eagerState: null,
next: null
}, _i(e)) Pi(t, n); else if (null !== (n = Wn(e, t, n, r))) {
Vo(n, e, r, Uo()), Si(n, t, r);
}
}
function bi(e, t, n) {
var r = Ho(e), i = {
lane: r,
action: n,
hasEagerState: !1,
eagerState: null,
next: null
};
if (_i(e)) Pi(t, i); else {
var a = e.alternate;
if (0 === e.lanes && (null === a || 0 === a.lanes) && null !== (a = t.lastRenderedReducer)) try {
var o = t.lastRenderedState, s = a(o, n);
if (i.hasEagerState = !0, i.eagerState = s, Xt(s, o)) {
var l = t.interleaved;
return null === l ? (i.next = i, qn(t)) : (i.next = l.next, l.next = i), void (t.interleaved = i);
}
} catch (e) {}
null !== (n = Wn(e, t, i, r)) && (Vo(n, e, r, i = Uo()), Si(n, t, r));
}
}
function _i(e) {
var t = e.alternate;
return e === Rr || null !== t && t === Rr;
}
function Pi(e, t) {
Mr = Dr = !0;
var n = e.pending;
null === n ? t.next = t : (t.next = n.next, n.next = t), e.pending = t;
}
function Si(e, t, n) {
if (0 != (4194240 & n)) {
var r = t.lanes;
n |= r &= e.pendingLanes, t.lanes = n, Bt(e, n);
}
}
var Ti = {
readContext: Gn,
useCallback: Hr,
useContext: Hr,
useEffect: Hr,
useImperativeHandle: Hr,
useInsertionEffect: Hr,
useLayoutEffect: Hr,
useMemo: Hr,
useReducer: Hr,
useRef: Hr,
useState: Hr,
useDebugValue: Hr,
useDeferredValue: Hr,
useTransition: Hr,
useMutableSource: Hr,
useSyncExternalStore: Hr,
useId: Hr,
unstable_isNewReconciler: !1
}, Ei = {
readContext: Gn,
useCallback: function(e, t) {
return Gr().memoizedState = [ e, void 0 === t ? null : t ], e;
},
useContext: Gn,
useEffect: si,
useImperativeHandle: function(e, t, n) {
return n = null != n ? n.concat([ e ]) : null, ai(4194308, 4, ui.bind(null, t, e), n);
},
useLayoutEffect: function(e, t) {
return ai(4194308, 4, e, t);
},
useInsertionEffect: function(e, t) {
return ai(4, 2, e, t);
},
useMemo: function(e, t) {
var n = Gr();
return t = void 0 === t ? null : t, e = e(), n.memoizedState = [ e, t ], e;
},
useReducer: function(e, t, n) {
var r = Gr();
return t = void 0 !== n ? n(t) : t, r.memoizedState = r.baseState = t, e = {
pending: null,
interleaved: null,
lanes: 0,
dispatch: null,
lastRenderedReducer: e,
lastRenderedState: t
}, r.queue = e, e = e.dispatch = vi.bind(null, Rr, e), [ r.memoizedState, e ];
},
useRef: function(e) {
return e = {
current: e
}, Gr().memoizedState = e;
},
useState: ni,
useDebugValue: fi,
useDeferredValue: function(e) {
return Gr().memoizedState = e;
},
useTransition: function() {
var e = ni(!1), t = e[0];
return e = gi.bind(null, e[1]), Gr().memoizedState = e, [ t, e ];
},
useMutableSource: function() {},
useSyncExternalStore: function(e, t, n) {
var r = Rr, i = Gr();
if (vn) {
if (void 0 === n) throw Error(a(407));
n = n();
} else {
if (n = t(), null === po) throw Error(a(349));
0 != (30 & Lr) || Qr(r, t, n);
}
i.memoizedState = n;
var o = {
value: n,
getSnapshot: t
};
return i.queue = o, si(Zr.bind(null, r, o, e), [ e ]), r.flags |= 2048, ri(9, $r.bind(null, r, o, n, t), void 0, null), 
n;
},
useId: function() {
var e = Gr(), t = po.identifierPrefix;
if (vn) {
var n = pn;
t = ":" + t + "R" + (n = (un & ~(1 << 32 - _t(un) - 1)).toString(32) + n), 0 < (n = Fr++) && (t += "H" + n.toString(32)), 
t += ":";
} else t = ":" + t + "r" + (n = Ur++).toString(32) + ":";
return e.memoizedState = t;
},
unstable_isNewReconciler: !1
}, ki = {
readContext: Gn,
useCallback: mi,
useContext: Gn,
useEffect: li,
useImperativeHandle: pi,
useInsertionEffect: ci,
useLayoutEffect: di,
useMemo: yi,
useReducer: Wr,
useRef: ii,
useState: function() {
return Wr(qr);
},
useDebugValue: fi,
useDeferredValue: function(e) {
return hi(jr(), xr.memoizedState, e);
},
useTransition: function() {
return [ Wr(qr)[0], jr().memoizedState ];
},
useMutableSource: Kr,
useSyncExternalStore: Xr,
useId: Ii,
unstable_isNewReconciler: !1
}, Ni = {
readContext: Gn,
useCallback: mi,
useContext: Gn,
useEffect: li,
useImperativeHandle: pi,
useInsertionEffect: ci,
useLayoutEffect: di,
useMemo: yi,
useReducer: Yr,
useRef: ii,
useState: function() {
return Yr(qr);
},
useDebugValue: fi,
useDeferredValue: function(e) {
var t = jr();
return null === xr ? t.memoizedState = e : hi(t, xr.memoizedState, e);
},
useTransition: function() {
return [ Yr(qr)[0], jr().memoizedState ];
},
useMutableSource: Kr,
useSyncExternalStore: Xr,
useId: Ii,
unstable_isNewReconciler: !1
};
function Ci(e, t) {
try {
var n = "", r = t;
do {
n += Rn(r), r = r.return;
} while (r);
var i = n;
} catch (e) {
i = "\nError generating stack: " + e.message + "\n" + e.stack;
}
return {
value: e,
source: t,
stack: i,
digest: null
};
}
function Oi(e, t, n) {
return {
value: e,
source: null,
stack: null != n ? n : null,
digest: null != t ? t : null
};
}
function Ai(e, t) {
try {
console.error(t.value);
} catch (e) {
setTimeout((function() {
throw e;
}));
}
}
var wi = "function" == typeof WeakMap ? WeakMap : Map;
function Li(e, t, n) {
(n = $n(-1, n)).tag = 3, n.payload = {
element: null
};
var r = t.value;
return n.callback = function() {
Oo || (Oo = !0, Ao = r), Ai(0, t);
}, n;
}
function Ri(e, t, n) {
(n = $n(-1, n)).tag = 3;
var r = e.type.getDerivedStateFromError;
if ("function" == typeof r) {
var i = t.value;
n.payload = function() {
return r(i);
}, n.callback = function() {
Ai(0, t);
};
}
var a = e.stateNode;
return null !== a && "function" == typeof a.componentDidCatch && (n.callback = function() {
Ai(0, t), "function" != typeof r && (null === wo ? wo = new Set([ this ]) : wo.add(this));
var e = t.stack;
this.componentDidCatch(t.value, {
componentStack: null !== e ? e : ""
});
}), n;
}
function xi(e, t, n) {
var r = e.pingCache;
if (null === r) {
r = e.pingCache = new wi;
var i = new Set;
r.set(t, i);
} else void 0 === (i = r.get(t)) && (i = new Set, r.set(t, i));
i.has(n) || (i.add(n), e = us.bind(null, e, t, n), t.then(e, e));
}
function Bi(e) {
do {
var t;
if ((t = 13 === e.tag) && (t = null === (t = e.memoizedState) || null !== t.dehydrated), 
t) return e;
e = e.return;
} while (null !== e);
return null;
}
function Di(e, t, n, r, i) {
return 0 == (1 & e.mode) ? (e === t ? e.flags |= 65536 : (e.flags |= 128, n.flags |= 131072, 
n.flags &= -52805, 1 === n.tag && (null === n.alternate ? n.tag = 17 : ((t = $n(-1, 1)).tag = 2, 
Zn(n, t, 1))), n.lanes |= 1), e) : (e.flags |= 65536, e.lanes = i, e);
}
var Mi = o.ReactCurrentOwner, Fi = !1;
function Ui(e, t, n, r) {
t.child = null === e ? hr(t, null, n, r) : yr(t, e.child, n, r);
}
function Hi(e, t, n, r, i) {
n = n.render;
var a = t.ref;
return zn(t, i), r = Jr(e, t, n, r, a, i), n = zr(), null === e || Fi ? (vn && n && yn(t), 
t.flags |= 1, Ui(e, t, r, i), t.child) : (t.updateQueue = e.updateQueue, t.flags &= -2053, 
e.lanes &= ~i, da(e, t, i));
}
function Vi(e, t, n, r, i) {
if (null === e) {
var a = n.type;
return "function" != typeof a || Is(a) || void 0 !== a.defaultProps || null !== n.compare || void 0 !== n.defaultProps ? ((e = _s(n.type, null, r, t, t.mode, i)).ref = t.ref, 
e.return = t, t.child = e) : (t.tag = 15, t.type = a, Ji(e, t, a, r, i));
}
if (a = e.child, 0 == (e.lanes & i)) {
var o = a.memoizedProps;
if ((n = null !== (n = n.compare) ? n : Ln)(o, r) && e.ref === t.ref) return da(e, t, i);
}
return t.flags |= 1, (e = bs(a, r)).ref = t.ref, e.return = t, t.child = e;
}
function Ji(e, t, n, r, i) {
if (null !== e) {
var a = e.memoizedProps;
if (Ln(a, r) && e.ref === t.ref) {
if (Fi = !1, t.pendingProps = r = a, 0 == (e.lanes & i)) return t.lanes = e.lanes, 
da(e, t, i);
0 != (131072 & e.flags) && (Fi = !0);
}
}
return ji(e, t, n, r, i);
}
function zi(e, t, n) {
var r = t.pendingProps, i = r.children, a = null !== e ? e.memoizedState : null;
if ("hidden" === r.mode) if (0 == (1 & t.mode)) t.memoizedState = {
baseLanes: 0,
cachePool: null,
transitions: null
}, ct(ho, yo), yo |= n; else {
if (0 == (1073741824 & n)) return e = null !== a ? a.baseLanes | n : n, t.lanes = t.childLanes = 1073741824, 
t.memoizedState = {
baseLanes: e,
cachePool: null,
transitions: null
}, t.updateQueue = null, ct(ho, yo), yo |= e, null;
t.memoizedState = {
baseLanes: 0,
cachePool: null,
transitions: null
}, r = null !== a ? a.baseLanes : n, ct(ho, yo), yo |= r;
} else null !== a ? (r = a.baseLanes | n, t.memoizedState = null) : r = n, ct(ho, yo), 
yo |= r;
return Ui(e, t, i, n), t.child;
}
function Gi(e, t) {
var n = t.ref;
(null === e && null !== n || null !== e && e.ref !== n) && (t.flags |= 512, t.flags |= 2097152);
}
function ji(e, t, n, r, i) {
var a = yt(n) ? ft : ut.current;
return a = mt(t, a), zn(t, i), n = Jr(e, t, n, r, a, i), r = zr(), null === e || Fi ? (vn && r && yn(t), 
t.flags |= 1, Ui(e, t, n, i), t.child) : (t.updateQueue = e.updateQueue, t.flags &= -2053, 
e.lanes &= ~i, da(e, t, i));
}
function qi(e, t, n, r, i) {
if (yt(n)) {
var a = !0;
vt(t);
} else a = !1;
if (zn(t, i), null === t.stateNode) ca(e, t), lr(t, n, r), dr(t, n, r, i), r = !0; else if (null === e) {
var o = t.stateNode, s = t.memoizedProps;
o.props = s;
var l = o.context, c = n.contextType;
"object" == typeof c && null !== c ? c = Gn(c) : c = mt(t, c = yt(n) ? ft : ut.current);
var d = n.getDerivedStateFromProps, u = "function" == typeof d || "function" == typeof o.getSnapshotBeforeUpdate;
u || "function" != typeof o.UNSAFE_componentWillReceiveProps && "function" != typeof o.componentWillReceiveProps || (s !== r || l !== c) && cr(t, o, r, c), 
Kn = !1;
var p = t.memoizedState;
o.state = p, nr(t, r, o, i), l = t.memoizedState, s !== r || p !== l || pt.current || Kn ? ("function" == typeof d && (ar(t, n, d, r), 
l = t.memoizedState), (s = Kn || sr(t, n, s, r, p, l, c)) ? (u || "function" != typeof o.UNSAFE_componentWillMount && "function" != typeof o.componentWillMount || ("function" == typeof o.componentWillMount && o.componentWillMount(), 
"function" == typeof o.UNSAFE_componentWillMount && o.UNSAFE_componentWillMount()), 
"function" == typeof o.componentDidMount && (t.flags |= 4194308)) : ("function" == typeof o.componentDidMount && (t.flags |= 4194308), 
t.memoizedProps = r, t.memoizedState = l), o.props = r, o.state = l, o.context = c, 
r = s) : ("function" == typeof o.componentDidMount && (t.flags |= 4194308), r = !1);
} else {
o = t.stateNode, Qn(e, t), s = t.memoizedProps, c = t.type === t.elementType ? s : xn(t.type, s), 
o.props = c, u = t.pendingProps, p = o.context, "object" == typeof (l = n.contextType) && null !== l ? l = Gn(l) : l = mt(t, l = yt(n) ? ft : ut.current);
var f = n.getDerivedStateFromProps;
(d = "function" == typeof f || "function" == typeof o.getSnapshotBeforeUpdate) || "function" != typeof o.UNSAFE_componentWillReceiveProps && "function" != typeof o.componentWillReceiveProps || (s !== u || p !== l) && cr(t, o, r, l), 
Kn = !1, p = t.memoizedState, o.state = p, nr(t, r, o, i);
var m = t.memoizedState;
s !== u || p !== m || pt.current || Kn ? ("function" == typeof f && (ar(t, n, f, r), 
m = t.memoizedState), (c = Kn || sr(t, n, c, r, p, m, l) || !1) ? (d || "function" != typeof o.UNSAFE_componentWillUpdate && "function" != typeof o.componentWillUpdate || ("function" == typeof o.componentWillUpdate && o.componentWillUpdate(r, m, l), 
"function" == typeof o.UNSAFE_componentWillUpdate && o.UNSAFE_componentWillUpdate(r, m, l)), 
"function" == typeof o.componentDidUpdate && (t.flags |= 4), "function" == typeof o.getSnapshotBeforeUpdate && (t.flags |= 1024)) : ("function" != typeof o.componentDidUpdate || s === e.memoizedProps && p === e.memoizedState || (t.flags |= 4), 
"function" != typeof o.getSnapshotBeforeUpdate || s === e.memoizedProps && p === e.memoizedState || (t.flags |= 1024), 
t.memoizedProps = r, t.memoizedState = m), o.props = r, o.state = m, o.context = l, 
r = c) : ("function" != typeof o.componentDidUpdate || s === e.memoizedProps && p === e.memoizedState || (t.flags |= 4), 
"function" != typeof o.getSnapshotBeforeUpdate || s === e.memoizedProps && p === e.memoizedState || (t.flags |= 1024), 
r = !1);
}
return Wi(e, t, n, r, a, i);
}
function Wi(e, t, n, r, i, a) {
Gi(e, t);
var o = 0 != (128 & t.flags);
if (!r && !o) return i && bt(t, n, !1), da(e, t, a);
r = t.stateNode, Mi.current = t;
var s = o && "function" != typeof n.getDerivedStateFromError ? null : r.render();
return t.flags |= 1, null !== e && o ? (t.child = yr(t, e.child, null, a), t.child = yr(t, null, s, a)) : Ui(e, t, s, a), 
t.memoizedState = r.state, i && bt(t, n, !0), t.child;
}
function Yi(e) {
var t = e.stateNode;
t.pendingContext ? gt(0, t.pendingContext, t.pendingContext !== t.context) : t.context && gt(0, t.context, !1), 
Pr(e, t.containerInfo);
}
function Ki(e, t, n, r, i) {
return On(), An(i), t.flags |= 256, Ui(e, t, n, r), t.child;
}
var Xi, Qi, $i, Zi, ea = {
dehydrated: null,
treeContext: null,
retryLane: 0
};
function ta(e) {
return {
baseLanes: e,
cachePool: null,
transitions: null
};
}
function na(e, t, n) {
var r, i = t.pendingProps, a = kr.current, o = !1, s = 0 != (128 & t.flags);
if ((r = s) || (r = (null === e || null !== e.memoizedState) && 0 != (2 & a)), r ? (o = !0, 
t.flags &= -129) : null !== e && null === e.memoizedState || (a |= 1), ct(kr, 1 & a), 
null === e) return En(t), null !== (e = t.memoizedState) && null !== (e = e.dehydrated) ? (0 == (1 & t.mode) ? t.lanes = 1 : Me(e) ? t.lanes = 8 : t.lanes = 1073741824, 
null) : (s = i.children, e = i.fallback, o ? (i = t.mode, o = t.child, s = {
mode: "hidden",
children: s
}, 0 == (1 & i) && null !== o ? (o.childLanes = 0, o.pendingProps = s) : o = Ss(s, i, 0, null), 
e = Ps(e, i, n, null), o.return = t, e.return = t, o.sibling = e, t.child = o, t.child.memoizedState = ta(n), 
t.memoizedState = ea, e) : ra(t, s));
if (null !== (a = e.memoizedState) && null !== (r = a.dehydrated)) return aa(e, t, s, i, r, a, n);
if (o) {
o = i.fallback, s = t.mode, r = (a = e.child).sibling;
var l = {
mode: "hidden",
children: i.children
};
return 0 == (1 & s) && t.child !== a ? ((i = t.child).childLanes = 0, i.pendingProps = l, 
t.deletions = null) : (i = bs(a, l)).subtreeFlags = 14680064 & a.subtreeFlags, null !== r ? o = bs(r, o) : (o = Ps(o, s, n, null)).flags |= 2, 
o.return = t, i.return = t, i.sibling = o, t.child = i, i = o, o = t.child, s = null === (s = e.child.memoizedState) ? ta(n) : {
baseLanes: s.baseLanes | n,
cachePool: null,
transitions: s.transitions
}, o.memoizedState = s, o.childLanes = e.childLanes & ~n, t.memoizedState = ea, 
i;
}
return e = (o = e.child).sibling, i = bs(o, {
mode: "visible",
children: i.children
}), 0 == (1 & t.mode) && (i.lanes = n), i.return = t, i.sibling = null, null !== e && (null === (n = t.deletions) ? (t.deletions = [ e ], 
t.flags |= 16) : n.push(e)), t.child = i, t.memoizedState = null, i;
}
function ra(e, t) {
return (t = Ss({
mode: "visible",
children: t
}, e.mode, 0, null)).return = e, e.child = t;
}
function ia(e, t, n, r) {
return null !== r && An(r), yr(t, e.child, null, n), (e = ra(t, t.pendingProps.children)).flags |= 2, 
t.memoizedState = null, e;
}
function aa(e, t, n, r, i, o, s) {
if (n) return 256 & t.flags ? (t.flags &= -257, ia(e, t, s, r = Oi(Error(a(422))))) : null !== t.memoizedState ? (t.child = e.child, 
t.flags |= 128, null) : (o = r.fallback, i = t.mode, r = Ss({
mode: "visible",
children: r.children
}, i, 0, null), (o = Ps(o, i, s, null)).flags |= 2, r.return = t, o.return = t, 
r.sibling = o, t.child = r, 0 != (1 & t.mode) && yr(t, e.child, null, s), t.child.memoizedState = ta(s), 
t.memoizedState = ea, o);
if (0 == (1 & t.mode)) return ia(e, t, s, null);
if (Me(i)) return r = Fe(i).digest, ia(e, t, s, r = Oi(o = Error(a(419)), r, void 0));
if (n = 0 != (s & e.childLanes), Fi || n) {
if (null !== (r = po)) {
switch (s & -s) {
case 4:
i = 2;
break;

case 16:
i = 8;
break;

case 64:
case 128:
case 256:
case 512:
case 1024:
case 2048:
case 4096:
case 8192:
case 16384:
case 32768:
case 65536:
case 131072:
case 262144:
case 524288:
case 1048576:
case 2097152:
case 4194304:
case 8388608:
case 16777216:
case 33554432:
case 67108864:
i = 32;
break;

case 536870912:
i = 268435456;
break;

default:
i = 0;
}
0 !== (i = 0 != (i & (r.suspendedLanes | s)) ? 0 : i) && i !== o.retryLane && (o.retryLane = i, 
Yn(e, i), Vo(r, e, i, -1));
}
return es(), ia(e, t, s, r = Oi(Error(a(421))));
}
return De(i) ? (t.flags |= 128, t.child = e.child, t = fs.bind(null, e), Ue(i, t), 
null) : (e = o.treeContext, X && (In = ze(i), gn = t, vn = !0, _n = null, bn = !1, 
null !== e && (ln[cn++] = un, ln[cn++] = pn, ln[cn++] = dn, un = e.id, pn = e.overflow, 
dn = t)), (t = ra(t, r.children)).flags |= 4096, t);
}
function oa(e, t, n) {
e.lanes |= t;
var r = e.alternate;
null !== r && (r.lanes |= t), Jn(e.return, t, n);
}
function sa(e, t, n, r, i) {
var a = e.memoizedState;
null === a ? e.memoizedState = {
isBackwards: t,
rendering: null,
renderingStartTime: 0,
last: r,
tail: n,
tailMode: i
} : (a.isBackwards = t, a.rendering = null, a.renderingStartTime = 0, a.last = r, 
a.tail = n, a.tailMode = i);
}
function la(e, t, n) {
var r = t.pendingProps, i = r.revealOrder, a = r.tail;
if (Ui(e, t, r.children, n), 0 != (2 & (r = kr.current))) r = 1 & r | 2, t.flags |= 128; else {
if (null !== e && 0 != (128 & e.flags)) e: for (e = t.child; null !== e; ) {
if (13 === e.tag) null !== e.memoizedState && oa(e, n, t); else if (19 === e.tag) oa(e, n, t); else if (null !== e.child) {
e.child.return = e, e = e.child;
continue;
}
if (e === t) break e;
for (;null === e.sibling; ) {
if (null === e.return || e.return === t) break e;
e = e.return;
}
e.sibling.return = e.return, e = e.sibling;
}
r &= 1;
}
if (ct(kr, r), 0 == (1 & t.mode)) t.memoizedState = null; else switch (i) {
case "forwards":
for (n = t.child, i = null; null !== n; ) null !== (e = n.alternate) && null === Nr(e) && (i = n), 
n = n.sibling;
null === (n = i) ? (i = t.child, t.child = null) : (i = n.sibling, n.sibling = null), 
sa(t, !1, i, n, a);
break;

case "backwards":
for (n = null, i = t.child, t.child = null; null !== i; ) {
if (null !== (e = i.alternate) && null === Nr(e)) {
t.child = i;
break;
}
e = i.sibling, i.sibling = n, n = i, i = e;
}
sa(t, !0, n, null, a);
break;

case "together":
sa(t, !1, null, null, void 0);
break;

default:
t.memoizedState = null;
}
return t.child;
}
function ca(e, t) {
0 == (1 & t.mode) && null !== e && (e.alternate = null, t.alternate = null, t.flags |= 2);
}
function da(e, t, n) {
if (null !== e && (t.dependencies = e.dependencies), vo |= t.lanes, 0 == (n & t.childLanes)) return null;
if (null !== e && t.child !== e.child) throw Error(a(153));
if (null !== t.child) {
for (n = bs(e = t.child, e.pendingProps), t.child = n, n.return = t; null !== e.sibling; ) e = e.sibling, 
(n = n.sibling = bs(e, e.pendingProps)).return = t;
n.sibling = null;
}
return t.child;
}
function ua(e, t, n) {
switch (t.tag) {
case 3:
Yi(t), On();
break;

case 5:
Tr(t);
break;

case 1:
yt(t.type) && vt(t);
break;

case 4:
Pr(t, t.stateNode.containerInfo);
break;

case 10:
Hn(0, t.type._context, t.memoizedProps.value);
break;

case 13:
var r = t.memoizedState;
if (null !== r) return null !== r.dehydrated ? (ct(kr, 1 & kr.current), t.flags |= 128, 
null) : 0 != (n & t.child.childLanes) ? na(e, t, n) : (ct(kr, 1 & kr.current), null !== (e = da(e, t, n)) ? e.sibling : null);
ct(kr, 1 & kr.current);
break;

case 19:
if (r = 0 != (n & t.childLanes), 0 != (128 & e.flags)) {
if (r) return la(e, t, n);
t.flags |= 128;
}
var i = t.memoizedState;
if (null !== i && (i.rendering = null, i.tail = null, i.lastEffect = null), ct(kr, kr.current), 
r) break;
return null;

case 22:
case 23:
return t.lanes = 0, zi(e, t, n);
}
return da(e, t, n);
}
function pa(e) {
e.flags |= 4;
}
function fa(e, t) {
if (null !== e && e.child === t.child) return !0;
if (0 != (16 & t.flags)) return !1;
for (e = t.child; null !== e; ) {
if (0 != (12854 & e.flags) || 0 != (12854 & e.subtreeFlags)) return !1;
e = e.sibling;
}
return !0;
}
if (Y) Xi = function(e, t) {
for (var n = t.child; null !== n; ) {
if (5 === n.tag || 6 === n.tag) F(e, n.stateNode); else if (4 !== n.tag && null !== n.child) {
n.child.return = n, n = n.child;
continue;
}
if (n === t) break;
for (;null === n.sibling; ) {
if (null === n.return || n.return === t) return;
n = n.return;
}
n.sibling.return = n.return, n = n.sibling;
}
}, Qi = function() {}, $i = function(e, t, n, r, i) {
if ((e = e.memoizedProps) !== r) {
var a = t.stateNode, o = _r(Ir.current);
n = V(a, n, e, r, i, o), (t.updateQueue = n) && pa(t);
}
}, Zi = function(e, t, n, r) {
n !== r && pa(t);
}; else if (K) {
Xi = function(e, t, n, r) {
for (var i = t.child; null !== i; ) {
if (5 === i.tag) {
var a = i.stateNode;
n && r && (a = we(a, i.type, i.memoizedProps, i)), F(e, a);
} else if (6 === i.tag) a = i.stateNode, n && r && (a = Le(a, i.memoizedProps, i)), 
F(e, a); else if (4 !== i.tag) if (22 === i.tag && null !== i.memoizedState) null !== (a = i.child) && (a.return = i), 
Xi(e, i, !0, !0); else if (null !== i.child) {
i.child.return = i, i = i.child;
continue;
}
if (i === t) break;
for (;null === i.sibling; ) {
if (null === i.return || i.return === t) return;
i = i.return;
}
i.sibling.return = i.return, i = i.sibling;
}
};
var ma = function(e, t, n, r) {
for (var i = t.child; null !== i; ) {
if (5 === i.tag) {
var a = i.stateNode;
n && r && (a = we(a, i.type, i.memoizedProps, i)), Ce(e, a);
} else if (6 === i.tag) a = i.stateNode, n && r && (a = Le(a, i.memoizedProps, i)), 
Ce(e, a); else if (4 !== i.tag) if (22 === i.tag && null !== i.memoizedState) null !== (a = i.child) && (a.return = i), 
ma(e, i, !0, !0); else if (null !== i.child) {
i.child.return = i, i = i.child;
continue;
}
if (i === t) break;
for (;null === i.sibling; ) {
if (null === i.return || i.return === t) return;
i = i.return;
}
i.sibling.return = i.return, i = i.sibling;
}
};
Qi = function(e, t) {
var n = t.stateNode;
if (!fa(e, t)) {
e = n.containerInfo;
var r = Ne(e);
ma(r, t, !1, !1), n.pendingChildren = r, pa(t), Oe(e, r);
}
}, $i = function(e, t, n, r, i) {
var a = e.stateNode, o = e.memoizedProps;
if ((e = fa(e, t)) && o === r) t.stateNode = a; else {
var s = t.stateNode, l = _r(Ir.current), c = null;
o !== r && (c = V(s, n, o, r, i, l)), e && null === c ? t.stateNode = a : (a = ke(a, c, n, o, r, t, e, s), 
U(a, n, r, i, l) && pa(t), t.stateNode = a, e ? pa(t) : Xi(a, t, !1, !1));
}
}, Zi = function(e, t, n, r) {
n !== r ? (e = _r(br.current), n = _r(Ir.current), t.stateNode = z(r, e, n, t), 
pa(t)) : t.stateNode = e.stateNode;
};
} else Qi = function() {}, $i = function() {}, Zi = function() {};
function ya(e, t) {
if (!vn) switch (e.tailMode) {
case "hidden":
t = e.tail;
for (var n = null; null !== t; ) null !== t.alternate && (n = t), t = t.sibling;
null === n ? e.tail = null : n.sibling = null;
break;

case "collapsed":
n = e.tail;
for (var r = null; null !== n; ) null !== n.alternate && (r = n), n = n.sibling;
null === r ? t || null === e.tail ? e.tail = null : e.tail.sibling = null : r.sibling = null;
}
}
function ha(e) {
var t = null !== e.alternate && e.alternate.child === e.child, n = 0, r = 0;
if (t) for (var i = e.child; null !== i; ) n |= i.lanes | i.childLanes, r |= 14680064 & i.subtreeFlags, 
r |= 14680064 & i.flags, i.return = e, i = i.sibling; else for (i = e.child; null !== i; ) n |= i.lanes | i.childLanes, 
r |= i.subtreeFlags, r |= i.flags, i.return = e, i = i.sibling;
return e.subtreeFlags |= r, e.childLanes = n, t;
}
function ga(e, t, n) {
var r = t.pendingProps;
switch (hn(t), t.tag) {
case 2:
case 16:
case 15:
case 0:
case 11:
case 7:
case 8:
case 12:
case 9:
case 14:
return ha(t), null;

case 1:
case 17:
return yt(t.type) && ht(), ha(t), null;

case 3:
return n = t.stateNode, Sr(), lt(pt), lt(ut), Or(), n.pendingContext && (n.context = n.pendingContext, 
n.pendingContext = null), null !== e && null !== e.child || (Nn(t) ? pa(t) : null === e || e.memoizedState.isDehydrated && 0 == (256 & t.flags) || (t.flags |= 1024, 
null !== _n && (jo(_n), _n = null))), Qi(e, t), ha(t), null;

case 5:
Er(t), n = _r(br.current);
var i = t.type;
if (null !== e && null != t.stateNode) $i(e, t, i, r, n), e.ref !== t.ref && (t.flags |= 512, 
t.flags |= 2097152); else {
if (!r) {
if (null === t.stateNode) throw Error(a(166));
return ha(t), null;
}
if (e = _r(Ir.current), Nn(t)) {
if (!X) throw Error(a(175));
e = Ge(t.stateNode, t.type, t.memoizedProps, n, e, t, !bn), t.updateQueue = e, null !== e && pa(t);
} else {
var o = M(i, r, n, e, t);
Xi(o, t, !1, !1), t.stateNode = o, U(o, i, r, n, e) && pa(t);
}
null !== t.ref && (t.flags |= 512, t.flags |= 2097152);
}
return ha(t), null;

case 6:
if (e && null != t.stateNode) Zi(e, t, e.memoizedProps, r); else {
if ("string" != typeof r && null === t.stateNode) throw Error(a(166));
if (e = _r(br.current), n = _r(Ir.current), Nn(t)) {
if (!X) throw Error(a(176));
if (e = t.stateNode, n = t.memoizedProps, (r = je(e, n, t, !bn)) && null !== (i = gn)) switch (i.tag) {
case 3:
Ze(i.stateNode.containerInfo, e, n, 0 != (1 & i.mode));
break;

case 5:
et(i.type, i.memoizedProps, i.stateNode, e, n, 0 != (1 & i.mode));
}
r && pa(t);
} else t.stateNode = z(r, e, n, t);
}
return ha(t), null;

case 13:
if (lt(kr), r = t.memoizedState, null === e || null !== e.memoizedState && null !== e.memoizedState.dehydrated) {
if (vn && null !== In && 0 != (1 & t.mode) && 0 == (128 & t.flags)) Cn(), On(), 
t.flags |= 98560, i = !1; else if (i = Nn(t), null !== r && null !== r.dehydrated) {
if (null === e) {
if (!i) throw Error(a(318));
if (!X) throw Error(a(344));
if (!(i = null !== (i = t.memoizedState) ? i.dehydrated : null)) throw Error(a(317));
qe(i, t);
} else On(), 0 == (128 & t.flags) && (t.memoizedState = null), t.flags |= 4;
ha(t), i = !1;
} else null !== _n && (jo(_n), _n = null), i = !0;
if (!i) return 65536 & t.flags ? t : null;
}
return 0 != (128 & t.flags) ? (t.lanes = n, t) : ((n = null !== r) !== (null !== e && null !== e.memoizedState) && n && (t.child.flags |= 8192, 
0 != (1 & t.mode) && (null === e || 0 != (1 & kr.current) ? 0 === go && (go = 3) : es())), 
null !== t.updateQueue && (t.flags |= 4), ha(t), null);

case 4:
return Sr(), Qi(e, t), null === e && $(t.stateNode.containerInfo), ha(t), null;

case 10:
return Vn(t.type._context), ha(t), null;

case 19:
if (lt(kr), null === (i = t.memoizedState)) return ha(t), null;
if (r = 0 != (128 & t.flags), null === (o = i.rendering)) if (r) ya(i, !1); else {
if (0 !== go || null !== e && 0 != (128 & e.flags)) for (e = t.child; null !== e; ) {
if (null !== (o = Nr(e))) {
for (t.flags |= 128, ya(i, !1), null !== (e = o.updateQueue) && (t.updateQueue = e, 
t.flags |= 4), t.subtreeFlags = 0, e = n, n = t.child; null !== n; ) i = e, (r = n).flags &= 14680066, 
null === (o = r.alternate) ? (r.childLanes = 0, r.lanes = i, r.child = null, r.subtreeFlags = 0, 
r.memoizedProps = null, r.memoizedState = null, r.updateQueue = null, r.dependencies = null, 
r.stateNode = null) : (r.childLanes = o.childLanes, r.lanes = o.lanes, r.child = o.child, 
r.subtreeFlags = 0, r.deletions = null, r.memoizedProps = o.memoizedProps, r.memoizedState = o.memoizedState, 
r.updateQueue = o.updateQueue, r.type = o.type, i = o.dependencies, r.dependencies = null === i ? null : {
lanes: i.lanes,
firstContext: i.firstContext
}), n = n.sibling;
return ct(kr, 1 & kr.current | 2), t.child;
}
e = e.sibling;
}
null !== i.tail && Jt() > Eo && (t.flags |= 128, r = !0, ya(i, !1), t.lanes = 4194304);
} else {
if (!r) if (null !== (e = Nr(o))) {
if (t.flags |= 128, r = !0, null !== (e = e.updateQueue) && (t.updateQueue = e, 
t.flags |= 4), ya(i, !0), null === i.tail && "hidden" === i.tailMode && !o.alternate && !vn) return ha(t), 
null;
} else 2 * Jt() - i.renderingStartTime > Eo && 1073741824 !== n && (t.flags |= 128, 
r = !0, ya(i, !1), t.lanes = 4194304);
i.isBackwards ? (o.sibling = t.child, t.child = o) : (null !== (e = i.last) ? e.sibling = o : t.child = o, 
i.last = o);
}
return null !== i.tail ? (t = i.tail, i.rendering = t, i.tail = t.sibling, i.renderingStartTime = Jt(), 
t.sibling = null, e = kr.current, ct(kr, r ? 1 & e | 2 : 1 & e), t) : (ha(t), null);

case 22:
case 23:
return Xo(), n = null !== t.memoizedState, null !== e && null !== e.memoizedState !== n && (t.flags |= 8192), 
n && 0 != (1 & t.mode) ? 0 != (1073741824 & yo) && (ha(t), Y && 6 & t.subtreeFlags && (t.flags |= 8192)) : ha(t), 
null;

case 24:
case 25:
return null;
}
throw Error(a(156, t.tag));
}
function Ia(e, t) {
switch (hn(t), t.tag) {
case 1:
return yt(t.type) && ht(), 65536 & (e = t.flags) ? (t.flags = -65537 & e | 128, 
t) : null;

case 3:
return Sr(), lt(pt), lt(ut), Or(), 0 != (65536 & (e = t.flags)) && 0 == (128 & e) ? (t.flags = -65537 & e | 128, 
t) : null;

case 5:
return Er(t), null;

case 13:
if (lt(kr), null !== (e = t.memoizedState) && null !== e.dehydrated) {
if (null === t.alternate) throw Error(a(340));
On();
}
return 65536 & (e = t.flags) ? (t.flags = -65537 & e | 128, t) : null;

case 19:
return lt(kr), null;

case 4:
return Sr(), null;

case 10:
return Vn(t.type._context), null;

case 22:
case 23:
return Xo(), null;

default:
return null;
}
}
var va = !1, ba = !1, _a = "function" == typeof WeakSet ? WeakSet : Set, Pa = null;
function Sa(e, t) {
var n = e.ref;
if (null !== n) if ("function" == typeof n) try {
n(null);
} catch (n) {
ds(e, t, n);
} else n.current = null;
}
function Ta(e, t, n) {
try {
n();
} catch (n) {
ds(e, t, n);
}
}
var Ea = !1;
function ka(e, t) {
for (B(e.containerInfo), Pa = t; null !== Pa; ) if (t = (e = Pa).child, 0 != (1028 & e.subtreeFlags) && null !== t) t.return = e, 
Pa = t; else for (;null !== Pa; ) {
e = Pa;
try {
var n = e.alternate;
if (0 != (1024 & e.flags)) switch (e.tag) {
case 0:
case 11:
case 15:
case 5:
case 6:
case 4:
case 17:
break;

case 1:
if (null !== n) {
var r = n.memoizedProps, i = n.memoizedState, o = e.stateNode, s = o.getSnapshotBeforeUpdate(e.elementType === e.type ? r : xn(e.type, r), i);
o.__reactInternalSnapshotBeforeUpdate = s;
}
break;

case 3:
Y && Ee(e.stateNode.containerInfo);
break;

default:
throw Error(a(163));
}
} catch (t) {
ds(e, e.return, t);
}
if (null !== (t = e.sibling)) {
t.return = e.return, Pa = t;
break;
}
Pa = e.return;
}
return n = Ea, Ea = !1, n;
}
function Na(e, t, n) {
var r = t.updateQueue;
if (null !== (r = null !== r ? r.lastEffect : null)) {
var i = r = r.next;
do {
if ((i.tag & e) === e) {
var a = i.destroy;
i.destroy = void 0, void 0 !== a && Ta(t, n, a);
}
i = i.next;
} while (i !== r);
}
}
function Ca(e, t) {
if (null !== (t = null !== (t = t.updateQueue) ? t.lastEffect : null)) {
var n = t = t.next;
do {
if ((n.tag & e) === e) {
var r = n.create;
n.destroy = r();
}
n = n.next;
} while (n !== t);
}
}
function Oa(e) {
var t = e.ref;
if (null !== t) {
var n = e.stateNode;
if (5 === e.tag) e = L(n); else e = n;
"function" == typeof t ? t(e) : t.current = e;
}
}
function Aa(e) {
var t = e.alternate;
null !== t && (e.alternate = null, Aa(t)), e.child = null, e.deletions = null, e.sibling = null, 
5 === e.tag && (null !== (t = e.stateNode) && ee(t)), e.stateNode = null, e.return = null, 
e.dependencies = null, e.memoizedProps = null, e.memoizedState = null, e.pendingProps = null, 
e.stateNode = null, e.updateQueue = null;
}
function wa(e) {
return 5 === e.tag || 3 === e.tag || 4 === e.tag;
}
function La(e) {
e: for (;;) {
for (;null === e.sibling; ) {
if (null === e.return || wa(e.return)) return null;
e = e.return;
}
for (e.sibling.return = e.return, e = e.sibling; 5 !== e.tag && 6 !== e.tag && 18 !== e.tag; ) {
if (2 & e.flags) continue e;
if (null === e.child || 4 === e.tag) continue e;
e.child.return = e, e = e.child;
}
if (!(2 & e.flags)) return e.stateNode;
}
}
function Ra(e, t, n) {
var r = e.tag;
if (5 === r || 6 === r) e = e.stateNode, t ? ge(n, e, t) : pe(n, e); else if (4 !== r && null !== (e = e.child)) for (Ra(e, t, n), 
e = e.sibling; null !== e; ) Ra(e, t, n), e = e.sibling;
}
function xa(e, t, n) {
var r = e.tag;
if (5 === r || 6 === r) e = e.stateNode, t ? he(n, e, t) : ue(n, e); else if (4 !== r && null !== (e = e.child)) for (xa(e, t, n), 
e = e.sibling; null !== e; ) xa(e, t, n), e = e.sibling;
}
var Ba = null, Da = !1;
function Ma(e, t, n) {
for (n = n.child; null !== n; ) Fa(e, t, n), n = n.sibling;
}
function Fa(e, t, n) {
if (Yt && "function" == typeof Yt.onCommitFiberUnmount) try {
Yt.onCommitFiberUnmount(Wt, n);
} catch (e) {}
switch (n.tag) {
case 5:
ba || Sa(n, t);

case 6:
if (Y) {
var r = Ba, i = Da;
Ba = null, Ma(e, t, n), Da = i, null !== (Ba = r) && (Da ? ve(Ba, n.stateNode) : Ie(Ba, n.stateNode));
} else Ma(e, t, n);
break;

case 18:
Y && null !== Ba && (Da ? Qe(Ba, n.stateNode) : Xe(Ba, n.stateNode));
break;

case 4:
Y ? (r = Ba, i = Da, Ba = n.stateNode.containerInfo, Da = !0, Ma(e, t, n), Ba = r, 
Da = i) : (K && (r = n.stateNode.containerInfo, i = Ne(r), Ae(r, i)), Ma(e, t, n));
break;

case 0:
case 11:
case 14:
case 15:
if (!ba && (null !== (r = n.updateQueue) && null !== (r = r.lastEffect))) {
i = r = r.next;
do {
var a = i, o = a.destroy;
a = a.tag, void 0 !== o && (0 != (2 & a) || 0 != (4 & a)) && Ta(n, t, o), i = i.next;
} while (i !== r);
}
Ma(e, t, n);
break;

case 1:
if (!ba && (Sa(n, t), "function" == typeof (r = n.stateNode).componentWillUnmount)) try {
r.props = n.memoizedProps, r.state = n.memoizedState, r.componentWillUnmount();
} catch (e) {
ds(n, t, e);
}
Ma(e, t, n);
break;

case 21:
Ma(e, t, n);
break;

case 22:
1 & n.mode ? (ba = (r = ba) || null !== n.memoizedState, Ma(e, t, n), ba = r) : Ma(e, t, n);
break;

default:
Ma(e, t, n);
}
}
function Ua(e) {
var t = e.updateQueue;
if (null !== t) {
e.updateQueue = null;
var n = e.stateNode;
null === n && (n = e.stateNode = new _a), t.forEach((function(t) {
var r = ms.bind(null, e, t);
n.has(t) || (n.add(t), t.then(r, r));
}));
}
}
function Ha(e, t) {
var n = t.deletions;
if (null !== n) for (var r = 0; r < n.length; r++) {
var i = n[r];
try {
var o = e, s = t;
if (Y) {
var l = s;
e: for (;null !== l; ) {
switch (l.tag) {
case 5:
Ba = l.stateNode, Da = !1;
break e;

case 3:
case 4:
Ba = l.stateNode.containerInfo, Da = !0;
break e;
}
l = l.return;
}
if (null === Ba) throw Error(a(160));
Fa(o, s, i), Ba = null, Da = !1;
} else Fa(o, s, i);
var c = i.alternate;
null !== c && (c.return = null), i.return = null;
} catch (e) {
ds(i, t, e);
}
}
if (12854 & t.subtreeFlags) for (t = t.child; null !== t; ) Va(t, e), t = t.sibling;
}
function Va(e, t) {
var n = e.alternate, r = e.flags;
switch (e.tag) {
case 0:
case 11:
case 14:
case 15:
if (Ha(t, e), Ja(e), 4 & r) {
try {
Na(3, e, e.return), Ca(3, e);
} catch (t) {
ds(e, e.return, t);
}
try {
Na(5, e, e.return);
} catch (t) {
ds(e, e.return, t);
}
}
break;

case 1:
Ha(t, e), Ja(e), 512 & r && null !== n && Sa(n, n.return);
break;

case 5:
if (Ha(t, e), Ja(e), 512 & r && null !== n && Sa(n, n.return), Y) {
if (32 & e.flags) {
var i = e.stateNode;
try {
be(i);
} catch (t) {
ds(e, e.return, t);
}
}
if (4 & r && null != (i = e.stateNode)) {
var o = e.memoizedProps;
if (n = null !== n ? n.memoizedProps : o, r = e.type, t = e.updateQueue, e.updateQueue = null, 
null !== t) try {
ye(i, t, r, n, o, e);
} catch (t) {
ds(e, e.return, t);
}
}
}
break;

case 6:
if (Ha(t, e), Ja(e), 4 & r && Y) {
if (null === e.stateNode) throw Error(a(162));
i = e.stateNode, o = e.memoizedProps, n = null !== n ? n.memoizedProps : o;
try {
fe(i, n, o);
} catch (t) {
ds(e, e.return, t);
}
}
break;

case 3:
if (Ha(t, e), Ja(e), 4 & r) {
if (Y && X && null !== n && n.memoizedState.isDehydrated) try {
Ye(t.containerInfo);
} catch (t) {
ds(e, e.return, t);
}
if (K) {
i = t.containerInfo, o = t.pendingChildren;
try {
Ae(i, o);
} catch (t) {
ds(e, e.return, t);
}
}
}
break;

case 4:
if (Ha(t, e), Ja(e), 4 & r && K) {
i = (o = e.stateNode).containerInfo, o = o.pendingChildren;
try {
Ae(i, o);
} catch (t) {
ds(e, e.return, t);
}
}
break;

case 13:
Ha(t, e), Ja(e), 8192 & (i = e.child).flags && (o = null !== i.memoizedState, i.stateNode.isHidden = o, 
!o || null !== i.alternate && null !== i.alternate.memoizedState || (To = Jt())), 
4 & r && Ua(e);
break;

case 22:
var s = null !== n && null !== n.memoizedState;
if (1 & e.mode ? (ba = (n = ba) || s, Ha(t, e), ba = n) : Ha(t, e), Ja(e), 8192 & r) {
if (n = null !== e.memoizedState, (e.stateNode.isHidden = n) && !s && 0 != (1 & e.mode)) for (Pa = e, 
r = e.child; null !== r; ) {
for (t = Pa = r; null !== Pa; ) {
var l = (s = Pa).child;
switch (s.tag) {
case 0:
case 11:
case 14:
case 15:
Na(4, s, s.return);
break;

case 1:
Sa(s, s.return);
var c = s.stateNode;
if ("function" == typeof c.componentWillUnmount) {
var d = s, u = s.return;
try {
var p = d;
c.props = p.memoizedProps, c.state = p.memoizedState, c.componentWillUnmount();
} catch (e) {
ds(d, u, e);
}
}
break;

case 5:
Sa(s, s.return);
break;

case 22:
if (null !== s.memoizedState) {
qa(t);
continue;
}
}
null !== l ? (l.return = s, Pa = l) : qa(t);
}
r = r.sibling;
}
if (Y) e: if (r = null, Y) for (t = e; ;) {
if (5 === t.tag) {
if (null === r) {
r = t;
try {
i = t.stateNode, n ? _e(i) : Se(t.stateNode, t.memoizedProps);
} catch (t) {
ds(e, e.return, t);
}
}
} else if (6 === t.tag) {
if (null === r) try {
o = t.stateNode, n ? Pe(o) : Te(o, t.memoizedProps);
} catch (t) {
ds(e, e.return, t);
}
} else if ((22 !== t.tag && 23 !== t.tag || null === t.memoizedState || t === e) && null !== t.child) {
t.child.return = t, t = t.child;
continue;
}
if (t === e) break e;
for (;null === t.sibling; ) {
if (null === t.return || t.return === e) break e;
r === t && (r = null), t = t.return;
}
r === t && (r = null), t.sibling.return = t.return, t = t.sibling;
}
}
break;

case 19:
Ha(t, e), Ja(e), 4 & r && Ua(e);
break;

case 21:
break;

default:
Ha(t, e), Ja(e);
}
}
function Ja(e) {
var t = e.flags;
if (2 & t) {
try {
if (Y) {
e: {
for (var n = e.return; null !== n; ) {
if (wa(n)) {
var r = n;
break e;
}
n = n.return;
}
throw Error(a(160));
}
switch (r.tag) {
case 5:
var i = r.stateNode;
32 & r.flags && (be(i), r.flags &= -33), xa(e, La(e), i);
break;

case 3:
case 4:
var o = r.stateNode.containerInfo;
Ra(e, La(e), o);
break;

default:
throw Error(a(161));
}
}
} catch (t) {
ds(e, e.return, t);
}
e.flags &= -3;
}
4096 & t && (e.flags &= -4097);
}
function za(e, t, n) {
Pa = e, Ga(e);
}
function Ga(e, t, n) {
for (var r = 0 != (1 & e.mode); null !== Pa; ) {
var i = Pa, a = i.child;
if (22 === i.tag && r) {
var o = null !== i.memoizedState || va;
if (!o) {
var s = i.alternate, l = null !== s && null !== s.memoizedState || ba;
s = va;
var c = ba;
if (va = o, (ba = l) && !c) for (Pa = i; null !== Pa; ) l = (o = Pa).child, 22 === o.tag && null !== o.memoizedState ? Wa(i) : null !== l ? (l.return = o, 
Pa = l) : Wa(i);
for (;null !== a; ) Pa = a, Ga(a), a = a.sibling;
Pa = i, va = s, ba = c;
}
ja(e);
} else 0 != (8772 & i.subtreeFlags) && null !== a ? (a.return = i, Pa = a) : ja(e);
}
}
function ja(e) {
for (;null !== Pa; ) {
var t = Pa;
if (0 != (8772 & t.flags)) {
var n = t.alternate;
try {
if (0 != (8772 & t.flags)) switch (t.tag) {
case 0:
case 11:
case 15:
ba || Ca(5, t);
break;

case 1:
var r = t.stateNode;
if (4 & t.flags && !ba) if (null === n) r.componentDidMount(); else {
var i = t.elementType === t.type ? n.memoizedProps : xn(t.type, n.memoizedProps);
r.componentDidUpdate(i, n.memoizedState, r.__reactInternalSnapshotBeforeUpdate);
}
var o = t.updateQueue;
null !== o && rr(t, o, r);
break;

case 3:
var s = t.updateQueue;
if (null !== s) {
if (n = null, null !== t.child) switch (t.child.tag) {
case 5:
n = L(t.child.stateNode);
break;

case 1:
n = t.child.stateNode;
}
rr(t, s, n);
}
break;

case 5:
var l = t.stateNode;
null === n && 4 & t.flags && me(l, t.type, t.memoizedProps, t);
break;

case 6:
case 4:
case 12:
case 19:
case 17:
case 21:
case 22:
case 23:
case 25:
break;

case 13:
if (X && null === t.memoizedState) {
var c = t.alternate;
if (null !== c) {
var d = c.memoizedState;
if (null !== d) {
var u = d.dehydrated;
null !== u && Ke(u);
}
}
}
break;

default:
throw Error(a(163));
}
ba || 512 & t.flags && Oa(t);
} catch (e) {
ds(t, t.return, e);
}
}
if (t === e) {
Pa = null;
break;
}
if (null !== (n = t.sibling)) {
n.return = t.return, Pa = n;
break;
}
Pa = t.return;
}
}
function qa(e) {
for (;null !== Pa; ) {
var t = Pa;
if (t === e) {
Pa = null;
break;
}
var n = t.sibling;
if (null !== n) {
n.return = t.return, Pa = n;
break;
}
Pa = t.return;
}
}
function Wa(e) {
for (;null !== Pa; ) {
var t = Pa;
try {
switch (t.tag) {
case 0:
case 11:
case 15:
var n = t.return;
try {
Ca(4, t);
} catch (e) {
ds(t, n, e);
}
break;

case 1:
var r = t.stateNode;
if ("function" == typeof r.componentDidMount) {
var i = t.return;
try {
r.componentDidMount();
} catch (e) {
ds(t, i, e);
}
}
var a = t.return;
try {
Oa(t);
} catch (e) {
ds(t, a, e);
}
break;

case 5:
var o = t.return;
try {
Oa(t);
} catch (e) {
ds(t, o, e);
}
}
} catch (e) {
ds(t, t.return, e);
}
if (t === e) {
Pa = null;
break;
}
var s = t.sibling;
if (null !== s) {
s.return = t.return, Pa = s;
break;
}
Pa = t.return;
}
}
var Ka = 0, Xa = 1, Qa = 2, $a = 3, Za = 4;
if ("function" == typeof Symbol && Symbol.for) {
var eo = Symbol.for;
Ka = eo("selector.component"), Xa = eo("selector.has_pseudo_class"), Qa = eo("selector.role"), 
$a = eo("selector.test_id"), Za = eo("selector.text");
}
function to(e) {
var t = Q(e);
if (null != t) {
if ("string" != typeof t.memoizedProps["data-testname"]) throw Error(a(364));
return t;
}
if (null === (e = ie(e))) throw Error(a(362));
return e.stateNode.current;
}
function no(e, t) {
switch (t.$$typeof) {
case Ka:
if (e.type === t.value) return !0;
break;

case Xa:
e: {
t = t.value, e = [ e, 0 ];
for (var n = 0; n < e.length; ) {
var r = e[n++], i = e[n++], o = t[i];
if (5 !== r.tag || !se(r)) {
for (;null != o && no(r, o); ) o = t[++i];
if (i === t.length) {
t = !0;
break e;
}
for (r = r.child; null !== r; ) e.push(r, i), r = r.sibling;
}
}
t = !1;
}
return t;

case Qa:
if (5 === e.tag && le(e.stateNode, t.value)) return !0;
break;

case Za:
if ((5 === e.tag || 6 === e.tag) && (null !== (e = oe(e)) && 0 <= e.indexOf(t.value))) return !0;
break;

case $a:
if (5 === e.tag && ("string" == typeof (e = e.memoizedProps["data-testname"]) && e.toLowerCase() === t.value.toLowerCase())) return !0;
break;

default:
throw Error(a(365));
}
return !1;
}
function ro(e) {
switch (e.$$typeof) {
case Ka:
return "<" + (P(e.value) || "Unknown") + ">";

case Xa:
return ":has(" + (ro(e) || "") + ")";

case Qa:
return '[role="' + e.value + '"]';

case Za:
return '"' + e.value + '"';

case $a:
return '[data-testname="' + e.value + '"]';

default:
throw Error(a(365));
}
}
function io(e, t) {
var n = [];
e = [ e, 0 ];
for (var r = 0; r < e.length; ) {
var i = e[r++], a = e[r++], o = t[a];
if (5 !== i.tag || !se(i)) {
for (;null != o && no(i, o); ) o = t[++a];
if (a === t.length) n.push(i); else for (i = i.child; null !== i; ) e.push(i, a), 
i = i.sibling;
}
}
return n;
}
function ao(e, t) {
if (!re) throw Error(a(363));
e = io(e = to(e), t), t = [], e = Array.from(e);
for (var n = 0; n < e.length; ) {
var r = e[n++];
if (5 === r.tag) se(r) || t.push(r.stateNode); else for (r = r.child; null !== r; ) e.push(r), 
r = r.sibling;
}
return t;
}
var oo = Math.ceil, so = o.ReactCurrentDispatcher, lo = o.ReactCurrentOwner, co = o.ReactCurrentBatchConfig, uo = 0, po = null, fo = null, mo = 0, yo = 0, ho = st(0), go = 0, Io = null, vo = 0, bo = 0, _o = 0, Po = null, So = null, To = 0, Eo = 1 / 0, ko = null;
function No() {
Eo = Jt() + 500;
}
var Co, Oo = !1, Ao = null, wo = null, Lo = !1, Ro = null, xo = 0, Bo = 0, Do = null, Mo = -1, Fo = 0;
function Uo() {
return 0 != (6 & uo) ? Jt() : -1 !== Mo ? Mo : Mo = Jt();
}
function Ho(e) {
return 0 == (1 & e.mode) ? 1 : 0 != (2 & uo) && 0 !== mo ? mo & -mo : null !== wn.transition ? (0 === Fo && (Fo = wt()), 
Fo) : 0 !== (e = Dt) ? e : Z();
}
function Vo(e, t, n, r) {
if (50 < Bo) throw Bo = 0, Do = null, Error(a(185));
Rt(e, n, r), 0 != (2 & uo) && e === po || (e === po && (0 == (2 & uo) && (bo |= n), 
4 === go && Wo(e, mo)), Jo(e, r), 1 === n && 0 === uo && 0 == (1 & t.mode) && (No(), 
$t && nn()));
}
function Jo(e, t) {
var n = e.callbackNode;
Ot(e, t);
var r = Nt(e, e === po ? mo : 0);
if (0 === r) null !== n && Ut(n), e.callbackNode = null, e.callbackPriority = 0; else if (t = r & -r, 
e.callbackPriority !== t) {
if (null != n && Ut(n), 1 === t) 0 === e.tag ? tn(Yo.bind(null, e)) : en(Yo.bind(null, e)), 
te ? ne((function() {
0 == (6 & uo) && nn();
})) : Ft(zt, nn), n = null; else {
switch (Mt(r)) {
case 1:
n = zt;
break;

case 4:
n = Gt;
break;

case 16:
default:
n = jt;
break;

case 536870912:
n = qt;
}
n = ys(n, zo.bind(null, e));
}
e.callbackPriority = t, e.callbackNode = n;
}
}
function zo(e, t) {
if (Mo = -1, Fo = 0, 0 != (6 & uo)) throw Error(a(327));
var n = e.callbackNode;
if (ls() && e.callbackNode !== n) return null;
var r = Nt(e, e === po ? mo : 0);
if (0 === r) return null;
if (0 != (30 & r) || 0 != (r & e.expiredLanes) || t) t = ts(e, r); else {
t = r;
var i = uo;
uo |= 2;
var o = Zo();
for (po === e && mo === t || (ko = null, No(), Qo(e, t)); ;) try {
rs();
break;
} catch (t) {
$o(e, t);
}
Un(), so.current = o, uo = i, null !== fo ? t = 0 : (po = null, mo = 0, t = go);
}
if (0 !== t) {
if (2 === t && (0 !== (i = At(e)) && (r = i, t = Go(e, i))), 1 === t) throw n = Io, 
Qo(e, 0), Wo(e, r), Jo(e, Jt()), n;
if (6 === t) Wo(e, r); else {
if (i = e.current.alternate, 0 == (30 & r) && !qo(i) && (2 === (t = ts(e, r)) && (0 !== (o = At(e)) && (r = o, 
t = Go(e, o))), 1 === t)) throw n = Io, Qo(e, 0), Wo(e, r), Jo(e, Jt()), n;
switch (e.finishedWork = i, e.finishedLanes = r, t) {
case 0:
case 1:
throw Error(a(345));

case 2:
case 5:
os(e, So, ko);
break;

case 3:
if (Wo(e, r), (130023424 & r) === r && 10 < (t = To + 500 - Jt())) {
if (0 !== Nt(e, 0)) break;
if (((i = e.suspendedLanes) & r) !== r) {
Uo(), e.pingedLanes |= e.suspendedLanes & i;
break;
}
e.timeoutHandle = G(os.bind(null, e, So, ko), t);
break;
}
os(e, So, ko);
break;

case 4:
if (Wo(e, r), (4194240 & r) === r) break;
for (t = e.eventTimes, i = -1; 0 < r; ) {
var s = 31 - _t(r);
o = 1 << s, (s = t[s]) > i && (i = s), r &= ~o;
}
if (r = i, 10 < (r = (120 > (r = Jt() - r) ? 120 : 480 > r ? 480 : 1080 > r ? 1080 : 1920 > r ? 1920 : 3e3 > r ? 3e3 : 4320 > r ? 4320 : 1960 * oo(r / 1960)) - r)) {
e.timeoutHandle = G(os.bind(null, e, So, ko), r);
break;
}
os(e, So, ko);
break;

default:
throw Error(a(329));
}
}
}
return Jo(e, Jt()), e.callbackNode === n ? zo.bind(null, e) : null;
}
function Go(e, t) {
var n = Po;
return e.current.memoizedState.isDehydrated && (Qo(e, t).flags |= 256), 2 !== (e = ts(e, t)) && (t = So, 
So = n, null !== t && jo(t)), e;
}
function jo(e) {
null === So ? So = e : So.push.apply(So, e);
}
function qo(e) {
for (var t = e; ;) {
if (16384 & t.flags) {
var n = t.updateQueue;
if (null !== n && null !== (n = n.stores)) for (var r = 0; r < n.length; r++) {
var i = n[r], a = i.getSnapshot;
i = i.value;
try {
if (!Xt(a(), i)) return !1;
} catch (e) {
return !1;
}
}
}
if (n = t.child, 16384 & t.subtreeFlags && null !== n) n.return = t, t = n; else {
if (t === e) break;
for (;null === t.sibling; ) {
if (null === t.return || t.return === e) return !0;
t = t.return;
}
t.sibling.return = t.return, t = t.sibling;
}
}
return !0;
}
function Wo(e, t) {
for (t &= ~_o, t &= ~bo, e.suspendedLanes |= t, e.pingedLanes &= ~t, e = e.expirationTimes; 0 < t; ) {
var n = 31 - _t(t), r = 1 << n;
e[n] = -1, t &= ~r;
}
}
function Yo(e) {
if (0 != (6 & uo)) throw Error(a(327));
ls();
var t = Nt(e, 0);
if (0 == (1 & t)) return Jo(e, Jt()), null;
var n = ts(e, t);
if (0 !== e.tag && 2 === n) {
var r = At(e);
0 !== r && (t = r, n = Go(e, r));
}
if (1 === n) throw n = Io, Qo(e, 0), Wo(e, t), Jo(e, Jt()), n;
if (6 === n) throw Error(a(345));
return e.finishedWork = e.current.alternate, e.finishedLanes = t, os(e, So, ko), 
Jo(e, Jt()), null;
}
function Ko(e) {
null !== Ro && 0 === Ro.tag && 0 == (6 & uo) && ls();
var t = uo;
uo |= 1;
var n = co.transition, r = Dt;
try {
if (co.transition = null, Dt = 1, e) return e();
} finally {
Dt = r, co.transition = n, 0 == (6 & (uo = t)) && nn();
}
}
function Xo() {
yo = ho.current, lt(ho);
}
function Qo(e, t) {
e.finishedWork = null, e.finishedLanes = 0;
var n = e.timeoutHandle;
if (n !== q && (e.timeoutHandle = q, j(n)), null !== fo) for (n = fo.return; null !== n; ) {
var r = n;
switch (hn(r), r.tag) {
case 1:
null != (r = r.type.childContextTypes) && ht();
break;

case 3:
Sr(), lt(pt), lt(ut), Or();
break;

case 5:
Er(r);
break;

case 4:
Sr();
break;

case 13:
case 19:
lt(kr);
break;

case 10:
Vn(r.type._context);
break;

case 22:
case 23:
Xo();
}
n = n.return;
}
if (po = e, fo = e = bs(e.current, null), mo = yo = t, go = 0, Io = null, _o = bo = vo = 0, 
So = Po = null, null !== jn) {
for (t = 0; t < jn.length; t++) if (null !== (r = (n = jn[t]).interleaved)) {
n.interleaved = null;
var i = r.next, a = n.pending;
if (null !== a) {
var o = a.next;
a.next = i, r.next = o;
}
n.pending = r;
}
jn = null;
}
return e;
}
function $o(e, t) {
for (;;) {
var n = fo;
try {
if (Un(), Ar.current = Ti, Dr) {
for (var r = Rr.memoizedState; null !== r; ) {
var i = r.queue;
null !== i && (i.pending = null), r = r.next;
}
Dr = !1;
}
if (Lr = 0, Br = xr = Rr = null, Mr = !1, Fr = 0, lo.current = null, null === n || null === n.return) {
go = 1, Io = t, fo = null;
break;
}
e: {
var o = e, s = n.return, l = n, c = t;
if (t = mo, l.flags |= 32768, null !== c && "object" == typeof c && "function" == typeof c.then) {
var d = c, u = l, p = u.tag;
if (0 == (1 & u.mode) && (0 === p || 11 === p || 15 === p)) {
var f = u.alternate;
f ? (u.updateQueue = f.updateQueue, u.memoizedState = f.memoizedState, u.lanes = f.lanes) : (u.updateQueue = null, 
u.memoizedState = null);
}
var m = Bi(s);
if (null !== m) {
m.flags &= -257, Di(m, s, l, 0, t), 1 & m.mode && xi(o, d, t), c = d;
var y = (t = m).updateQueue;
if (null === y) {
var h = new Set;
h.add(c), t.updateQueue = h;
} else y.add(c);
break e;
}
if (0 == (1 & t)) {
xi(o, d, t), es();
break e;
}
c = Error(a(426));
} else if (vn && 1 & l.mode) {
var g = Bi(s);
if (null !== g) {
0 == (65536 & g.flags) && (g.flags |= 256), Di(g, s, l, 0, t), An(Ci(c, l));
break e;
}
}
o = c = Ci(c, l), 4 !== go && (go = 2), null === Po ? Po = [ o ] : Po.push(o), o = s;
do {
switch (o.tag) {
case 3:
o.flags |= 65536, t &= -t, o.lanes |= t, tr(o, Li(0, c, t));
break e;

case 1:
l = c;
var I = o.type, v = o.stateNode;
if (0 == (128 & o.flags) && ("function" == typeof I.getDerivedStateFromError || null !== v && "function" == typeof v.componentDidCatch && (null === wo || !wo.has(v)))) {
o.flags |= 65536, t &= -t, o.lanes |= t, tr(o, Ri(o, l, t));
break e;
}
}
o = o.return;
} while (null !== o);
}
as(n);
} catch (e) {
t = e, fo === n && null !== n && (fo = n = n.return);
continue;
}
break;
}
}
function Zo() {
var e = so.current;
return so.current = Ti, null === e ? Ti : e;
}
function es() {
0 !== go && 3 !== go && 2 !== go || (go = 4), null === po || 0 == (268435455 & vo) && 0 == (268435455 & bo) || Wo(po, mo);
}
function ts(e, t) {
var n = uo;
uo |= 2;
var r = Zo();
for (po === e && mo === t || (ko = null, Qo(e, t)); ;) try {
ns();
break;
} catch (t) {
$o(e, t);
}
if (Un(), uo = n, so.current = r, null !== fo) throw Error(a(261));
return po = null, mo = 0, go;
}
function ns() {
for (;null !== fo; ) is(fo);
}
function rs() {
for (;null !== fo && !Ht(); ) is(fo);
}
function is(e) {
var t = Co(e.alternate, e, yo);
e.memoizedProps = e.pendingProps, null === t ? as(e) : fo = t, lo.current = null;
}
function as(e) {
var t = e;
do {
var n = t.alternate;
if (e = t.return, 0 == (32768 & t.flags)) {
if (null !== (n = ga(n, t, yo))) return void (fo = n);
} else {
if (null !== (n = Ia(n, t))) return n.flags &= 32767, void (fo = n);
if (null === e) return go = 6, void (fo = null);
e.flags |= 32768, e.subtreeFlags = 0, e.deletions = null;
}
if (null !== (t = t.sibling)) return void (fo = t);
fo = t = e;
} while (null !== t);
0 === go && (go = 5);
}
function os(e, t, n) {
var r = Dt, i = co.transition;
try {
co.transition = null, Dt = 1, ss(e, t, n, r);
} finally {
co.transition = i, Dt = r;
}
return null;
}
function ss(e, t, n, r) {
do {
ls();
} while (null !== Ro);
if (0 != (6 & uo)) throw Error(a(327));
n = e.finishedWork;
var i = e.finishedLanes;
if (null === n) return null;
if (e.finishedWork = null, e.finishedLanes = 0, n === e.current) throw Error(a(177));
e.callbackNode = null, e.callbackPriority = 0;
var o = n.lanes | n.childLanes;
if (xt(e, o), e === po && (fo = po = null, mo = 0), 0 == (2064 & n.subtreeFlags) && 0 == (2064 & n.flags) || Lo || (Lo = !0, 
ys(jt, (function() {
return ls(), null;
}))), o = 0 != (15990 & n.flags), 0 != (15990 & n.subtreeFlags) || o) {
o = co.transition, co.transition = null;
var s = Dt;
Dt = 1;
var l = uo;
uo |= 4, lo.current = null, ka(e, n), Va(n, e), D(e.containerInfo), e.current = n, 
za(n), Vt(), uo = l, Dt = s, co.transition = o;
} else e.current = n;
if (Lo && (Lo = !1, Ro = e, xo = i), 0 === (o = e.pendingLanes) && (wo = null), 
Kt(n.stateNode), Jo(e, Jt()), null !== t) for (r = e.onRecoverableError, n = 0; n < t.length; n++) r((i = t[n]).value, {
componentStack: i.stack,
digest: i.digest
});
if (Oo) throw Oo = !1, e = Ao, Ao = null, e;
return 0 != (1 & xo) && 0 !== e.tag && ls(), 0 != (1 & (o = e.pendingLanes)) ? e === Do ? Bo++ : (Bo = 0, 
Do = e) : Bo = 0, nn(), null;
}
function ls() {
if (null !== Ro) {
var e = Mt(xo), t = co.transition, n = Dt;
try {
if (co.transition = null, Dt = 16 > e ? 16 : e, null === Ro) var r = !1; else {
if (e = Ro, Ro = null, xo = 0, 0 != (6 & uo)) throw Error(a(331));
var i = uo;
for (uo |= 4, Pa = e.current; null !== Pa; ) {
var o = Pa, s = o.child;
if (0 != (16 & Pa.flags)) {
var l = o.deletions;
if (null !== l) {
for (var c = 0; c < l.length; c++) {
var d = l[c];
for (Pa = d; null !== Pa; ) {
var u = Pa;
switch (u.tag) {
case 0:
case 11:
case 15:
Na(8, u, o);
}
var p = u.child;
if (null !== p) p.return = u, Pa = p; else for (;null !== Pa; ) {
var f = (u = Pa).sibling, m = u.return;
if (Aa(u), u === d) {
Pa = null;
break;
}
if (null !== f) {
f.return = m, Pa = f;
break;
}
Pa = m;
}
}
}
var y = o.alternate;
if (null !== y) {
var h = y.child;
if (null !== h) {
y.child = null;
do {
var g = h.sibling;
h.sibling = null, h = g;
} while (null !== h);
}
}
Pa = o;
}
}
if (0 != (2064 & o.subtreeFlags) && null !== s) s.return = o, Pa = s; else e: for (;null !== Pa; ) {
if (0 != (2048 & (o = Pa).flags)) switch (o.tag) {
case 0:
case 11:
case 15:
Na(9, o, o.return);
}
var I = o.sibling;
if (null !== I) {
I.return = o.return, Pa = I;
break e;
}
Pa = o.return;
}
}
var v = e.current;
for (Pa = v; null !== Pa; ) {
var b = (s = Pa).child;
if (0 != (2064 & s.subtreeFlags) && null !== b) b.return = s, Pa = b; else e: for (s = v; null !== Pa; ) {
if (0 != (2048 & (l = Pa).flags)) try {
switch (l.tag) {
case 0:
case 11:
case 15:
Ca(9, l);
}
} catch (e) {
ds(l, l.return, e);
}
if (l === s) {
Pa = null;
break e;
}
var _ = l.sibling;
if (null !== _) {
_.return = l.return, Pa = _;
break e;
}
Pa = l.return;
}
}
if (uo = i, nn(), Yt && "function" == typeof Yt.onPostCommitFiberRoot) try {
Yt.onPostCommitFiberRoot(Wt, e);
} catch (e) {}
r = !0;
}
return r;
} finally {
Dt = n, co.transition = t;
}
}
return !1;
}
function cs(e, t, n) {
e = Zn(e, t = Li(0, t = Ci(n, t), 1), 1), t = Uo(), null !== e && (Rt(e, 1, t), 
Jo(e, t));
}
function ds(e, t, n) {
if (3 === e.tag) cs(e, e, n); else for (;null !== t; ) {
if (3 === t.tag) {
cs(t, e, n);
break;
}
if (1 === t.tag) {
var r = t.stateNode;
if ("function" == typeof t.type.getDerivedStateFromError || "function" == typeof r.componentDidCatch && (null === wo || !wo.has(r))) {
t = Zn(t, e = Ri(t, e = Ci(n, e), 1), 1), e = Uo(), null !== t && (Rt(t, 1, e), 
Jo(t, e));
break;
}
}
t = t.return;
}
}
function us(e, t, n) {
var r = e.pingCache;
null !== r && r.delete(t), t = Uo(), e.pingedLanes |= e.suspendedLanes & n, po === e && (mo & n) === n && (4 === go || 3 === go && (130023424 & mo) === mo && 500 > Jt() - To ? Qo(e, 0) : _o |= n), 
Jo(e, t);
}
function ps(e, t) {
0 === t && (0 == (1 & e.mode) ? t = 1 : (t = Et, 0 == (130023424 & (Et <<= 1)) && (Et = 4194304)));
var n = Uo();
null !== (e = Yn(e, t)) && (Rt(e, t, n), Jo(e, n));
}
function fs(e) {
var t = e.memoizedState, n = 0;
null !== t && (n = t.retryLane), ps(e, n);
}
function ms(e, t) {
var n = 0;
switch (e.tag) {
case 13:
var r = e.stateNode, i = e.memoizedState;
null !== i && (n = i.retryLane);
break;

case 19:
r = e.stateNode;
break;

default:
throw Error(a(314));
}
null !== r && r.delete(t), ps(e, n);
}
function ys(e, t) {
return Ft(e, t);
}
function hs(e, t, n, r) {
this.tag = e, this.key = n, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, 
this.index = 0, this.ref = null, this.pendingProps = t, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, 
this.mode = r, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, 
this.alternate = null;
}
function gs(e, t, n, r) {
return new hs(e, t, n, r);
}
function Is(e) {
return !(!(e = e.prototype) || !e.isReactComponent);
}
function vs(e) {
if ("function" == typeof e) return Is(e) ? 1 : 0;
if (null != e) {
if ((e = e.$$typeof) === m) return 11;
if (e === g) return 14;
}
return 2;
}
function bs(e, t) {
var n = e.alternate;
return null === n ? ((n = gs(e.tag, t, e.key, e.mode)).elementType = e.elementType, 
n.type = e.type, n.stateNode = e.stateNode, n.alternate = e, e.alternate = n) : (n.pendingProps = t, 
n.type = e.type, n.flags = 0, n.subtreeFlags = 0, n.deletions = null), n.flags = 14680064 & e.flags, 
n.childLanes = e.childLanes, n.lanes = e.lanes, n.child = e.child, n.memoizedProps = e.memoizedProps, 
n.memoizedState = e.memoizedState, n.updateQueue = e.updateQueue, t = e.dependencies, 
n.dependencies = null === t ? null : {
lanes: t.lanes,
firstContext: t.firstContext
}, n.sibling = e.sibling, n.index = e.index, n.ref = e.ref, n;
}
function _s(e, t, n, r, i, o) {
var s = 2;
if (r = e, "function" == typeof e) Is(e) && (s = 1); else if ("string" == typeof e) s = 5; else e: switch (e) {
case c:
return Ps(n.children, i, o, t);

case d:
s = 8, i |= 8;
break;

case u:
return (e = gs(12, n, t, 2 | i)).elementType = u, e.lanes = o, e;

case y:
return (e = gs(13, n, t, i)).elementType = y, e.lanes = o, e;

case h:
return (e = gs(19, n, t, i)).elementType = h, e.lanes = o, e;

case v:
return Ss(n, i, o, t);

default:
if ("object" == typeof e && null !== e) switch (e.$$typeof) {
case p:
s = 10;
break e;

case f:
s = 9;
break e;

case m:
s = 11;
break e;

case g:
s = 14;
break e;

case I:
s = 16, r = null;
break e;
}
throw Error(a(130, null == e ? e : typeof e, ""));
}
return (t = gs(s, n, t, i)).elementType = e, t.type = r, t.lanes = o, t;
}
function Ps(e, t, n, r) {
return (e = gs(7, e, r, t)).lanes = n, e;
}
function Ss(e, t, n, r) {
return (e = gs(22, e, r, t)).elementType = v, e.lanes = n, e.stateNode = {
isHidden: !1
}, e;
}
function Ts(e, t, n) {
return (e = gs(6, e, null, t)).lanes = n, e;
}
function Es(e, t, n) {
return (t = gs(4, null !== e.children ? e.children : [], e.key, t)).lanes = n, t.stateNode = {
containerInfo: e.containerInfo,
pendingChildren: null,
implementation: e.implementation
}, t;
}
function ks(e, t, n, r, i) {
this.tag = t, this.containerInfo = e, this.finishedWork = this.pingCache = this.current = this.pendingChildren = null, 
this.timeoutHandle = q, this.callbackNode = this.pendingContext = this.context = null, 
this.callbackPriority = 0, this.eventTimes = Lt(0), this.expirationTimes = Lt(-1), 
this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, 
this.entanglements = Lt(0), this.identifierPrefix = r, this.onRecoverableError = i, 
X && (this.mutableSourceEagerHydrationData = null);
}
function Ns(e, t, n, r, i, a, o, s, l) {
return e = new ks(e, t, n, s, l), 1 === t ? (t = 1, !0 === a && (t |= 8)) : t = 0, 
a = gs(3, null, null, t), e.current = a, a.stateNode = e, a.memoizedState = {
element: r,
isDehydrated: n,
cache: null,
transitions: null,
pendingSuspenseBoundaries: null
}, Xn(a), e;
}
function Cs(e) {
if (!e) return dt;
e: {
if (T(e = e._reactInternals) !== e || 1 !== e.tag) throw Error(a(170));
var t = e;
do {
switch (t.tag) {
case 3:
t = t.stateNode.context;
break e;

case 1:
if (yt(t.type)) {
t = t.stateNode.__reactInternalMemoizedMergedChildContext;
break e;
}
}
t = t.return;
} while (null !== t);
throw Error(a(171));
}
if (1 === e.tag) {
var n = e.type;
if (yt(n)) return It(e, n, t);
}
return t;
}
function Os(e) {
var t = e._reactInternals;
if (void 0 === t) {
if ("function" == typeof e.render) throw Error(a(188));
throw e = Object.keys(e).join(","), Error(a(268, e));
}
return null === (e = N(t)) ? null : e.stateNode;
}
function As(e, t) {
if (null !== (e = e.memoizedState) && null !== e.dehydrated) {
var n = e.retryLane;
e.retryLane = 0 !== n && n < t ? n : t;
}
}
function ws(e, t) {
As(e, t), (e = e.alternate) && As(e, t);
}
function Ls(e) {
return null === (e = N(e)) ? null : e.stateNode;
}
function Rs() {
return null;
}
return Co = function(e, t, n) {
if (null !== e) if (e.memoizedProps !== t.pendingProps || pt.current) Fi = !0; else {
if (0 == (e.lanes & n) && 0 == (128 & t.flags)) return Fi = !1, ua(e, t, n);
Fi = 0 != (131072 & e.flags);
} else Fi = !1, vn && 0 != (1048576 & t.flags) && mn(t, sn, t.index);
switch (t.lanes = 0, t.tag) {
case 2:
var r = t.type;
ca(e, t), e = t.pendingProps;
var i = mt(t, ut.current);
zn(t, n), i = Jr(null, t, r, e, i, n);
var o = zr();
return t.flags |= 1, "object" == typeof i && null !== i && "function" == typeof i.render && void 0 === i.$$typeof ? (t.tag = 1, 
t.memoizedState = null, t.updateQueue = null, yt(r) ? (o = !0, vt(t)) : o = !1, 
t.memoizedState = null !== i.state && void 0 !== i.state ? i.state : null, Xn(t), 
i.updater = or, t.stateNode = i, i._reactInternals = t, dr(t, r, e, n), t = Wi(null, t, r, !0, o, n)) : (t.tag = 0, 
vn && o && yn(t), Ui(null, t, i, n), t = t.child), t;

case 16:
r = t.elementType;
e: {
switch (ca(e, t), e = t.pendingProps, r = (i = r._init)(r._payload), t.type = r, 
i = t.tag = vs(r), e = xn(r, e), i) {
case 0:
t = ji(null, t, r, e, n);
break e;

case 1:
t = qi(null, t, r, e, n);
break e;

case 11:
t = Hi(null, t, r, e, n);
break e;

case 14:
t = Vi(null, t, r, xn(r.type, e), n);
break e;
}
throw Error(a(306, r, ""));
}
return t;

case 0:
return r = t.type, i = t.pendingProps, ji(e, t, r, i = t.elementType === r ? i : xn(r, i), n);

case 1:
return r = t.type, i = t.pendingProps, qi(e, t, r, i = t.elementType === r ? i : xn(r, i), n);

case 3:
e: {
if (Yi(t), null === e) throw Error(a(387));
r = t.pendingProps, i = (o = t.memoizedState).element, Qn(e, t), nr(t, r, null, n);
var s = t.memoizedState;
if (r = s.element, X && o.isDehydrated) {
if (o = {
element: r,
isDehydrated: !1,
cache: s.cache,
pendingSuspenseBoundaries: s.pendingSuspenseBoundaries,
transitions: s.transitions
}, t.updateQueue.baseState = o, t.memoizedState = o, 256 & t.flags) {
t = Ki(e, t, r, n, i = Ci(Error(a(423)), t));
break e;
}
if (r !== i) {
t = Ki(e, t, r, n, i = Ci(Error(a(424)), t));
break e;
}
for (X && (In = Je(t.stateNode.containerInfo), gn = t, vn = !0, _n = null, bn = !1), 
n = hr(t, null, r, n), t.child = n; n; ) n.flags = -3 & n.flags | 4096, n = n.sibling;
} else {
if (On(), r === i) {
t = da(e, t, n);
break e;
}
Ui(e, t, r, n);
}
t = t.child;
}
return t;

case 5:
return Tr(t), null === e && En(t), r = t.type, i = t.pendingProps, o = null !== e ? e.memoizedProps : null, 
s = i.children, J(r, i) ? s = null : null !== o && J(r, o) && (t.flags |= 32), Gi(e, t), 
Ui(e, t, s, n), t.child;

case 6:
return null === e && En(t), null;

case 13:
return na(e, t, n);

case 4:
return Pr(t, t.stateNode.containerInfo), r = t.pendingProps, null === e ? t.child = yr(t, null, r, n) : Ui(e, t, r, n), 
t.child;

case 11:
return r = t.type, i = t.pendingProps, Hi(e, t, r, i = t.elementType === r ? i : xn(r, i), n);

case 7:
return Ui(e, t, t.pendingProps, n), t.child;

case 8:
case 12:
return Ui(e, t, t.pendingProps.children, n), t.child;

case 10:
e: {
if (r = t.type._context, i = t.pendingProps, o = t.memoizedProps, Hn(0, r, s = i.value), 
null !== o) if (Xt(o.value, s)) {
if (o.children === i.children && !pt.current) {
t = da(e, t, n);
break e;
}
} else for (null !== (o = t.child) && (o.return = t); null !== o; ) {
var l = o.dependencies;
if (null !== l) {
s = o.child;
for (var c = l.firstContext; null !== c; ) {
if (c.context === r) {
if (1 === o.tag) {
(c = $n(-1, n & -n)).tag = 2;
var d = o.updateQueue;
if (null !== d) {
var u = (d = d.shared).pending;
null === u ? c.next = c : (c.next = u.next, u.next = c), d.pending = c;
}
}
o.lanes |= n, null !== (c = o.alternate) && (c.lanes |= n), Jn(o.return, n, t), 
l.lanes |= n;
break;
}
c = c.next;
}
} else if (10 === o.tag) s = o.type === t.type ? null : o.child; else if (18 === o.tag) {
if (null === (s = o.return)) throw Error(a(341));
s.lanes |= n, null !== (l = s.alternate) && (l.lanes |= n), Jn(s, n, t), s = o.sibling;
} else s = o.child;
if (null !== s) s.return = o; else for (s = o; null !== s; ) {
if (s === t) {
s = null;
break;
}
if (null !== (o = s.sibling)) {
o.return = s.return, s = o;
break;
}
s = s.return;
}
o = s;
}
Ui(e, t, i.children, n), t = t.child;
}
return t;

case 9:
return i = t.type, r = t.pendingProps.children, zn(t, n), r = r(i = Gn(i)), t.flags |= 1, 
Ui(e, t, r, n), t.child;

case 14:
return i = xn(r = t.type, t.pendingProps), Vi(e, t, r, i = xn(r.type, i), n);

case 15:
return Ji(e, t, t.type, t.pendingProps, n);

case 17:
return r = t.type, i = t.pendingProps, i = t.elementType === r ? i : xn(r, i), ca(e, t), 
t.tag = 1, yt(r) ? (e = !0, vt(t)) : e = !1, zn(t, n), lr(t, r, i), dr(t, r, i, n), 
Wi(null, t, r, !0, e, n);

case 19:
return la(e, t, n);

case 22:
return zi(e, t, n);
}
throw Error(a(156, t.tag));
}, t.attemptContinuousHydration = function(e) {
if (13 === e.tag) {
var t = Yn(e, 134217728);
if (null !== t) Vo(t, e, 134217728, Uo());
ws(e, 134217728);
}
}, t.attemptDiscreteHydration = function(e) {
if (13 === e.tag) {
var t = Yn(e, 1);
if (null !== t) Vo(t, e, 1, Uo());
ws(e, 1);
}
}, t.attemptHydrationAtCurrentPriority = function(e) {
if (13 === e.tag) {
var t = Ho(e), n = Yn(e, t);
if (null !== n) Vo(n, e, t, Uo());
ws(e, t);
}
}, t.attemptSynchronousHydration = function(e) {
switch (e.tag) {
case 3:
var t = e.stateNode;
if (t.current.memoizedState.isDehydrated) {
var n = kt(t.pendingLanes);
0 !== n && (Bt(t, 1 | n), Jo(t, Jt()), 0 == (6 & uo) && (No(), nn()));
}
break;

case 13:
Ko((function() {
var t = Yn(e, 1);
if (null !== t) {
var n = Uo();
Vo(t, e, 1, n);
}
})), ws(e, 1);
}
}, t.batchedUpdates = function(e, t) {
var n = uo;
uo |= 1;
try {
return e(t);
} finally {
0 === (uo = n) && (No(), $t && nn());
}
}, t.createComponentSelector = function(e) {
return {
$$typeof: Ka,
value: e
};
}, t.createContainer = function(e, t, n, r, i, a, o) {
return Ns(e, t, !1, null, 0, r, 0, a, o);
}, t.createHasPseudoClassSelector = function(e) {
return {
$$typeof: Xa,
value: e
};
}, t.createHydrationContainer = function(e, t, n, r, i, a, o, s, l) {
return (e = Ns(n, r, !0, e, 0, a, 0, s, l)).context = Cs(null), n = e.current, (a = $n(r = Uo(), i = Ho(n))).callback = null != t ? t : null, 
Zn(n, a, i), e.current.lanes = i, Rt(e, i, r), Jo(e, r), e;
}, t.createPortal = function(e, t, n) {
var r = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
return {
$$typeof: l,
key: null == r ? null : "" + r,
children: e,
containerInfo: t,
implementation: n
};
}, t.createRoleSelector = function(e) {
return {
$$typeof: Qa,
value: e
};
}, t.createTestNameSelector = function(e) {
return {
$$typeof: $a,
value: e
};
}, t.createTextSelector = function(e) {
return {
$$typeof: Za,
value: e
};
}, t.deferredUpdates = function(e) {
var t = Dt, n = co.transition;
try {
return co.transition = null, Dt = 16, e();
} finally {
Dt = t, co.transition = n;
}
}, t.discreteUpdates = function(e, t, n, r, i) {
var a = Dt, o = co.transition;
try {
return co.transition = null, Dt = 1, e(t, n, r, i);
} finally {
Dt = a, co.transition = o, 0 === uo && No();
}
}, t.findAllNodes = ao, t.findBoundingRects = function(e, t) {
if (!re) throw Error(a(363));
t = ao(e, t), e = [];
for (var n = 0; n < t.length; n++) e.push(ae(t[n]));
for (t = e.length - 1; 0 < t; t--) for (var r = (n = e[t]).x, i = r + n.width, o = n.y, s = o + n.height, l = t - 1; 0 <= l; l--) if (t !== l) {
var c = e[l], d = c.x, u = d + c.width, p = c.y, f = p + c.height;
if (r >= d && o >= p && i <= u && s <= f) {
e.splice(t, 1);
break;
}
if (!(r !== d || n.width !== c.width || f < o || p > s)) {
p > o && (c.height += p - o, c.y = o), f < s && (c.height = s - p), e.splice(t, 1);
break;
}
if (!(o !== p || n.height !== c.height || u < r || d > i)) {
d > r && (c.width += d - r, c.x = r), u < i && (c.width = i - d), e.splice(t, 1);
break;
}
}
return e;
}, t.findHostInstance = Os, t.findHostInstanceWithNoPortals = function(e) {
return null === (e = null !== (e = k(e)) ? O(e) : null) ? null : e.stateNode;
}, t.findHostInstanceWithWarning = function(e) {
return Os(e);
}, t.flushControlled = function(e) {
var t = uo;
uo |= 1;
var n = co.transition, r = Dt;
try {
co.transition = null, Dt = 1, e();
} finally {
Dt = r, co.transition = n, 0 === (uo = t) && (No(), nn());
}
}, t.flushPassiveEffects = ls, t.flushSync = Ko, t.focusWithin = function(e, t) {
if (!re) throw Error(a(363));
for (t = io(e = to(e), t), t = Array.from(t), e = 0; e < t.length; ) {
var n = t[e++];
if (!se(n)) {
if (5 === n.tag && ce(n.stateNode)) return !0;
for (n = n.child; null !== n; ) t.push(n), n = n.sibling;
}
}
return !1;
}, t.getCurrentUpdatePriority = function() {
return Dt;
}, t.getFindAllNodesFailureDescription = function(e, t) {
if (!re) throw Error(a(363));
var n = 0, r = [];
e = [ to(e), 0 ];
for (var i = 0; i < e.length; ) {
var o = e[i++], s = e[i++], l = t[s];
if ((5 !== o.tag || !se(o)) && (no(o, l) && (r.push(ro(l)), ++s > n && (n = s)), 
s < t.length)) for (o = o.child; null !== o; ) e.push(o, s), o = o.sibling;
}
if (n < t.length) {
for (e = []; n < t.length; n++) e.push(ro(t[n]));
return "findAllNodes was able to match part of the selector:\n  " + r.join(" > ") + "\n\nNo matching component was found for:\n  " + e.join(" > ");
}
return null;
}, t.getPublicRootInstance = function(e) {
return (e = e.current).child ? 5 === e.child.tag ? L(e.child.stateNode) : e.child.stateNode : null;
}, t.injectIntoDevTools = function(e) {
if (e = {
bundleType: e.bundleType,
version: e.version,
rendererPackageName: e.rendererPackageName,
rendererConfig: e.rendererConfig,
overrideHookState: null,
overrideHookStateDeletePath: null,
overrideHookStateRenamePath: null,
overrideProps: null,
overridePropsDeletePath: null,
overridePropsRenamePath: null,
setErrorHandler: null,
setSuspenseHandler: null,
scheduleUpdate: null,
currentDispatcherRef: o.ReactCurrentDispatcher,
findHostInstanceByFiber: Ls,
findFiberByHostInstance: e.findFiberByHostInstance || Rs,
findHostInstancesForRefresh: null,
scheduleRefresh: null,
scheduleRoot: null,
setRefreshHandler: null,
getCurrentFiber: null,
reconcilerVersion: "18.2.0"
}, "undefined" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) e = !1; else {
var t = __REACT_DEVTOOLS_GLOBAL_HOOK__;
if (t.isDisabled || !t.supportsFiber) e = !0; else {
try {
Wt = t.inject(e), Yt = t;
} catch (e) {}
e = !!t.checkDCE;
}
}
return e;
}, t.isAlreadyRendering = function() {
return !1;
}, t.observeVisibleRects = function(e, t, n, r) {
if (!re) throw Error(a(363));
e = ao(e, t);
var i = de(e, n, r).disconnect;
return {
disconnect: function() {
i();
}
};
}, t.registerMutableSourceForHydration = function(e, t) {
var n = t._getVersion;
n = n(t._source), null == e.mutableSourceEagerHydrationData ? e.mutableSourceEagerHydrationData = [ t, n ] : e.mutableSourceEagerHydrationData.push(t, n);
}, t.runWithPriority = function(e, t) {
var n = Dt;
try {
return Dt = e, t();
} finally {
Dt = n;
}
}, t.shouldError = function() {
return null;
}, t.shouldSuspend = function() {
return !1;
}, t.updateContainer = function(e, t, n, r) {
var i = t.current, a = Uo(), o = Ho(i);
return n = Cs(n), null === t.context ? t.context = n : t.pendingContext = n, (t = $n(a, o)).payload = {
element: e
}, null !== (r = void 0 === r ? null : r) && (t.callback = r), null !== (e = Zn(i, t, o)) && (Vo(e, i, o, a), 
er(e, i, o)), o;
}, t;
}, Xa = (t((function(e) {})), t((function(e) {
e.exports = Ka;
}))), Qa = {
ConcurrentRoot: 1,
ContinuousEventPriority: 4,
DefaultEventPriority: 16,
DiscreteEventPriority: 1,
IdleEventPriority: 536870912,
LegacyRoot: 0
}, $a = (t((function(e, t) {})), t((function(e) {
e.exports = Qa;
}))), Za = t((function(e, t) {
e.exports = function() {
var e = Math.imul, t = Math.clz32;
function n(e) {
"@babel/helpers - typeof";
return n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
}, n(e);
}
function r(e, t) {
if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function i(e, t) {
for (var n, r = 0; r < t.length; r++) (n = t[r]).enumerable = n.enumerable || !1, 
n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);
}
function a(e, t, n) {
return t && i(e.prototype, t), n && i(e, n), Object.defineProperty(e, "prototype", {
writable: !1
}), e;
}
function o(e, t) {
if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
e.prototype = Object.create(t && t.prototype, {
constructor: {
value: e,
writable: !0,
configurable: !0
}
}), Object.defineProperty(e, "prototype", {
writable: !1
}), t && l(e, t);
}
function s(e) {
return s = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
return e.__proto__ || Object.getPrototypeOf(e);
}, s(e);
}
function l(e, t) {
return l = Object.setPrototypeOf || function(e, t) {
return e.__proto__ = t, e;
}, l(e, t);
}
function c() {
if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
if (Reflect.construct.sham) return !1;
if ("function" == typeof Proxy) return !0;
try {
return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}))), 
!0;
} catch (e) {
return !1;
}
}
function d() {
return d = c() ? Reflect.construct : function(e, t, n) {
var r = [ null ];
r.push.apply(r, t);
var i = new (Function.bind.apply(e, r));
return n && l(i, n.prototype), i;
}, d.apply(null, arguments);
}
function u(e) {
return -1 !== Function.toString.call(e).indexOf("[native code]");
}
function p(e) {
var t = "function" == typeof Map ? new Map : void 0;
return p = function(e) {
function n() {
return d(e, arguments, s(this).constructor);
}
if (null === e || !u(e)) return e;
if ("function" != typeof e) throw new TypeError("Super expression must either be null or a function");
if (void 0 !== t) {
if (t.has(e)) return t.get(e);
t.set(e, n);
}
return n.prototype = Object.create(e.prototype, {
constructor: {
value: n,
enumerable: !1,
writable: !0,
configurable: !0
}
}), l(n, e);
}, p(e);
}
function f(e) {
if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return e;
}
function m(e, t) {
if (t && ("object" == typeof t || "function" == typeof t)) return t;
if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined");
return f(e);
}
function y(e) {
var t = c();
return function() {
var n, r = s(e);
if (t) {
var i = s(this).constructor;
n = Reflect.construct(r, arguments, i);
} else n = r.apply(this, arguments);
return m(this, n);
};
}
function h(e, t) {
return g(e) || I(e, t) || v(e, t) || _();
}
function g(e) {
if (Array.isArray(e)) return e;
}
function I(e, t) {
var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
if (null != n) {
var r, i, a = [], o = !0, s = !1;
try {
for (n = n.call(e); !(o = (r = n.next()).done) && (a.push(r.value), !t || a.length !== t); o = !0) ;
} catch (e) {
s = !0, i = e;
} finally {
try {
o || null == n.return || n.return();
} finally {
if (s) throw i;
}
}
return a;
}
}
function v(e, t) {
if (e) {
if ("string" == typeof e) return b(e, t);
var n = Object.prototype.toString.call(e).slice(8, -1);
return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? b(e, t) : void 0;
}
}
function b(e, t) {
(null == t || t > e.length) && (t = e.length);
for (var n = 0, r = Array(t); n < t; n++) r[n] = e[n];
return r;
}
function _() {
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function P(e, t) {
var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
if (!n) {
if (Array.isArray(e) || (n = v(e)) || t && e && "number" == typeof e.length) {
n && (e = n);
var r = 0, i = function() {};
return {
s: i,
n: function() {
return r >= e.length ? {
done: !0
} : {
done: !1,
value: e[r++]
};
},
e: function(e) {
throw e;
},
f: i
};
}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
var a, o = !0, s = !1;
return {
s: function() {
n = n.call(e);
},
n: function() {
var e = n.next();
return o = e.done, e;
},
e: function(e) {
s = !0, a = e;
},
f: function() {
try {
o || null == n.return || n.return();
} finally {
if (s) throw a;
}
}
};
}
var S = function(e) {
var t = Math.abs, i = Math.max, s = Math.floor;
function l(e, t) {
var n;
if (r(this, l), (n = c.call(this, e)).sign = t, Object.setPrototypeOf(f(n), l.prototype), 
e > l.__kMaxLength) throw new RangeError("Maximum BigInt size exceeded");
return n;
}
o(l, e);
var c = y(l);
return a(l, [ {
key: "toDebugString",
value: function() {
var e, t = [ "BigInt[" ], n = P(this);
try {
for (n.s(); !(e = n.n()).done; ) {
var r = e.value;
t.push((r ? (r >>> 0).toString(16) : r) + ", ");
}
} catch (e) {
n.e(e);
} finally {
n.f();
}
return t.push("]"), t.join("");
}
}, {
key: "toString",
value: function() {
var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 10;
if (2 > e || 36 < e) throw new RangeError("toString() radix argument must be between 2 and 36");
return 0 === this.length ? "0" : 0 == (e & e - 1) ? l.__toStringBasePowerOfTwo(this, e) : l.__toStringGeneric(this, e, !1);
}
}, {
key: "valueOf",
value: function() {
throw new Error("Convert JSBI instances to native numbers using `toNumber`.");
}
}, {
key: "__copy",
value: function() {
for (var e = new l(this.length, this.sign), t = 0; t < this.length; t++) e[t] = this[t];
return e;
}
}, {
key: "__trim",
value: function() {
for (var e = this.length, t = this[e - 1]; 0 === t; ) t = this[--e - 1], this.pop();
return 0 === e && (this.sign = !1), this;
}
}, {
key: "__initializeDigits",
value: function() {
for (var e = 0; e < this.length; e++) this[e] = 0;
}
}, {
key: "__clzmsd",
value: function() {
return l.__clz30(this.__digit(this.length - 1));
}
}, {
key: "__inplaceMultiplyAdd",
value: function(e, t, n) {
n > this.length && (n = this.length);
for (var r = 32767 & e, i = e >>> 15, a = 0, o = t, s = 0; s < n; s++) {
var c = this.__digit(s), d = 32767 & c, u = c >>> 15, p = l.__imul(d, r), f = l.__imul(d, i), m = l.__imul(u, r), y = o + p + a;
a = y >>> 30, y &= 1073741823, a += (y += ((32767 & f) << 15) + ((32767 & m) << 15)) >>> 30, 
o = l.__imul(u, i) + (f >>> 15) + (m >>> 15), this.__setDigit(s, 1073741823 & y);
}
if (0 !== a || 0 !== o) throw new Error("implementation bug");
}
}, {
key: "__inplaceAdd",
value: function(e, t, n) {
for (var r, i = 0, a = 0; a < n; a++) i = (r = this.__halfDigit(t + a) + e.__halfDigit(a) + i) >>> 15, 
this.__setHalfDigit(t + a, 32767 & r);
return i;
}
}, {
key: "__inplaceSub",
value: function(e, t, n) {
var r = 0;
if (1 & t) {
t >>= 1;
for (var i = this.__digit(t), a = 32767 & i, o = 0; o < n - 1 >>> 1; o++) {
var s = e.__digit(o), l = (i >>> 15) - (32767 & s) - r;
r = 1 & l >>> 15, this.__setDigit(t + o, (32767 & l) << 15 | 32767 & a), r = 1 & (a = (32767 & (i = this.__digit(t + o + 1))) - (s >>> 15) - r) >>> 15;
}
var c = e.__digit(o), d = (i >>> 15) - (32767 & c) - r;
if (r = 1 & d >>> 15, this.__setDigit(t + o, (32767 & d) << 15 | 32767 & a), t + o + 1 >= this.length) throw new RangeError("out of bounds");
0 == (1 & n) && (r = 1 & (a = (32767 & (i = this.__digit(t + o + 1))) - (c >>> 15) - r) >>> 15, 
this.__setDigit(t + e.length, 1073709056 & i | 32767 & a));
} else {
t >>= 1;
for (var u = 0; u < e.length - 1; u++) {
var p = this.__digit(t + u), f = e.__digit(u), m = (32767 & p) - (32767 & f) - r, y = (p >>> 15) - (f >>> 15) - (r = 1 & m >>> 15);
r = 1 & y >>> 15, this.__setDigit(t + u, (32767 & y) << 15 | 32767 & m);
}
var h = this.__digit(t + u), g = e.__digit(u), I = (32767 & h) - (32767 & g) - r;
r = 1 & I >>> 15;
var v = 0;
0 == (1 & n) && (r = 1 & (v = (h >>> 15) - (g >>> 15) - r) >>> 15), this.__setDigit(t + u, (32767 & v) << 15 | 32767 & I);
}
return r;
}
}, {
key: "__inplaceRightShift",
value: function(e) {
if (0 !== e) {
for (var t, n = this.__digit(0) >>> e, r = this.length - 1, i = 0; i < r; i++) t = this.__digit(i + 1), 
this.__setDigit(i, 1073741823 & t << 30 - e | n), n = t >>> e;
this.__setDigit(r, n);
}
}
}, {
key: "__digit",
value: function(e) {
return this[e];
}
}, {
key: "__unsignedDigit",
value: function(e) {
return this[e] >>> 0;
}
}, {
key: "__setDigit",
value: function(e, t) {
this[e] = 0 | t;
}
}, {
key: "__setDigitGrow",
value: function(e, t) {
this[e] = 0 | t;
}
}, {
key: "__halfDigitLength",
value: function() {
var e = this.length;
return 32767 >= this.__unsignedDigit(e - 1) ? 2 * e - 1 : 2 * e;
}
}, {
key: "__halfDigit",
value: function(e) {
return 32767 & this[e >>> 1] >>> 15 * (1 & e);
}
}, {
key: "__setHalfDigit",
value: function(e, t) {
var n = e >>> 1, r = this.__digit(n), i = 1 & e ? 32767 & r | t << 15 : 1073709056 & r | 32767 & t;
this.__setDigit(n, i);
}
} ], [ {
key: "BigInt",
value: function(e) {
var t = Number.isFinite;
if ("number" == typeof e) {
if (0 === e) return l.__zero();
if (l.__isOneDigitInt(e)) return 0 > e ? l.__oneDigit(-e, !0) : l.__oneDigit(e, !1);
if (!t(e) || s(e) !== e) throw new RangeError("The number " + e + " cannot be converted to BigInt because it is not an integer");
return l.__fromDouble(e);
}
if ("string" == typeof e) {
var r = l.__fromString(e);
if (null === r) throw new SyntaxError("Cannot convert " + e + " to a BigInt");
return r;
}
if ("boolean" == typeof e) return !0 === e ? l.__oneDigit(1, !1) : l.__zero();
if ("object" === n(e)) {
if (e.constructor === l) return e;
var i = l.__toPrimitive(e);
return l.BigInt(i);
}
throw new TypeError("Cannot convert " + e + " to a BigInt");
}
}, {
key: "toNumber",
value: function(e) {
var t = e.length;
if (0 === t) return 0;
if (1 === t) {
var n = e.__unsignedDigit(0);
return e.sign ? -n : n;
}
var r = e.__digit(t - 1), i = l.__clz30(r), a = 30 * t - i;
if (1024 < a) return e.sign ? -1 / 0 : 1 / 0;
var o = a - 1, s = r, c = t - 1, d = i + 3, u = 32 === d ? 0 : s << d;
u >>>= 12;
var p = d - 12, f = 12 <= d ? 0 : s << 20 + d, m = 20 + d;
for (0 < p && 0 < c && (c--, u |= (s = e.__digit(c)) >>> 30 - p, f = s << p + 2, 
m = p + 2); 0 < m && 0 < c; ) c--, s = e.__digit(c), f |= 30 <= m ? s << m - 30 : s >>> 30 - m, 
m -= 30;
var y = l.__decideRounding(e, m, c, s);
if ((1 === y || 0 === y && 1 == (1 & f)) && 0 == (f = f + 1 >>> 0) && 0 != ++u >>> 20 && (u = 0, 
1023 < ++o)) return e.sign ? -1 / 0 : 1 / 0;
var h = e.sign ? -2147483648 : 0;
return o = o + 1023 << 20, l.__kBitConversionInts[1] = h | o | u, l.__kBitConversionInts[0] = f, 
l.__kBitConversionDouble[0];
}
}, {
key: "unaryMinus",
value: function(e) {
if (0 === e.length) return e;
var t = e.__copy();
return t.sign = !e.sign, t;
}
}, {
key: "bitwiseNot",
value: function(e) {
return e.sign ? l.__absoluteSubOne(e).__trim() : l.__absoluteAddOne(e, !0);
}
}, {
key: "exponentiate",
value: function(e, t) {
if (t.sign) throw new RangeError("Exponent must be positive");
if (0 === t.length) return l.__oneDigit(1, !1);
if (0 === e.length) return e;
if (1 === e.length && 1 === e.__digit(0)) return e.sign && 0 == (1 & t.__digit(0)) ? l.unaryMinus(e) : e;
if (1 < t.length) throw new RangeError("BigInt too big");
var n = t.__unsignedDigit(0);
if (1 === n) return e;
if (n >= l.__kMaxLengthBits) throw new RangeError("BigInt too big");
if (1 === e.length && 2 === e.__digit(0)) {
var r = 1 + (0 | n / 30), i = new l(r, e.sign && 0 != (1 & n));
i.__initializeDigits();
var a = 1 << n % 30;
return i.__setDigit(r - 1, a), i;
}
var o = null, s = e;
for (0 != (1 & n) && (o = e), n >>= 1; 0 !== n; n >>= 1) s = l.multiply(s, s), 0 != (1 & n) && (o = null === o ? s : l.multiply(o, s));
return o;
}
}, {
key: "multiply",
value: function(e, t) {
if (0 === e.length) return e;
if (0 === t.length) return t;
var n = e.length + t.length;
30 <= e.__clzmsd() + t.__clzmsd() && n--;
var r = new l(n, e.sign !== t.sign);
r.__initializeDigits();
for (var i = 0; i < e.length; i++) l.__multiplyAccumulate(t, e.__digit(i), r, i);
return r.__trim();
}
}, {
key: "divide",
value: function(e, t) {
if (0 === t.length) throw new RangeError("Division by zero");
if (0 > l.__absoluteCompare(e, t)) return l.__zero();
var n, r = e.sign !== t.sign, i = t.__unsignedDigit(0);
if (1 === t.length && 32767 >= i) {
if (1 === i) return r === e.sign ? e : l.unaryMinus(e);
n = l.__absoluteDivSmall(e, i, null);
} else n = l.__absoluteDivLarge(e, t, !0, !1);
return n.sign = r, n.__trim();
}
}, {
key: "remainder",
value: function(e, t) {
if (0 === t.length) throw new RangeError("Division by zero");
if (0 > l.__absoluteCompare(e, t)) return e;
var n = t.__unsignedDigit(0);
if (1 === t.length && 32767 >= n) {
if (1 === n) return l.__zero();
var r = l.__absoluteModSmall(e, n);
return 0 === r ? l.__zero() : l.__oneDigit(r, e.sign);
}
var i = l.__absoluteDivLarge(e, t, !1, !0);
return i.sign = e.sign, i.__trim();
}
}, {
key: "add",
value: function(e, t) {
var n = e.sign;
return n === t.sign ? l.__absoluteAdd(e, t, n) : 0 <= l.__absoluteCompare(e, t) ? l.__absoluteSub(e, t, n) : l.__absoluteSub(t, e, !n);
}
}, {
key: "subtract",
value: function(e, t) {
var n = e.sign;
return n === t.sign ? 0 <= l.__absoluteCompare(e, t) ? l.__absoluteSub(e, t, n) : l.__absoluteSub(t, e, !n) : l.__absoluteAdd(e, t, n);
}
}, {
key: "leftShift",
value: function(e, t) {
return 0 === t.length || 0 === e.length ? e : t.sign ? l.__rightShiftByAbsolute(e, t) : l.__leftShiftByAbsolute(e, t);
}
}, {
key: "signedRightShift",
value: function(e, t) {
return 0 === t.length || 0 === e.length ? e : t.sign ? l.__leftShiftByAbsolute(e, t) : l.__rightShiftByAbsolute(e, t);
}
}, {
key: "unsignedRightShift",
value: function() {
throw new TypeError("BigInts have no unsigned right shift; use >> instead");
}
}, {
key: "lessThan",
value: function(e, t) {
return 0 > l.__compareToBigInt(e, t);
}
}, {
key: "lessThanOrEqual",
value: function(e, t) {
return 0 >= l.__compareToBigInt(e, t);
}
}, {
key: "greaterThan",
value: function(e, t) {
return 0 < l.__compareToBigInt(e, t);
}
}, {
key: "greaterThanOrEqual",
value: function(e, t) {
return 0 <= l.__compareToBigInt(e, t);
}
}, {
key: "equal",
value: function(e, t) {
if (e.sign !== t.sign) return !1;
if (e.length !== t.length) return !1;
for (var n = 0; n < e.length; n++) if (e.__digit(n) !== t.__digit(n)) return !1;
return !0;
}
}, {
key: "notEqual",
value: function(e, t) {
return !l.equal(e, t);
}
}, {
key: "bitwiseAnd",
value: function(e, t) {
if (!e.sign && !t.sign) return l.__absoluteAnd(e, t).__trim();
if (e.sign && t.sign) {
var n = i(e.length, t.length) + 1, r = l.__absoluteSubOne(e, n), a = l.__absoluteSubOne(t);
return r = l.__absoluteOr(r, a, r), l.__absoluteAddOne(r, !0, r).__trim();
}
if (e.sign) {
var o = [ t, e ];
e = o[0], t = o[1];
}
return l.__absoluteAndNot(e, l.__absoluteSubOne(t)).__trim();
}
}, {
key: "bitwiseXor",
value: function(e, t) {
if (!e.sign && !t.sign) return l.__absoluteXor(e, t).__trim();
if (e.sign && t.sign) {
var n = i(e.length, t.length), r = l.__absoluteSubOne(e, n), a = l.__absoluteSubOne(t);
return l.__absoluteXor(r, a, r).__trim();
}
var o = i(e.length, t.length) + 1;
if (e.sign) {
var s = [ t, e ];
e = s[0], t = s[1];
}
var c = l.__absoluteSubOne(t, o);
return c = l.__absoluteXor(c, e, c), l.__absoluteAddOne(c, !0, c).__trim();
}
}, {
key: "bitwiseOr",
value: function(e, t) {
var n = i(e.length, t.length);
if (!e.sign && !t.sign) return l.__absoluteOr(e, t).__trim();
if (e.sign && t.sign) {
var r = l.__absoluteSubOne(e, n), a = l.__absoluteSubOne(t);
return r = l.__absoluteAnd(r, a, r), l.__absoluteAddOne(r, !0, r).__trim();
}
if (e.sign) {
var o = [ t, e ];
e = o[0], t = o[1];
}
var s = l.__absoluteSubOne(t, n);
return s = l.__absoluteAndNot(s, e, s), l.__absoluteAddOne(s, !0, s).__trim();
}
}, {
key: "asIntN",
value: function(e, t) {
if (0 === t.length) return t;
if (0 > (e = s(e))) throw new RangeError("Invalid value: not (convertible to) a safe integer");
if (0 === e) return l.__zero();
if (e >= l.__kMaxLengthBits) return t;
var n = 0 | (e + 29) / 30;
if (t.length < n) return t;
var r = t.__unsignedDigit(n - 1), i = 1 << (e - 1) % 30;
if (t.length === n && r < i) return t;
if ((r & i) !== i) return l.__truncateToNBits(e, t);
if (!t.sign) return l.__truncateAndSubFromPowerOfTwo(e, t, !0);
if (0 == (r & i - 1)) {
for (var a = n - 2; 0 <= a; a--) if (0 !== t.__digit(a)) return l.__truncateAndSubFromPowerOfTwo(e, t, !1);
return t.length === n && r === i ? t : l.__truncateToNBits(e, t);
}
return l.__truncateAndSubFromPowerOfTwo(e, t, !1);
}
}, {
key: "asUintN",
value: function(e, t) {
if (0 === t.length) return t;
if (0 > (e = s(e))) throw new RangeError("Invalid value: not (convertible to) a safe integer");
if (0 === e) return l.__zero();
if (t.sign) {
if (e > l.__kMaxLengthBits) throw new RangeError("BigInt too big");
return l.__truncateAndSubFromPowerOfTwo(e, t, !1);
}
if (e >= l.__kMaxLengthBits) return t;
var n = 0 | (e + 29) / 30;
if (t.length < n) return t;
var r = e % 30;
if (t.length == n) {
if (0 === r) return t;
if (0 == t.__digit(n - 1) >>> r) return t;
}
return l.__truncateToNBits(e, t);
}
}, {
key: "ADD",
value: function(e, t) {
if (e = l.__toPrimitive(e), t = l.__toPrimitive(t), "string" == typeof e) return "string" != typeof t && (t = t.toString()), 
e + t;
if ("string" == typeof t) return e.toString() + t;
if (e = l.__toNumeric(e), t = l.__toNumeric(t), l.__isBigInt(e) && l.__isBigInt(t)) return l.add(e, t);
if ("number" == typeof e && "number" == typeof t) return e + t;
throw new TypeError("Cannot mix BigInt and other types, use explicit conversions");
}
}, {
key: "LT",
value: function(e, t) {
return l.__compare(e, t, 0);
}
}, {
key: "LE",
value: function(e, t) {
return l.__compare(e, t, 1);
}
}, {
key: "GT",
value: function(e, t) {
return l.__compare(e, t, 2);
}
}, {
key: "GE",
value: function(e, t) {
return l.__compare(e, t, 3);
}
}, {
key: "EQ",
value: function(e, t) {
for (;;) {
if (l.__isBigInt(e)) return l.__isBigInt(t) ? l.equal(e, t) : l.EQ(t, e);
if ("number" == typeof e) {
if (l.__isBigInt(t)) return l.__equalToNumber(t, e);
if ("object" !== n(t)) return e == t;
t = l.__toPrimitive(t);
} else if ("string" == typeof e) {
if (l.__isBigInt(t)) return null !== (e = l.__fromString(e)) && l.equal(e, t);
if ("object" !== n(t)) return e == t;
t = l.__toPrimitive(t);
} else if ("boolean" == typeof e) {
if (l.__isBigInt(t)) return l.__equalToNumber(t, +e);
if ("object" !== n(t)) return e == t;
t = l.__toPrimitive(t);
} else if ("symbol" === n(e)) {
if (l.__isBigInt(t)) return !1;
if ("object" !== n(t)) return e == t;
t = l.__toPrimitive(t);
} else {
if ("object" !== n(e)) return e == t;
if ("object" === n(t) && t.constructor !== l) return e == t;
e = l.__toPrimitive(e);
}
}
}
}, {
key: "NE",
value: function(e, t) {
return !l.EQ(e, t);
}
}, {
key: "DataViewGetBigInt64",
value: function(e, t) {
var n = !!(2 < arguments.length && void 0 !== arguments[2]) && arguments[2];
return l.asIntN(64, l.DataViewGetBigUint64(e, t, n));
}
}, {
key: "DataViewGetBigUint64",
value: function(e, t) {
var n = !!(2 < arguments.length && void 0 !== arguments[2]) && arguments[2], r = h(n ? [ 4, 0 ] : [ 0, 4 ], 2), i = r[0], a = r[1], o = e.getUint32(t + i, n), s = e.getUint32(t + a, n), c = new l(3, !1);
return c.__setDigit(0, 1073741823 & s), c.__setDigit(1, (268435455 & o) << 2 | s >>> 30), 
c.__setDigit(2, o >>> 28), c.__trim();
}
}, {
key: "DataViewSetBigInt64",
value: function(e, t, n) {
var r = !!(3 < arguments.length && void 0 !== arguments[3]) && arguments[3];
l.DataViewSetBigUint64(e, t, n, r);
}
}, {
key: "DataViewSetBigUint64",
value: function(e, t, n) {
var r = !!(3 < arguments.length && void 0 !== arguments[3]) && arguments[3], i = 0, a = 0;
if (0 < (n = l.asUintN(64, n)).length && (a = n.__digit(0), 1 < n.length)) {
var o = n.__digit(1);
a |= o << 30, i = o >>> 2, 2 < n.length && (i |= n.__digit(2) << 28);
}
var s = h(r ? [ 4, 0 ] : [ 0, 4 ], 2), c = s[0], d = s[1];
e.setUint32(t + c, i, r), e.setUint32(t + d, a, r);
}
}, {
key: "__zero",
value: function() {
return new l(0, !1);
}
}, {
key: "__oneDigit",
value: function(e, t) {
var n = new l(1, t);
return n.__setDigit(0, e), n;
}
}, {
key: "__decideRounding",
value: function(e, t, n, r) {
if (0 < t) return -1;
var i;
if (0 > t) i = -t - 1; else {
if (0 === n) return -1;
n--, r = e.__digit(n), i = 29;
}
var a = 1 << i;
if (0 == (r & a)) return -1;
if (0 != (r & (a -= 1))) return 1;
for (;0 < n; ) if (n--, 0 !== e.__digit(n)) return 1;
return 0;
}
}, {
key: "__fromDouble",
value: function(e) {
l.__kBitConversionDouble[0] = e;
var t, n = (2047 & l.__kBitConversionInts[1] >>> 20) - 1023, r = 1 + (0 | n / 30), i = new l(r, 0 > e), a = 1048575 & l.__kBitConversionInts[1] | 1048576, o = l.__kBitConversionInts[0], s = 20, c = n % 30, d = 0;
if (c < s) {
var u = s - c;
d = u + 32, t = a >>> u, a = a << 32 - u | o >>> u, o <<= 32 - u;
} else if (c === s) d = 32, t = a, a = o, o = 0; else {
var p = c - s;
d = 32 - p, t = a << p | o >>> 32 - p, a = o << p, o = 0;
}
i.__setDigit(r - 1, t);
for (var f = r - 2; 0 <= f; f--) 0 < d ? (d -= 30, t = a >>> 2, a = a << 30 | o >>> 2, 
o <<= 30) : t = 0, i.__setDigit(f, t);
return i.__trim();
}
}, {
key: "__isWhitespace",
value: function(e) {
return !!(13 >= e && 9 <= e) || (159 >= e ? 32 == e : 131071 >= e ? 160 == e || 5760 == e : 196607 >= e ? 10 >= (e &= 131071) || 40 == e || 41 == e || 47 == e || 95 == e || 4096 == e : 65279 == e);
}
}, {
key: "__fromString",
value: function(e) {
var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0, n = 0, r = e.length, i = 0;
if (i === r) return l.__zero();
for (var a = e.charCodeAt(i); l.__isWhitespace(a); ) {
if (++i === r) return l.__zero();
a = e.charCodeAt(i);
}
if (43 === a) {
if (++i === r) return null;
a = e.charCodeAt(i), n = 1;
} else if (45 === a) {
if (++i === r) return null;
a = e.charCodeAt(i), n = -1;
}
if (0 === t) {
if (t = 10, 48 === a) {
if (++i === r) return l.__zero();
if (88 === (a = e.charCodeAt(i)) || 120 === a) {
if (t = 16, ++i === r) return null;
a = e.charCodeAt(i);
} else if (79 === a || 111 === a) {
if (t = 8, ++i === r) return null;
a = e.charCodeAt(i);
} else if (66 === a || 98 === a) {
if (t = 2, ++i === r) return null;
a = e.charCodeAt(i);
}
}
} else if (16 === t && 48 === a) {
if (++i === r) return l.__zero();
if (88 === (a = e.charCodeAt(i)) || 120 === a) {
if (++i === r) return null;
a = e.charCodeAt(i);
}
}
if (0 !== n && 10 !== t) return null;
for (;48 === a; ) {
if (++i === r) return l.__zero();
a = e.charCodeAt(i);
}
var o = r - i, s = l.__kMaxBitsPerChar[t], c = l.__kBitsPerCharTableMultiplier - 1;
if (o > 1073741824 / s) return null;
var d = new l(0 | (29 + (s * o + c >>> l.__kBitsPerCharTableShift)) / 30, !1), u = 10 > t ? t : 10, p = 10 < t ? t - 10 : 0;
if (0 == (t & t - 1)) {
s >>= l.__kBitsPerCharTableShift;
var f = [], m = [], y = !1;
do {
for (var h, g = 0, I = 0; ;) {
if (h = void 0, a - 48 >>> 0 < u) h = a - 48; else {
if (!((32 | a) - 97 >>> 0 < p)) {
y = !0;
break;
}
h = (32 | a) - 87;
}
if (I += s, g = g << s | h, ++i === r) {
y = !0;
break;
}
if (a = e.charCodeAt(i), 30 < I + s) break;
}
f.push(g), m.push(I);
} while (!y);
l.__fillFromParts(d, f, m);
} else {
d.__initializeDigits();
var v = !1, b = 0;
do {
for (var _, P = 0, S = 1; ;) {
if (_ = void 0, a - 48 >>> 0 < u) _ = a - 48; else {
if (!((32 | a) - 97 >>> 0 < p)) {
v = !0;
break;
}
_ = (32 | a) - 87;
}
var T = S * t;
if (1073741823 < T) break;
if (S = T, P = P * t + _, b++, ++i === r) {
v = !0;
break;
}
a = e.charCodeAt(i);
}
var E = 0 | (s * b + (c = 30 * l.__kBitsPerCharTableMultiplier - 1) >>> l.__kBitsPerCharTableShift) / 30;
d.__inplaceMultiplyAdd(S, P, E);
} while (!v);
}
if (i !== r) {
if (!l.__isWhitespace(a)) return null;
for (i++; i < r; i++) if (a = e.charCodeAt(i), !l.__isWhitespace(a)) return null;
}
return d.sign = -1 === n, d.__trim();
}
}, {
key: "__fillFromParts",
value: function(e, t, n) {
for (var r = 0, i = 0, a = 0, o = t.length - 1; 0 <= o; o--) {
var s = t[o], l = n[o];
i |= s << a, 30 === (a += l) ? (e.__setDigit(r++, i), a = 0, i = 0) : 30 < a && (e.__setDigit(r++, 1073741823 & i), 
i = s >>> l - (a -= 30));
}
if (0 !== i) {
if (r >= e.length) throw new Error("implementation bug");
e.__setDigit(r++, i);
}
for (;r < e.length; r++) e.__setDigit(r, 0);
}
}, {
key: "__toStringBasePowerOfTwo",
value: function(e, t) {
var n = e.length, r = t - 1, i = r = (15 & (r = (51 & (r = (85 & r >>> 1) + (85 & r)) >>> 2) + (51 & r)) >>> 4) + (15 & r), a = t - 1, o = e.__digit(n - 1), s = 0 | (30 * n - l.__clz30(o) + i - 1) / i;
if (e.sign && s++, 268435456 < s) throw new Error("string too long");
for (var c = Array(s), d = s - 1, u = 0, p = 0, f = 0; f < n - 1; f++) {
var m = e.__digit(f), y = (u | m << p) & a;
c[d--] = l.__kConversionChars[y];
var h = i - p;
for (u = m >>> h, p = 30 - h; p >= i; ) c[d--] = l.__kConversionChars[u & a], u >>>= i, 
p -= i;
}
var g = (u | o << p) & a;
for (c[d--] = l.__kConversionChars[g], u = o >>> i - p; 0 !== u; ) c[d--] = l.__kConversionChars[u & a], 
u >>>= i;
if (e.sign && (c[d--] = "-"), -1 !== d) throw new Error("implementation bug");
return c.join("");
}
}, {
key: "__toStringGeneric",
value: function(e, t, n) {
var r = e.length;
if (0 === r) return "";
if (1 === r) {
var i = e.__unsignedDigit(0).toString(t);
return !1 === n && e.sign && (i = "-" + i), i;
}
var a, o, s = 30 * r - l.__clz30(e.__digit(r - 1)), c = l.__kMaxBitsPerChar[t] - 1, d = s * l.__kBitsPerCharTableMultiplier, u = 1 + (d = 0 | (d += c - 1) / c) >> 1, p = l.exponentiate(l.__oneDigit(t, !1), l.__oneDigit(u, !1)), f = p.__unsignedDigit(0);
if (1 === p.length && 32767 >= f) {
(a = new l(e.length, !1)).__initializeDigits();
for (var m, y = 0, h = 2 * e.length - 1; 0 <= h; h--) m = y << 15 | e.__halfDigit(h), 
a.__setHalfDigit(h, 0 | m / f), y = 0 | m % f;
o = y.toString(t);
} else {
var g = l.__absoluteDivLarge(e, p, !0, !0);
a = g.quotient;
var I = g.remainder.__trim();
o = l.__toStringGeneric(I, t, !0);
}
a.__trim();
for (var v = l.__toStringGeneric(a, t, !0); o.length < u; ) o = "0" + o;
return !1 === n && e.sign && (v = "-" + v), v + o;
}
}, {
key: "__unequalSign",
value: function(e) {
return e ? -1 : 1;
}
}, {
key: "__absoluteGreater",
value: function(e) {
return e ? -1 : 1;
}
}, {
key: "__absoluteLess",
value: function(e) {
return e ? 1 : -1;
}
}, {
key: "__compareToBigInt",
value: function(e, t) {
var n = e.sign;
if (n !== t.sign) return l.__unequalSign(n);
var r = l.__absoluteCompare(e, t);
return 0 < r ? l.__absoluteGreater(n) : 0 > r ? l.__absoluteLess(n) : 0;
}
}, {
key: "__compareToNumber",
value: function(e, n) {
if (l.__isOneDigitInt(n)) {
var r = e.sign, i = 0 > n;
if (r !== i) return l.__unequalSign(r);
if (0 === e.length) {
if (i) throw new Error("implementation bug");
return 0 === n ? 0 : -1;
}
if (1 < e.length) return l.__absoluteGreater(r);
var a = t(n), o = e.__unsignedDigit(0);
return o > a ? l.__absoluteGreater(r) : o < a ? l.__absoluteLess(r) : 0;
}
return l.__compareToDouble(e, n);
}
}, {
key: "__compareToDouble",
value: function(e, t) {
if (t != t) return t;
if (t === 1 / 0) return -1;
if (t === -1 / 0) return 1;
var n = e.sign;
if (n !== 0 > t) return l.__unequalSign(n);
if (0 === t) throw new Error("implementation bug: should be handled elsewhere");
if (0 === e.length) return -1;
l.__kBitConversionDouble[0] = t;
var r = 2047 & l.__kBitConversionInts[1] >>> 20;
if (2047 == r) throw new Error("implementation bug: handled elsewhere");
var i = r - 1023;
if (0 > i) return l.__absoluteGreater(n);
var a = e.length, o = e.__digit(a - 1), s = l.__clz30(o), c = 30 * a - s, d = i + 1;
if (c < d) return l.__absoluteLess(n);
if (c > d) return l.__absoluteGreater(n);
var u = 1048576 | 1048575 & l.__kBitConversionInts[1], p = l.__kBitConversionInts[0], f = 20, m = 29 - s;
if (m !== (0 | (c - 1) % 30)) throw new Error("implementation bug");
var y, h = 0;
if (m < f) {
var g = f - m;
h = g + 32, y = u >>> g, u = u << 32 - g | p >>> g, p <<= 32 - g;
} else if (m === f) h = 32, y = u, u = p, p = 0; else {
var I = m - f;
h = 32 - I, y = u << I | p >>> 32 - I, u = p << I, p = 0;
}
if ((o >>>= 0) > (y >>>= 0)) return l.__absoluteGreater(n);
if (o < y) return l.__absoluteLess(n);
for (var v = a - 2; 0 <= v; v--) {
0 < h ? (h -= 30, y = u >>> 2, u = u << 30 | p >>> 2, p <<= 30) : y = 0;
var b = e.__unsignedDigit(v);
if (b > y) return l.__absoluteGreater(n);
if (b < y) return l.__absoluteLess(n);
}
if (0 !== u || 0 !== p) {
if (0 === h) throw new Error("implementation bug");
return l.__absoluteLess(n);
}
return 0;
}
}, {
key: "__equalToNumber",
value: function(e, n) {
return l.__isOneDigitInt(n) ? 0 === n ? 0 === e.length : 1 === e.length && e.sign === 0 > n && e.__unsignedDigit(0) === t(n) : 0 === l.__compareToDouble(e, n);
}
}, {
key: "__comparisonResultToBool",
value: function(e, t) {
return 0 === t ? 0 > e : 1 === t ? 0 >= e : 2 === t ? 0 < e : 3 === t ? 0 <= e : void 0;
}
}, {
key: "__compare",
value: function(e, t, n) {
if (e = l.__toPrimitive(e), t = l.__toPrimitive(t), "string" == typeof e && "string" == typeof t) switch (n) {
case 0:
return e < t;

case 1:
return e <= t;

case 2:
return e > t;

case 3:
return e >= t;
}
if (l.__isBigInt(e) && "string" == typeof t) return null !== (t = l.__fromString(t)) && l.__comparisonResultToBool(l.__compareToBigInt(e, t), n);
if ("string" == typeof e && l.__isBigInt(t)) return null !== (e = l.__fromString(e)) && l.__comparisonResultToBool(l.__compareToBigInt(e, t), n);
if (e = l.__toNumeric(e), t = l.__toNumeric(t), l.__isBigInt(e)) {
if (l.__isBigInt(t)) return l.__comparisonResultToBool(l.__compareToBigInt(e, t), n);
if ("number" != typeof t) throw new Error("implementation bug");
return l.__comparisonResultToBool(l.__compareToNumber(e, t), n);
}
if ("number" != typeof e) throw new Error("implementation bug");
if (l.__isBigInt(t)) return l.__comparisonResultToBool(l.__compareToNumber(t, e), 2 ^ n);
if ("number" != typeof t) throw new Error("implementation bug");
return 0 === n ? e < t : 1 === n ? e <= t : 2 === n ? e > t : 3 === n ? e >= t : void 0;
}
}, {
key: "__absoluteAdd",
value: function(e, t, n) {
if (e.length < t.length) return l.__absoluteAdd(t, e, n);
if (0 === e.length) return e;
if (0 === t.length) return e.sign === n ? e : l.unaryMinus(e);
var r = e.length;
(0 === e.__clzmsd() || t.length === e.length && 0 === t.__clzmsd()) && r++;
for (var i, a = new l(r, n), o = 0, s = 0; s < t.length; s++) o = (i = e.__digit(s) + t.__digit(s) + o) >>> 30, 
a.__setDigit(s, 1073741823 & i);
for (;s < e.length; s++) {
var c = e.__digit(s) + o;
o = c >>> 30, a.__setDigit(s, 1073741823 & c);
}
return s < a.length && a.__setDigit(s, o), a.__trim();
}
}, {
key: "__absoluteSub",
value: function(e, t, n) {
if (0 === e.length) return e;
if (0 === t.length) return e.sign === n ? e : l.unaryMinus(e);
for (var r, i = new l(e.length, n), a = 0, o = 0; o < t.length; o++) a = 1 & (r = e.__digit(o) - t.__digit(o) - a) >>> 30, 
i.__setDigit(o, 1073741823 & r);
for (;o < e.length; o++) {
var s = e.__digit(o) - a;
a = 1 & s >>> 30, i.__setDigit(o, 1073741823 & s);
}
return i.__trim();
}
}, {
key: "__absoluteAddOne",
value: function(e, t) {
var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null, r = e.length;
null === n ? n = new l(r, t) : n.sign = t;
for (var i, a = 1, o = 0; o < r; o++) a = (i = e.__digit(o) + a) >>> 30, n.__setDigit(o, 1073741823 & i);
return 0 !== a && n.__setDigitGrow(r, 1), n;
}
}, {
key: "__absoluteSubOne",
value: function(e, t) {
for (var n, r = e.length, i = new l(t = t || r, !1), a = 1, o = 0; o < r; o++) a = 1 & (n = e.__digit(o) - a) >>> 30, 
i.__setDigit(o, 1073741823 & n);
if (0 !== a) throw new Error("implementation bug");
for (var s = r; s < t; s++) i.__setDigit(s, 0);
return i;
}
}, {
key: "__absoluteAnd",
value: function(e, t) {
var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null, r = e.length, i = t.length, a = i;
if (r < i) {
a = r;
var o = e, s = r;
e = t, r = i, t = o, i = s;
}
var c = a;
null === n ? n = new l(c, !1) : c = n.length;
for (var d = 0; d < a; d++) n.__setDigit(d, e.__digit(d) & t.__digit(d));
for (;d < c; d++) n.__setDigit(d, 0);
return n;
}
}, {
key: "__absoluteAndNot",
value: function(e, t) {
var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null, r = e.length, i = t.length, a = i;
r < i && (a = r);
var o = r;
null === n ? n = new l(o, !1) : o = n.length;
for (var s = 0; s < a; s++) n.__setDigit(s, e.__digit(s) & ~t.__digit(s));
for (;s < r; s++) n.__setDigit(s, e.__digit(s));
for (;s < o; s++) n.__setDigit(s, 0);
return n;
}
}, {
key: "__absoluteOr",
value: function(e, t) {
var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null, r = e.length, i = t.length, a = i;
if (r < i) {
a = r;
var o = e, s = r;
e = t, r = i, t = o, i = s;
}
var c = r;
null === n ? n = new l(c, !1) : c = n.length;
for (var d = 0; d < a; d++) n.__setDigit(d, e.__digit(d) | t.__digit(d));
for (;d < r; d++) n.__setDigit(d, e.__digit(d));
for (;d < c; d++) n.__setDigit(d, 0);
return n;
}
}, {
key: "__absoluteXor",
value: function(e, t) {
var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null, r = e.length, i = t.length, a = i;
if (r < i) {
a = r;
var o = e, s = r;
e = t, r = i, t = o, i = s;
}
var c = r;
null === n ? n = new l(c, !1) : c = n.length;
for (var d = 0; d < a; d++) n.__setDigit(d, e.__digit(d) ^ t.__digit(d));
for (;d < r; d++) n.__setDigit(d, e.__digit(d));
for (;d < c; d++) n.__setDigit(d, 0);
return n;
}
}, {
key: "__absoluteCompare",
value: function(e, t) {
var n = e.length - t.length;
if (0 != n) return n;
for (var r = e.length - 1; 0 <= r && e.__digit(r) === t.__digit(r); ) r--;
return 0 > r ? 0 : e.__unsignedDigit(r) > t.__unsignedDigit(r) ? 1 : -1;
}
}, {
key: "__multiplyAccumulate",
value: function(e, t, n, r) {
if (0 !== t) {
for (var i = 32767 & t, a = t >>> 15, o = 0, s = 0, c = 0; c < e.length; c++, r++) {
var d = n.__digit(r), u = e.__digit(c), p = 32767 & u, f = u >>> 15, m = l.__imul(p, i), y = l.__imul(p, a), h = l.__imul(f, i);
o = (d += s + m + o) >>> 30, d &= 1073741823, o += (d += ((32767 & y) << 15) + ((32767 & h) << 15)) >>> 30, 
s = l.__imul(f, a) + (y >>> 15) + (h >>> 15), n.__setDigit(r, 1073741823 & d);
}
for (;0 !== o || 0 !== s; r++) {
var g = n.__digit(r);
g += o + s, s = 0, o = g >>> 30, n.__setDigit(r, 1073741823 & g);
}
}
}
}, {
key: "__internalMultiplyAdd",
value: function(e, t, n, r, i) {
for (var a = n, o = 0, s = 0; s < r; s++) {
var c = e.__digit(s), d = l.__imul(32767 & c, t), u = l.__imul(c >>> 15, t), p = d + ((32767 & u) << 15) + o + a;
a = p >>> 30, o = u >>> 15, i.__setDigit(s, 1073741823 & p);
}
if (i.length > r) for (i.__setDigit(r++, a + o); r < i.length; ) i.__setDigit(r++, 0); else if (0 !== a + o) throw new Error("implementation bug");
}
}, {
key: "__absoluteDivSmall",
value: function(e, t) {
var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
null === n && (n = new l(e.length, !1));
for (var r = 0, i = 2 * e.length - 1; 0 <= i; i -= 2) {
var a = (r << 15 | e.__halfDigit(i)) >>> 0, o = 0 | a / t, s = 0 | (a = ((r = 0 | a % t) << 15 | e.__halfDigit(i - 1)) >>> 0) / t;
r = 0 | a % t, n.__setDigit(i >>> 1, o << 15 | s);
}
return n;
}
}, {
key: "__absoluteModSmall",
value: function(e, t) {
for (var n = 0, r = 2 * e.length - 1; 0 <= r; r--) n = 0 | ((n << 15 | e.__halfDigit(r)) >>> 0) % t;
return n;
}
}, {
key: "__absoluteDivLarge",
value: function(e, t, n, r) {
var i = t.__halfDigitLength(), a = t.length, o = e.__halfDigitLength() - i, s = null;
n && (s = new l(o + 2 >>> 1, !1)).__initializeDigits();
var c = new l(i + 2 >>> 1, !1);
c.__initializeDigits();
var d = l.__clz15(t.__halfDigit(i - 1));
0 < d && (t = l.__specialLeftShift(t, d, 0));
for (var u = l.__specialLeftShift(e, d, 1), p = t.__halfDigit(i - 1), f = 0, m = o; 0 <= m; m--) {
var y = 32767, h = u.__halfDigit(m + i);
if (h !== p) {
var g = (h << 15 | u.__halfDigit(m + i - 1)) >>> 0;
y = 0 | g / p;
for (var I = 0 | g % p, v = t.__halfDigit(i - 2), b = u.__halfDigit(m + i - 2); l.__imul(y, v) >>> 0 > (I << 16 | b) >>> 0 && (y--, 
!(32767 < (I += p))); ) ;
}
l.__internalMultiplyAdd(t, y, 0, a, c);
var _ = u.__inplaceSub(c, m, i + 1);
0 !== _ && (_ = u.__inplaceAdd(t, m, i), u.__setHalfDigit(m + i, 32767 & u.__halfDigit(m + i) + _), 
y--), n && (1 & m ? f = y << 15 : s.__setDigit(m >>> 1, f | y));
}
if (r) return u.__inplaceRightShift(d), n ? {
quotient: s,
remainder: u
} : u;
if (n) return s;
throw new Error("unreachable");
}
}, {
key: "__clz15",
value: function(e) {
return l.__clz30(e) - 15;
}
}, {
key: "__specialLeftShift",
value: function(e, t, n) {
var r = e.length, i = new l(r + n, !1);
if (0 === t) {
for (var a = 0; a < r; a++) i.__setDigit(a, e.__digit(a));
return 0 < n && i.__setDigit(r, 0), i;
}
for (var o, s = 0, c = 0; c < r; c++) o = e.__digit(c), i.__setDigit(c, 1073741823 & o << t | s), 
s = o >>> 30 - t;
return 0 < n && i.__setDigit(r, s), i;
}
}, {
key: "__leftShiftByAbsolute",
value: function(e, t) {
var n = l.__toShiftAmount(t);
if (0 > n) throw new RangeError("BigInt too big");
var r = 0 | n / 30, i = n % 30, a = e.length, o = 0 !== i && 0 != e.__digit(a - 1) >>> 30 - i, s = a + r + (o ? 1 : 0), c = new l(s, e.sign);
if (0 === i) {
for (var d = 0; d < r; d++) c.__setDigit(d, 0);
for (;d < s; d++) c.__setDigit(d, e.__digit(d - r));
} else {
for (var u = 0, p = 0; p < r; p++) c.__setDigit(p, 0);
for (var f, m = 0; m < a; m++) f = e.__digit(m), c.__setDigit(m + r, 1073741823 & f << i | u), 
u = f >>> 30 - i;
if (o) c.__setDigit(a + r, u); else if (0 !== u) throw new Error("implementation bug");
}
return c.__trim();
}
}, {
key: "__rightShiftByAbsolute",
value: function(e, t) {
var n = e.length, r = e.sign, i = l.__toShiftAmount(t);
if (0 > i) return l.__rightShiftByMaximum(r);
var a = 0 | i / 30, o = i % 30, s = n - a;
if (0 >= s) return l.__rightShiftByMaximum(r);
var c = !1;
if (r) if (0 != (e.__digit(a) & (1 << o) - 1)) c = !0; else for (var d = 0; d < a; d++) if (0 !== e.__digit(d)) {
c = !0;
break;
}
c && 0 === o && 0 == ~e.__digit(n - 1) && s++;
var u = new l(s, r);
if (0 === o) {
u.__setDigit(s - 1, 0);
for (var p = a; p < n; p++) u.__setDigit(p - a, e.__digit(p));
} else {
for (var f, m = e.__digit(a) >>> o, y = n - a - 1, h = 0; h < y; h++) f = e.__digit(h + a + 1), 
u.__setDigit(h, 1073741823 & f << 30 - o | m), m = f >>> o;
u.__setDigit(y, m);
}
return c && (u = l.__absoluteAddOne(u, !0, u)), u.__trim();
}
}, {
key: "__rightShiftByMaximum",
value: function(e) {
return e ? l.__oneDigit(1, !0) : l.__zero();
}
}, {
key: "__toShiftAmount",
value: function(e) {
if (1 < e.length) return -1;
var t = e.__unsignedDigit(0);
return t > l.__kMaxLengthBits ? -1 : t;
}
}, {
key: "__toPrimitive",
value: function(e) {
var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "default";
if ("object" !== n(e)) return e;
if (e.constructor === l) return e;
if ("undefined" != typeof Symbol && "symbol" === n(Symbol.toPrimitive)) {
var r = e[Symbol.toPrimitive];
if (r) {
var i = r(t);
if ("object" !== n(i)) return i;
throw new TypeError("Cannot convert object to primitive value");
}
}
var a = e.valueOf;
if (a) {
var o = a.call(e);
if ("object" !== n(o)) return o;
}
var s = e.toString;
if (s) {
var c = s.call(e);
if ("object" !== n(c)) return c;
}
throw new TypeError("Cannot convert object to primitive value");
}
}, {
key: "__toNumeric",
value: function(e) {
return l.__isBigInt(e) ? e : +e;
}
}, {
key: "__isBigInt",
value: function(e) {
return "object" === n(e) && null !== e && e.constructor === l;
}
}, {
key: "__truncateToNBits",
value: function(e, t) {
for (var n = 0 | (e + 29) / 30, r = new l(n, t.sign), i = n - 1, a = 0; a < i; a++) r.__setDigit(a, t.__digit(a));
var o = t.__digit(i);
if (0 != e % 30) {
var s = 32 - e % 30;
o = o << s >>> s;
}
return r.__setDigit(i, o), r.__trim();
}
}, {
key: "__truncateAndSubFromPowerOfTwo",
value: function(e, t, n) {
for (var r, i = Math.min, a = 0 | (e + 29) / 30, o = new l(a, n), s = 0, c = a - 1, d = 0, u = i(c, t.length); s < u; s++) d = 1 & (r = 0 - t.__digit(s) - d) >>> 30, 
o.__setDigit(s, 1073741823 & r);
for (;s < c; s++) o.__setDigit(s, 0 | 1073741823 & -d);
var p, f = c < t.length ? t.__digit(c) : 0, m = e % 30;
if (0 === m) p = 0 - f - d, p &= 1073741823; else {
var y = 32 - m, h = 1 << 32 - y;
p = h - (f = f << y >>> y) - d, p &= h - 1;
}
return o.__setDigit(c, p), o.__trim();
}
}, {
key: "__digitPow",
value: function(e, t) {
for (var n = 1; 0 < t; ) 1 & t && (n *= e), t >>>= 1, e *= e;
return n;
}
}, {
key: "__isOneDigitInt",
value: function(e) {
return (1073741823 & e) === e;
}
} ]), l;
}(p(Array));
return S.__kMaxLength = 33554432, S.__kMaxLengthBits = S.__kMaxLength << 5, S.__kMaxBitsPerChar = [ 0, 0, 32, 51, 64, 75, 83, 90, 96, 102, 107, 111, 115, 119, 122, 126, 128, 131, 134, 136, 139, 141, 143, 145, 147, 149, 151, 153, 154, 156, 158, 159, 160, 162, 163, 165, 166 ], 
S.__kBitsPerCharTableShift = 5, S.__kBitsPerCharTableMultiplier = 1 << S.__kBitsPerCharTableShift, 
S.__kConversionChars = [ "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z" ], 
S.__kBitConversionBuffer = new ArrayBuffer(8), S.__kBitConversionDouble = new Float64Array(S.__kBitConversionBuffer), 
S.__kBitConversionInts = new Int32Array(S.__kBitConversionBuffer), S.__clz30 = t ? function(e) {
return t(e) - 2;
} : function(e) {
var t = Math.LN2, n = Math.log;
return 0 === e ? 30 : 0 | 29 - (0 | n(e >>> 0) / t);
}, S.__imul = e || function(e, t) {
return 0 | e * t;
}, S;
}();
})), eo = function(e, t) {
var n = new Array(arguments.length - 1), r = 0, i = 2, a = !0;
for (;i < arguments.length; ) n[r++] = arguments[i++];
return new Promise((function(i, o) {
n[r] = function(e) {
if (a) if (a = !1, e) o(e); else {
for (var t = new Array(arguments.length - 1), n = 0; n < t.length; ) t[n++] = arguments[n];
i.apply(null, t);
}
};
try {
e.apply(t || null, n);
} catch (e) {
a && (a = !1, o(e));
}
}));
};
var to = t((function(e, t) {
var n = t;
n.length = function(e) {
var t = e.length;
if (!t) return 0;
for (var n = 0; --t % 4 > 1 && "=" === e.charAt(t); ) ++n;
return Math.ceil(3 * e.length) / 4 - n;
};
for (var r = new Array(64), i = new Array(123), a = 0; a < 64; ) i[r[a] = a < 26 ? a + 65 : a < 52 ? a + 71 : a < 62 ? a - 4 : a - 59 | 43] = a++;
n.encode = function(e, t, n) {
for (var i, a = null, o = [], s = 0, l = 0; t < n; ) {
var c = e[t++];
switch (l) {
case 0:
o[s++] = r[c >> 2], i = (3 & c) << 4, l = 1;
break;

case 1:
o[s++] = r[i | c >> 4], i = (15 & c) << 2, l = 2;
break;

case 2:
o[s++] = r[i | c >> 6], o[s++] = r[63 & c], l = 0;
}
s > 8191 && ((a || (a = [])).push(String.fromCharCode.apply(String, o)), s = 0);
}
return l && (o[s++] = r[i], o[s++] = 61, 1 === l && (o[s++] = 61)), a ? (s && a.push(String.fromCharCode.apply(String, o.slice(0, s))), 
a.join("")) : String.fromCharCode.apply(String, o.slice(0, s));
};
var o = "invalid encoding";
n.decode = function(e, t, n) {
for (var r, a = n, s = 0, l = 0; l < e.length; ) {
var c = e.charCodeAt(l++);
if (61 === c && s > 1) break;
if (void 0 === (c = i[c])) throw Error(o);
switch (s) {
case 0:
r = c, s = 1;
break;

case 1:
t[n++] = r << 2 | (48 & c) >> 4, r = c, s = 2;
break;

case 2:
t[n++] = (15 & r) << 4 | (60 & c) >> 2, r = c, s = 3;
break;

case 3:
t[n++] = (3 & r) << 6 | c, s = 0;
}
}
if (1 === s) throw Error(o);
return n - a;
}, n.test = function(e) {
return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e);
};
})), no = ro;
function ro() {
this._listeners = {};
}
ro.prototype.on = function(e, t, n) {
return (this._listeners[e] || (this._listeners[e] = [])).push({
fn: t,
ctx: n || this
}), this;
}, ro.prototype.off = function(e, t) {
if (void 0 === e) this._listeners = {}; else if (void 0 === t) this._listeners[e] = []; else for (var n = this._listeners[e], r = 0; r < n.length; ) n[r].fn === t ? n.splice(r, 1) : ++r;
return this;
}, ro.prototype.emit = function(e) {
var t = this._listeners[e];
if (t) {
for (var n = [], r = 1; r < arguments.length; ) n.push(arguments[r++]);
for (r = 0; r < t.length; ) t[r].fn.apply(t[r++].ctx, n);
}
return this;
};
var io = ao(ao);
function ao(e) {
return "undefined" != typeof Float32Array ? function() {
var t = new Float32Array([ -0 ]), n = new Uint8Array(t.buffer), r = 128 === n[3];
function i(e, r, i) {
t[0] = e, r[i] = n[0], r[i + 1] = n[1], r[i + 2] = n[2], r[i + 3] = n[3];
}
function a(e, r, i) {
t[0] = e, r[i] = n[3], r[i + 1] = n[2], r[i + 2] = n[1], r[i + 3] = n[0];
}
function o(e, r) {
return n[0] = e[r], n[1] = e[r + 1], n[2] = e[r + 2], n[3] = e[r + 3], t[0];
}
function s(e, r) {
return n[3] = e[r], n[2] = e[r + 1], n[1] = e[r + 2], n[0] = e[r + 3], t[0];
}
e.writeFloatLE = r ? i : a, e.writeFloatBE = r ? a : i, e.readFloatLE = r ? o : s, 
e.readFloatBE = r ? s : o;
}() : function() {
function t(e, t, n, r) {
var i = t < 0 ? 1 : 0;
if (i && (t = -t), 0 === t) e(1 / t > 0 ? 0 : 2147483648, n, r); else if (isNaN(t)) e(2143289344, n, r); else if (t > 34028234663852886e22) e((i << 31 | 2139095040) >>> 0, n, r); else if (t < 11754943508222875e-54) e((i << 31 | Math.round(t / 1401298464324817e-60)) >>> 0, n, r); else {
var a = Math.floor(Math.log(t) / Math.LN2);
e((i << 31 | a + 127 << 23 | 8388607 & Math.round(t * Math.pow(2, -a) * 8388608)) >>> 0, n, r);
}
}
function n(e, t, n) {
var r = e(t, n), i = 2 * (r >> 31) + 1, a = r >>> 23 & 255, o = 8388607 & r;
return 255 === a ? o ? NaN : i * (1 / 0) : 0 === a ? 1401298464324817e-60 * i * o : i * Math.pow(2, a - 150) * (o + 8388608);
}
e.writeFloatLE = t.bind(null, oo), e.writeFloatBE = t.bind(null, so), e.readFloatLE = n.bind(null, lo), 
e.readFloatBE = n.bind(null, co);
}(), "undefined" != typeof Float64Array ? function() {
var t = new Float64Array([ -0 ]), n = new Uint8Array(t.buffer), r = 128 === n[7];
function i(e, r, i) {
t[0] = e, r[i] = n[0], r[i + 1] = n[1], r[i + 2] = n[2], r[i + 3] = n[3], r[i + 4] = n[4], 
r[i + 5] = n[5], r[i + 6] = n[6], r[i + 7] = n[7];
}
function a(e, r, i) {
t[0] = e, r[i] = n[7], r[i + 1] = n[6], r[i + 2] = n[5], r[i + 3] = n[4], r[i + 4] = n[3], 
r[i + 5] = n[2], r[i + 6] = n[1], r[i + 7] = n[0];
}
function o(e, r) {
return n[0] = e[r], n[1] = e[r + 1], n[2] = e[r + 2], n[3] = e[r + 3], n[4] = e[r + 4], 
n[5] = e[r + 5], n[6] = e[r + 6], n[7] = e[r + 7], t[0];
}
function s(e, r) {
return n[7] = e[r], n[6] = e[r + 1], n[5] = e[r + 2], n[4] = e[r + 3], n[3] = e[r + 4], 
n[2] = e[r + 5], n[1] = e[r + 6], n[0] = e[r + 7], t[0];
}
e.writeDoubleLE = r ? i : a, e.writeDoubleBE = r ? a : i, e.readDoubleLE = r ? o : s, 
e.readDoubleBE = r ? s : o;
}() : function() {
function t(e, t, n, r, i, a) {
var o = r < 0 ? 1 : 0;
if (o && (r = -r), 0 === r) e(0, i, a + t), e(1 / r > 0 ? 0 : 2147483648, i, a + n); else if (isNaN(r)) e(0, i, a + t), 
e(2146959360, i, a + n); else if (r > 17976931348623157e292) e(0, i, a + t), e((o << 31 | 2146435072) >>> 0, i, a + n); else {
var s;
if (r < 22250738585072014e-324) e((s = r / 5e-324) >>> 0, i, a + t), e((o << 31 | s / 4294967296) >>> 0, i, a + n); else {
var l = Math.floor(Math.log(r) / Math.LN2);
1024 === l && (l = 1023), e(4503599627370496 * (s = r * Math.pow(2, -l)) >>> 0, i, a + t), 
e((o << 31 | l + 1023 << 20 | 1048576 * s & 1048575) >>> 0, i, a + n);
}
}
}
function n(e, t, n, r, i) {
var a = e(r, i + t), o = e(r, i + n), s = 2 * (o >> 31) + 1, l = o >>> 20 & 2047, c = 4294967296 * (1048575 & o) + a;
return 2047 === l ? c ? NaN : s * (1 / 0) : 0 === l ? 5e-324 * s * c : s * Math.pow(2, l - 1075) * (c + 4503599627370496);
}
e.writeDoubleLE = t.bind(null, oo, 0, 4), e.writeDoubleBE = t.bind(null, so, 4, 0), 
e.readDoubleLE = n.bind(null, lo, 0, 4), e.readDoubleBE = n.bind(null, co, 4, 0);
}(), e;
}
function oo(e, t, n) {
t[n] = 255 & e, t[n + 1] = e >>> 8 & 255, t[n + 2] = e >>> 16 & 255, t[n + 3] = e >>> 24;
}
function so(e, t, n) {
t[n] = e >>> 24, t[n + 1] = e >>> 16 & 255, t[n + 2] = e >>> 8 & 255, t[n + 3] = 255 & e;
}
function lo(e, t) {
return (e[t] | e[t + 1] << 8 | e[t + 2] << 16 | e[t + 3] << 24) >>> 0;
}
function co(e, t) {
return (e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3]) >>> 0;
}
var uo = function() {
return null;
}, po = t((function(e, t) {
var n = t;
n.length = function(e) {
for (var t = 0, n = 0, r = 0; r < e.length; ++r) (n = e.charCodeAt(r)) < 128 ? t += 1 : n < 2048 ? t += 2 : 55296 == (64512 & n) && 56320 == (64512 & e.charCodeAt(r + 1)) ? (++r, 
t += 4) : t += 3;
return t;
}, n.read = function(e, t, n) {
if (n - t < 1) return "";
for (var r, i = null, a = [], o = 0; t < n; ) (r = e[t++]) < 128 ? a[o++] = r : r > 191 && r < 224 ? a[o++] = (31 & r) << 6 | 63 & e[t++] : r > 239 && r < 365 ? (r = ((7 & r) << 18 | (63 & e[t++]) << 12 | (63 & e[t++]) << 6 | 63 & e[t++]) - 65536, 
a[o++] = 55296 + (r >> 10), a[o++] = 56320 + (1023 & r)) : a[o++] = (15 & r) << 12 | (63 & e[t++]) << 6 | 63 & e[t++], 
o > 8191 && ((i || (i = [])).push(String.fromCharCode.apply(String, a)), o = 0);
return i ? (o && i.push(String.fromCharCode.apply(String, a.slice(0, o))), i.join("")) : String.fromCharCode.apply(String, a.slice(0, o));
}, n.write = function(e, t, n) {
for (var r, i, a = n, o = 0; o < e.length; ++o) (r = e.charCodeAt(o)) < 128 ? t[n++] = r : r < 2048 ? (t[n++] = r >> 6 | 192, 
t[n++] = 63 & r | 128) : 55296 == (64512 & r) && 56320 == (64512 & (i = e.charCodeAt(o + 1))) ? (r = 65536 + ((1023 & r) << 10) + (1023 & i), 
++o, t[n++] = r >> 18 | 240, t[n++] = r >> 12 & 63 | 128, t[n++] = r >> 6 & 63 | 128, 
t[n++] = 63 & r | 128) : (t[n++] = r >> 12 | 224, t[n++] = r >> 6 & 63 | 128, t[n++] = 63 & r | 128);
return n - a;
};
})), fo = function(e, t, n) {
var r = n || 8192, i = r >>> 1, a = null, o = r;
return function(n) {
if (n < 1 || n > i) return e(n);
o + n > r && (a = e(r), o = 0);
var s = t.call(a, o, o += n);
return 7 & o && (o = 1 + (7 | o)), s;
};
};
var mo = yo;
function yo(e, t) {
this.lo = e >>> 0, this.hi = t >>> 0;
}
var ho = yo.zero = new yo(0, 0);
ho.toNumber = function() {
return 0;
}, ho.zzEncode = ho.zzDecode = function() {
return this;
}, ho.length = function() {
return 1;
};
var go = yo.zeroHash = "\0\0\0\0\0\0\0\0";
yo.fromNumber = function(e) {
if (0 === e) return ho;
var t = e < 0;
t && (e = -e);
var n = e >>> 0, r = (e - n) / 4294967296 >>> 0;
return t && (r = ~r >>> 0, n = ~n >>> 0, ++n > 4294967295 && (n = 0, ++r > 4294967295 && (r = 0))), 
new yo(n, r);
}, yo.from = function(e) {
if ("number" == typeof e) return yo.fromNumber(e);
if (bo.isString(e)) {
if (!bo.Long) return yo.fromNumber(parseInt(e, 10));
e = bo.Long.fromString(e);
}
return e.low || e.high ? new yo(e.low >>> 0, e.high >>> 0) : ho;
}, yo.prototype.toNumber = function(e) {
if (!e && this.hi >>> 31) {
var t = 1 + ~this.lo >>> 0, n = ~this.hi >>> 0;
return t || (n = n + 1 >>> 0), -(t + 4294967296 * n);
}
return this.lo + 4294967296 * this.hi;
}, yo.prototype.toLong = function(e) {
return bo.Long ? new bo.Long(0 | this.lo, 0 | this.hi, Boolean(e)) : {
low: 0 | this.lo,
high: 0 | this.hi,
unsigned: Boolean(e)
};
};
var Io = String.prototype.charCodeAt;
yo.fromHash = function(e) {
return e === go ? ho : new yo((Io.call(e, 0) | Io.call(e, 1) << 8 | Io.call(e, 2) << 16 | Io.call(e, 3) << 24) >>> 0, (Io.call(e, 4) | Io.call(e, 5) << 8 | Io.call(e, 6) << 16 | Io.call(e, 7) << 24) >>> 0);
}, yo.prototype.toHash = function() {
return String.fromCharCode(255 & this.lo, this.lo >>> 8 & 255, this.lo >>> 16 & 255, this.lo >>> 24, 255 & this.hi, this.hi >>> 8 & 255, this.hi >>> 16 & 255, this.hi >>> 24);
}, yo.prototype.zzEncode = function() {
var e = this.hi >> 31;
return this.hi = ((this.hi << 1 | this.lo >>> 31) ^ e) >>> 0, this.lo = (this.lo << 1 ^ e) >>> 0, 
this;
}, yo.prototype.zzDecode = function() {
var e = -(1 & this.lo);
return this.lo = ((this.lo >>> 1 | this.hi << 31) ^ e) >>> 0, this.hi = (this.hi >>> 1 ^ e) >>> 0, 
this;
}, yo.prototype.length = function() {
var e = this.lo, t = (this.lo >>> 28 | this.hi << 4) >>> 0, n = this.hi >>> 24;
return 0 === n ? 0 === t ? e < 16384 ? e < 128 ? 1 : 2 : e < 2097152 ? 3 : 4 : t < 16384 ? t < 128 ? 5 : 6 : t < 2097152 ? 7 : 8 : n < 128 ? 9 : 10;
};
var vo, bo = t((function(t, n) {
var r = n;
function i(e, t, n) {
for (var r = Object.keys(t), i = 0; i < r.length; ++i) void 0 !== e[r[i]] && n || (e[r[i]] = t[r[i]]);
return e;
}
function a(e) {
function t(e, n) {
if (!(this instanceof t)) return new t(e, n);
Object.defineProperty(this, "message", {
get: function() {
return e;
}
}), Error.captureStackTrace ? Error.captureStackTrace(this, t) : Object.defineProperty(this, "stack", {
value: (new Error).stack || ""
}), n && i(this, n);
}
return (t.prototype = Object.create(Error.prototype)).constructor = t, Object.defineProperty(t.prototype, "name", {
get: function() {
return e;
}
}), t.prototype.toString = function() {
return this.name + ": " + this.message;
}, t;
}
r.asPromise = eo, r.base64 = to, r.EventEmitter = no, r.float = io, r.inquire = uo, 
r.utf8 = po, r.pool = fo, r.LongBits = mo, r.isNode = Boolean(void 0 !== e && e && e.process && e.process.versions && e.process.versions.node), 
r.global = r.isNode && e || "undefined" != typeof window && window || "undefined" != typeof self && self || e, 
r.emptyArray = Object.freeze ? Object.freeze([]) : [], r.emptyObject = Object.freeze ? Object.freeze({}) : {}, 
r.isInteger = Number.isInteger || function(e) {
return "number" == typeof e && isFinite(e) && Math.floor(e) === e;
}, r.isString = function(e) {
return "string" == typeof e || e instanceof String;
}, r.isObject = function(e) {
return e && "object" == typeof e;
}, r.isset = r.isSet = function(e, t) {
var n = e[t];
return !(null == n || !e.hasOwnProperty(t)) && ("object" != typeof n || (Array.isArray(n) ? n.length : Object.keys(n).length) > 0);
}, r.Buffer = function() {
try {
var e = r.inquire("buffer").Buffer;
return e.prototype.utf8Write ? e : null;
} catch (e) {
return null;
}
}(), r._Buffer_from = null, r._Buffer_allocUnsafe = null, r.newBuffer = function(e) {
return "number" == typeof e ? r.Buffer ? r._Buffer_allocUnsafe(e) : new r.Array(e) : r.Buffer ? r._Buffer_from(e) : "undefined" == typeof Uint8Array ? e : new Uint8Array(e);
}, r.Array = "undefined" != typeof Uint8Array ? Uint8Array : Array, r.Long = void 0, 
r.key2Re = /^true|false|0|1$/, r.key32Re = /^-?(?:0|[1-9][0-9]*)$/, r.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/, 
r.longToHash = function(e) {
return e ? r.LongBits.from(e).toHash() : r.LongBits.zeroHash;
}, r.longFromHash = function(e, t) {
var n = r.LongBits.fromHash(e);
return r.Long ? r.Long.fromBits(n.lo, n.hi, t) : n.toNumber(Boolean(t));
}, r.merge = i, r.lcFirst = function(e) {
return e.charAt(0).toLowerCase() + e.substring(1);
}, r.newError = a, r.ProtocolError = a("ProtocolError"), r.oneOfGetter = function(e) {
for (var t = {}, n = 0; n < e.length; ++n) t[e[n]] = 1;
return function() {
for (var e = Object.keys(this), n = e.length - 1; n > -1; --n) if (1 === t[e[n]] && void 0 !== this[e[n]] && null !== this[e[n]]) return e[n];
};
}, r.oneOfSetter = function(e) {
return function(t) {
for (var n = 0; n < e.length; ++n) e[n] !== t && delete this[e[n]];
};
}, r.toJSONOptions = {
longs: String,
enums: String,
bytes: String,
json: !0
}, r._configure = function() {
var e = r.Buffer;
e ? (r._Buffer_from = e.from !== Uint8Array.from && e.from || function(t, n) {
return new e(t, n);
}, r._Buffer_allocUnsafe = e.allocUnsafe || function(t) {
return new e(t);
}) : r._Buffer_from = r._Buffer_allocUnsafe = null;
};
})), _o = Co, Po = bo.LongBits, So = bo.base64, To = bo.utf8;
function Eo(e, t, n) {
this.fn = e, this.len = t, this.next = void 0, this.val = n;
}
function ko() {}
function No(e) {
this.head = e.head, this.tail = e.tail, this.len = e.len, this.next = e.states;
}
function Co() {
this.len = 0, this.head = new Eo(ko, 0, 0), this.tail = this.head, this.states = null;
}
var Oo = function() {
return bo.Buffer ? function() {
return (Co.create = function() {
return new vo;
})();
} : function() {
return new Co;
};
};
function Ao(e, t, n) {
t[n] = 255 & e;
}
function wo(e, t) {
this.len = e, this.next = void 0, this.val = t;
}
function Lo(e, t, n) {
for (;e.hi; ) t[n++] = 127 & e.lo | 128, e.lo = (e.lo >>> 7 | e.hi << 25) >>> 0, 
e.hi >>>= 7;
for (;e.lo > 127; ) t[n++] = 127 & e.lo | 128, e.lo = e.lo >>> 7;
t[n++] = e.lo;
}
function Ro(e, t, n) {
t[n] = 255 & e, t[n + 1] = e >>> 8 & 255, t[n + 2] = e >>> 16 & 255, t[n + 3] = e >>> 24;
}
Co.create = Oo(), Co.alloc = function(e) {
return new bo.Array(e);
}, bo.Array !== Array && (Co.alloc = bo.pool(Co.alloc, bo.Array.prototype.subarray)), 
Co.prototype._push = function(e, t, n) {
return this.tail = this.tail.next = new Eo(e, t, n), this.len += t, this;
}, wo.prototype = Object.create(Eo.prototype), wo.prototype.fn = function(e, t, n) {
for (;e > 127; ) t[n++] = 127 & e | 128, e >>>= 7;
t[n] = e;
}, Co.prototype.uint32 = function(e) {
return this.len += (this.tail = this.tail.next = new wo((e >>>= 0) < 128 ? 1 : e < 16384 ? 2 : e < 2097152 ? 3 : e < 268435456 ? 4 : 5, e)).len, 
this;
}, Co.prototype.int32 = function(e) {
return e < 0 ? this._push(Lo, 10, Po.fromNumber(e)) : this.uint32(e);
}, Co.prototype.sint32 = function(e) {
return this.uint32((e << 1 ^ e >> 31) >>> 0);
}, Co.prototype.uint64 = function(e) {
var t = Po.from(e);
return this._push(Lo, t.length(), t);
}, Co.prototype.int64 = Co.prototype.uint64, Co.prototype.sint64 = function(e) {
var t = Po.from(e).zzEncode();
return this._push(Lo, t.length(), t);
}, Co.prototype.bool = function(e) {
return this._push(Ao, 1, e ? 1 : 0);
}, Co.prototype.fixed32 = function(e) {
return this._push(Ro, 4, e >>> 0);
}, Co.prototype.sfixed32 = Co.prototype.fixed32, Co.prototype.fixed64 = function(e) {
var t = Po.from(e);
return this._push(Ro, 4, t.lo)._push(Ro, 4, t.hi);
}, Co.prototype.sfixed64 = Co.prototype.fixed64, Co.prototype.float = function(e) {
return this._push(bo.float.writeFloatLE, 4, e);
}, Co.prototype.double = function(e) {
return this._push(bo.float.writeDoubleLE, 8, e);
};
var xo = bo.Array.prototype.set ? function(e, t, n) {
t.set(e, n);
} : function(e, t, n) {
for (var r = 0; r < e.length; ++r) t[n + r] = e[r];
};
Co.prototype.bytes = function(e) {
var t = e.length >>> 0;
if (!t) return this._push(Ao, 1, 0);
if (bo.isString(e)) {
var n = Co.alloc(t = So.length(e));
So.decode(e, n, 0), e = n;
}
return this.uint32(t)._push(xo, t, e);
}, Co.prototype.string = function(e) {
var t = To.length(e);
return t ? this.uint32(t)._push(To.write, t, e) : this._push(Ao, 1, 0);
}, Co.prototype.fork = function() {
return this.states = new No(this), this.head = this.tail = new Eo(ko, 0, 0), this.len = 0, 
this;
}, Co.prototype.reset = function() {
return this.states ? (this.head = this.states.head, this.tail = this.states.tail, 
this.len = this.states.len, this.states = this.states.next) : (this.head = this.tail = new Eo(ko, 0, 0), 
this.len = 0), this;
}, Co.prototype.ldelim = function() {
var e = this.head, t = this.tail, n = this.len;
return this.reset().uint32(n), n && (this.tail.next = e.next, this.tail = t, this.len += n), 
this;
}, Co.prototype.finish = function() {
for (var e = this.head.next, t = this.constructor.alloc(this.len), n = 0; e; ) e.fn(e.val, t, n), 
n += e.len, e = e.next;
return t;
}, Co._configure = function(e) {
vo = e, Co.create = Oo(), vo._configure();
};
var Bo = Do;
function Do() {
_o.call(this);
}
function Mo(e, t, n) {
e.length < 40 ? bo.utf8.write(e, t, n) : t.utf8Write ? t.utf8Write(e, n) : t.write(e, n);
}
(Do.prototype = Object.create(_o.prototype)).constructor = Do, Do._configure = function() {
Do.alloc = bo._Buffer_allocUnsafe, Do.writeBytesBuffer = bo.Buffer && bo.Buffer.prototype instanceof Uint8Array && "set" === bo.Buffer.prototype.set.name ? function(e, t, n) {
t.set(e, n);
} : function(e, t, n) {
if (e.copy) e.copy(t, n, 0, e.length); else for (var r = 0; r < e.length; ) t[n++] = e[r++];
};
}, Do.prototype.bytes = function(e) {
bo.isString(e) && (e = bo._Buffer_from(e, "base64"));
var t = e.length >>> 0;
return this.uint32(t), t && this._push(Do.writeBytesBuffer, t, e), this;
}, Do.prototype.string = function(e) {
var t = bo.Buffer.byteLength(e);
return this.uint32(t), t && this._push(Mo, t, e), this;
}, Do._configure();
var Fo, Uo = zo, Ho = bo.LongBits, Vo = bo.utf8;
function Jo(e, t) {
return RangeError("index out of range: " + e.pos + " + " + (t || 1) + " > " + e.len);
}
function zo(e) {
this.buf = e, this.pos = 0, this.len = e.length;
}
var Go, jo = "undefined" != typeof Uint8Array ? function(e) {
if (e instanceof Uint8Array || Array.isArray(e)) return new zo(e);
throw Error("illegal buffer");
} : function(e) {
if (Array.isArray(e)) return new zo(e);
throw Error("illegal buffer");
}, qo = function() {
return bo.Buffer ? function(e) {
return (zo.create = function(e) {
return bo.Buffer.isBuffer(e) ? new Fo(e) : jo(e);
})(e);
} : jo;
};
function Wo() {
var e = new Ho(0, 0), t = 0;
if (!(this.len - this.pos > 4)) {
for (;t < 3; ++t) {
if (this.pos >= this.len) throw Jo(this);
if (e.lo = (e.lo | (127 & this.buf[this.pos]) << 7 * t) >>> 0, this.buf[this.pos++] < 128) return e;
}
return e.lo = (e.lo | (127 & this.buf[this.pos++]) << 7 * t) >>> 0, e;
}
for (;t < 4; ++t) if (e.lo = (e.lo | (127 & this.buf[this.pos]) << 7 * t) >>> 0, 
this.buf[this.pos++] < 128) return e;
if (e.lo = (e.lo | (127 & this.buf[this.pos]) << 28) >>> 0, e.hi = (e.hi | (127 & this.buf[this.pos]) >> 4) >>> 0, 
this.buf[this.pos++] < 128) return e;
if (t = 0, this.len - this.pos > 4) {
for (;t < 5; ++t) if (e.hi = (e.hi | (127 & this.buf[this.pos]) << 7 * t + 3) >>> 0, 
this.buf[this.pos++] < 128) return e;
} else for (;t < 5; ++t) {
if (this.pos >= this.len) throw Jo(this);
if (e.hi = (e.hi | (127 & this.buf[this.pos]) << 7 * t + 3) >>> 0, this.buf[this.pos++] < 128) return e;
}
throw Error("invalid varint encoding");
}
function Yo(e, t) {
return (e[t - 4] | e[t - 3] << 8 | e[t - 2] << 16 | e[t - 1] << 24) >>> 0;
}
function Ko() {
if (this.pos + 8 > this.len) throw Jo(this, 8);
return new Ho(Yo(this.buf, this.pos += 4), Yo(this.buf, this.pos += 4));
}
zo.create = qo(), zo.prototype._slice = bo.Array.prototype.subarray || bo.Array.prototype.slice, 
zo.prototype.uint32 = (Go = 4294967295, function() {
if (Go = (127 & this.buf[this.pos]) >>> 0, this.buf[this.pos++] < 128) return Go;
if (Go = (Go | (127 & this.buf[this.pos]) << 7) >>> 0, this.buf[this.pos++] < 128) return Go;
if (Go = (Go | (127 & this.buf[this.pos]) << 14) >>> 0, this.buf[this.pos++] < 128) return Go;
if (Go = (Go | (127 & this.buf[this.pos]) << 21) >>> 0, this.buf[this.pos++] < 128) return Go;
if (Go = (Go | (15 & this.buf[this.pos]) << 28) >>> 0, this.buf[this.pos++] < 128) return Go;
if ((this.pos += 5) > this.len) throw this.pos = this.len, Jo(this, 10);
return Go;
}), zo.prototype.int32 = function() {
return 0 | this.uint32();
}, zo.prototype.sint32 = function() {
var e = this.uint32();
return e >>> 1 ^ -(1 & e) | 0;
}, zo.prototype.bool = function() {
return 0 !== this.uint32();
}, zo.prototype.fixed32 = function() {
if (this.pos + 4 > this.len) throw Jo(this, 4);
return Yo(this.buf, this.pos += 4);
}, zo.prototype.sfixed32 = function() {
if (this.pos + 4 > this.len) throw Jo(this, 4);
return 0 | Yo(this.buf, this.pos += 4);
}, zo.prototype.float = function() {
if (this.pos + 4 > this.len) throw Jo(this, 4);
var e = bo.float.readFloatLE(this.buf, this.pos);
return this.pos += 4, e;
}, zo.prototype.double = function() {
if (this.pos + 8 > this.len) throw Jo(this, 4);
var e = bo.float.readDoubleLE(this.buf, this.pos);
return this.pos += 8, e;
}, zo.prototype.bytes = function() {
var e = this.uint32(), t = this.pos, n = this.pos + e;
if (n > this.len) throw Jo(this, e);
return this.pos += e, Array.isArray(this.buf) ? this.buf.slice(t, n) : t === n ? new this.buf.constructor(0) : this._slice.call(this.buf, t, n);
}, zo.prototype.string = function() {
var e = this.bytes();
return Vo.read(e, 0, e.length);
}, zo.prototype.skip = function(e) {
if ("number" == typeof e) {
if (this.pos + e > this.len) throw Jo(this, e);
this.pos += e;
} else do {
if (this.pos >= this.len) throw Jo(this);
} while (128 & this.buf[this.pos++]);
return this;
}, zo.prototype.skipType = function(e) {
switch (e) {
case 0:
this.skip();
break;

case 1:
this.skip(8);
break;

case 2:
this.skip(this.uint32());
break;

case 3:
for (;4 != (e = 7 & this.uint32()); ) this.skipType(e);
break;

case 5:
this.skip(4);
break;

default:
throw Error("invalid wire type " + e + " at offset " + this.pos);
}
return this;
}, zo._configure = function(e) {
Fo = e, zo.create = qo(), Fo._configure();
var t = bo.Long ? "toLong" : "toNumber";
bo.merge(zo.prototype, {
int64: function() {
return Wo.call(this)[t](!1);
},
uint64: function() {
return Wo.call(this)[t](!0);
},
sint64: function() {
return Wo.call(this).zzDecode()[t](!1);
},
fixed64: function() {
return Ko.call(this)[t](!0);
},
sfixed64: function() {
return Ko.call(this)[t](!1);
}
});
};
var Xo = Qo;
function Qo(e) {
Uo.call(this, e);
}
(Qo.prototype = Object.create(Uo.prototype)).constructor = Qo, Qo._configure = function() {
bo.Buffer && (Qo.prototype._slice = bo.Buffer.prototype.slice);
}, Qo.prototype.string = function() {
var e = this.uint32();
return this.buf.utf8Slice ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + e, this.len)) : this.buf.toString("utf-8", this.pos, this.pos = Math.min(this.pos + e, this.len));
}, Qo._configure();
var $o = Zo;
function Zo(e, t, n) {
if ("function" != typeof e) throw TypeError("rpcImpl must be a function");
bo.EventEmitter.call(this), this.rpcImpl = e, this.requestDelimited = Boolean(t), 
this.responseDelimited = Boolean(n);
}
(Zo.prototype = Object.create(bo.EventEmitter.prototype)).constructor = Zo, Zo.prototype.rpcCall = function e(t, n, r, i, a) {
if (!i) throw TypeError("request must be specified");
var o = this;
if (!a) return bo.asPromise(e, o, t, n, r, i);
if (o.rpcImpl) try {
return o.rpcImpl(t, n[o.requestDelimited ? "encodeDelimited" : "encode"](i).finish(), (function(e, n) {
if (e) return o.emit("error", e, t), a(e);
if (null !== n) {
if (!(n instanceof r)) try {
n = r[o.responseDelimited ? "decodeDelimited" : "decode"](n);
} catch (e) {
return o.emit("error", e, t), a(e);
}
return o.emit("data", n, t), a(null, n);
}
o.end(!0);
}));
} catch (e) {
return o.emit("error", e, t), void setTimeout((function() {
a(e);
}), 0);
} else setTimeout((function() {
a(Error("already ended"));
}), 0);
}, Zo.prototype.end = function(e) {
return this.rpcImpl && (e || this.rpcImpl(null, null, null), this.rpcImpl = null, 
this.emit("end").off()), this;
};
var es = t((function(e, t) {
t.Service = $o;
})), ts = {}, ns = t((function(e, t) {
var n = t;
function r() {
n.util._configure(), n.Writer._configure(n.BufferWriter), n.Reader._configure(n.BufferReader);
}
n.build = "minimal", n.Writer = _o, n.BufferWriter = Bo, n.Reader = Uo, n.BufferReader = Xo, 
n.util = bo, n.rpc = es, n.roots = ts, n.configure = r, r();
})), rs = ns, is = Function("return this")();
var as = class {
constructor(e) {
this.debugName = e, this.callbacks = [];
}
subscribe(e) {
return this.callbacks.push(e), () => {
const t = this.callbacks.indexOf(e);
t > -1 && this.callbacks.splice(t, 1);
};
}
listenOnce(e) {
const t = this.subscribe(((...n) => {
t(), e(...n);
}));
return t;
}
trigger(...e) {
if (this.callbacks.length) {
this.callbacks.slice().forEach((t => {
t(...e);
}));
}
}
}, os = class {
constructor(e = {}) {
this.data = e.data ?? new as, this.end = e.end ?? new as, this.error = e.error ?? new as;
}
start() {}
close() {
this.end.trigger(), this.end.callbacks.length = 0, this.data.callbacks.length = 0, 
this.error.callbacks.length = 0;
}
}, ss = class extends os {
constructor(e, t, n) {
super({
error: e.error
}), this.upstream = e, this.transformer = t, this.transformedStreamOptions = n, 
this.unsubscribeUpstreamEnd = this.upstream.end.subscribe((() => {
this.cleanup();
}));
}
start() {
this.unsubscribeUpstreamData = this.upstream.data.subscribe((e => {
this.transformer(e, this);
})), this.upstream.start();
}
close() {
this.cleanup(), this.transformedStreamOptions?.keepAliveUpstreamOnClose || (this.unsubscribeUpstreamEnd?.(), 
this.upstream.close());
}
cleanup() {
this.unsubscribeUpstreamData?.(), super.close();
}
}, ls = class extends ss {
constructor(e, t, n) {
super(e, (e => {
this.buffer.push(this.batcher(e)), this.scheduleBatch();
}), n), this.batcher = t, this.buffer = [], this.timeout = 0, this.isFirstBatch = !0, 
this.batchDuration = n.batchDuration, this.initialBatchDuration = n.initialBatchDuration;
}
batch() {
this.buffer.length && this.data.trigger(this.buffer.splice(0, this.buffer.length));
}
scheduleBatch() {
if (this.timeout) return;
let e = this.batchDuration;
this.isFirstBatch && void 0 !== this.initialBatchDuration && (e = this.initialBatchDuration), 
this.isFirstBatch = !1, this.timeout = setTimeout((() => {
this.batch(), this.timeout = 0;
}), e);
}
cleanup() {
this.batch(), clearTimeout(this.timeout), this.buffer.length = 0, super.cleanup();
}
close() {
this.cleanup(), super.close();
}
}, cs = "__twinkle_error__", ds = class extends os {
constructor(e, t) {
super(), this.streamId = e, this.callNativeClose = t;
}
close() {
this.callNativeClose();
}
}, us = 0, ps = class {
constructor(e) {
this.nativeApi = e, this.id = 1, this.handlers = {}, this._streams = {}, this._methodAvailableCache = {}, 
this._eventAvailableCache = {};
}
_registerBinding(e) {
this.nativeApi.registerAsyncJsCallResponseHandler(((e, t, n, r) => {
if (e === this._bindingName) {
if (0 === t) return;
const i = this.handlers[t];
i ? (delete this.handlers[t], "string" == typeof r ? i(void 0, new Error(r)) : i(n, void 0)) : console.error(`No handler for response ${t} at ${e}`);
}
})), this.nativeApi.registerJsBindingEventHandler(((t, n, r) => {
if (t === this._bindingName) {
e(n, r);
}
}));
}
getBindingStructure() {
return this._syncCall("__structure__", {});
}
getMethodStructure(e) {
return this.getBindingStructure()?.methods[e];
}
getEventStructure(e) {
return this.getBindingStructure()?.events[e];
}
isMethodAvailable(e) {
let t = this._methodAvailableCache[e];
return void 0 === t && (t = !!this.getMethodStructure(e), this._methodAvailableCache[e] = t), 
t;
}
isEventAvailable(e) {
let t = this._eventAvailableCache[e];
return void 0 === t && (t = !!this.getEventStructure(e), this._eventAvailableCache[e] = t), 
t;
}
_syncCall(e, t) {
const n = this.nativeApi.callJsBindingSync(this._bindingName, e, t);
if ("string" == typeof n && n.startsWith(cs)) throw new Error(n.substr(cs.length));
return n;
}
_asyncCall(e, t) {
return this._asyncPromise(e, t);
}
_asyncMethodCall(e, t, n) {
if (!n) return this._asyncPromise(e, t);
this._asyncCallback(e, t, n);
}
_asyncCallback(e, t, n) {
const r = this.id++;
this.handlers[r] = n, this.nativeApi.callJsBindingAsync(r, this._bindingName, e, t);
}
_asyncPromise(e, t) {
return new Promise(((n, r) => {
this._asyncCallback(e, t, ((e, t) => {
void 0 === t ? n(e) : r(t);
}));
}));
}
_fireAndForgetCall(e, t) {
this.nativeApi.callJsBindingAsync(0, this._bindingName, e, t);
}
async _streamCall(e, t, n) {
const r = us++, i = new ds(r, (() => {
this._asyncCall(t, {
id: r
}).catch((n => {
console.error("Failed when calling " + t + " to end stream " + e + ": " + n.message);
}));
}));
i.end.subscribe((() => {
delete this._streams[r], i.end.callbacks.length = 0, i.data.callbacks.length = 0, 
i.error.callbacks.length = 0;
})), this._streams[r + ""] = i;
const a = await this._asyncCall(e, {
id: r,
request: n
});
return {
stream: i,
response: a
};
}
}, fs = class extends ps {
constructor() {
super(...arguments), this._bindingName = "TwinkleJsBindings", this.Asset = {
onJsFileRequest: new as,
onAssetLoaded: new as,
jsFileResponse: e => this._syncCall("TwinkleJsBindings.Asset.jsFileResponse", e),
getCachePath: e => this._syncCall("TwinkleJsBindings.Asset.getCachePath", e),
loadAsset: (e, t) => this._asyncMethodCall("TwinkleJsBindings.Asset.loadAsset", e, t),
downloadAssetToCache: (e, t) => this._asyncMethodCall("TwinkleJsBindings.Asset.downloadAssetToCache", e, t)
}, this.Bootflow = {
onJsBootBegin: e => this._syncCall("TwinkleJsBindings.Bootflow.onJsBootBegin", e),
onJsBootEnd: e => this._syncCall("TwinkleJsBindings.Bootflow.onJsBootEnd", e)
}, this.Clipboard = {
getText: e => this._syncCall("TwinkleJsBindings.Clipboard.getText", e),
setText: e => this._syncCall("TwinkleJsBindings.Clipboard.setText", e)
}, this.DebugUI = {
onWindowStatus: new as,
onTrigger: new as,
onBool: new as,
onString: new as,
createWindow: e => this._syncCall("TwinkleJsBindings.DebugUI.createWindow", e),
updateWindow: e => this._syncCall("TwinkleJsBindings.DebugUI.updateWindow", e),
destroyWindow: e => this._syncCall("TwinkleJsBindings.DebugUI.destroyWindow", e),
destroyAllWindows: e => this._syncCall("TwinkleJsBindings.DebugUI.destroyAllWindows", e)
}, this.FileSystem = {
getPersistentStorageDir: e => this._syncCall("TwinkleJsBindings.FileSystem.getPersistentStorageDir", e),
getTemporaryStorageDir: e => this._syncCall("TwinkleJsBindings.FileSystem.getTemporaryStorageDir", e),
deleteFile: (e, t) => this._asyncMethodCall("TwinkleJsBindings.FileSystem.deleteFile", e, t),
listFiles: (e, t) => this._asyncMethodCall("TwinkleJsBindings.FileSystem.listFiles", e, t),
fileExist: (e, t) => this._asyncMethodCall("TwinkleJsBindings.FileSystem.fileExist", e, t),
readFile: (e, t) => this._asyncMethodCall("TwinkleJsBindings.FileSystem.readFile", e, t),
writeFile: (e, t) => this._asyncMethodCall("TwinkleJsBindings.FileSystem.writeFile", e, t)
}, this.Font = {
setFontSettings: e => this._syncCall("TwinkleJsBindings.Font.setFontSettings", e),
getFontSettings: e => this._syncCall("TwinkleJsBindings.Font.getFontSettings", e),
resetToDefaultFontSettings: e => this._syncCall("TwinkleJsBindings.Font.resetToDefaultFontSettings", e),
canTextBeRenderedInFont: e => this._syncCall("TwinkleJsBindings.Font.canTextBeRenderedInFont", e)
}, this.Http = {
onDebugHttpRequest: new as,
bytesToString: e => this._syncCall("TwinkleJsBindings.Http.bytesToString", e),
stringToBytes: e => this._syncCall("TwinkleJsBindings.Http.stringToBytes", e),
setMaxActiveRequestLimit: e => this._syncCall("TwinkleJsBindings.Http.setMaxActiveRequestLimit", e),
getMaxActiveRequestLimit: e => this._syncCall("TwinkleJsBindings.Http.getMaxActiveRequestLimit", e),
httpRequest: (e, t) => this._asyncMethodCall("TwinkleJsBindings.Http.httpRequest", e, t),
sendDebugHttpResponse: e => {
this._fireAndForgetCall("TwinkleJsBindings.Http.sendDebugHttpResponse", e);
}
}, this.Http2 = {
onRequestError: new as,
onRequestHeaders: new as,
onRequestData: new as,
onRequestEnd: new as,
createHttp2Connection: e => this._syncCall("TwinkleJsBindings.Http2.createHttp2Connection", e),
closeHttp2Connection: e => this._syncCall("TwinkleJsBindings.Http2.closeHttp2Connection", e),
openStream: e => this._syncCall("TwinkleJsBindings.Http2.openStream", e),
sendData: e => this._syncCall("TwinkleJsBindings.Http2.sendData", e),
signalEndOfTransmission: e => this._syncCall("TwinkleJsBindings.Http2.signalEndOfTransmission", e),
closeStream: e => this._syncCall("TwinkleJsBindings.Http2.closeStream", e),
addCACertificate: e => this._syncCall("TwinkleJsBindings.Http2.addCACertificate", e)
}, this.Input = {
onInputDeviceChange: new as,
onButtonStateChanged: new as,
onFocusNotificationConfigChanged: new as,
onFocusNotificationButtonPressed: new as,
onFocusNotificationButtonReleased: new as,
onTypingInput: new as,
onMouseMove: new as,
onMouseEvents: new as,
onTouchEvent: new as,
getCurrentInputDevice: e => this._syncCall("TwinkleJsBindings.Input.getCurrentInputDevice", e),
showVirtualKeyboard: e => this._syncCall("TwinkleJsBindings.Input.showVirtualKeyboard", e),
hideVirtualKeyboard: e => this._syncCall("TwinkleJsBindings.Input.hideVirtualKeyboard", e),
getFocusNotificationConfig: e => this._syncCall("TwinkleJsBindings.Input.getFocusNotificationConfig", e),
setFocusNotificationRequireHold: e => this._syncCall("TwinkleJsBindings.Input.setFocusNotificationRequireHold", e)
}, this.KvStore = {
infoSync: e => this._syncCall("TwinkleJsBindings.KvStore.infoSync", e),
getStringSync: e => this._syncCall("TwinkleJsBindings.KvStore.getStringSync", e),
getBytesSync: e => this._syncCall("TwinkleJsBindings.KvStore.getBytesSync", e),
setStringSync: e => this._syncCall("TwinkleJsBindings.KvStore.setStringSync", e),
setBytesSync: e => this._syncCall("TwinkleJsBindings.KvStore.setBytesSync", e),
removeSync: e => this._syncCall("TwinkleJsBindings.KvStore.removeSync", e),
removeAllSync: e => this._syncCall("TwinkleJsBindings.KvStore.removeAllSync", e),
info: (e, t) => this._asyncMethodCall("TwinkleJsBindings.KvStore.info", e, t),
getString: (e, t) => this._asyncMethodCall("TwinkleJsBindings.KvStore.getString", e, t),
getBytes: (e, t) => this._asyncMethodCall("TwinkleJsBindings.KvStore.getBytes", e, t),
setString: (e, t) => this._asyncMethodCall("TwinkleJsBindings.KvStore.setString", e, t),
setBytes: (e, t) => this._asyncMethodCall("TwinkleJsBindings.KvStore.setBytes", e, t),
remove: (e, t) => this._asyncMethodCall("TwinkleJsBindings.KvStore.remove", e, t),
removeAll: (e, t) => this._asyncMethodCall("TwinkleJsBindings.KvStore.removeAll", e, t)
}, this.Layout = {
onWindowSizeChanged: new as,
enableMouseMove: e => this._syncCall("TwinkleJsBindings.Layout.enableMouseMove", e),
getWindowSize: e => this._syncCall("TwinkleJsBindings.Layout.getWindowSize", e),
SetLayoutMode: e => this._syncCall("TwinkleJsBindings.Layout.SetLayoutMode", e),
debugSelectSurfaces: e => {
this._fireAndForgetCall("TwinkleJsBindings.Layout.debugSelectSurfaces", e);
},
debugClearAllSurfaces: e => {
this._fireAndForgetCall("TwinkleJsBindings.Layout.debugClearAllSurfaces", e);
},
playSpriteAnimation: e => {
this._fireAndForgetCall("TwinkleJsBindings.Layout.playSpriteAnimation", e);
}
}, this.Metrics = {
onFontQualityLoweredBecauseGlyphCacheFull: new as,
getJsMemoryStats: e => this._syncCall("TwinkleJsBindings.Metrics.getJsMemoryStats", e),
getJsCpuUsage: e => this._syncCall("TwinkleJsBindings.Metrics.getJsCpuUsage", e),
getJsMemoryUsage: (e, t) => this._asyncMethodCall("TwinkleJsBindings.Metrics.getJsMemoryUsage", e, t)
}, this.Surface = {
onSurfaceBoundsChanged: new as,
createStyleSync: e => this._syncCall("TwinkleJsBindings.Surface.createStyleSync", e),
getStyle: e => this._syncCall("TwinkleJsBindings.Surface.getStyle", e),
getSurfaceBounds: e => this._syncCall("TwinkleJsBindings.Surface.getSurfaceBounds", e),
getSurfacesBounds: e => this._syncCall("TwinkleJsBindings.Surface.getSurfacesBounds", e),
getSurfaceChainAtPosition: e => this._syncCall("TwinkleJsBindings.Surface.getSurfaceChainAtPosition", e),
getTextMeasurements: e => this._syncCall("TwinkleJsBindings.Surface.getTextMeasurements", e),
createStyle: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.createStyle", e);
},
deleteStyle: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.deleteStyle", e);
},
createRootSurface: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.createRootSurface", e);
},
updateSurface: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.updateSurface", e);
},
replaceUpdateSurface: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.replaceUpdateSurface", e);
},
replaceSurface: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.replaceSurface", e);
},
updateSurfaceChildren: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.updateSurfaceChildren", e);
},
insertChildAt: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.insertChildAt", e);
},
moveChild: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.moveChild", e);
},
removeChild: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.removeChild", e);
},
surfaceDebugHighlight: e => {
this._fireAndForgetCall("TwinkleJsBindings.Surface.surfaceDebugHighlight", e);
}
}, this.Telemetry = {
sendTelemetryEvent: new as
}, this.Texture = {
onTextureLoaded: new as,
onTextureUnloaded: new as,
loadRoundedRectTexture: e => this._syncCall("TwinkleJsBindings.Texture.loadRoundedRectTexture", e),
createDynamicAtlas: e => this._syncCall("TwinkleJsBindings.Texture.createDynamicAtlas", e),
destroyAtlas: e => this._syncCall("TwinkleJsBindings.Texture.destroyAtlas", e)
}, this.Tween = {
onTweenStatus: new as,
getTweenValueSync: e => this._syncCall("TwinkleJsBindings.Tween.getTweenValueSync", e),
createTween: e => {
this._fireAndForgetCall("TwinkleJsBindings.Tween.createTween", e);
},
updateTweens: e => {
this._fireAndForgetCall("TwinkleJsBindings.Tween.updateTweens", e);
},
destroyTween: e => {
this._fireAndForgetCall("TwinkleJsBindings.Tween.destroyTween", e);
}
}, this.Utilities = {
onAssetLoaded: new as,
onSendErrorToJs: new as,
openUrl: e => this._syncCall("TwinkleJsBindings.Utilities.openUrl", e),
reloadScriptEngine: e => this._syncCall("TwinkleJsBindings.Utilities.reloadScriptEngine", e),
triggerGC: e => this._syncCall("TwinkleJsBindings.Utilities.triggerGC", e),
enableGC: e => this._syncCall("TwinkleJsBindings.Utilities.enableGC", e),
isGCEnabled: e => this._syncCall("TwinkleJsBindings.Utilities.isGCEnabled", e),
verifyCodeSignature: e => this._syncCall("TwinkleJsBindings.Utilities.verifyCodeSignature", e),
showError: e => this._syncCall("TwinkleJsBindings.Utilities.showError", e),
log: e => this._syncCall("TwinkleJsBindings.Utilities.log", e),
getConfigStringValue: e => this._syncCall("TwinkleJsBindings.Utilities.getConfigStringValue", e),
getConfigBoolValue: e => this._syncCall("TwinkleJsBindings.Utilities.getConfigBoolValue", e),
getConfigFloatValue: e => this._syncCall("TwinkleJsBindings.Utilities.getConfigFloatValue", e),
getSystemTimeInMs: e => this._syncCall("TwinkleJsBindings.Utilities.getSystemTimeInMs", e),
loadFont: e => this._syncCall("TwinkleJsBindings.Utilities.loadFont", e),
setGlyphTextureSize: e => this._syncCall("TwinkleJsBindings.Utilities.setGlyphTextureSize", e),
setGlyphSamples: e => this._syncCall("TwinkleJsBindings.Utilities.setGlyphSamples", e),
setFullscreenResample: e => this._syncCall("TwinkleJsBindings.Utilities.setFullscreenResample", e),
enablePostProcessing: e => this._syncCall("TwinkleJsBindings.Utilities.enablePostProcessing", e),
isPostProcessingEnabled: e => this._syncCall("TwinkleJsBindings.Utilities.isPostProcessingEnabled", e),
getFullScreenRenderTargetCount: e => this._syncCall("TwinkleJsBindings.Utilities.getFullScreenRenderTargetCount", e),
addTimeout: (e, t) => this._asyncMethodCall("TwinkleJsBindings.Utilities.addTimeout", e, t)
};
}
registerBinding() {
return this._registerBinding(((e, t) => {
switch (e) {
case "TwinkleJsBindings.Asset.onJsFileRequest":
return this.Asset.onJsFileRequest.trigger(t), !0;

case "TwinkleJsBindings.Asset.onAssetLoaded":
return this.Asset.onAssetLoaded.trigger(t), !0;

case "TwinkleJsBindings.DebugUI.onWindowStatus":
return this.DebugUI.onWindowStatus.trigger(t), !0;

case "TwinkleJsBindings.DebugUI.onTrigger":
return this.DebugUI.onTrigger.trigger(t), !0;

case "TwinkleJsBindings.DebugUI.onBool":
return this.DebugUI.onBool.trigger(t), !0;

case "TwinkleJsBindings.DebugUI.onString":
return this.DebugUI.onString.trigger(t), !0;

case "TwinkleJsBindings.Http.onDebugHttpRequest":
return this.Http.onDebugHttpRequest.trigger(t), !0;

case "TwinkleJsBindings.Http2.onRequestError":
return this.Http2.onRequestError.trigger(t), !0;

case "TwinkleJsBindings.Http2.onRequestHeaders":
return this.Http2.onRequestHeaders.trigger(t), !0;

case "TwinkleJsBindings.Http2.onRequestData":
return this.Http2.onRequestData.trigger(t), !0;

case "TwinkleJsBindings.Http2.onRequestEnd":
return this.Http2.onRequestEnd.trigger(t), !0;

case "TwinkleJsBindings.Input.onInputDeviceChange":
return this.Input.onInputDeviceChange.trigger(t), !0;

case "TwinkleJsBindings.Input.onButtonStateChanged":
return this.Input.onButtonStateChanged.trigger(t), !0;

case "TwinkleJsBindings.Input.onFocusNotificationConfigChanged":
return this.Input.onFocusNotificationConfigChanged.trigger(t), !0;

case "TwinkleJsBindings.Input.onFocusNotificationButtonPressed":
return this.Input.onFocusNotificationButtonPressed.trigger(t), !0;

case "TwinkleJsBindings.Input.onFocusNotificationButtonReleased":
return this.Input.onFocusNotificationButtonReleased.trigger(t), !0;

case "TwinkleJsBindings.Input.onTypingInput":
return this.Input.onTypingInput.trigger(t), !0;

case "TwinkleJsBindings.Input.onMouseMove":
return this.Input.onMouseMove.trigger(t), !0;

case "TwinkleJsBindings.Input.onMouseEvents":
return this.Input.onMouseEvents.trigger(t), !0;

case "TwinkleJsBindings.Input.onTouchEvent":
return this.Input.onTouchEvent.trigger(t), !0;

case "TwinkleJsBindings.Layout.onWindowSizeChanged":
return this.Layout.onWindowSizeChanged.trigger(t), !0;

case "TwinkleJsBindings.Metrics.onFontQualityLoweredBecauseGlyphCacheFull":
return this.Metrics.onFontQualityLoweredBecauseGlyphCacheFull.trigger(t), !0;

case "TwinkleJsBindings.Surface.onSurfaceBoundsChanged":
return this.Surface.onSurfaceBoundsChanged.trigger(t), !0;

case "TwinkleJsBindings.Telemetry.sendTelemetryEvent":
return this.Telemetry.sendTelemetryEvent.trigger(t), !0;

case "TwinkleJsBindings.Texture.onTextureLoaded":
return this.Texture.onTextureLoaded.trigger(t), !0;

case "TwinkleJsBindings.Texture.onTextureUnloaded":
return this.Texture.onTextureUnloaded.trigger(t), !0;

case "TwinkleJsBindings.Tween.onTweenStatus":
return this.Tween.onTweenStatus.trigger(t), !0;

case "TwinkleJsBindings.Utilities.onAssetLoaded":
return this.Utilities.onAssetLoaded.trigger(t), !0;

case "TwinkleJsBindings.Utilities.onSendErrorToJs":
return this.Utilities.onSendErrorToJs.trigger(t), !0;
}
return !1;
}));
}
};
(e => {
let t, n, r, i, a, o, s, l, c;
(e => {
let t;
var n;
(n = t = e.WidthModifier || (e.WidthModifier = {}))[n.Default = 1] = "Default", 
n[n.WindowFactor = 2] = "WindowFactor", n[n.ContainerFactor = 3] = "ContainerFactor";
})(t = e.DebugUI || (e.DebugUI = {})), (e => {
let t;
var n;
let r;
var i;
(n = t = e.ScreenColorType || (e.ScreenColorType = {}))[n.Unknown = 0] = "Unknown", 
n[n.LCD_H_RGB = 1] = "LCD_H_RGB", n[n.LCD_H_BGR = 2] = "LCD_H_BGR", n[n.LCD_V_RGB = 3] = "LCD_V_RGB", 
n[n.LCD_V_BGR = 4] = "LCD_V_BGR", n[n.LCD_Other = 5] = "LCD_Other", (i = r = e.MatchOption || (e.MatchOption = {}))[i.None = 0] = "None", 
i[i.Assert = 1] = "Assert", i[i.Fail = 2] = "Fail";
})(n = e.Font || (e.Font = {})), (e => {
let t;
var n;
(n = t = e.HttpMethod || (e.HttpMethod = {}))[n.Get = 1] = "Get", n[n.Post = 2] = "Post";
})(r = e.Http || (e.Http = {})), (e => {
let t;
var n;
(n = t = e.RequestType || (e.RequestType = {}))[n.Get = 0] = "Get", n[n.Put = 1] = "Put", 
n[n.Post = 2] = "Post";
})(i = e.Http2 || (e.Http2 = {})), (e => {
let t;
var n;
let r;
var i;
let a;
var o;
let s;
var l;
let c;
var d;
let u;
var p;
(n = t = e.GamePadInput || (e.GamePadInput = {}))[n.NotBound = 0] = "NotBound", 
n[n.DPadRight = 1] = "DPadRight", n[n.DPadLeft = 2] = "DPadLeft", n[n.DPadUp = 3] = "DPadUp", 
n[n.DPadDown = 4] = "DPadDown", n[n.LeftJoystickUp = 5] = "LeftJoystickUp", n[n.LeftJoystickDown = 6] = "LeftJoystickDown", 
n[n.LeftJoystickLeft = 7] = "LeftJoystickLeft", n[n.LeftJoystickRight = 8] = "LeftJoystickRight", 
n[n.LeftJoystickPress = 9] = "LeftJoystickPress", n[n.RightJoystickUp = 10] = "RightJoystickUp", 
n[n.RightJoystickDown = 11] = "RightJoystickDown", n[n.RightJoystickLeft = 12] = "RightJoystickLeft", 
n[n.RightJoystickRight = 13] = "RightJoystickRight", n[n.RightJoystickPress = 14] = "RightJoystickPress", 
n[n.ButtonYTriangleUp = 15] = "ButtonYTriangleUp", n[n.ButtonBCircleRight = 16] = "ButtonBCircleRight", 
n[n.ButtonACrossDown = 18] = "ButtonACrossDown", n[n.ButtonXSquareLeft = 19] = "ButtonXSquareLeft", 
n[n.MiddleOption = 20] = "MiddleOption", n[n.MiddleMenu = 21] = "MiddleMenu", n[n.BumperRight = 22] = "BumperRight", 
n[n.BumperLeft = 23] = "BumperLeft", n[n.TriggerRight = 24] = "TriggerRight", n[n.TriggerLeft = 25] = "TriggerLeft", 
(i = r = e.ButtonState || (e.ButtonState = {}))[i.Down = 1] = "Down", i[i.Up = 2] = "Up", 
(o = a = e.DeviceType || (e.DeviceType = {}))[o.NotSet = 0] = "NotSet", o[o.MouseAndKeyboard = 1] = "MouseAndKeyboard", 
o[o.Xbox = 2] = "Xbox", o[o.Playstation = 3] = "Playstation", o[o.Stadia = 4] = "Stadia", 
o[o.Switch = 5] = "Switch", o[o.Touch = 6] = "Touch", (l = s = e.KeyboardCharType || (e.KeyboardCharType = {}))[l.LocaleDefault = 1] = "LocaleDefault", 
l[l.LatinFull = 2] = "LatinFull", l[l.Numeric = 4] = "Numeric", l[l.Alphabet = 8] = "Alphabet", 
l[l.Email = 16] = "Email", l[l.Password = 32] = "Password", l[l.AlphabetSpace = 64] = "AlphabetSpace", 
(d = c = e.MouseEventType || (e.MouseEventType = {}))[d.Unknown = 0] = "Unknown", 
d[d.Up = 1] = "Up", d[d.Down = 2] = "Down", d[d.Click = 3] = "Click", d[d.DoubleClick = 4] = "DoubleClick", 
d[d.Scroll = 5] = "Scroll", d[d.Enter = 6] = "Enter", d[d.Leave = 7] = "Leave", 
(p = u = e.MouseButton || (e.MouseButton = {}))[p.None = 0] = "None", p[p.Left = 1] = "Left", 
p[p.Right = 2] = "Right", p[p.Middle = 3] = "Middle", p[p.Button3 = 4] = "Button3", 
p[p.Button4 = 5] = "Button4";
})(a = e.Input || (e.Input = {})), (e => {
let t;
var n;
(n = t = e.LayoutMode || (e.LayoutMode = {}))[n.Yoga = 2] = "Yoga";
})(o = e.Layout || (e.Layout = {})), (e => {
let t;
var n;
(n = t = e.PixelFormat || (e.PixelFormat = {}))[n.RGBA = 1] = "RGBA", n[n.BC1 = 2] = "BC1", 
n[n.BC2 = 3] = "BC2", n[n.BC3 = 4] = "BC3", n[n.BC4 = 5] = "BC4", n[n.BC5 = 6] = "BC5", 
n[n.BC7 = 7] = "BC7";
})(s = e.Texture || (e.Texture = {})), (e => {
let t;
var n;
let r;
var i;
(n = t = e.Easing || (e.Easing = {}))[n.Linear = 1] = "Linear", n[n.QuadraticIn = 2] = "QuadraticIn", 
n[n.QuadraticOut = 3] = "QuadraticOut", n[n.QuadraticInOut = 4] = "QuadraticInOut", 
n[n.CubicIn = 5] = "CubicIn", n[n.CubicOut = 6] = "CubicOut", n[n.CubicInOut = 7] = "CubicInOut", 
n[n.SineIn = 8] = "SineIn", n[n.SineOut = 9] = "SineOut", n[n.SineInOut = 10] = "SineInOut", 
n[n.Bezier = 11] = "Bezier", n[n.CubicOutBack = 12] = "CubicOutBack", (i = r = e.TweenStatus || (e.TweenStatus = {}))[i.Finished = 0] = "Finished";
})(l = e.Tween || (e.Tween = {})), (e => {
let t;
var n;
(n = t = e.LogLevel || (e.LogLevel = {}))[n.Trace = 1] = "Trace", n[n.Debug = 2] = "Debug", 
n[n.Log = 3] = "Log", n[n.Info = 4] = "Info", n[n.Warning = 5] = "Warning", n[n.Error = 6] = "Error";
})(c = e.Utilities || (e.Utilities = {}));
})(fs || (fs = {}));
var ms = 0, ys = 0, hs = [];
if (is.TwinkleNative && !is.console) {
const e = function(...e) {
var t, n;
t = "TwinkleJsBindings.Utilities.log", n = {
level: fs.Utilities.LogLevel.Info,
filename: "Javascript",
lineno: 0,
message: e.join("\t")
}, is.TwinkleNative.bindingCall("TwinkleJsBindings", t, n, void 0);
};
is.console = {
log: e,
warn: e,
error: e,
exception: e,
info: e,
debug: e
};
}
is.requestAnimationFrame = function(e) {
if (0 === hs.length) {
const e = performance.now(), t = Math.max(0, 16.666666666666668 - (e - ms));
ms = t + e, setTimeout((() => {
const e = hs.slice(0);
hs.length = 0;
for (let t = 0; t < e.length; t++) if (!e[t].cancelled) try {
e[t].callback(ms);
} catch (e) {
setTimeout((() => {
throw e;
}), 0);
}
}), Math.round(t));
}
return hs.push({
handle: ++ys,
callback: e,
cancelled: !1
}), ys;
}, is.cancelAnimationFrame = function(e) {
for (let t = 0; t < hs.length; t++) hs[t].handle === e && (hs[t].cancelled = !0);
};
var gs = 0;
function Is(e) {
return {
defaultValue: () => e.default,
key: "" + gs++,
type: "mobyState"
};
}
function vs(e) {
return {
...Is(e),
ttl: e.ttl ?? 1e3
};
}
function bs(e) {
return {
type: "mobyStateMap",
key: "" + gs++,
defaultValue: e.default
};
}
var _s = 0;
function Ps(e) {
const t = "" + _s++;
return {
get: e.get,
key: t,
type: "mobyComputed"
};
}
function Ss(e) {
return {
type: "mobyComputedMap",
key: "" + _s++,
get: t => e.get(t)
};
}
function Ts(e, t) {
throw new Error(e);
}
function Es(e) {
const t = H.createContext(void 0);
return t.displayName = e, [ t, function() {
const n = H.useContext(t);
if (void 0 === n) throw new Error(`Missing '${e}' in context`);
return n;
} ];
}
function ks(e, t) {
return e.key + "[" + t + "]";
}
var Ns = e => e, Cs = class extends Gr {
constructor(e, t) {
super(e, Ns, t);
}
get(e) {
return this.has_(e) || this.has(e) ? this.dehanceValue_(this.data_.get(e).get()) : this.dehanceValue_(void 0);
}
};
function Os(e) {
return "function" == typeof e;
}
var As = qt, ws = class {
constructor() {
this.state = new Cs([]), this.computed = {}, this.singletons = {}, this.pendingReset = {}, 
this.computedPropsUntracked = {
get: e => this.getUntracked(e),
getItem: (e, t) => this.getItemUntracked(e, t)
}, this.computedProps = {
get: e => this.get(e),
getItem: (e, t) => this.getItem(e, t)
}, this.set = (e, t) => {
const n = Os(t) ? t(this.getUntracked(e)) : t;
we.structural(n, e.defaultValue()) ? this.reset(e) : this.state.set(e.key, n);
}, this.setItem = (e, t, n) => {
const r = Os(n) ? n(this.getItemUntracked(e, t)) : n;
we.structural(r, e.defaultValue(t)) ? this.resetItem(e, t) : this.state.set(ks(e, t), r);
}, this.reset = e => {
this.state.delete(e.key);
}, this.resetItem = (e, t) => {
this.state.delete(ks(e, t));
}, this.getUntracked = e => As((() => this.get(e))), this.getItemUntracked = (e, t) => As((() => this.getItem(e, t))), 
this.get = e => {
switch (e.type) {
case "mobyState":
return this.state.has(e.key) ? this.state.get(e.key) : e.defaultValue();

case "mobyComputed":
{
let t = this.computed[e.key];
if (!t) {
if (!Jt()) return e.get(this.computedPropsUntracked);
const n = {
equals: we.structural
};
t = bt((() => e.get(this.computedProps)), n), this.computed[e.key] = t, Un(t, (() => {
delete this.computed[e.key];
}));
}
return t.get();
}

case "mobySingleton":
{
let t = this.singletons[e.key];
if (!t) {
if (e.key in this.singletons) throw console.error("Circular creation of singleton " + e.key), 
new Error("Circular creation of singleton " + e.key);
this.singletons[e.key] = !1;
try {
t = e.create(this), this.singletons[e.key] = t;
} catch (t) {
throw delete this.singletons[e.key], t;
}
}
return t;
}

default:
Ts("Unknown state: " + e);
}
}, this.getItem = (e, t) => {
const n = ks(e, t);
switch (e.type) {
case "mobyStateMap":
return this.state.has(n) ? this.state.get(n) : e.defaultValue(t);

case "mobyComputedMap":
{
let r = this.computed[n];
if (!r) {
if (!Jt()) return e.get(t)(this.computedPropsUntracked);
const i = {
equals: we.structural
};
r = bt((() => e.get(t)(this.computedProps)), i), this.computed[n] = r, Un(r, (() => {
delete this.computed[n];
}));
}
return r.get();
}

default:
Ts("Unknown state: " + e);
}
}, this.dispose = () => {
Object.values(this.singletons).forEach((e => {
"function" == typeof e.dispose && e.dispose();
}));
};
}
subscribeToUpdates(e, t, n) {
return Mn((() => this.get(e)), t, {
equals: we.structural,
fireImmediately: n
});
}
subscribeToItemUpdates(e, t, n, r) {
return Mn((() => this.getItem(e, t)), n, {
equals: we.structural,
fireImmediately: r
});
}
subscribeToUpdatesWithCleanup(e, t, n) {
let r;
const i = Mn((() => this.get(e)), (e => {
r?.(), r = t(e);
}), {
equals: we.structural,
fireImmediately: n
});
return () => {
r?.(), i();
};
}
subscribeToItemUpdatesWithCleanup(e, t, n, r) {
let i;
const a = Mn((() => this.getItem(e, t)), (e => {
i?.(), i = n(e);
}), {
equals: we.structural,
fireImmediately: r
});
return () => {
i?.(), a();
};
}
keepAlive(e) {
const t = xn((() => {
this.get(e);
}), void 0);
return () => {
t(), this.cleanUpOnUnobserved(e);
};
}
cleanUpOnUnobserved(e) {
const t = this.state.has(e.key) && ii(this.state, e.key);
if (t) {
if (!t.isBeingObserved_) return void this.reset(e);
if (!this.pendingReset[e.key]) {
this.pendingReset[e.key] = !0;
let n = 0;
const r = Un(t, (() => {
n = setTimeout((() => {
delete this.pendingReset[e.key], r(), this.cleanUpOnUnobserved(e);
}), e.ttl);
const i = Fn(t, (() => {
i(), clearTimeout(n);
}));
}));
}
}
}
addExternalSingletonState(e, t) {
if (e.key in this.singletons && this.singletons[e.key] !== t) throw new Error(`Tried to add external singleton state to an already initiated singleton '${e.key}'`);
this.singletons[e.key] = t;
}
}, [Ls, Rs] = Es("MobyRoot"), xs = e => {
const [t] = H.useState((() => e.moby || new ws));
return H.useEffect((() => () => t.dispose()), [ t ]), H.createElement(Ls.Provider, {
value: t
}, e.children);
};
function Bs(e, t, n, r = !1) {
const i = Rs();
H.useEffect((() => i.subscribeToUpdates(n, e, r)), [ ...t, i, n, r ]);
}
function Ds(e, t, n = !1) {
const r = Rs();
H.useEffect((() => r.subscribeToUpdatesWithCleanup(e, t, n)), [ r, e, t, n ]);
}
function Ms(e, t, n, r = !1) {
const i = Rs();
H.useEffect((() => i.subscribeToItemUpdatesWithCleanup(e, t, n, r)), [ i, e, t, n, r ]);
}
function Fs(e) {
return Rs().get(e);
}
function Us(e, t) {
return Rs().getItem(e, t);
}
function Hs(e) {
const t = Rs();
return H.useCallback((n => {
t.set(e, n);
}), [ e, t ]);
}
function Vs(e) {
const t = Rs();
return H.useEffect((() => t.keepAlive(e)), [ e, t ]), H.useCallback((n => {
t.set(e, n);
}), [ e, t ]);
}
function Js(e, t) {
const n = Rs();
return H.useCallback((r => {
n.setItem(e, t, r);
}), [ e, t, n ]);
}
function zs(e) {
const t = Rs();
return H.useCallback(((n, r) => {
t.setItem(e, n, r);
}), [ e, t ]);
}
function Gs(e) {
return [ Fs(e), Hs(e) ];
}
function js(e) {
const t = Rs();
return H.useCallback((() => {
t.reset(e);
}), [ t, e ]);
}
function qs(e, t) {
const n = Rs();
return H.useCallback((() => {
n.resetItem(e, t);
}), [ n, e, t ]);
}
function Ws(e, t, n) {
const r = Rs();
H.useEffect((() => xn((() => {
e(r.computedProps);
}), n)), [ ...t, r ]);
}
function Ys(e, t) {
const n = Rs();
return H.useCallback(((...t) => mr((() => e(n.computedPropsUntracked)(...t)))), [ ...t, n ]);
}
function Ks(e) {
return [ Hs(e), js(e) ];
}
function Xs(e, t) {
return [ Js(e, t), qs(e, t) ];
}
var Qs = 0;
function $s(e) {
const t = {
create: e.create,
key: "" + Qs++,
type: "mobySingleton"
};
return [ t, () => Rs().get(t) ];
}
function Zs(e) {
const t = $s({
...e,
create: () => {
throw new Error("External singleton '" + t[0].key + "' needs to be added to moby before use");
}
});
return t;
}
var [el, tl] = Es("FocusContext"), [nl, rl] = Es("FocusBoundaryContext"), il = new as("onClick"), al = bs({
debugName: "boundsForFocusIdState",
default: () => {}
}), [ol] = $s({
debugName: "surfaceIdForFocusIdState",
create: () => new Map
}), sl = Is({
debugName: "focusedIdWithSourceState",
default: void 0
}), ll = Ps({
debugName: "focusedId",
get: ({get: e}) => e(sl)?.focusId
}), cl = Is({
debugName: "pressedId",
default: void 0
}), dl = Ss({
debugName: "isFocusIdFocusedState",
get: e => ({get: t}) => e === t(ll)
}), ul = Ss({
debugName: "isFocusIdPressedState",
get: e => ({get: t}) => e === t(cl)
}), pl = Is({
debugName: "mouseModeState",
default: !1
}), fl = (Is({
debugName: "inputModeState",
default: "unhandled"
}), bs({
debugName: "childBoundaryIdsForBoundaryIdState",
default: () => []
})), ml = bs({
debugName: "childFocusIdsForBoundaryIdState",
default: () => []
}), yl = bs({
debugName: "parentBoundaryIdForBoundaryIdState",
default: () => {}
}), hl = bs({
debugName: "parentBoundaryIdForFocusIdState",
default: () => {}
}), gl = bs({
debugName: "disabledStateForMouseModeForBoundaryIdState",
default: () => !1
}), Il = bs({
debugName: "disabledStateForControllerModeForBoundaryIdState",
default: () => !1
}), vl = Ss({
debugName: "disabledStateForBoundaryIdState",
get: e => ({get: t, getItem: n}) => t(pl) ? n(gl, e) : n(Il, e)
}), bl = Ss({
debugName: "focusIdBoundsForChildrenOfBoundaryIdState",
get: e => ({getItem: t}) => {
const n = t(ml, e), r = {};
return n.forEach((e => {
r[e] = t(al, e);
})), r;
}
}), _l = Ss({
debugName: "validFocusIdsDescendantsOfBoundaryIdState",
get: e => ({getItem: t}) => {
if (t(vl, e)) return [];
const n = t(ml, e), r = t(fl, e), i = [ ...n ];
for (const e of r) i.push(...t(_l, e));
return i;
}
}), Pl = Ss({
debugName: "boundaryIdAncestorsForBoundaryIdState",
get: e => ({getItem: t}) => {
const n = [];
let r = t(yl, e);
for (;r; ) n.push(r), r = t(yl, r);
return n;
}
}), Sl = (e, t) => {
const n = Ss({
debugName: e,
get: e => ({getItem: r}) => {
if (!e) return !1;
if (r(t, e)) return !0;
const i = r(yl, e);
return !!i && r(n, i);
}
});
return n;
}, Tl = Sl("disabledStateForBoundaryOrParentBoundaryIdState", vl), El = Sl("disabledStateForControllerModeForBoundaryOrParentBoundaryIdState", Il), kl = Sl("disabledStateForMouseModeForBoundaryOrParentBoundaryIdState", gl), Nl = (e, t) => Ss({
debugName: e,
get: e => ({getItem: n}) => {
if (!e) return !1;
const r = n(hl, e);
return !!r && n(t, r);
}
}), Cl = Nl("disabledStateForControllerModeForFocusIdState", El), Ol = Nl("disabledStateForMouseModeForFocusIdState", kl), Al = Ss({
debugName: "disabledStateForFocusIdState",
get: e => ({get: t, getItem: n}) => !!e && (t(pl) ? n(Ol, e) : n(Cl, e))
}), wl = Is({
debugName: "isolatedBoundaryIdListState",
default: []
}), Ll = Ps({
debugName: "currentIsolatedBoundaryIdState",
get: ({get: e}) => {
const t = e(wl);
return t[t.length - 1];
}
}), Rl = Ss({
debugName: "isBoundaryIdActiveState",
get: e => ({get: t, getItem: n}) => {
if (n(Tl, e)) return !1;
const r = t(Ll);
if (!r || !e || e === r) return !0;
return n(Pl, e).includes(r);
}
}), xl = Ss({
debugName: "focusedIdDescendantOfBoundaryIdState",
get: e => ({get: t, getItem: n}) => {
const r = t(ll);
if (!r) return;
return n(_l, e).includes(r) ? r : void 0;
}
}), Bl = Ss({
debugName: "focusedIdDescendantOfBoundaryIdState",
get: e => ({getItem: t}) => !!t(xl, e)
}), Dl = () => ({
isPressed: !1,
isHovered: !1
});
function Ml(e) {
return e.isPressed || e.isHovered ? {
isPressed: !1,
isHovered: !1
} : e;
}
function Fl({onClick: e, disabled: t, ignoreBoundaryIsolation: n}) {
const r = Rs(), i = rl(), [a, o] = H.useState(Dl);
H.useEffect((() => {
if (t) return void o(Ml);
if (n) return;
return xn((() => {
r.getItem(Rl, i) || o(Ml);
}));
}), [ r, i, t, n ]);
const s = H.useMemo((() => {
const a = a => {
if (!t && (n || r.getItemUntracked(Rl, i))) switch (a.event) {
case fs.Input.MouseEventType.Click:
a.button === fs.Input.MouseButton.Left && (a.stopPropagation(), e(a));
break;

case fs.Input.MouseEventType.Enter:
o((e => ({
...e,
isHovered: !0
})));
break;

case fs.Input.MouseEventType.Leave:
o({
isPressed: !1,
isHovered: !1
});
break;

case fs.Input.MouseEventType.Down:
o((e => ({
...e,
isPressed: !0
})));
break;

case fs.Input.MouseEventType.Up:
o((e => ({
...e,
isPressed: !1
})));
}
};
return {
onClick: a,
onMouseEnter: a,
onMouseLeave: a,
onMouseDown: a,
onMouseUp: a
};
}), [ r, i, t, n, e ]);
return {
isPressed: a.isPressed,
isHovered: a.isHovered,
hooks: s
};
}
var Ul = fs.Input.GamePadInput, Hl = fs.Input.DeviceType, Vl = 9, Jl = 13, zl = 27, Gl = 38, jl = 39, ql = 40, Wl = 65, Yl = 68, Kl = 69, Xl = 81, Ql = 83, $l = 87, Zl = 112, ec = 113, tc = 114, nc = 115, rc = 116, ic = 119, ac = {
left: {
keyboardKeycode: 37,
gamePadInput: Ul.DPadLeft
},
up: {
keyboardKeycode: Gl,
gamePadInput: Ul.DPadUp
},
right: {
keyboardKeycode: jl,
gamePadInput: Ul.DPadRight
},
down: {
keyboardKeycode: ql,
gamePadInput: Ul.DPadDown
},
leftAlt: {
keyboardKeycode: Wl,
gamePadInput: Ul.LeftJoystickLeft
},
upAlt: {
keyboardKeycode: $l,
gamePadInput: Ul.LeftJoystickUp
},
rightAlt: {
keyboardKeycode: Yl,
gamePadInput: Ul.LeftJoystickRight
},
downAlt: {
keyboardKeycode: Ql,
gamePadInput: Ul.LeftJoystickDown
},
middleMenu: {
keyboardKeyLabel: "F3",
keyboardKeycode: tc,
gamePadInput: Ul.MiddleMenu
},
buttonACrossDown: {
keyboardKeycode: Jl,
keyboardKeyLabel: "Enter",
gamePadInput: Ul.ButtonACrossDown
},
buttonBCircleRight: {
keyboardKeycode: zl,
keyboardKeyLabel: "Esc",
gamePadInput: Ul.ButtonBCircleRight
},
buttonYTriangleUp: {
keyboardKeyLabel: "F2",
keyboardKeycode: ec,
gamePadInput: Ul.ButtonYTriangleUp
},
buttonXSquareLeft: {
keyboardKeyLabel: "F1",
keyboardKeycode: Zl,
gamePadInput: Ul.ButtonXSquareLeft
},
bumperLeft: {
keyboardKeycode: Xl,
keyboardKeyLabel: "Q",
gamePadInput: Ul.BumperLeft
},
bumperRight: {
keyboardKeycode: Kl,
keyboardKeyLabel: "E",
gamePadInput: Ul.BumperRight
},
triggerRight: {
keyboardKeyLabel: "F4",
keyboardKeycode: nc,
gamePadInput: Ul.TriggerRight
},
middleOption: {
keyboardKeyLabel: "Tab",
keyboardKeycode: Vl,
gamePadInput: Ul.MiddleOption
},
leftJoystickPress: {
keyboardKeyLabel: "F5",
keyboardKeycode: rc,
gamePadInput: Ul.LeftJoystickPress
},
rightJoystickPress: {
keyboardKeyLabel: "F8",
keyboardKeycode: ic,
gamePadInput: Ul.RightJoystickPress
}
};
function oc(e, t) {
return e === Hl.MouseAndKeyboard ? {
device: e,
keyboardKeyLabel: ac[t].keyboardKeyLabel,
keyboardKeycode: ac[t].keyboardKeycode
} : {
device: e,
gamePadInput: ac[t].gamePadInput
};
}
function sc(e, t, n = []) {
return {
primaryButton: oc(e, t),
secondaryButtons: n.map((t => oc(e, t)))
};
}
var lc = fs.Input.GamePadInput, cc = fs.Input.DeviceType, dc = {
[lc.LeftJoystickPress]: "L3",
[lc.RightJoystickPress]: "R3"
}, uc = {
[cc.Playstation]: {
...dc,
[lc.ButtonACrossDown]: "Cross",
[lc.ButtonBCircleRight]: "Circle",
[lc.ButtonXSquareLeft]: "Square",
[lc.ButtonYTriangleUp]: "Triangle",
[lc.TriggerLeft]: "L2",
[lc.TriggerRight]: "R2",
[lc.BumperLeft]: "L1",
[lc.BumperRight]: "R1",
[lc.MiddleOption]: "Touchpad",
[lc.MiddleMenu]: "Option"
},
[cc.Xbox]: {
...dc,
[lc.ButtonACrossDown]: "A",
[lc.ButtonBCircleRight]: "B",
[lc.ButtonXSquareLeft]: "X",
[lc.ButtonYTriangleUp]: "Y",
[lc.TriggerLeft]: "LT",
[lc.TriggerRight]: "RT",
[lc.BumperLeft]: "LB",
[lc.BumperRight]: "RB",
[lc.MiddleOption]: "View",
[lc.MiddleMenu]: "Menu"
},
[cc.Stadia]: {
...dc,
[lc.ButtonACrossDown]: "A_S",
[lc.ButtonBCircleRight]: "B_S",
[lc.ButtonXSquareLeft]: "X_S",
[lc.ButtonYTriangleUp]: "Y_S",
[lc.TriggerLeft]: "L2_S",
[lc.TriggerRight]: "R2_S",
[lc.BumperLeft]: "L1_S",
[lc.BumperRight]: "R1_S",
[lc.MiddleOption]: "Options",
[lc.MiddleMenu]: "Menu_S"
},
[cc.Switch]: {
...dc,
[lc.ButtonACrossDown]: "A_Nx",
[lc.ButtonBCircleRight]: "B_Nx",
[lc.ButtonXSquareLeft]: "X_Nx",
[lc.ButtonYTriangleUp]: "Y_Nx",
[lc.TriggerLeft]: "ZL_Nx",
[lc.TriggerRight]: "ZR_Nx",
[lc.BumperLeft]: "L_Nx",
[lc.BumperRight]: "R_Nx",
[lc.MiddleOption]: "MapMenu_Nx",
[lc.MiddleMenu]: "Pause_Nx"
},
[cc.MouseAndKeyboard]: {
[Jl]: "ENTER"
}
}, pc = e => !e.gamePadInput || e.device !== cc.Xbox && e.device !== cc.Playstation && e.device !== cc.Stadia && e.device !== cc.Switch ? e.keyboardKeycode ? uc[cc.MouseAndKeyboard][e.keyboardKeycode] : void console.warn("Could not find ButtonType for", e) : uc[e.device][e.gamePadInput], fc = (e => (e.XboxOne = "XBOXONE", 
e.Xbsx = "XBSX", e.Ps4 = "PS4", e.Ps5 = "PS5", e.Nx = "NX", e.Ios = "IOS", e.Android = "ANDROID", 
e.Web = "WEB", e.Pc = "PC", e.Stadia = "STADIA", e.Unknown = "UNKNOWN", e))(fc || {}), mc = new Set(Object.values(fc)), yc = e => {
const t = "object" == typeof e ? e.id : e;
return "string" == typeof (n = t) && mc.has(n) ? t : "UNKNOWN";
var n;
}, hc = {
hasTextDirectionFix: !1,
hasSpriteFrameProperty: !1,
hasMouseEnabledTransparentSurfacesFix: !1,
hasBigIntSupport: !1,
yogaVersion: 0
};
var gc = function(e) {
const t = e?.locale ?? "en-us", n = e?.isRightToLeftLanguage ?? !1, r = {
...hc,
...e?.featureFlags ?? {}
};
let i = e?.devicePlatformId ? yc(e.devicePlatformId) : "PC";
return {
locale: t,
isRTL: n,
devicePlatformId: i,
isPC: "PC" === i,
bundleUrlUnsafe: e?.bundleUrl_UNSAFE || "",
featureFlags: r
};
}(is.TwinkleConstants), Ic = "PS4" === gc.devicePlatformId || "XBOXONE" === gc.devicePlatformId || "NX" === gc.devicePlatformId ? 1 : 2;
function vc(e) {
return "number" == typeof e ? e * Ic : e.map((e => e * Ic));
}
var bc = e => e * Ic * .75, _c = e => e[Ic], Pc = e => {
const t = {};
return Object.keys(e).forEach((n => {
t[n] = _c(e[n]);
})), t;
}, Sc = {}, Tc = {}, Ec = [], kc = 1;
function Nc() {
let e = Ec.pop();
return e || (e = kc++), e;
}
function Cc(e, t) {
Sc[e] = {
style: t,
synced: !1
};
}
function Oc(e) {
const t = Nc();
return Cc(t, e), t;
}
function Ac(e) {
delete Sc[e], Ec.push(e);
}
function wc(e, t, n = !1) {
for (const r of t) {
const t = Sc[r];
t && (t.synced || (n ? e.createStyleSync({
id: r,
style: t.style
}) : e.createStyle({
id: r,
style: t.style
}), t.synced = !0));
}
}
function Lc() {
for (const e of Object.values(Sc)) e.synced = !1;
}
function Rc(e, t) {
const n = t ? Oc(t) : void 0;
return function(t) {
const r = e(t), i = Object.keys(r).map((e => Bc(e, r[e])));
return n && i.push(n), i;
};
}
var xc = Oc({});
function Bc(e, t) {
let n = Tc[e];
if (!n) {
const t = {};
n = function(n) {
if (void 0 === n) return xc;
const r = typeof n + ":" + n;
let i = t[r];
return i || (i = Oc({
[e]: n
}), t[r] = i), i;
}, Tc[e] = n;
}
return n(t);
}
function Dc(e, t) {
const {id: n, styleCallback: r} = H.useMemo((() => {
const t = Nc();
let n = !1;
return {
id: t,
styleCallback: () => {
if (!n) {
n = !0;
const r = e();
Cc(t, r);
}
return t;
}
};
}), t);
return H.useEffect((() => () => {
Ac(n);
}), [ n ]), r;
}
var Mc = "https://artifactory.ea.com/artifactory/eax-generic-local/photon", Fc = [ "https://assets.layer.ea.com", "https://assets.layer2.ea.com", "https://assets-dev.layer.ea.com", "https://assets-dev.layer2.ea.com", Mc ];
function Uc(e) {
for (const t of Fc) if (e.startsWith(t)) return t;
}
var Hc = (Uc(gc.bundleUrlUnsafe) || Mc) + "/assets";
function Vc(e) {
return Hc + e;
}
var Jc = Pc({
L: {
1: Vc("/photon/quantum/icons/buttons/console/L_Stick-153f05e5.png"),
2: Vc("/photon/quantum/icons/buttons/console/L_Stick@2x-3433e3af.png")
},
L3: {
1: Vc("/photon/quantum/icons/buttons/console/LeftStickPress-0af47dba.png"),
2: Vc("/photon/quantum/icons/buttons/console/LeftStickPress@2x-30193db7.png")
},
R: {
1: Vc("/photon/quantum/icons/buttons/console/R_Stick-f651cc98.png"),
2: Vc("/photon/quantum/icons/buttons/console/R_Stick@2x-c778921c.png")
},
R3: {
1: Vc("/photon/quantum/icons/buttons/console/RightStickPress-27afe739.png"),
2: Vc("/photon/quantum/icons/buttons/console/RightStickPress@2x-bf927d14.png")
}
}), zc = {
L: vc([ 32, 32 ]),
L3: vc([ 35, 32 ]),
R: vc([ 32, 32 ]),
R3: vc([ 35, 32 ])
}, Gc = Pc({
A: {
1: Vc("/photon/quantum/icons/buttons/console/A-8dd77a8f.png"),
2: Vc("/photon/quantum/icons/buttons/console/A@2x-daf48afe.png")
},
B: {
1: Vc("/photon/quantum/icons/buttons/console/B-6324d7ef.png"),
2: Vc("/photon/quantum/icons/buttons/console/B@2x-7d9bfd26.png")
},
LB: {
1: Vc("/photon/quantum/icons/buttons/xbox/LB-86220347.png"),
2: Vc("/photon/quantum/icons/buttons/xbox/LB@2x-45bf4ede.png")
},
LT: {
1: Vc("/photon/quantum/icons/buttons/xbox/LT-5d83d406.png"),
2: Vc("/photon/quantum/icons/buttons/xbox/LT@2x-e48e251a.png")
},
Menu: {
1: Vc("/photon/quantum/icons/buttons/xbox/Menu-80a9c3ed.png"),
2: Vc("/photon/quantum/icons/buttons/xbox/Menu@2x-58b3c04b.png")
},
View: {
1: Vc("/photon/quantum/icons/buttons/xbox/Change_View-0b9d4821.png"),
2: Vc("/photon/quantum/icons/buttons/xbox/Change_View@2x-313379db.png")
},
RB: {
1: Vc("/photon/quantum/icons/buttons/xbox/RB-741a5b67.png"),
2: Vc("/photon/quantum/icons/buttons/xbox/RB@2x-e50d4979.png")
},
RT: {
1: Vc("/photon/quantum/icons/buttons/xbox/RT-d5de4bf8.png"),
2: Vc("/photon/quantum/icons/buttons/xbox/RT@2x-37833b92.png")
},
X: {
1: Vc("/photon/quantum/icons/buttons/console/X-0eec8545.png"),
2: Vc("/photon/quantum/icons/buttons/console/X@2x-5d97d8d4.png")
},
Y: {
1: Vc("/photon/quantum/icons/buttons/console/Y-5fc29454.png"),
2: Vc("/photon/quantum/icons/buttons/console/Y@2x-858f6ff0.png")
}
}), jc = {
A: vc([ 32, 32 ]),
B: vc([ 32, 32 ]),
LB: vc([ 60, 36 ]),
LT: vc([ 32, 32 ]),
Menu: vc([ 32, 32 ]),
View: vc([ 32, 32 ]),
RB: vc([ 60, 36 ]),
RT: vc([ 32, 32 ]),
X: vc([ 32, 32 ]),
Y: vc([ 32, 32 ])
}, qc = Pc({
A_S: {
1: Vc("/photon/quantum/icons/buttons/console/A-8dd77a8f.png"),
2: Vc("/photon/quantum/icons/buttons/console/A@2x-daf48afe.png")
},
B_S: {
1: Vc("/photon/quantum/icons/buttons/console/B-6324d7ef.png"),
2: Vc("/photon/quantum/icons/buttons/console/B@2x-7d9bfd26.png")
},
L1_S: {
1: Vc("/photon/quantum/icons/buttons/console/L1-827ee30a.png"),
2: Vc("/photon/quantum/icons/buttons/console/L1@2x-76ad6d8f.png")
},
L2_S: {
1: Vc("/photon/quantum/icons/buttons/console/L2-31f080f4.png"),
2: Vc("/photon/quantum/icons/buttons/console/L2@2x-07f923e5.png")
},
Menu_S: {
1: Vc("/photon/quantum/icons/buttons/stadia/Menu-12ce4fb6.png"),
2: Vc("/photon/quantum/icons/buttons/stadia/Menu@2x-90e81463.png")
},
Options: {
1: Vc("/photon/quantum/icons/buttons/stadia/Options-33d05318.png"),
2: Vc("/photon/quantum/icons/buttons/stadia/Options@2x-4b44b599.png")
},
GoogleAssistant: {
1: Vc("/photon/quantum/icons/buttons/stadia/GoogleAssistant-ac39967a.png"),
2: Vc("/photon/quantum/icons/buttons/stadia/GoogleAssistant@2x-85055852.png")
},
Capture: {
1: Vc("/photon/quantum/icons/buttons/stadia/Capture-1e548c50.png"),
2: Vc("/photon/quantum/icons/buttons/stadia/Capture@2x-b2282222.png")
},
R1_S: {
1: Vc("/photon/quantum/icons/buttons/console/R1-fd84454a.png"),
2: Vc("/photon/quantum/icons/buttons/console/R1@2x-032edcaf.png")
},
R2_S: {
1: Vc("/photon/quantum/icons/buttons/console/R2-03aa6f93.png"),
2: Vc("/photon/quantum/icons/buttons/console/R2@2x-1aad2a61.png")
},
X_S: {
1: Vc("/photon/quantum/icons/buttons/console/X-0eec8545.png"),
2: Vc("/photon/quantum/icons/buttons/console/X@2x-5d97d8d4.png")
},
Y_S: {
1: Vc("/photon/quantum/icons/buttons/console/Y-5fc29454.png"),
2: Vc("/photon/quantum/icons/buttons/console/Y@2x-858f6ff0.png")
}
}), Wc = {
A_S: vc([ 32, 32 ]),
B_S: vc([ 32, 32 ]),
L1_S: vc([ 48, 32 ]),
R1_S: vc([ 48, 32 ]),
Menu_S: vc([ 32, 32 ]),
Options: vc([ 36, 32 ]),
GoogleAssistant: vc([ 32, 32 ]),
Capture: vc([ 32, 32 ]),
L2_S: vc([ 41, 32 ]),
R2_S: vc([ 41, 32 ]),
X_S: vc([ 32, 32 ]),
Y_S: vc([ 32, 32 ])
}, Yc = Pc({
A_Nx: {
1: Vc("/photon/quantum/icons/buttons/console/A-8dd77a8f.png"),
2: Vc("/photon/quantum/icons/buttons/console/A@2x-daf48afe.png")
},
B_Nx: {
1: Vc("/photon/quantum/icons/buttons/console/B-6324d7ef.png"),
2: Vc("/photon/quantum/icons/buttons/console/B@2x-7d9bfd26.png")
},
X_Nx: {
1: Vc("/photon/quantum/icons/buttons/console/X-0eec8545.png"),
2: Vc("/photon/quantum/icons/buttons/console/X@2x-5d97d8d4.png")
},
Y_Nx: {
1: Vc("/photon/quantum/icons/buttons/console/Y-5fc29454.png"),
2: Vc("/photon/quantum/icons/buttons/console/Y@2x-858f6ff0.png")
},
MapMenu_Nx: {
1: Vc("/photon/quantum/icons/buttons/switch/minus-86aa7f38.png"),
2: Vc("/photon/quantum/icons/buttons/switch/minus@2x-8a519fd9.png")
},
Pause_Nx: {
1: Vc("/photon/quantum/icons/buttons/switch/plus-8c860b8e.png"),
2: Vc("/photon/quantum/icons/buttons/switch/plus@2x-f4b87fa6.png")
},
Left_Nx: {
1: Vc("/photon/quantum/icons/buttons/switch/Left-0c262fa0.png"),
2: Vc("/photon/quantum/icons/buttons/switch/Left@2x-7d8ee9ab.png")
},
Up_Nx: {
1: Vc("/photon/quantum/icons/buttons/switch/Up-f279a076.png"),
2: Vc("/photon/quantum/icons/buttons/switch/Up@2x-ff24bfe3.png")
},
Right_Nx: {
1: Vc("/photon/quantum/icons/buttons/switch/Right-ef22a6bd.png"),
2: Vc("/photon/quantum/icons/buttons/switch/Right@2x-419f7983.png")
},
Down_Nx: {
1: Vc("/photon/quantum/icons/buttons/switch/Down-7ac09c29.png"),
2: Vc("/photon/quantum/icons/buttons/switch/Down@2x-ac7800d7.png")
},
L_Nx: {
1: Vc("/photon/quantum/icons/buttons/switch/L-38b7944b.png"),
2: Vc("/photon/quantum/icons/buttons/switch/L@2x-b0699c7c.png")
},
R_Nx: {
1: Vc("/photon/quantum/icons/buttons/switch/R-bc0f10f2.png"),
2: Vc("/photon/quantum/icons/buttons/switch/R@2x-c8c44d04.png")
},
ZL_Nx: {
1: Vc("/photon/quantum/icons/buttons/switch/ZL-f254f9d2.png"),
2: Vc("/photon/quantum/icons/buttons/switch/ZL@2x-7e32123a.png")
},
ZR_Nx: {
1: Vc("/photon/quantum/icons/buttons/switch/ZR-55b5dee4.png"),
2: Vc("/photon/quantum/icons/buttons/switch/ZR@2x-996fa537.png")
}
}), Kc = {
A_Nx: vc([ 32, 32 ]),
B_Nx: vc([ 32, 32 ]),
X_Nx: vc([ 32, 32 ]),
Y_Nx: vc([ 32, 32 ]),
MapMenu_Nx: vc([ 32, 32 ]),
Pause_Nx: vc([ 32, 32 ]),
Left_Nx: vc([ 32, 32 ]),
Up_Nx: vc([ 32, 32 ]),
Right_Nx: vc([ 32, 32 ]),
Down_Nx: vc([ 32, 32 ]),
L_Nx: vc([ 32, 32 ]),
R_Nx: vc([ 32, 32 ]),
ZL_Nx: vc([ 32, 32 ]),
ZR_Nx: vc([ 32, 32 ])
}, Xc = Pc({
Circle: {
1: Vc("/photon/quantum/icons/buttons/playstation/Circle-5d2ed786.png"),
2: Vc("/photon/quantum/icons/buttons/playstation/Circle@2x-503649cf.png")
},
L1: {
1: Vc("/photon/quantum/icons/buttons/console/L1-827ee30a.png"),
2: Vc("/photon/quantum/icons/buttons/console/L1@2x-76ad6d8f.png")
},
L2: {
1: Vc("/photon/quantum/icons/buttons/console/L2-31f080f4.png"),
2: Vc("/photon/quantum/icons/buttons/console/L2@2x-07f923e5.png")
},
R1: {
1: Vc("/photon/quantum/icons/buttons/console/R1-fd84454a.png"),
2: Vc("/photon/quantum/icons/buttons/console/R1@2x-032edcaf.png")
},
R2: {
1: Vc("/photon/quantum/icons/buttons/console/R2-03aa6f93.png"),
2: Vc("/photon/quantum/icons/buttons/console/R2@2x-1aad2a61.png")
},
Square: {
1: Vc("/photon/quantum/icons/buttons/playstation/Square-ee30a845.png"),
2: Vc("/photon/quantum/icons/buttons/playstation/Square@2x-2e8d61e9.png")
},
Triangle: {
1: Vc("/photon/quantum/icons/buttons/playstation/Triangle-13104262.png"),
2: Vc("/photon/quantum/icons/buttons/playstation/Triangle@2x-63f95e2e.png")
},
Cross: {
1: Vc("/photon/quantum/icons/buttons/playstation/X-7eb1cd88.png"),
2: Vc("/photon/quantum/icons/buttons/playstation/X@2x-4d4d7b3c.png")
},
Option: "PS5" === gc.devicePlatformId ? {
1: Vc("/photon/quantum/icons/buttons/playstation/Options-ps5-7a52c78a.png"),
2: Vc("/photon/quantum/icons/buttons/playstation/Options-ps5@2x-cbb1c76b.png")
} : {
1: Vc("/photon/quantum/icons/buttons/playstation/Options-99cbd400.png"),
2: Vc("/photon/quantum/icons/buttons/playstation/Options@2x-1208264e.png")
},
Touchpad: {
1: Vc("/photon/quantum/icons/buttons/playstation/Touchpad-b91080f7.png"),
2: Vc("/photon/quantum/icons/buttons/playstation/Touchpad@2x-9d41ff7c.png")
}
}), Qc = {
Circle: vc([ 32, 32 ]),
L1: vc([ 48, 32 ]),
L2: vc([ 41, 32 ]),
R1: vc([ 48, 32 ]),
R2: vc([ 41, 32 ]),
Square: vc([ 32, 32 ]),
Triangle: vc([ 32, 32 ]),
Cross: vc([ 32, 32 ]),
Option: "PS5" === gc.devicePlatformId ? vc([ 32, 32 ]) : vc([ 82, 32 ]),
Touchpad: vc([ 48, 32 ])
}, $c = Pc({
ENTER: {
1: Vc("/photon/quantum/icons/buttons/pc/Enter_Return-7043f781.png"),
2: Vc("/photon/quantum/icons/buttons/pc/Enter_Return@2x-a99324d2.png")
}
}), Zc = {
ENTER: vc([ 48, 32 ])
}, ed = {
...Jc,
...Gc,
...qc,
...Yc,
...Xc,
...$c
}, td = {
...zc,
...jc,
...Wc,
...Kc,
...Qc,
...Zc
}, nd = {
...Jc,
...Gc
}, rd = {
...Jc,
...Xc
}, id = {
...Jc,
...qc
}, ad = {
...Jc,
...Yc
}, od = ed, sd = {
...{
Breakpoints: {},
AnimationEasing: {
acceleration: [ .755, .05, .855, .06 ],
accelerationBack: [ .6, -.28, .735, .045 ],
deceleration: [ .23, 1, .32, 1 ],
decelerationBack: [ .175, .885, .32, 1.275 ],
linear: [ 0, 0, 1, 1 ],
standard: [ .86, 0, .07, 1 ],
standardBack: [ .68, -.55, .265, 1.55 ]
},
AnimationTime: {
average: 300,
crawl: 625,
extremeCrawl: 2e3,
fast: 250,
faster: 200,
fastest: 125,
rapid: 100,
slow: 375,
slower: 500,
slowest: 575
},
ColorAlternate: {
primary: "#8368fdff",
secondary: "#ff6d4dff",
tertiary: "#70fcffff"
},
ColorAlternatePrimary: {
_0: "#c1b4feff",
_100: "#b5a4feff",
_1000: "#42347fff",
_200: "#a895feff",
_300: "#9c86fdff",
_400: "#8f77fdff",
_500: "#8368fdff",
_600: "#765ee4ff",
_700: "#6953caff",
_800: "#5c49b1ff",
_900: "#4f3e98ff"
},
ColorAlternateSecondary: {
_0: "#ffb6a6ff",
_100: "#ffa794ff",
_1000: "#803727ff",
_200: "#ff9982ff",
_300: "#ff8a71ff",
_400: "#ff7c5fff",
_500: "#ff6d4dff",
_600: "#e66245ff",
_700: "#cc573eff",
_800: "#b34c36ff",
_900: "#99412eff"
},
ColorAlternateTertiary: {
_0: "#b8feffff",
_100: "#a9fdffff",
_1000: "#387e80ff",
_200: "#9bfdffff",
_300: "#8dfdffff",
_400: "#7efcffff",
_500: "#70fcffff",
_600: "#65e3e6ff",
_700: "#5acaccff",
_800: "#4eb0b3ff",
_900: "#439799ff"
},
ColorBrand: {
primary: "#276afcff",
secondary: "#ff4747ff",
tertiary: "#33ff9dff"
},
ColorBrandPrimary: {
_0: "#93b5feff",
_100: "#7da6fdff",
_1000: "#14357eff",
_200: "#6897fdff",
_300: "#5288fdff",
_400: "#3d79fcff",
_500: "#276afcff",
_600: "#235fe3ff",
_700: "#1f55caff",
_800: "#1b4ab0ff",
_900: "#174097ff"
},
ColorBrandSecondary: {
_0: "#ffa3a3ff",
_100: "#ff9191ff",
_1000: "#802424ff",
_200: "#ff7e7eff",
_300: "#ff6c6cff",
_400: "#ff5959ff",
_500: "#ff4747ff",
_600: "#e64040ff",
_700: "#cc3939ff",
_800: "#b33232ff",
_900: "#992b2bff"
},
ColorBrandTertiary: {
_0: "#99ffceff",
_100: "#85ffc4ff",
_1000: "#1a804fff",
_200: "#70ffbaff",
_300: "#5cffb1ff",
_400: "#47ffa7ff",
_500: "#33ff9dff",
_600: "#2ee68dff",
_700: "#29cc7eff",
_800: "#24b36eff",
_900: "#1f995eff"
},
ColorNeutral: {
_0: "#ffffffff",
_100: "#d1d0d5ff",
_1000: "#000000ff",
_200: "#9d9ba3ff",
_300: "#62626fff",
_400: "#343647ff",
_500: "#1d2033ff",
_600: "#1a1d2eff",
_700: "#171a29ff",
_800: "#141724ff",
_900: "#0b0e15ff"
},
ColorSystem: {
error: "#ff4747ff",
success: "#00ff84ff",
warning: "#ffe66bff"
},
ColorSystemError: {
_0: "#ffa3a3ff",
_100: "#ff9191ff",
_1000: "#802424ff",
_200: "#ff7e7eff",
_300: "#ff6c6cff",
_400: "#ff5959ff",
_500: "#ff4747ff",
_600: "#e64040ff",
_700: "#cc3939ff",
_800: "#b33232ff",
_900: "#992b2bff"
},
ColorSystemSuccess: {
_0: "#80ffc2ff",
_100: "#66ffb5ff",
_1000: "#008042ff",
_200: "#4dffa9ff",
_300: "#33ff9dff",
_400: "#1aff90ff",
_500: "#00ff84ff",
_600: "#00e677ff",
_700: "#00cc6aff",
_800: "#00b35cff",
_900: "#00994fff"
},
ColorSystemWarning: {
_0: "#fff3b5ff",
_100: "#fff0a6ff",
_1000: "#807336ff",
_200: "#ffee97ff",
_300: "#ffeb89ff",
_400: "#ffe97aff",
_500: "#ffe66bff",
_600: "#e6cf60ff",
_700: "#ccb856ff",
_800: "#b3a14bff",
_900: "#998a40ff"
},
BackgroundColor: {
alt1: "#ffffffff",
alt2: "#343647ff",
alt3: "#d1d0d5ff",
base: "#1d2033ff",
body: "#141724ff"
},
IconColorInverted: {
alert: "#ff4747ff",
default: "#141724ff",
emphasized: "#000000ff",
error: "#ff4747ff",
success: "#00ff84ff",
warning: "#ffe66bff"
},
IconColorStandard: {
alert: "#ff4747ff",
default: "#9d9ba3ff",
emphasized: "#ffffffff",
error: "#ff4747ff",
success: "#00ff84ff",
warning: "#ffe66bff"
},
InteractiveColor: {
disabled: "#62626fff",
focusHover: "#276afcff",
selected: "#1f55caff",
selectedAlt: "#1d2033ff"
},
TextColorInverted: {
alert: "#ff4747ff",
default: "#141724ff",
emphasized: "#000000ff",
error: "#ff4747ff",
success: "#00ff84ff",
warning: "#ffe66bff"
},
TextColorStandard: {
alert: "#ff4747ff",
default: "#9d9ba3ff",
emphasized: "#ffffffff",
error: "#ff4747ff",
success: "#00ff84ff",
warning: "#ffe66bff"
},
DimensionLayout: {
large: 128,
larger: 160,
largest: 192,
macro: 224,
medium: 96,
micro: 24,
none: 0,
small: 64,
smaller: 48,
smallest: 32
},
EffectsRadiationAlpha: {
large: .2,
medium: .3,
small: .4
},
EffectsRadiationBrandPrimary: {
large: {
x: 0,
y: 0,
blur: 80,
color: "#276afc33"
},
medium: {
x: 0,
y: 0,
blur: 30,
color: "#276afc4d"
},
small: {
x: 0,
y: 0,
blur: 10,
color: "#276afc66"
}
},
EffectsRadiationBrandSecondary: {
large: {
x: 0,
y: 0,
blur: 80,
color: "#ff474733"
},
medium: {
x: 0,
y: 0,
blur: 30,
color: "#ff47474d"
},
small: {
x: 0,
y: 0,
blur: 10,
color: "#ff474766"
}
},
EffectsRadiationBrandTertiary: {
large: {
x: 0,
y: 0,
blur: 80,
color: "#33ff9d33"
},
medium: {
x: 0,
y: 0,
blur: 30,
color: "#33ff9d4d"
},
small: {
x: 0,
y: 0,
blur: 10,
color: "#33ff9d66"
}
},
EffectsRadiationRadius: {
large: 80,
medium: 30,
small: 10
},
EffectsRadiationSystemError: {
large: {
x: 0,
y: 0,
blur: 80,
color: "#ff474733"
},
medium: {
x: 0,
y: 0,
blur: 30,
color: "#ff47474d"
},
small: {
x: 0,
y: 0,
blur: 10,
color: "#ff474766"
}
},
EffectsRadiationSystemSuccess: {
large: {
x: 0,
y: 0,
blur: 80,
color: "#00ff8433"
},
medium: {
x: 0,
y: 0,
blur: 30,
color: "#00ff844d"
},
small: {
x: 0,
y: 0,
blur: 10,
color: "#00ff8466"
}
},
EffectsRadiationSystemWarning: {
large: {
x: 0,
y: 0,
blur: 80,
color: "#ffe66b33"
},
medium: {
x: 0,
y: 0,
blur: 30,
color: "#ffe66b4d"
},
small: {
x: 0,
y: 0,
blur: 10,
color: "#ffe66b66"
}
},
FillAlpha: {
_10: .1,
_20: .2,
_30: .3,
_40: .4,
_50: .5,
_60: .6,
_70: .7,
_80: .8,
_90: .9,
_95: .95
},
BorderRadius: {
large: 24,
larger: 32,
largest: 48,
macro: 64,
medium: 16,
micro: 2,
none: 0,
small: 12,
smaller: 8,
smallest: 4
},
StrokeDash: {
gap: 12,
length: 8
},
StrokeEnd: {
cap: "round"
},
StrokeWidth: {
large: 8,
medium: 4,
small: 2
},
DimensionSpace: {
large: 24,
larger: 32,
largest: 48,
macro: 64,
medium: 16,
micro: 2,
none: 0,
small: 12,
smaller: 8,
smallest: 4
},
TextFamily: {
data: "electronic-arts-mono",
primary: "electronic-arts-display",
secondary: "electronic-arts-text"
},
TextWeight: {
bold: "bold",
light: "normal",
medium: "medium",
regular: "normal"
},
TextSpaceLetterSpacing: {
allCaps: {
type: "relative",
value: .03
},
dataLoose: {
type: "relative",
value: .05
},
dataModerate: {
type: "relative",
value: 0
},
display: {
type: "relative",
value: .07
},
heading: {
type: "relative",
value: .03
},
paragraph: {
type: "relative",
value: .017
},
section: {
type: "relative",
value: .17
}
},
TextSpaceLineHeight: {
moderate: {
type: "relative",
value: 1.5
},
tight: {
type: "relative",
value: 1.265
},
tighter: {
type: "relative",
value: 1.129
}
},
TextSizeOption: {
_100: 20,
_1000: 68,
_1100: 76,
_1200: 84,
_1300: 92,
_1400: 100,
_1500: 108,
_1600: 116,
_1700: 124,
_200: 24,
_300: 28,
_400: 32,
_50: 18,
_500: 36,
_600: 42,
_700: 48,
_800: 54,
_900: 60
},
TextSizeData: {
large: 32,
larger: 36,
medium: 28,
small: 24,
smaller: 20
},
TextSizeDisplay: {
medium: 68,
small: 60
},
TextSizeHeading: {
large: 48,
medium: 42,
small: 36,
smaller: 32
},
TextSizeLabel: {
medium: 28,
small: 24
},
TextSizeParagraph: {
large: 32,
medium: 28,
small: 24,
smaller: 20
}
},
AnimationEasing: {
ease: [ .48, 0, .24, 1 ],
accelerate: [ .24, 1, .32, 1 ]
},
AnimationTime: {
rapid: 100,
fastest: 250,
faster: 300,
fast: 350,
average: 400,
slow: 500,
slower: 700,
slowest: 1e3,
toast_delay: 5e3
},
ScrollFactor: {
fast: 100
},
DangerZone: {
width: 96,
height: 54
},
ButtonScale: {
large: .993,
medium: .98,
small: .96
},
OverlayBackgroundColor: "#04091Aff"
}, ld = e => ed[e], cd = e => td[e], dd = Pc({
buttonBorder: {
1: Vc("/photon/quantum/borders/w4px_r4px_ffffff-transparent-e688f0af.png"),
2: Vc("/photon/quantum/borders/w4px_r4px_ffffff-transparent-2x-9d845976.png")
}
}), ud = Oc({
height: vc(32),
texture: dd.buttonBorder,
borderCenter: !0,
textureBorder: vc(4),
justifyContent: "center",
alignItems: "center",
paddingLeft: vc(10),
paddingRight: vc(10)
}), pd = Oc({
fontSize: bc(19)
}), fd = ({type: e, buttonLabel: t, color: n = sd.IconColorStandard.default, style: r, onClick: i, onSurfaceId: a}) => {
if (e) {
const t = ld(e), [o, s] = cd(e);
return H.createElement("surface", {
style: [ Bc("texture", t), Bc("width", o), Bc("height", s), Bc("color", n), r ],
onClick: i,
onSurfaceId: a
});
}
return t ? H.createElement("surface", {
onClick: i,
onSurfaceId: a,
style: [ Bc("zOffset", 1), ud, Bc("color", n), r ]
}, H.createElement("surface", {
style: [ pd, Bc("color", n) ],
text: t
})) : null;
}, md = {
name: "Almarai Regular",
url: Vc("/photon/fonts/Almarai-Regular-a19edc26.ttf")
}, yd = {
name: "Almarai Bold",
url: Vc("/photon/fonts/Almarai-Bold-62027b7a.ttf")
}, hd = {
name: "Noto Sans KR Regular",
url: Vc("/photon/fonts/NotoSansKR-Regular-913f146b.otf")
}, gd = {
name: "Noto Sans JP Regular",
url: Vc("/photon/fonts/NotoSansJP-Regular-ecfed48e.otf")
}, Id = {
name: "Noto Sans SC Regular",
url: Vc("/photon/fonts/NotoSansSC-Regular-370c2c5d.otf")
}, vd = {
name: "Noto Sans TC Regular",
url: Vc("/photon/fonts/NotoSansTC-Regular-d6b43f66.otf")
}, bd = {
name: "Electronic Arts Display",
url: Vc("/photon/fonts/electronic-arts-display-regular-a4361191.otf")
}, _d = {
name: "Electronic Arts Display Bold",
url: Vc("/photon/fonts/electronic-arts-display-bold-5d556d29.otf")
}, Pd = {
name: "Electronic Arts Text",
url: Vc("/photon/fonts/electronic-arts-text-regular-91c23ee4.otf")
}, Sd = {
name: "Electronic Arts Text Bold",
url: Vc("/photon/fonts/electronic-arts-text-bold-97ba7e39.otf")
}, Td = {
eaDisplay: md,
eaDisplayBold: md,
eaText: md,
eaTextBold: yd
}, Ed = {
eaDisplay: gd,
eaDisplayBold: gd,
eaText: gd,
eaTextBold: gd
}, kd = {
eaDisplay: hd,
eaDisplayBold: hd,
eaText: hd,
eaTextBold: hd
}, Nd = {
eaDisplay: Id,
eaDisplayBold: Id,
eaText: Id,
eaTextBold: Id
}, Cd = {
eaDisplay: vd,
eaDisplayBold: vd,
eaText: vd,
eaTextBold: vd
}, Od = {
eaDisplay: bd,
eaDisplayBold: _d,
eaText: Pd,
eaTextBold: Sd
}, Ad = {
name: "ea-icons",
url: Vc("/photon/fonts/photon-icons-3cd8108e.otf")
}, wd = new Set([ "ar-sa" ]), Ld = new Set([ "ja-jp" ]), Rd = new Set([ "ko-kr", "ru-ru" ]), xd = new Set([ "zh-cn" ]), Bd = new Set([ "zh-tw", "zh-hk" ]);
function Dd(e, t) {
const n = !(wd.has(t) || Rd.has(t) || Ld.has(t) || xd.has(t) || Bd.has(t));
return !(!wd.has(e) || !wd.has(t)) || (!(!Rd.has(e) || !Rd.has(t)) || (!(!Ld.has(e) || !Ld.has(t)) || (!(!xd.has(e) || !xd.has(t)) || (!(!Bd.has(e) || !Bd.has(t)) || n))));
}
var {eaIcons: Md, eaDisplay: Fd, eaDisplayBold: Ud, eaText: Hd, eaTextBold: Vd} = function(e) {
const t = e.toLowerCase();
return wd.has(t) ? {
eaIcons: Ad,
...Td
} : Ld.has(t) ? {
eaIcons: Ad,
...Ed
} : Rd.has(t) ? {
eaIcons: Ad,
...kd
} : xd.has(t) ? {
eaIcons: Ad,
...Nd
} : Bd.has(t) ? {
eaIcons: Ad,
...Cd
} : {
eaIcons: Ad,
...Od
};
}(gc.locale), Jd = gc.featureFlags.hasTextDirectionFix && wd.has(gc.locale) ? "right-to-left" : void 0, zd = Oc({
fontFamily: Fd.name,
textDirection: Jd,
textLetterSpacing: 1,
textSoftness: 1,
textEdgeOffset: .3,
fontSize: bc(28)
}), Gd = Oc({
fontFamily: Ud.name,
textDirection: Jd,
textLetterSpacing: 1,
textSoftness: 1,
textEdgeOffset: .3,
fontSize: bc(28)
}), jd = Oc({
fontFamily: Hd.name,
textDirection: Jd,
textLetterSpacing: 1,
textSoftness: 1,
textEdgeOffset: .3,
fontSize: bc(28)
}), qd = Oc({
fontFamily: Vd.name,
textDirection: Jd,
textLetterSpacing: 1,
textSoftness: 1,
textEdgeOffset: .3,
fontSize: bc(28)
}), Wd = {
ea: String.fromCharCode(57344),
epicGames: String.fromCharCode(57345),
genericCloud: String.fromCharCode(57346),
genericConsole: String.fromCharCode(57347),
genericPc: String.fromCharCode(57348),
playstation: String.fromCharCode(57349),
stadia: String.fromCharCode(57350),
steam: String.fromCharCode(57351),
xbox: String.fromCharCode(57352),
switch: String.fromCharCode(57353),
nbsp: String.fromCharCode(160)
}, Yd = Oc({
fontSize: bc(sd.TextSizeLabel.medium),
zOffset: 1,
textLetterSpacing: vc(1),
textEdgeOffset: .1,
wordWrap: "break-word"
}), Kd = ({text: e, color: t, style: n}) => H.createElement("surface", {
text: e,
style: [ qd, Yd, Bc("color", t || sd.TextColorStandard.default), n ]
}), Xd = Oc({
alignSelf: "stretch",
flexDirection: "row",
flexWrap: "nowrap",
alignItems: "flex-start"
}), Qd = Oc({
marginTop: vc(2),
marginEnd: vc(sd.DimensionSpace.small)
}), $d = Oc({
flex: 1,
whiteSpace: "nowrap"
}), Zd = ({icon: e, iconOnSurfaceId: t, buttonLabel: n, style: r, inverted: i = !1, showIcon: a = !0}) => {
const o = i ? sd.IconColorInverted.default : sd.IconColorStandard.emphasized;
return H.createElement(fd, {
type: e,
onSurfaceId: t,
buttonLabel: n,
color: o,
style: [ Bc("zOffset", 1), a ? void 0 : Bc("opacity", 0), r ]
});
}, eu = ({label: e, showIcon: t, icon: n, iconOnSurfaceId: r, buttonLabel: i, style: a, textStyle: o, inverted: s = !1}) => {
const l = s ? sd.TextColorInverted.default : sd.TextColorStandard.emphasized;
let c;
return (n || i) && (c = H.createElement(Zd, {
inverted: s,
buttonLabel: i,
icon: n,
iconOnSurfaceId: r,
showIcon: t,
style: Qd
})), H.createElement("surface", {
style: [ Xd, a ]
}, c, H.createElement(Kd, {
text: e,
color: l,
style: [ $d, o ]
}));
};
function tu(e, t) {
let n = 0;
const r = () => {
if (0 === t) return e();
n && clearTimeout(n), n = setTimeout((() => {
n = 0, e();
}), t);
};
return r.cancel = () => {
n && (clearTimeout(n), n = 0);
}, r;
}
var nu = class {
constructor() {
this.timers = {}, this.isDestroyed = !1, this.disposeTimeout = e => {
const t = this.timers[e];
void 0 !== t && (clearTimeout(t), delete this.timers[e]);
}, this.timeout = (e, t, n) => {
this.isDestroyed || (this.disposeTimeout(e), this.timers[e] = setTimeout((() => {
this.disposeTimeout(e), t();
}), n));
}, this.hasTimeout = e => void 0 !== this.timers[e];
}
destroy() {
this.isDestroyed = !0, Object.keys(this.timers).forEach((e => {
clearTimeout(this.timers[e]), delete this.timers[e];
}));
}
}, ru = () => {
const [e] = H.useState((() => new nu));
return H.useEffect((() => () => e.destroy()), [ e ]), e;
};
function iu(e, t) {
return e.type === t.type ? e.entryId - t.entryId : e.type - t.type;
}
var au = "context", ou = 1, su = e => "" !== e && void 0 !== e, lu = e => "string" == typeof e ? e : e.filter(su).join(", "), cu = class {
constructor(e, t = 50) {
this.moby = e, this.debounceDelay = t, this.enableNarration = ht.box(!1), this.timeoutHandler = new nu, 
this.disposers = [], this.textMap = new Cs([]), this.contextMap = new Cs([]), this.tertiaryAction = ht.box(void 0, {
deep: !1
}), this.currentContexts = [], this.dispose = () => {
this.disposers.forEach((e => e())), this.clear();
}, this.debouncedNarrate = tu((() => {
if (this.waitingText) {
const e = this.waitingText;
this.waitingText = void 0, this.triggerNarration(e);
}
}), this.debounceDelay), this.getRegisteredTertiaryAction = () => this.tertiaryAction.get();
}
get isEnabled() {
return this.enableNarration.get();
}
get hasWaitingContexts() {
return !!this.waitingContexts;
}
get isEnabledUntracked() {
return As((() => this.isEnabled));
}
init(e, t) {
const n = this.moby;
return this.accessibility = e, this.getKeyBindingText = t, this.disposers.push(Mn((() => {
if (this.isEnabled && !n.get(pl)) {
const e = n.get(ll), t = e && this.textMap.get(e), r = t && t(this);
if (r) return lu(r);
}
}), (e => {
this.narrate(e);
})), Mn((() => {
if (this.isEnabled) {
const e = [];
return this.contextMap.forEach(((t, r) => {
if (!n.getItem(Rl, t.boundaryId)) return;
if (t.group && (n.get(pl) || !t.group.hasFocus.get())) return;
const i = t.callback(this);
i && e.push({
entryId: r,
type: t.type,
text: lu(i)
});
})), e;
}
}), (e => {
e && (this.setNarrationContext(e), this.debouncedNarrate());
})), Mn((() => this.isEnabled), ((e, t) => {
!e && t && (this.clear(), this.accessibility?.narrate({
text: ""
}));
}), {
fireImmediately: !0
})), this.dispose;
}
setEnabled(e) {
this.enableNarration.set(e);
}
clear() {
this.timeoutHandler.disposeTimeout(au), this.debouncedNarrate.cancel(), this.waitingContexts = void 0, 
this.waitingText = void 0, this.currentContexts = [];
}
triggerNarration(e) {
let t = e;
if (this.waitingContexts?.length) {
const e = [], n = [];
this.waitingContexts.sort(iu);
for (const {entryId: r, text: i, type: a} of this.waitingContexts) e.push(r), this.currentContexts.includes(r) || (2 === a || 3 === a ? t = lu([ t, i ]) : n.push(i));
t = lu(n.concat(t)), this.currentContexts = e, this.waitingContexts = void 0, this.timeoutHandler.disposeTimeout(au);
}
t && this.accessibility?.narrate({
text: t
});
}
setNarrationContext(e) {
this.isEnabledUntracked && (this.waitingContexts = e, this.timeoutHandler.timeout(au, (() => {
this.triggerNarration("");
}), 100));
}
narrate(e) {
this.isEnabledUntracked && (this.waitingText = e, this.debouncedNarrate());
}
narrateNow(e) {
this.isEnabledUntracked && e && this.triggerNarration(e);
}
getKeyBindingText(e) {
return "";
}
registerGetText(e, t) {
return this.textMap.set(e, t), () => {
this.textMap.delete(e);
};
}
registerGetContext(e, t, n, r) {
const i = {
id: ou++,
boundaryId: e,
type: t,
callback: n,
group: r
};
return this.contextMap.set(i.id, i), () => {
this.contextMap.delete(i.id);
};
}
registerTertiaryAction(e) {
return this.tertiaryAction.set(e), () => {
this.tertiaryAction.set(void 0);
};
}
}, [du, uu] = $s({
debugName: "Narration",
create: e => new cu(e)
});
function pu(e, t, n, r = !0) {
const i = uu(), a = rl();
H.useEffect((() => {
if (r) return i.registerGetContext(a, n, e);
}), [ i, a, n, r, ...t ]);
}
function fu(e, t, n) {
const r = uu();
H.useEffect((() => r.registerGetText(n, e)), [ r, n, ...t ]);
}
function mu(e, t, n, r) {
const i = uu(), a = rl();
H.useEffect((() => i.registerGetContext(a, n, e, r)), [ i, a, n, r, ...t ]);
}
function yu({keyBinding: e, label: t}) {
const n = uu();
H.useEffect((() => n.registerTertiaryAction({
keyBinding: e,
label: t
})), [ n, e, t ]);
}
var [hu, gu] = Es("NavigationHandler"), Iu = H.createContext(void 0), vu = e => H.createElement(Iu.Provider, {
value: e.id
}, e.children), bu = 2, _u = 1;
function Pu(e) {
return "" + _u++;
}
function Su(e, t) {
const n = H.useRef(""), r = e || n.current || Pu();
return H.useEffect((() => {
n.current = r;
}), [ r ]), r;
}
function Tu(e) {
return {
isFocused: Us(dl, e),
isPressed: Us(ul, e)
};
}
function Eu(e, t, n) {
const r = H.useCallback((r => {
if (r && (t?.(e), n)) return () => {
n(e);
};
}), [ e, n, t ]);
Ms(dl, e, r, !0);
}
function ku(e, t) {
H.useEffect((() => {
if (t) return il.subscribe(((n, r) => {
n === e && t(r, e);
}));
}), [ e, t ]);
}
function Nu(e) {
const t = Rs(), {setFocus: n, setPressed: r, setMouseMode: i} = tl();
return H.useEffect((() => xn((() => {
t.getItem(Ol, e);
}))), [ t, e ]), H.useMemo((() => {
const a = () => t.getItemUntracked(Ol, e);
return {
onClick: t => {
a() || (i(!0), n(e, 1), t.button === fs.Input.MouseButton.Left && il.trigger(e, t));
},
onMouseEnter: () => {
a() || (i(!0), n(e, 1));
},
onMouseLeave: () => {
a() || (i(!0), n(void 0, 1), r(e, !1));
},
onMouseDown: t => {
a() || (i(!0), t.button === fs.Input.MouseButton.Left && r(e, !0));
},
onMouseUp: t => {
a() || (i(!0), t.button === fs.Input.MouseButton.Left && r(e, !1));
},
onBounds: n => {
t.setItem(al, e, n);
},
onSurfaceId: n => {
const r = t.getUntracked(ol);
n ? r.set(e, n) : r.delete(e);
}
};
}), [ t, n, r, i, e ]);
}
function Cu(e, t) {
return Su(H.useContext(Iu) ?? e);
}
function Ou(e, t) {
const n = Cu(t), r = rl(), i = gu(), a = tl(), o = qs(al, n);
H.useEffect((() => a.addNavigation(n, i)), [ n, i, a ]), H.useEffect((() => {
const e = a.addFocusId(n, r);
return () => {
e(), o();
};
}), [ a, r, n, o ]);
const s = Nu(n), l = Tu(n);
return {
focusId: n,
hooks: s,
isPressed: l.isPressed,
isFocused: l.isFocused
};
}
var [Au, wu] = Es("InputSetter"), Lu = fs.Input.DeviceType, Ru = Is({
debugName: "registeredInputsState",
default: []
}), xu = Is({
debugName: "suppressedInputRegistrationsState",
default: new Map
}), Bu = Is({
debugName: "pressedKeyEvents",
default: []
}), Du = Ss({
debugName: "pressedKeyEvent",
get: e => ({get: t}) => t(Bu).some((t => t.id === e))
}), Mu = Is({
debugName: "currentInputDeviceState",
default: Lu.NotSet
}), Fu = Is({
debugName: "inputHandlerDisabledCounter",
default: 0
});
var Uu = (e, t) => {
const n = t => {
const n = new Map(e.getUntracked(xu));
t(n), e.set(xu, n);
};
return n((e => e.set(t, (e.get(t) ?? 0) + 1))), () => {
n((e => e.set(t, Math.max((e.get(t) ?? 0) - 1, 0))));
};
}, Hu = e => {
const t = Rs();
H.useEffect((() => Uu(t, e)), [ t, e ]);
}, Vu = (e, t, n = !0) => {
const r = Su(void 0), i = rl(), a = wu(), {keyBinding: o, callback: s, label: l, isRepeating: c, priority: d, onSurfaceId: u, transcendBoundaries: p, registrationIdOverride: f} = e || {}, m = f || r;
return H.useEffect((() => {
if (n && o && s) return a(m, {
keyBinding: o,
callback: s,
label: l,
focusId: t,
boundaryId: p ? void 0 : i,
isRepeating: c,
priority: d,
onSurfaceId: u
});
}), [ a, m, t, i, o, l, s, n, c, d, u, p ]), m;
}, Ju = (e, t, n = !0) => {
const r = Vu(e, t, n);
return Us(Du, r) && n;
}, [zu, Gu] = Es("Twinkle"), [ju, qu] = Es("ContentScaler"), Wu = ({contentDesignWidth: e, contentDesignHeight: t, children: n}) => {
const r = Gu(), {onWindowSizeChanged: i, getWindowSize: a} = r.bindings.Layout, [o, s] = H.useState((() => {
const n = a({});
return n ? {
width: Math.max(1, n.width),
height: Math.max(1, n.height)
} : {
width: e,
height: t
};
})), l = Math.min(o.width / e, o.height / t), c = l * e, d = l * t, u = o.width / 2 - e * l / 2, p = o.height / 2 - t * l / 2, f = Dc((() => ({
position: "absolute",
width: e,
height: t,
scaleX: l,
scaleY: l,
pivotX: -e / 2,
pivotY: -t / 2,
left: u,
top: p
})), [ e, t, l, u, p ]), m = Dc((() => ({
width: o.width,
height: o.height,
paddingLeft: (o.width - c) / 2,
paddingTop: (o.height - d) / 2
})), [ o.width, o.height, c, d ]), y = u / l, h = p / l, g = Dc((() => ({
position: "absolute",
left: -y,
right: -y,
top: -h,
bottom: -h
})), [ y, h ]);
H.useEffect((() => i.subscribe((e => {
s(e);
}))), [ i ]);
const I = H.useMemo((() => ({
rootStyle: m,
contentStyle: f,
fullscreenStyle: g,
fullScreenHorizontalMargin: y,
fullScreenVerticalMargin: h
})), [ f, y, h, g, m ]);
return H.createElement(ju.Provider, {
value: I
}, n);
}, Yu = (fs.DebugUI.WidthModifier, vc(133)), Ku = vc(sd.DimensionLayout.smaller), Xu = vc(1920), Qu = vc(1080);
function $u(e) {
return (Yu + Ku) * e - Ku;
}
var Zu = e => Bc("width", $u(e)), ep = {
width: vc(sd.DangerZone.width),
height: vc(sd.DangerZone.height)
}, tp = {
width: Xu - 2 * ep.width,
height: Qu - 2 * ep.height
}, [np, rp] = (Rc((e => ({
width: $u(e)
})), {
marginRight: Ku
}), Oc({
flexDirection: "row",
flexWrap: "nowrap",
flex: 1
}), Oc({
flexDirection: "column",
flexWrap: "nowrap",
flex: 1
}), Es("QuantumContext")), ip = ({children: e, actionKeyBindings: t, playSoundEffect: n, initialRTL: r = !1}) => {
Gu();
const [i, a] = H.useState(r), o = H.useMemo((() => ({
isRTL: i,
setRTL: a,
actionKeyBindings: t,
playSoundEffect: n
})), [ i, t, n ]);
return H.createElement(np.Provider, {
value: o
}, H.createElement(Wu, {
contentDesignWidth: Xu,
contentDesignHeight: Qu
}, e));
};
function ap() {
return rp().isRTL;
}
function op() {
const {isRTL: e} = rp();
return Bc("direction", e ? "right-to-left" : "left-to-right");
}
function sp(e) {
const {actionKeyBindings: t} = rp();
return t[e];
}
function lp(e, t, n, r) {
const i = Rs(), a = rp();
H.useEffect((() => {
n && a.playSoundEffect?.(r?.onPress ?? 3);
}), [ n, a, r?.onPress ]), H.useEffect((() => {
if (t) {
const t = i.getUntracked(sl);
if (!t) return;
if (t.focusId === e && 2 === t.source) return;
1 === t.source ? a.playSoundEffect?.(r?.onHover ?? 1) : a.playSoundEffect?.(r?.onFocus ?? 2);
}
}), [ i, e, t, a, r ]);
}
function cp(e, t) {
return "function" == typeof e ? e(t) : e;
}
var dp = ({id: e, focusId: t, isFocused: n, isDisabled: r, isPressed: i, isActive: a, onClick: o, onFocus: s, onBlur: l, input: c, soundEffectOverride: d}) => {
const u = Ou(0, t);
ku(u.focusId, r ? void 0 : o), Eu(u.focusId, s, l), Vu(c, u.focusId, u.isFocused && !r);
const p = void 0 === n ? u.isFocused : cp(n, u.isFocused), f = void 0 === i ? u.isPressed && !r : cp(i, u.isPressed);
return lp(u.focusId, p, f, d), H.useMemo((() => ({
focusItem: u,
isFocused: p,
isPressed: f,
isActive: !!a,
isDisabled: !!r
})), [ u, a, r, p, f ]);
}, [up, pp] = Es("QuantumInteractionContext"), fp = -vc(8), mp = vc(sd.BorderRadius.medium), yp = Pc({
border: {
1: Vc("/photon/quantum/buttons/16px_stroke-5712787f.png"),
2: Vc("/photon/quantum/buttons/16px_stroke@2x-06fa31c3.png")
},
background: {
1: Vc("/photon/quantum/buttons/8px_container-5fdd599c.png"),
2: Vc("/photon/quantum/buttons/8px_container@2x-f7b35b5e.png")
}
}), hp = Oc({
padding: vc([ sd.DimensionSpace.small, sd.DimensionSpace.large, sd.DimensionSpace.small, sd.DimensionSpace.large ]),
borderCenter: !0,
textureBorder: mp,
texture: yp.background,
flexDirection: "row",
alignItems: "center"
}), gp = Oc({
position: "absolute",
top: fp,
left: fp,
right: fp,
bottom: fp,
borderCenter: !0,
textureBorder: mp,
texture: yp.border,
color: sd.ColorBrandPrimary._500
}), Ip = Oc({
justifyContent: "center"
}), vp = Oc({
justifyContent: "flex-start"
}), bp = Oc({
alignSelf: "center"
}), _p = {
0: {
default: {
backgroundColor: sd.ColorBrandPrimary._500,
textColor: sd.ColorNeutral._0
},
disabled: {
backgroundColor: sd.ColorBrandPrimary._800,
textColor: sd.ColorNeutral._200
}
},
1: {
default: {
backgroundColor: sd.ColorNeutral._500,
textColor: sd.ColorNeutral._0
},
disabled: {
backgroundColor: sd.ColorNeutral._800,
textColor: sd.ColorNeutral._200
}
}
}, Pp = {
duration: sd.AnimationTime.rapid,
easing: sd.AnimationEasing.ease
}, Sp = Oc({
scaleX: {
to: 1,
...Pp
}
}), Tp = Oc({
marginStart: vc(sd.DimensionSpace.small),
width: vc(32),
height: vc(32)
}), Ep = e => {
const t = sd.ButtonScale[e];
return Oc({
scaleX: {
to: t,
...Pp
},
scaleY: {
to: t,
...Pp
}
});
}, kp = {
small: Ep("small"),
medium: Ep("medium"),
large: Ep("large")
};
function Np(e, t = "medium") {
return e ? kp[t] : Sp;
}
var Cp = Ii.observer((e => {
const {narrationItem: t, input: n} = e, r = e.variant ?? 1, i = dp(e), {focusItem: a, isFocused: o, isPressed: s} = i, l = o || s;
fu((e => t?.({
keyBinding: n?.keyBinding
}, e)), [ t, n?.keyBinding ], a.focusId);
const c = e.isDisabled ? _p[r].disabled : _p[r].default, d = Np(s);
return H.createElement("surface", {
style: [ hp, Bc("color", c.backgroundColor), e.alignStart ? vp : Ip, e.style, d ],
...a.hooks
}, l && H.createElement("surface", {
style: gp
}), e.children(i, c));
})), Op = e => {
const {label: t, icon: n, ...r} = e, i = e.input ? pc(e.input.keyBinding.primaryButton) : void 0, a = H.useCallback(((n, r) => {
if (void 0 !== e.narration) {
return (0, e.narrationItem)({
...n,
...e.narration,
label: t
}, r);
}
return (0, e.narrationItem)?.({
...n,
label: t
}, r);
}), [ e.narrationItem, e.narration, t ]);
return H.createElement(Cp, {
...r,
narrationItem: a
}, H.useCallback((({isFocused: e}, {textColor: a}) => {
const o = e || r.alignStart;
return H.createElement(H.Fragment, null, H.createElement(eu, {
label: t,
icon: o ? i : void 0,
showIcon: e,
textStyle: Bc("color", a),
style: r.alignStart ? void 0 : bp
}), n ? H.createElement("surface", {
style: [ Tp, Bc("texture", n), Bc("color", a) ]
}) : void 0);
}), [ r.alignStart, i, n, t ]));
}, Ap = Oc({
flexDirection: "row"
}), wp = vc(sd.DimensionSpace.smaller + 4), Lp = vc(sd.DimensionSpace.medium + 4), Rp = Pc({
border: {
1: Vc("/photon/quantum/borders/w4px_r12px_ffffff-transparent-1x-7816314b.png"),
2: Vc("/photon/quantum/borders/w4px_r12px_ffffff-transparent-2x-bfc0f52b.png")
}
}), xp = [ gp, Oc({
texture: Rp.border,
textureBorder: vc(sd.DimensionSpace.small),
top: -wp,
left: -Lp,
right: -Lp,
bottom: -wp
}) ], Bp = Oc({
position: "relative",
marginRight: vc(sd.DimensionSpace.larger + 2 * sd.DimensionSpace.medium)
}), Dp = ({action: e}) => {
const {label: t, callback: n, button: r, onSurfaceId: i} = e, {hooks: a, isPressed: o, isHovered: s} = Fl({
onClick: n,
ignoreBoundaryIsolation: !0
}), l = Np(o, "small");
return H.createElement("surface", {
style: [ Bp, l ],
...a
}, s ? H.createElement("surface", {
style: xp
}) : void 0, H.createElement(eu, {
buttonLabel: r.keyboardKeyLabel,
icon: pc(r),
iconOnSurfaceId: i,
label: t
}));
}, Mp = ({style: e, children: t}) => H.createElement("surface", {
style: [ Ap, e ]
}, t), Fp = ({actions: e, style: t}) => H.createElement(Mp, {
style: t
}, e.map((e => H.createElement(Dp, {
key: e.id,
action: e
})))), Up = Pc({
AVATAR: {
1: Vc("/photon/quantum/icons/avatar/Avatar_48px-aaa1febd.png"),
2: Vc("/photon/quantum/icons/avatar/Avatar_48px@2x-26497882.png")
},
ADD_USER: {
1: Vc("/photon/quantum/icons/Add_User/Add_User_48px-8968775d.png"),
2: Vc("/photon/quantum/icons/Add_User/Add_User_48px@2x-30004172.png")
},
WARNING: {
1: Vc("/photon/quantum/icons/warning/Warning_48px-327b5965.png"),
2: Vc("/photon/quantum/icons/warning/Warning_48px@2x-9db11738.png")
},
SEARCH: {
1: Vc("/photon/quantum/icons/search/Search_32px-65ef266b.png"),
2: Vc("/photon/quantum/icons/search/Search_32@2x-91073aec.png")
},
INFORMATION: {
1: Vc("/photon/quantum/icons/information/Information_48px-a401a39b.png"),
2: Vc("/photon/quantum/icons/information/Information_48px@2x-08b4d707.png")
},
ERROR: {
1: Vc("/photon/quantum/icons/remove/Remove_48px-ee73c114.png"),
2: Vc("/photon/quantum/icons/remove/Remove_48px@2x-7f2bb405.png")
},
CHECK_CIRCLE: {
1: Vc("/photon/quantum/icons/check_circle/Check_Circle_48px-6a2d915a.png"),
2: Vc("/photon/quantum/icons/check_circle/Check_Circle_48px@2x-a533d5d9.png")
},
CHECK_FILL: {
1: Vc("/photon/quantum/icons/check_fill/Check_Fill_32px-49eddbcc.png"),
2: Vc("/photon/quantum/icons/check_fill/Check_Fill_32px@2x-7ef2c700.png")
},
PARTY: {
1: Vc("/photon/quantum/icons/party/Party_48px-9fb2fe4b.png"),
2: Vc("/photon/quantum/icons/party/Party_48px@2x-8bd079da.png")
},
PARTY_LEADER: {
1: Vc("/photon/quantum/icons/party_leader/Party_Leader_48px-a7e6eabc.png"),
2: Vc("/photon/quantum/icons/party_leader/Party_Leader_48px@2x-ea25efdb.png")
},
EXIT: {
1: Vc("/photon/quantum/icons/exit/Exit_48px-626d4995.png"),
2: Vc("/photon/quantum/icons/exit/Exit_48px@2x-10478ad8.png")
},
REMOVE: {
1: Vc("/photon/quantum/icons/remove/Remove_48px-f9b091c1.png"),
2: Vc("/photon/quantum/icons/remove/Remove_48px@2x-196d1de5.png")
},
MUTE: {
1: Vc("/photon/quantum/icons/mute/Mute_48px-a5043897.png"),
2: Vc("/photon/quantum/icons/mute/Mute_48px@2x-54fbc0b8.png")
},
VOLUME_UP: {
1: Vc("/photon/quantum/icons/volume_up/Volume_Up_48px-5772ef2a.png"),
2: Vc("/photon/quantum/icons/volume_up/Volume_Up_48px@2x-9edff105.png")
},
VOIP: {
1: Vc("/photon/quantum/icons/Voip_48px-807cb909.png"),
2: Vc("/photon/quantum/icons/Voip_48px@2x-d40dbcc4.png")
},
BLOCK: {
1: Vc("/photon/quantum/icons/block/Block_48px-9e052181.png"),
2: Vc("/photon/quantum/icons/block/Block_48px@2x-9191e3bb.png")
},
SPEAKER_FILL: {
1: Vc("/photon/quantum/icons/speaker_fill/Speaker_Fill_32px-a8d6e819.png"),
2: Vc("/photon/quantum/icons/speaker_fill/Speaker_Fill_32px@2x-53a4b853.png")
},
SPEAKER_MUTE_LINE: {
1: Vc("/photon/quantum/icons/speaker_mute_line/Speaker_Mute_Line_32px-4bc64e75.png"),
2: Vc("/photon/quantum/icons/speaker_mute_line/Speaker_Mute_Line_32px@2x-a1242810.png")
},
SPEAKER_STROKE: {
1: Vc("/photon/quantum/icons/speaker_stroke/Speaker_Stroke_32px-a267fb0f.png"),
2: Vc("/photon/quantum/icons/speaker_stroke/Speaker_Stroke_32px@2x-92382a9b.png")
},
SPEAKING_LINES: {
1: Vc("/photon/quantum/icons/speaking_lines/Speaking_Lines_32px-d6fb02e6.png"),
2: Vc("/photon/quantum/icons/speaking_lines/Speaking_Lines_32px@2x-c27e6fa5.png")
},
MICROPHONE: {
1: Vc("/photon/quantum/icons/microphone/Microphone_48px-e7f2f7e5.png"),
2: Vc("/photon/quantum/icons/microphone/Microphone_48px@2x-1e76b82e.png")
},
MICROPHONE_MUTE: {
1: Vc("/photon/quantum/icons/microphone_mute/Microphone_Mute_48px-68425233.png"),
2: Vc("/photon/quantum/icons/microphone_mute/Microphone_Mute_48px@2x-ef0c6dca.png")
},
MICROPHONE_MUTE_LINE: {
1: Vc("/photon/quantum/icons/Microphone_Mute_Line_32px-0deb9400.png"),
2: Vc("/photon/quantum/icons/Microphone_Mute_Line_32px@2x-93bed9bc.png")
},
RADIO_INPUT_BACKGROUND: {
1: Vc("/photon/quantum/icons/radio_input/background-94784169.png"),
2: Vc("/photon/quantum/icons/radio_input/background@2x-ae7225d4.png")
},
RADIO_INPUT_STROKE: {
1: Vc("/photon/quantum/icons/radio_input/stroke-0bc91d13.png"),
2: Vc("/photon/quantum/icons/radio_input/stroke@2x-7d18d927.png")
},
RADIO_INPUT_BULLET: {
1: Vc("/photon/quantum/icons/radio_input/bullet-d8acc6a0.png"),
2: Vc("/photon/quantum/icons/radio_input/bullet@2x-349d8984.png")
},
CONTROLLER: {
1: Vc("/photon/quantum/icons/controller/Controller_48px-a63774b6.png"),
2: Vc("/photon/quantum/icons/controller/Controller_48px@2x-76d431d7.png")
},
MOUSE: {
1: Vc("/photon/quantum/icons/mouse/Mouse_48px-fac22545.png"),
2: Vc("/photon/quantum/icons/mouse/Mouse_48px@2x-415574d1.png")
},
OPEN_EXTERNAL: {
1: Vc("/photon/quantum/icons/open_external/OpenExternal-4bf23aec.png"),
2: Vc("/photon/quantum/icons/open_external/OpenExternal@2x-63fec202.png")
},
INCOMPATIBLE_NEUTRAL: {
1: Vc("/photon/quantum/icons/incompatible/neutral/Incompatible_Neutral-9bb9a02d.png"),
2: Vc("/photon/quantum/icons/incompatible/neutral/Incompatible_Neutral@2x-c5e780ed.png")
},
INCOMPATIBLE_WHITE: {
1: Vc("/photon/quantum/icons/incompatible/white/Incompatible_White-336c7a1a.png"),
2: Vc("/photon/quantum/icons/incompatible/white/Incompatible_White@2x-5a07eada.png")
},
LIGHT_BULB: {
1: Vc("/photon/quantum/icons/light_bulb/Light_Bulb_48px-7f7831d8.png"),
2: Vc("/photon/quantum/icons/light_bulb/Light_Bulb_48px@2x-54e839f2.png")
},
PLUS: {
1: Vc("/photon/quantum/icons/plus/Plus_32px-0a34f6fe.png"),
2: Vc("/photon/quantum/icons/plus/Plus_32px@2x-5275df23.png")
},
ONLINE_STATUS_INDICATOR: {
1: Vc("/photon/quantum/icons/online_status_indicator/OnlineStatusIndicator-e1807538.png"),
2: Vc("/photon/quantum/icons/online_status_indicator/OnlineStatusIndicator@2x-73780b82.png")
},
OFFLINE_STATUS_INDICATOR: {
1: Vc("/photon/quantum/icons/offline_status_indicator/OfflineStatusIndicator-d538f923.png"),
2: Vc("/photon/quantum/icons/offline_status_indicator/OfflineStatusIndicator@2x-01752008.png")
}
}), Hp = _c({
1: Vc("/photon/quantum/icons/logo/EaCircle-54-6287f0bb.png"),
2: Vc("/photon/quantum/icons/logo/EaCircle-54@2x-5d825716.png")
}), Vp = Oc({
zOffset: 1,
width: vc(54),
height: vc(54),
texture: Hp,
textureMode: "none",
color: sd.ColorNeutral._0
}), Jp = ({style: e}) => H.createElement("surface", {
style: [ Vp, e ]
}), zp = Pc({
down: {
1: Vc("/photon/quantum/icons/arrow_down/Chevron_Down_32px-33c16517.png"),
2: Vc("/photon/quantum/icons/arrow_down/Chevron_Down_32px@2x-2f6cfae2.png")
}
}), Gp = Pc({
cloud32: {
1: Vc("/photon/quantum/icons/platforms/Generic_Cloud_Gaming_32px-0e317e6d.png"),
2: Vc("/photon/quantum/icons/platforms/Generic_Cloud_Gaming_32px@2x-212945be.png")
},
console32: {
1: Vc("/photon/quantum/icons/platforms/Generic_Console_32px-2ede17ad.png"),
2: Vc("/photon/quantum/icons/platforms/Generic_Console_32px@2x-ebdef951.png")
},
ea32: {
1: Vc("/photon/quantum/icons/platforms/EA_Logo_32px-7e7a7613.png"),
2: Vc("/photon/quantum/icons/platforms/EA_Logo_32px@2x-5038df18.png")
},
epic32: {
1: Vc("/photon/quantum/icons/platforms/Epic_Games_32px-bd883c69.png"),
2: Vc("/photon/quantum/icons/platforms/Epic_Games_32px@2x-694a687e.png")
},
pc32: {
1: Vc("/photon/quantum/icons/platforms/Generic_PC_32px-501c005c.png"),
2: Vc("/photon/quantum/icons/platforms/Generic_PC_32px@2x-d9c92178.png")
},
playstation32: {
1: Vc("/photon/quantum/icons/platforms/Playstation_Logo_32px-97783011.png"),
2: Vc("/photon/quantum/icons/platforms/Playstation_Logo_32px@2x-c2007091.png")
},
stadia32: {
1: Vc("/photon/quantum/icons/platforms/Stadia_Logo_32px-336b08ae.png"),
2: Vc("/photon/quantum/icons/platforms/Stadia_Logo_32px@2x-6b4b9486.png")
},
steam32: {
1: Vc("/photon/quantum/icons/platforms/Steam_Logo_32px-0a619c23.png"),
2: Vc("/photon/quantum/icons/platforms/Steam_32@2x-fb908349.png")
},
switch32: {
1: Vc("/photon/quantum/icons/platforms/Switch_32px-36813e35.png"),
2: Vc("/photon/quantum/icons/platforms/Switch_32px@2x-f12507a6.png")
},
xbox32: {
1: Vc("/photon/quantum/icons/platforms/Xbox_Logo_32px-a5946491.png"),
2: Vc("/photon/quantum/icons/platforms/Xbox_Logo_32px@2x-ba990d10.png")
}
}), jp = vc(sd.BorderRadius.smaller), qp = Pc({
"w4-r8-#1f55caff-#ffffffff": {
1: Vc("/photon/quantum/borders/w4px_r8px_1F55CA-EEEEEE-1x-a14ad404.png"),
2: Vc("/photon/quantum/borders/w4px_r8px_1F55CA-EEEEEE-2x-c435560c.png")
},
"w4-r8-#1f55caff-#343647ff": {
1: Vc("/photon/quantum/borders/w4px_r8px_1F55CA-343647-1x-460873d8.png"),
2: Vc("/photon/quantum/borders/w4px_r8px_1F55CA-343647-2x-f27c46cb.png")
},
"w4-r8-#1f55caff-#1d2033ff": {
1: Vc("/photon/quantum/borders/w4px_r8px_1F55CA-1D2033-1x-0419e9de.png"),
2: Vc("/photon/quantum/borders/w4px_r8px_1F55CA-1D2033-2x-e9cde465.png")
},
"w4-r8-#276afcff-#ffffffff": {
1: Vc("/photon/quantum/borders/w4px_r8px_276AFC-EAEAEA-1x-21858a3e.png"),
2: Vc("/photon/quantum/borders/w4px_r8px_276AFC-EAEAEA-2x-16b70378.png")
},
"w4-r8-#276afcff-#343647ff": {
1: Vc("/photon/quantum/borders/w4px_r8px_276AFC-343647-1x-6529ddef.png"),
2: Vc("/photon/quantum/borders/w4px_r8px_276AFC-343647-2x-1158d415.png")
},
"w4-r8-#276afcff-#1d2033ff": {
1: Vc("/photon/quantum/borders/w4px_r8px_276AFC-1D2033-1x-ca90c3b8.png"),
2: Vc("/photon/quantum/borders/w4px_r8px_276AFC-1D2033-2x-e5fefe91.png")
},
"w4-r8-border": {
1: Vc("/photon/quantum/borders/w4px_r8px_ffffff-transparent-1x-3e617c53.png"),
2: Vc("/photon/quantum/borders/w4px_r8px_ffffff-transparent-2x-b0c3576a.png")
},
"w4-r8-background": {
1: Vc("/photon/quantum/borders/w4px_r8px_ffffff-ffffff-1x-750cc04f.png"),
2: Vc("/photon/quantum/borders/w4px_r8px_ffffff-ffffff-2x-e26b6b80.png")
}
}), Wp = e => {
let t, n;
if (e.backgroundColor) if (e.borderColor) {
const {borderColor: t, backgroundColor: r} = e;
n = `w4-r8-${t}-${r}`;
} else n = "w4-r8-background", t = e.backgroundColor; else {
if (!e.borderColor) return [ null, null ];
n = "w4-r8-border", t = e.borderColor;
}
return [ t, qp[n] ];
}, Yp = e => {
const [t, n] = Wp(e);
if (void 0 !== n) return [ Bc("borderCenter", !0), Bc("textureBorder", jp), t ? Bc("color", t) : void 0, n ? Bc("texture", n) : void 0 ];
}, Kp = ({isFocused: e, isPressed: t, isActive: n}) => {
let r;
return t ? r = sd.ColorBrandPrimary._700 : e && !n && (r = sd.ColorBrandPrimary._500), 
r;
}, Xp = Pc({
"r2-background": {
1: Vc("/photon/quantum/backgrounds/Background_Border_Radius_2px-1x-efdb3e58.png"),
2: Vc("/photon/quantum/backgrounds/Background_Border_Radius_2px-2x-7ecacfb0.png")
},
"r4-background": {
1: Vc("/photon/quantum/backgrounds/Background_Border_Radius_4px-1x-dcb77995.png"),
2: Vc("/photon/quantum/backgrounds/Background_Border_Radius_4px-2x-ce87bfcd.png")
},
"r8-background": {
1: Vc("/photon/quantum/backgrounds/Background_Border_Radius_8px-1x-0ccee3b6.png"),
2: Vc("/photon/quantum/backgrounds/Background_Border_Radius_8px-2x-21908e8b.png")
},
"r16-background": {
1: Vc("/photon/quantum/backgrounds/Background_Border_Radius_16px-dd78b94e.png"),
2: Vc("/photon/quantum/backgrounds/Background_Border_Radius_16px-2x-170b6d0e.png")
},
"r2-left-background": {
1: Vc("/photon/quantum/backgrounds/Background_Border_Radius_2px_0px_0px_2px-92e3aae4.png"),
2: Vc("/photon/quantum/backgrounds/Background_Border_Radius_2px_0px_0px_2px@2x-a0486376.png")
},
"r4-left-background": {
1: Vc("/photon/quantum/backgrounds/Background_Border_Radius_4px_0px_0px_4px-3021eea6.png"),
2: Vc("/photon/quantum/backgrounds/Background_Border_Radius_4px_0px_0px_4px@2x-25a70b59.png")
},
"r8-left-background": {
1: Vc("/photon/quantum/backgrounds/Border_Radius_8px_0px_0px_8px-9dddf104.png"),
2: Vc("/photon/quantum/backgrounds/Border_Radius_8px_0px_0px_8px@2x-79ec45ee.png")
},
"r2-right-background": {
1: Vc("/photon/quantum/backgrounds/Background_Border_Radius_0px_2px_2px_0px-e281796e.png"),
2: Vc("/photon/quantum/backgrounds/Background_Border_Radius_0px_2px_2px_0px@2x-efa2f947.png")
},
"r4-right-background": {
1: Vc("/photon/quantum/backgrounds/Background_Border_Radius_0px_4px_4px_0px-591a4cba.png"),
2: Vc("/photon/quantum/backgrounds/Background_Border_Radius_0px_4px_4px_0px@2x-b7dc860b.png")
},
"r8-right-background": {
1: Vc("/photon/quantum/backgrounds/Border_Radius_0px_8px_8px_0px-4cebed23.png"),
2: Vc("/photon/quantum/backgrounds/Border_Radius_0px_8px_8px_0px@2x-05e9c032.png")
}
});
function Qp(e) {
let t;
return "applyRadiusTo" in e && (0 === e.applyRadiusTo ? t = `r${e.radius}-left-background` : 1 === e.applyRadiusTo && (t = `r${e.radius}-right-background`)), 
t || (t = `r${e.radius}-background`), Xp[t];
}
function $p(e) {
const t = Qp(e);
if (void 0 !== t) return [ Bc("borderCenter", !0), Bc("textureBorder", vc(e.radius)), Bc("texture", t) ];
}
function Zp(e, t) {
if (9 === e.length) {
const n = Math.floor(255 * t).toString(16);
return e.substring(0, e.length - 2) + n;
}
return e;
}
function ef(e) {
return {
x: e.x + e.width / 2,
y: e.y + e.height / 2
};
}
function tf(e, t) {
return Math.atan2(t.y - e.y, t.x - e.x);
}
function nf(e, t) {
const n = t.x - e.x, r = t.y - e.y;
return n * n + r * r;
}
function rf(e, t) {
const n = Math.cos(t), r = Math.sin(t), i = Math.abs(n), a = Math.abs(r), o = e.width / 2 * a <= e.height / 2 * i ? e.width / 2 / (i || 1) : e.height / 2 / (a || 1), s = ef(e);
return {
x: s.x + n * o,
y: s.y + r * o
};
}
function af(e, t) {
const n = ef(e), r = ef(t);
return nf(rf(e, tf(n, r)), rf(t, tf(r, n)));
}
function of(e, t, n) {
let r = !1, i = !1;
const a = e.y + e.height / 2, o = e.x + e.width / 2, s = t.y + t.height / 2, l = t.x + t.width / 2, c = a < s, d = a > s, u = o < l, p = o > l;
switch (n) {
case 1:
r = e.x <= t.x && l - o > 0, i = d || c;
break;

case 3:
r = e.y <= t.y && s - a > 0, i = u || p;
break;

case 0:
r = e.x >= t.x && l - o < 0, i = d || c;
break;

case 2:
r = e.y >= t.y && s - a < 0, i = u || p;
}
return r ? af(e, t) + (i ? 1e6 : 0) : NaN;
}
var sf = Pu();
function lf(e) {
return e.isolateBoundaryId(sf);
}
var cf = e => Su(void 0), df = e => Us(Bl, e), uf = H.memo((e => {
const t = Su(e.id), n = H.useContext(nl), r = tl(), [i, a] = Xs(gl, t), [o, s] = Xs(Il, t);
H.useEffect((() => {
if (e.isolate) return r.isolateBoundaryId(t);
}), [ t, r, e.isolate ]);
const l = e.disable || e.disableForControllerMode || !1, c = e.disable || e.disableForMouseMode || !1;
return H.useEffect((() => {
if (l) return o(!0), () => {
s();
};
}), [ o, s, l ]), H.useEffect((() => {
if (c) return i(!0), () => {
a();
};
}), [ c, a, i ]), H.useEffect((() => r.addBoundaryId(t, n)), [ r, n, t ]), H.createElement(nl.Provider, {
value: t
}, e.children);
}));
function pf() {
const [e, t] = Ks(sl), [n, r] = Ks(cl), [i, a] = Ks(pl), o = H.useCallback((() => {
t(), a(), r();
}), [ t, a, r ]);
return {
setFocusById: e,
resetFocusById: t,
setPressedById: n,
resetPressedById: r,
setMouseMode: i,
resetMouseMode: a,
resetFocusState: o
};
}
var ff = class {
constructor(e, t) {
this.maxConcurrent = e, this.onQueueEmpty = t, this.queue = [], this.numConcurrent = 0;
}
entry(e) {
return new Promise(((t, n) => {
this.queue.push({
callback: e,
resolve: t,
reject: n
}), this.run();
}));
}
async run() {
if (this.numConcurrent >= this.maxConcurrent) return;
const e = this.queue.shift();
if (e) {
this.numConcurrent++;
try {
e.resolve(await e.callback());
} catch (t) {
e.reject(t);
} finally {
this.numConcurrent--, setTimeout((() => {
this.run();
}), 1);
}
} else this.onQueueEmpty?.();
}
};
function mf(e) {
const t = new ff(8), n = async n => {
let r;
if (n.body) if ("string" == typeof n.body) {
const t = e.stringToBytes({
data: n.body
});
if (!t) throw new Error("Failed to encode body");
r = t.data;
} else r = n.body;
const i = {
headers: n.headers,
method: n.method,
body: r,
url: n.url
};
const a = await t.entry((async () => {
const t = await e.httpRequest(i);
if (!t) throw new Error("No HTTP response returned");
return t;
}));
let o = a.body;
return 200 !== a.statusCode || o || (o = new Uint8Array), {
body: o,
headers: a.headers,
statusCode: a.statusCode
};
};
return {
post: (e, t, r) => n({
url: e,
body: t,
headers: r || {},
method: fs.Http.HttpMethod.Post
}),
get: (e, t) => n({
url: e,
headers: t || {},
method: fs.Http.HttpMethod.Get
}),
http: n,
bytesToStr: t => {
if (0 === t.length) return "";
const n = e.bytesToString({
data: t
});
if (!n) throw new Error("No response");
return n.data;
},
strToBytes: t => {
const n = e.stringToBytes({
data: t
});
if (!n) throw new Error("No response");
return n.data;
}
};
}
var yf = class {
constructor() {
this.loadedTextures = {}, this.onLoadedCallbacks = [], this.onTextureLoaded = e => {
this.loadedTextures[e.url] = e.success ? 1 : 2, this.triggerOnLoadedCallbacks();
}, this.onTextureUnloaded = e => {
delete this.loadedTextures[e.url];
}, this.triggerOnLoadedCallbacks = () => {
this.onLoadedCallbacks.slice().forEach((e => {
const {urls: t, callback: n} = e;
this.areTexturesLoaded(t) && (this.removeOnLoadedCallback(e), n());
}));
}, this.removeOnLoadedCallback = e => {
const t = this.onLoadedCallbacks.indexOf(e);
t > -1 && this.onLoadedCallbacks.splice(t, 1);
}, this.areTexturesLoaded = e => e.every((e => !!this.loadedTextures[e])), this.registerOnLoadedCallback = (e, t) => {
if (this.areTexturesLoaded(e)) return t(), () => {};
const n = {
urls: e,
callback: t
};
return this.onLoadedCallbacks.push(n), () => {
this.removeOnLoadedCallback(n);
};
};
}
static create(e) {
const t = new yf;
return e.onTextureLoaded.subscribe(t.onTextureLoaded), e.onTextureUnloaded.subscribe(t.onTextureUnloaded), 
t;
}
}, hf = Is({
debugName: "preloadedImagesState",
default: []
}), [gf, If] = Es("ImagePreloader"), vf = Oc({
enableMouseEvents: !1,
position: "absolute",
left: 0,
bottom: -1,
flexDirection: "row"
}), bf = Oc({
width: 1,
height: 1,
textureAtlas: "SINGLE_TEXTURE",
opacity: .01
}), _f = Ii.observer((() => {
const e = Fs(hf), t = Gu(), [n, r] = H.useState(0), [i] = H.useState((() => new ff(4, (() => r((e => e + 1)))))), a = H.useRef(new Set);
H.useEffect((() => {
for (const n of e) i.entry((async () => {
if (!a.current.has(n)) return a.current.add(n), t.bindings.Asset.loadAsset({
url: n
});
}));
}), [ t, e, i ]);
const o = e.filter(((t, n) => e.indexOf(t) === n && a.current.has(t)));
return H.createElement("surface", {
style: vf,
key: n
}, o.map((e => H.createElement("surface", {
key: e,
style: [ bf, Bc("texture", e) ]
}))));
})), Pf = (e, t) => {
const n = Gu(), r = If();
H.useEffect((() => {
const i = n.texture.registerOnLoadedCallback(e, t), a = r.preloadImages(e);
return () => {
i(), a();
};
}), [ t, r, n, e ]);
}, Sf = e => {
const t = Gu(), [n, r] = H.useState((() => t.texture.areTexturesLoaded(e))), i = H.useCallback((() => {
r(!0);
}), [ r ]);
return Pf(e, i), n;
};
var Tf, Ef, kf = (e, t) => !(!e.gamePadInput || e.gamePadInput !== t.gamePadInput) || !(!e.keyboardKeycode || e.keyboardKeycode !== t.keyboardKeycode), Nf = fs.Input.ButtonState, Cf = fs.Input.DeviceType, Of = [ ac.buttonACrossDown, ac.buttonBCircleRight ], [Af, wf] = $s({
debugName: "resetPressedButtonsEvent",
create: () => new as
}), Lf = Ps({
debugName: "activeRegisteredInputState",
get: ({get: e, getItem: t}) => {
const n = e(Ru), r = e(xu), i = [];
return n.forEach((e => {
if (!((r.get(e.id) ?? 0) > 0)) if (e.boundaryId) {
t(Rl, e.boundaryId) && i.push(e);
} else i.push(e);
})), i.sort(((e, t) => Of.findIndex((e => kf(e, t.button))) - Of.findIndex((t => kf(t, e.button)))));
}
}), Rf = () => {
const {setPressed: e} = tl(), t = H.useRef([]).current, n = H.useRef();
Ws((({get: r}) => {
const i = r(ll);
n.current !== i && (n.current && (t.length = 0, e(n.current, !1)), n.current = i);
}), [ t, e ]);
const r = Ys((({get: n}) => (r, i) => {
n(ll) === i && (t.push(r), e(i, !0));
}), [ t, e ]), i = Ys((({get: n}) => r => {
const i = n(ll), a = t.findIndex((e => kf(e, r)));
i && a > -1 && (t.splice(a, 1), e(i, t.length > 0));
}), [ t, e ]);
return {
pressFocusedIdKey: r,
releaseFocusedIdKey: i
};
}, xf = e => "button:" + (e.gamePadInput ?? "") + ":" + (e.keyboardKeycode ?? ""), Bf = () => {
const e = H.useRef([]).current, {timeout: t, disposeTimeout: n} = ru(), r = H.useCallback(((n, r) => {
e.push(n);
let i = 0, a = 200;
const o = () => {
i++, i < 2 || (a = i < 3 ? 60 : i < 5 ? 30 : 0), e.some((e => kf(e, n))) && (r(), 
t(xf(n), o, a));
};
t(xf(n), o, a);
}), [ t, e ]), i = H.useCallback((t => {
n(xf(t));
const r = e.findIndex((e => kf(e, t)));
r > -1 && e.splice(r, 1);
}), [ n, e ]);
return {
heldRepeatingKeys: e,
holdRepeatingKey: r,
releaseRepeatingKey: i
};
}, Df = Ii.observer((e => {
const {children: t, navigationConfig: n} = e, {navigate: r, setMouseMode: i} = tl(), a = Gu(), [o, s] = Ks(Ru), [l, c] = Ks(Bu), {pressFocusedIdKey: d, releaseFocusedIdKey: u} = Rf(), {heldRepeatingKeys: p, holdRepeatingKey: f, releaseRepeatingKey: m} = Bf(), [y, h, g] = [ Fs(I = Mu), Hs(I), js(I) ];
var I;
const v = wf();
H.useEffect((() => (h(a.bindings.Input.getCurrentInputDevice({})?.deviceType || Cf.MouseAndKeyboard), 
a.bindings.Input.onInputDeviceChange.subscribe((e => {
h(e.toDeviceType);
})))), [ h, a ]);
const b = Ys((({get: e}) => t => {
const n = e(Lf);
for (let e = 0; e < n.length; e++) {
const r = n[e];
if (kf(r.button, t)) return r;
}
}), []), _ = Ys((({get: e}) => () => e(Fu) > 0), []);
H.useEffect((() => {
const e = [];
function t(t) {
i(!1);
const n = _(), r = b(t);
n || !r || e.some((e => kf(e, t))) || (l((e => [ r, ...e ])), e.push(t), r.callback(), 
r.focusId && d(t, r.focusId), r.isRepeating && !p.includes(t) && f(t, (() => {
n || b(t)?.callback();
})));
}
function n(t) {
const n = _(), r = b(t);
if (n) return void m(t);
l((e => e.filter((e => !kf(e.button, t)))));
const i = e.findIndex((e => kf(e, t)));
i > -1 && e.splice(i, 1), r?.isRepeating && m(t), u(t);
}
const r = [ a.bindings.Input.onButtonStateChanged.subscribe((e => {
const {button: r, state: i} = e;
i === Nf.Down ? t(r) : n(r);
})), v.subscribe((() => {
e.forEach((e => {
a.bindings.Input.onButtonStateChanged.trigger({
state: Nf.Up,
button: e
});
}));
})) ];
return () => {
r.forEach((e => e())), s(), c(), g();
};
}), [ l, b, f, m, p, a, d, u, s, c, g, _, v, i ]);
const P = H.useCallback(((e, t) => {
const {callback: n, keyBinding: r, label: i, focusId: a, boundaryId: s, isRepeating: l, priority: c, onSurfaceId: d} = t, u = [], p = {
id: e,
button: r.primaryButton,
focusId: a,
callback: () => n(r.primaryButton),
label: i,
boundaryId: s,
isRepeating: l,
priority: c,
onSurfaceId: d
};
u.push(p);
let f = 0;
return r.secondaryButtons.forEach((t => {
const r = {
id: e + "-" + ++f,
button: t,
focusId: a,
callback: () => n(t),
boundaryId: s,
isRepeating: l,
priority: c
};
u.push(r);
})), o((e => [ ...u, ...e ])), () => {
o((e => e.filter((e => !u.includes(e)))));
};
}), [ o ]);
return H.useEffect((() => {
const e = [ P("navigate-left", {
callback: () => r(0),
keyBinding: n ? n.left : sc(y, "left", [ "leftAlt" ]),
isRepeating: !0
}), P("navigate-up", {
callback: () => r(2),
keyBinding: n ? n.up : sc(y, "up", [ "upAlt" ]),
isRepeating: !0
}), P("navigate-right", {
callback: () => r(1),
keyBinding: n ? n.right : sc(y, "right", [ "rightAlt" ]),
isRepeating: !0
}), P("navigate-down", {
callback: () => r(3),
keyBinding: n ? n.down : sc(y, "down", [ "downAlt" ]),
isRepeating: !0
}) ];
return () => {
e.forEach((e => e()));
};
}), [ y, r, n, P ]), H.createElement(Au.Provider, {
value: P
}, t);
})), Mf = String.prototype.replaceAll || function(e, t) {
return "[object regexp]" === Object.prototype.toString.call(e).toLowerCase() ? this.replace(e, t) : this.replace(new RegExp(e, "g"), t);
};
function Ff(e, t, n) {
return Mf.call(e, t, n);
}
function Uf(e, t) {
Tf = e, Ef = t;
}
async function Hf(e, t) {
const {statusCode: n, body: r} = await e.http.get(t);
if (200 === n && r) return r;
throw Error(`Couldn't load translations ${t}, statusCode ${n}`);
}
async function Vf(e, t) {
const n = await e.bindings.Asset.loadAsset({
url: t
});
if (n) return n.data;
throw new Error(`Couldn't load translations ${t}, got no data`);
}
async function Jf(e, t, n) {
const r = (t.split("/").pop() || "").length > 10 && e.bindings.isMethodAvailable("TwinkleJsBindings.Asset.loadAsset") ? await Vf(e, t) : await Hf(e, t), i = e.http.bytesToStr(r);
Uf(JSON.parse(i), n);
}
function zf(e, t) {
if (!t) return e;
let n = e;
return Object.keys(t).forEach((e => {
n = Ff(n, e, t[e]);
})), n;
}
function Gf() {
return Ef;
}
var jf = class {
constructor(e, t) {
this.stateMachine = e, this.debugName = t;
}
chain(e) {
return this.nextAction ? this.nextAction.chain(e) : this.nextAction = e, this;
}
debug(e) {}
}, qf = class extends jf {
run(e) {
return this.nextAction?.run(e);
}
execute(e, t) {
return this.chain(new Yf(this.stateMachine, t, e));
}
executeAsync(e, t) {
return this.chain(new Wf(this.stateMachine, t, e));
}
transition(e) {
const t = new Yf(this.stateMachine, "transition: " + e, (() => e));
return this.chain(t);
}
wait(e) {
const t = new Wf(this.stateMachine, "wait: " + e, (n => {
const r = setTimeout((() => {
n();
}), e);
return e => {
t.debug("timeout cancelled: " + e), clearTimeout(r);
};
}));
return this.chain(t);
}
}, Wf = class extends jf {
constructor(e, t, n) {
super(e, t), this.callback = n;
}
run(e) {
this.debug();
let t = this.callback((n => {
n ? e(n) : this.nextAction ? t = this.nextAction.run(e) : e();
}));
return e => t?.(e);
}
}, Yf = class extends jf {
constructor(e, t, n) {
super(e, t), this.callback = n;
}
run(e) {
this.debug();
const t = this.callback();
if (this.nextAction) return this.nextAction.run(e);
e(t);
}
}, Kf = class {
constructor(e) {
this.debugName = e, this.stateChangeEvent = new as, this.interrupt = e => {
const t = e(this.currentState);
void 0 !== t && this.currentState !== t && (this.debug("interrupt: " + t), this.currentCancel?.("user interruption"), 
this.changeState(t));
};
}
setDecisionMaker(e) {
this.decisionMaker = e;
}
debug(e) {}
getContext(e, t) {
return {
actions: () => new qf(this, "actions"),
previousState: t,
currentState: e
};
}
changeState(e) {
const t = this.currentState;
this.currentState = e, this.stateChangeEvent.trigger(e, t);
const n = this.getContext(e, t), r = this.decisionMaker?.(n);
r || this.debug("None");
const i = r || n.actions();
this.runActionChain(i);
}
runActionChain(e) {
let t, n = !0;
this.currentCancel = e.run((e => {
e && (n ? t = e : this.changeState(e));
})), n = !1, t && this.changeState(t);
}
transition(e) {
this.changeState(e(this.currentState));
}
};
function Xf(e, t, n, {onStateChange: r} = {}) {
H.useEffect((() => {
e.setDecisionMaker(n);
}), [ n, e ]), H.useEffect((() => {
if (r) return e.stateChangeEvent.subscribe(r);
}), [ r, e.stateChangeEvent ]), H.useEffect((() => {
void 0 !== t && void 0 === e.currentState && e.transition((() => t));
}), [ t, e ]);
}
function Qf(e, t, n) {
const [r] = H.useState((() => new Kf(n?.debugName)));
return Xf(r, e, t, n), {
interrupt: r.interrupt
};
}
var $f = class extends ps {
constructor() {
super(...arguments), this._bindingName = "PhotonJsBindings", this.Accessibility = {
onAccessibilitySettingsChanged: new as,
getAccessibilitySettings: (e, t) => this._asyncMethodCall("PhotonJsBindings.Accessibility.getAccessibilitySettings", e, t),
narrate: (e, t) => this._asyncMethodCall("PhotonJsBindings.Accessibility.narrate", e, t)
}, this.Badging = {
updateUnseenItemCount: (e, t) => this._asyncMethodCall("PhotonJsBindings.Badging.updateUnseenItemCount", e, t),
updateOnlineFriendCount: (e, t) => this._asyncMethodCall("PhotonJsBindings.Badging.updateOnlineFriendCount", e, t)
}, this.BlockService = {
BlockPlayer: (e, t) => this._asyncMethodCall("PhotonJsBindings.BlockService.BlockPlayer", e, t),
UnblockPlayer: (e, t) => this._asyncMethodCall("PhotonJsBindings.BlockService.UnblockPlayer", e, t),
BatchVerifyBlockedPlayers: (e, t) => this._asyncMethodCall("PhotonJsBindings.BlockService.BatchVerifyBlockedPlayers", e, t),
ListBlockedPlayers: (e, t) => this._asyncMethodCall("PhotonJsBindings.BlockService.ListBlockedPlayers", e, t)
}, this.ContentMart = {
enableFifoCache: e => this._syncCall("PhotonJsBindings.ContentMart.enableFifoCache", e),
disableFifoCache: e => this._syncCall("PhotonJsBindings.ContentMart.disableFifoCache", e),
GetProduct: (e, t) => this._asyncMethodCall("PhotonJsBindings.ContentMart.GetProduct", e, t),
GetPlayerNetwork: (e, t) => this._asyncMethodCall("PhotonJsBindings.ContentMart.GetPlayerNetwork", e, t),
GetInputMethod: (e, t) => this._asyncMethodCall("PhotonJsBindings.ContentMart.GetInputMethod", e, t)
}, this.DeepLink = {
onCrossPlayStatusChanged: new as,
onPickFriendRequest: new as,
onCancelFriendRequest: new as,
onTemporaryDisabledSettingsChanged: new as,
onDisabledByParentalControlChanged: new as,
getPlayerActions: e => this._syncCall("PhotonJsBindings.DeepLink.getPlayerActions", e),
invokePlayerAction: e => this._syncCall("PhotonJsBindings.DeepLink.invokePlayerAction", e),
openFirstPartyProfile: e => this._syncCall("PhotonJsBindings.DeepLink.openFirstPartyProfile", e),
pickFriendResponse: e => this._syncCall("PhotonJsBindings.DeepLink.pickFriendResponse", e),
getSettingsAvailability: e => this._syncCall("PhotonJsBindings.DeepLink.getSettingsAvailability", e),
openSetting: e => this._syncCall("PhotonJsBindings.DeepLink.openSetting", e),
isCrossPlayEnabled: e => this._syncCall("PhotonJsBindings.DeepLink.isCrossPlayEnabled", e),
getCrossPlayPlatformCompatibility: e => this._syncCall("PhotonJsBindings.DeepLink.getCrossPlayPlatformCompatibility", e),
getDisabledByParentalControl: e => this._syncCall("PhotonJsBindings.DeepLink.getDisabledByParentalControl", e),
invokePlayerActionAsync: (e, t) => this._asyncMethodCall("PhotonJsBindings.DeepLink.invokePlayerActionAsync", e, t),
openFirstPartyProfileAsync: (e, t) => this._asyncMethodCall("PhotonJsBindings.DeepLink.openFirstPartyProfileAsync", e, t),
filterFriendsForPicker: (e, t) => this._asyncMethodCall("PhotonJsBindings.DeepLink.filterFriendsForPicker", e, t),
openGameHubPage: (e, t) => this._asyncMethodCall("PhotonJsBindings.DeepLink.openGameHubPage", e, t)
}, this.EadpCommon = {}, this.FriendListNotifications = {
SubscribeToFriendListNotifications: e => this._streamCall("PhotonJsBindings.FriendListNotifications.SubscribeToFriendListNotifications", "PhotonJsBindings.FriendListNotifications.SubscribeToFriendListNotificationsEnd", e)
}, this.Friends = {
ListFriends: (e, t) => this._asyncMethodCall("PhotonJsBindings.Friends.ListFriends", e, t),
BatchVerifyFriends: (e, t) => this._asyncMethodCall("PhotonJsBindings.Friends.BatchVerifyFriends", e, t),
ListPlatformFriends: (e, t) => this._asyncMethodCall("PhotonJsBindings.Friends.ListPlatformFriends", e, t),
DeleteFriend: (e, t) => this._asyncMethodCall("PhotonJsBindings.Friends.DeleteFriend", e, t),
ListMutualFriends: (e, t) => this._asyncMethodCall("PhotonJsBindings.Friends.ListMutualFriends", e, t)
}, this.GameInvite = {
onCacheGameInvitesLimitReached: new as,
enableCacheGameInvites: e => this._syncCall("PhotonJsBindings.GameInvite.enableCacheGameInvites", e),
disableCacheGameInvites: e => this._syncCall("PhotonJsBindings.GameInvite.disableCacheGameInvites", e),
setCacheGameInvitesLimit: e => this._syncCall("PhotonJsBindings.GameInvite.setCacheGameInvitesLimit", e),
getCacheGameInvitesKeys: e => this._syncCall("PhotonJsBindings.GameInvite.getCacheGameInvitesKeys", e),
getCacheGameInvitesValue: e => this._syncCall("PhotonJsBindings.GameInvite.getCacheGameInvitesValue", e),
SubscribeToReceivedGameInviteNotifications: e => this._streamCall("PhotonJsBindings.GameInvite.SubscribeToReceivedGameInviteNotifications", "PhotonJsBindings.GameInvite.SubscribeToReceivedGameInviteNotificationsEnd", e),
SendGameInvite: (e, t) => this._asyncMethodCall("PhotonJsBindings.GameInvite.SendGameInvite", e, t),
GetReceivedGameInvites: e => this._streamCall("PhotonJsBindings.GameInvite.GetReceivedGameInvites", "PhotonJsBindings.GameInvite.GetReceivedGameInvitesEnd", e),
GetGameJoinTokens: (e, t) => this._asyncMethodCall("PhotonJsBindings.GameInvite.GetGameJoinTokens", e, t),
AcceptGameInvite: (e, t) => this._asyncMethodCall("PhotonJsBindings.GameInvite.AcceptGameInvite", e, t),
RejectGameInvite: (e, t) => this._asyncMethodCall("PhotonJsBindings.GameInvite.RejectGameInvite", e, t),
RevokeGameInvites: (e, t) => this._asyncMethodCall("PhotonJsBindings.GameInvite.RevokeGameInvites", e, t)
}, this.GoogleProtobuf = {}, this.Identity = {
getTokenInfo: (e, t) => this._asyncMethodCall("PhotonJsBindings.Identity.getTokenInfo", e, t),
getPersonaInfo: (e, t) => this._asyncMethodCall("PhotonJsBindings.Identity.getPersonaInfo", e, t)
}, this.InputBindings = {
onBindingsChanged: new as,
getActionBinding: e => this._syncCall("PhotonJsBindings.InputBindings.getActionBinding", e),
batchGetActionBindings: e => this._syncCall("PhotonJsBindings.InputBindings.batchGetActionBindings", e),
setExclusiveMouseRegion: (e, t) => this._asyncMethodCall("PhotonJsBindings.InputBindings.setExclusiveMouseRegion", e, t)
}, this.InviteListNotifications = {
SubscribeToSentInviteListNotifications: e => this._streamCall("PhotonJsBindings.InviteListNotifications.SubscribeToSentInviteListNotifications", "PhotonJsBindings.InviteListNotifications.SubscribeToSentInviteListNotificationsEnd", e),
SubscribeToReceivedInviteListNotifications: e => this._streamCall("PhotonJsBindings.InviteListNotifications.SubscribeToReceivedInviteListNotifications", "PhotonJsBindings.InviteListNotifications.SubscribeToReceivedInviteListNotificationsEnd", e)
}, this.Invites = {
ListSentFriendInvites: (e, t) => this._asyncMethodCall("PhotonJsBindings.Invites.ListSentFriendInvites", e, t),
ListReceivedFriendInvites: (e, t) => this._asyncMethodCall("PhotonJsBindings.Invites.ListReceivedFriendInvites", e, t),
BatchSendFriendInvites: (e, t) => this._asyncMethodCall("PhotonJsBindings.Invites.BatchSendFriendInvites", e, t),
CancelSentFriendInvite: (e, t) => this._asyncMethodCall("PhotonJsBindings.Invites.CancelSentFriendInvite", e, t),
AcceptReceivedFriendInvite: (e, t) => this._asyncMethodCall("PhotonJsBindings.Invites.AcceptReceivedFriendInvite", e, t),
DeclineReceivedFriendInvite: (e, t) => this._asyncMethodCall("PhotonJsBindings.Invites.DeclineReceivedFriendInvite", e, t)
}, this.Lobby = {
onLobbyChanged: new as,
onUninvitablePlayersChanged: new as,
onMemberLeft: new as,
onMemberJoined: new as,
onFirstPartyInviteAccepted: new as,
onSendEaInvite: new as,
sendEaInviteResponse: e => this._syncCall("PhotonJsBindings.Lobby.sendEaInviteResponse", e),
getLobby: (e, t) => this._asyncMethodCall("PhotonJsBindings.Lobby.getLobby", e, t),
joinLobby: (e, t) => this._asyncMethodCall("PhotonJsBindings.Lobby.joinLobby", e, t),
filterUninvitablePlayers: (e, t) => this._asyncMethodCall("PhotonJsBindings.Lobby.filterUninvitablePlayers", e, t),
prepareInvite: (e, t) => this._asyncMethodCall("PhotonJsBindings.Lobby.prepareInvite", e, t)
}, this.Moderation = {
onOpenPlayerReporting: new as,
getReportCategories: (e, t) => this._asyncMethodCall("PhotonJsBindings.Moderation.getReportCategories", e, t),
reportPlayer: (e, t) => this._asyncMethodCall("PhotonJsBindings.Moderation.reportPlayer", e, t),
playerReportingCancelled: (e, t) => this._asyncMethodCall("PhotonJsBindings.Moderation.playerReportingCancelled", e, t)
}, this.MuteService = {
MutePlayer: (e, t) => this._asyncMethodCall("PhotonJsBindings.MuteService.MutePlayer", e, t),
UnmutePlayer: (e, t) => this._asyncMethodCall("PhotonJsBindings.MuteService.UnmutePlayer", e, t),
BatchVerifyMutedPlayers: (e, t) => this._asyncMethodCall("PhotonJsBindings.MuteService.BatchVerifyMutedPlayers", e, t),
ListMutedPlayers: (e, t) => this._asyncMethodCall("PhotonJsBindings.MuteService.ListMutedPlayers", e, t)
}, this.Notifications = {
onNotificationAllowChanged: new as,
onInGamePlayChanged: new as,
getNotificationAllowed: e => this._syncCall("PhotonJsBindings.Notifications.getNotificationAllowed", e),
getInGamePlay: e => this._syncCall("PhotonJsBindings.Notifications.getInGamePlay", e)
}, this.Party = {
onLeaderChanged: new as,
onMemberKicked: new as,
onMemberLeft: new as,
onMemberJoined: new as,
onCreatePartySupportedChanged: new as,
onLeavePartyOverlayChanged: new as,
isCreatePartySupported: e => this._syncCall("PhotonJsBindings.Party.isCreatePartySupported", e),
getLeavePartyOverlay: e => this._syncCall("PhotonJsBindings.Party.getLeavePartyOverlay", e),
getParty: (e, t) => this._asyncMethodCall("PhotonJsBindings.Party.getParty", e, t),
isPartySupported: (e, t) => this._asyncMethodCall("PhotonJsBindings.Party.isPartySupported", e, t),
createParty: (e, t) => this._asyncMethodCall("PhotonJsBindings.Party.createParty", e, t),
joinParty: (e, t) => this._asyncMethodCall("PhotonJsBindings.Party.joinParty", e, t),
leaveParty: (e, t) => this._asyncMethodCall("PhotonJsBindings.Party.leaveParty", e, t),
setPartyLeader: (e, t) => this._asyncMethodCall("PhotonJsBindings.Party.setPartyLeader", e, t),
kickPartyMember: (e, t) => this._asyncMethodCall("PhotonJsBindings.Party.kickPartyMember", e, t)
}, this.Performance = {
onNativeRequestedAMemoryPurge: new as,
onBlurModeChanged: new as,
requestNativeToPurgeMemory: e => this._syncCall("PhotonJsBindings.Performance.requestNativeToPurgeMemory", e),
getBlurMode: e => this._syncCall("PhotonJsBindings.Performance.getBlurMode", e)
}, this.PlatformFriends = {
onFriendListUpdated: new as,
onBlockListUpdated: new as,
startListener: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlatformFriends.startListener", e, t),
stopListener: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlatformFriends.stopListener", e, t),
getState: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlatformFriends.getState", e, t),
getFriendList: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlatformFriends.getFriendList", e, t),
getBlockList: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlatformFriends.getBlockList", e, t),
addFriend: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlatformFriends.addFriend", e, t),
removeFriend: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlatformFriends.removeFriend", e, t),
addBlock: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlatformFriends.addBlock", e, t),
removeBlock: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlatformFriends.removeBlock", e, t)
}, this.PlatformPresence = {
onAppearOfflineChanged: new as,
isAppearOfflineSupported: e => this._syncCall("PhotonJsBindings.PlatformPresence.isAppearOfflineSupported", e),
isAppearOffline: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlatformPresence.isAppearOffline", e, t)
}, this.PlayerCardService = {
onCachePlayerCardsLimitReached: new as,
onCachePlayerCardsByFirstPartyIdsLimitReached: new as,
onCacheFirstPartyIdsLimitReached: new as,
enableCachePlayerCards: e => this._syncCall("PhotonJsBindings.PlayerCardService.enableCachePlayerCards", e),
disableCachePlayerCards: e => this._syncCall("PhotonJsBindings.PlayerCardService.disableCachePlayerCards", e),
setCachePlayerCardsLimit: e => this._syncCall("PhotonJsBindings.PlayerCardService.setCachePlayerCardsLimit", e),
getCachePlayerCardsKeys: e => this._syncCall("PhotonJsBindings.PlayerCardService.getCachePlayerCardsKeys", e),
getCachePlayerCardsValue: e => this._syncCall("PhotonJsBindings.PlayerCardService.getCachePlayerCardsValue", e),
enableCachePlayerCardsByFirstPartyIds: e => this._syncCall("PhotonJsBindings.PlayerCardService.enableCachePlayerCardsByFirstPartyIds", e),
disableCachePlayerCardsByFirstPartyIds: e => this._syncCall("PhotonJsBindings.PlayerCardService.disableCachePlayerCardsByFirstPartyIds", e),
setCachePlayerCardsByFirstPartyIdsLimit: e => this._syncCall("PhotonJsBindings.PlayerCardService.setCachePlayerCardsByFirstPartyIdsLimit", e),
getCachePlayerCardsByFirstPartyIdsKeys: e => this._syncCall("PhotonJsBindings.PlayerCardService.getCachePlayerCardsByFirstPartyIdsKeys", e),
getCachePlayerCardsByFirstPartyIdsValue: e => this._syncCall("PhotonJsBindings.PlayerCardService.getCachePlayerCardsByFirstPartyIdsValue", e),
enableCacheFirstPartyIds: e => this._syncCall("PhotonJsBindings.PlayerCardService.enableCacheFirstPartyIds", e),
disableCacheFirstPartyIds: e => this._syncCall("PhotonJsBindings.PlayerCardService.disableCacheFirstPartyIds", e),
setCacheFirstPartyIdsLimit: e => this._syncCall("PhotonJsBindings.PlayerCardService.setCacheFirstPartyIdsLimit", e),
getCacheFirstPartyIdsKeys: e => this._syncCall("PhotonJsBindings.PlayerCardService.getCacheFirstPartyIdsKeys", e),
getCacheFirstPartyIdsValue: e => this._syncCall("PhotonJsBindings.PlayerCardService.getCacheFirstPartyIdsValue", e),
BatchGetPlayerCards: e => this._streamCall("PhotonJsBindings.PlayerCardService.BatchGetPlayerCards", "PhotonJsBindings.PlayerCardService.BatchGetPlayerCardsEnd", e),
BatchGetFriendsPlayerCards: e => this._streamCall("PhotonJsBindings.PlayerCardService.BatchGetFriendsPlayerCards", "PhotonJsBindings.PlayerCardService.BatchGetFriendsPlayerCardsEnd", e),
BatchGetPlayerCardsByFirstPartyIds: e => this._streamCall("PhotonJsBindings.PlayerCardService.BatchGetPlayerCardsByFirstPartyIds", "PhotonJsBindings.PlayerCardService.BatchGetPlayerCardsByFirstPartyIdsEnd", e),
BatchGetFirstPartyIds: e => this._streamCall("PhotonJsBindings.PlayerCardService.BatchGetFirstPartyIds", "PhotonJsBindings.PlayerCardService.BatchGetFirstPartyIdsEnd", e),
BatchGetFriendsFirstPartyIds: e => this._streamCall("PhotonJsBindings.PlayerCardService.BatchGetFriendsFirstPartyIds", "PhotonJsBindings.PlayerCardService.BatchGetFriendsFirstPartyIdsEnd", e),
BatchGetPrivacySettings: e => this._streamCall("PhotonJsBindings.PlayerCardService.BatchGetPrivacySettings", "PhotonJsBindings.PlayerCardService.BatchGetPrivacySettingsEnd", e)
}, this.PlayerList = {
onPlayerListsChanged: new as,
onPlayerListPersonasChanged: new as,
getPlayerListConfig: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlayerList.getPlayerListConfig", e, t),
getPlayerLists: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlayerList.getPlayerLists", e, t),
getPlayerListPersonas: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlayerList.getPlayerListPersonas", e, t)
}, this.PlayerSearch = {
SearchPlayers: (e, t) => this._asyncMethodCall("PhotonJsBindings.PlayerSearch.SearchPlayers", e, t)
}, this.PresenceSession = {
onCachePresenceStatusLimitReached: new as,
enableCachePresenceStatus: e => this._syncCall("PhotonJsBindings.PresenceSession.enableCachePresenceStatus", e),
disableCachePresenceStatus: e => this._syncCall("PhotonJsBindings.PresenceSession.disableCachePresenceStatus", e),
setCachePresenceStatusLimit: e => this._syncCall("PhotonJsBindings.PresenceSession.setCachePresenceStatusLimit", e),
getCachePresenceStatusPrimaryKeys: e => this._syncCall("PhotonJsBindings.PresenceSession.getCachePresenceStatusPrimaryKeys", e),
getCachePresenceStatusSecondaryKeys: e => this._syncCall("PhotonJsBindings.PresenceSession.getCachePresenceStatusSecondaryKeys", e),
getCachePresenceStatusValue: e => this._syncCall("PhotonJsBindings.PresenceSession.getCachePresenceStatusValue", e),
updatePresence: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.updatePresence", e, t),
partialUpdatePresence: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.partialUpdatePresence", e, t),
subscribeToPlayerPresence: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.subscribeToPlayerPresence", e, t),
subscribeToPlayersPresence: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.subscribeToPlayersPresence", e, t),
unsubscribeFromPlayerPresence: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.unsubscribeFromPlayerPresence", e, t),
unsubscribeFromPlayersPresence: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.unsubscribeFromPlayersPresence", e, t),
subscribeToFriendsPresence: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.subscribeToFriendsPresence", e, t),
unsubscribeFromFriendsPresence: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.unsubscribeFromFriendsPresence", e, t),
getPresenceSubscriptions: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.getPresenceSubscriptions", e, t),
getDirectJoinTokens: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.getDirectJoinTokens", e, t),
getPlayerPresence: e => this._streamCall("PhotonJsBindings.PresenceSession.getPlayerPresence", "PhotonJsBindings.PresenceSession.getPlayerPresenceEnd", e),
getFriendsPresence: e => this._streamCall("PhotonJsBindings.PresenceSession.getFriendsPresence", "PhotonJsBindings.PresenceSession.getFriendsPresenceEnd", e),
attachToPresenceSession: e => this._streamCall("PhotonJsBindings.PresenceSession.attachToPresenceSession", "PhotonJsBindings.PresenceSession.attachToPresenceSessionEnd", e),
detachFromPresenceSession: (e, t) => this._asyncMethodCall("PhotonJsBindings.PresenceSession.detachFromPresenceSession", e, t)
}, this.RecentlyMet = {
getRecentlyMetPlayers: (e, t) => this._asyncMethodCall("PhotonJsBindings.RecentlyMet.getRecentlyMetPlayers", e, t),
getSessionPlayers: (e, t) => this._asyncMethodCall("PhotonJsBindings.RecentlyMet.getSessionPlayers", e, t)
}, this.StateApi = {
onStateChanged: new as,
getState: e => this._syncCall("PhotonJsBindings.StateApi.getState", e),
setState: e => this._syncCall("PhotonJsBindings.StateApi.setState", e)
}, this.Telemetry = {
onSessionHeaderInformationChanged: new as,
onBootEnd: new as,
onBootStart: new as,
onTelemetryAllowChanged: new as,
getSessionHeaderInfo: e => this._syncCall("PhotonJsBindings.Telemetry.getSessionHeaderInfo", e),
getTelemetryAllowed: e => this._syncCall("PhotonJsBindings.Telemetry.getTelemetryAllowed", e)
}, this.UserExperience = {
playSoundEffect: (e, t) => this._asyncMethodCall("PhotonJsBindings.UserExperience.playSoundEffect", e, t)
}, this.Voip = {
onVoipChannelsUpdated: new as,
onVoipStateUpdated: new as,
mutePlayer: (e, t) => this._asyncMethodCall("PhotonJsBindings.Voip.mutePlayer", e, t),
unmutePlayer: (e, t) => this._asyncMethodCall("PhotonJsBindings.Voip.unmutePlayer", e, t),
setMutedPlayers: (e, t) => this._asyncMethodCall("PhotonJsBindings.Voip.setMutedPlayers", e, t),
getVoipState: (e, t) => this._asyncMethodCall("PhotonJsBindings.Voip.getVoipState", e, t),
setActiveVoipChannel: (e, t) => this._asyncMethodCall("PhotonJsBindings.Voip.setActiveVoipChannel", e, t),
getVoipChannels: (e, t) => this._asyncMethodCall("PhotonJsBindings.Voip.getVoipChannels", e, t)
};
}
registerBinding() {
return this._registerBinding(((e, t) => {
switch (e) {
case "PhotonJsBindings.Accessibility.onAccessibilitySettingsChanged":
return this.Accessibility.onAccessibilitySettingsChanged.trigger(t), !0;

case "PhotonJsBindings.DeepLink.onCrossPlayStatusChanged":
return this.DeepLink.onCrossPlayStatusChanged.trigger(t), !0;

case "PhotonJsBindings.DeepLink.onPickFriendRequest":
return this.DeepLink.onPickFriendRequest.trigger(t), !0;

case "PhotonJsBindings.DeepLink.onCancelFriendRequest":
return this.DeepLink.onCancelFriendRequest.trigger(t), !0;

case "PhotonJsBindings.DeepLink.onTemporaryDisabledSettingsChanged":
return this.DeepLink.onTemporaryDisabledSettingsChanged.trigger(t), !0;

case "PhotonJsBindings.DeepLink.onDisabledByParentalControlChanged":
return this.DeepLink.onDisabledByParentalControlChanged.trigger(t), !0;

case "PhotonJsBindings.FriendListNotifications.onSubscribeToFriendListNotificationsData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.FriendListNotifications.onSubscribeToFriendListNotificationsError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.FriendListNotifications.onSubscribeToFriendListNotificationsEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.GameInvite.onSubscribeToReceivedGameInviteNotificationsData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.GameInvite.onSubscribeToReceivedGameInviteNotificationsError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.GameInvite.onSubscribeToReceivedGameInviteNotificationsEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.GameInvite.onGetReceivedGameInvitesData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.GameInvite.onGetReceivedGameInvitesError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.GameInvite.onGetReceivedGameInvitesEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.GameInvite.onCacheGameInvitesLimitReached":
return this.GameInvite.onCacheGameInvitesLimitReached.trigger(t), !0;

case "PhotonJsBindings.InputBindings.onBindingsChanged":
return this.InputBindings.onBindingsChanged.trigger(t), !0;

case "PhotonJsBindings.InviteListNotifications.onSubscribeToSentInviteListNotificationsData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.InviteListNotifications.onSubscribeToSentInviteListNotificationsError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.InviteListNotifications.onSubscribeToSentInviteListNotificationsEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.InviteListNotifications.onSubscribeToReceivedInviteListNotificationsData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.InviteListNotifications.onSubscribeToReceivedInviteListNotificationsError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.InviteListNotifications.onSubscribeToReceivedInviteListNotificationsEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.Lobby.onLobbyChanged":
return this.Lobby.onLobbyChanged.trigger(t), !0;

case "PhotonJsBindings.Lobby.onUninvitablePlayersChanged":
return this.Lobby.onUninvitablePlayersChanged.trigger(t), !0;

case "PhotonJsBindings.Lobby.onMemberLeft":
return this.Lobby.onMemberLeft.trigger(t), !0;

case "PhotonJsBindings.Lobby.onMemberJoined":
return this.Lobby.onMemberJoined.trigger(t), !0;

case "PhotonJsBindings.Lobby.onFirstPartyInviteAccepted":
return this.Lobby.onFirstPartyInviteAccepted.trigger(t), !0;

case "PhotonJsBindings.Lobby.onSendEaInvite":
return this.Lobby.onSendEaInvite.trigger(t), !0;

case "PhotonJsBindings.Moderation.onOpenPlayerReporting":
return this.Moderation.onOpenPlayerReporting.trigger(t), !0;

case "PhotonJsBindings.Notifications.onNotificationAllowChanged":
return this.Notifications.onNotificationAllowChanged.trigger(t), !0;

case "PhotonJsBindings.Notifications.onInGamePlayChanged":
return this.Notifications.onInGamePlayChanged.trigger(t), !0;

case "PhotonJsBindings.Party.onLeaderChanged":
return this.Party.onLeaderChanged.trigger(t), !0;

case "PhotonJsBindings.Party.onMemberKicked":
return this.Party.onMemberKicked.trigger(t), !0;

case "PhotonJsBindings.Party.onMemberLeft":
return this.Party.onMemberLeft.trigger(t), !0;

case "PhotonJsBindings.Party.onMemberJoined":
return this.Party.onMemberJoined.trigger(t), !0;

case "PhotonJsBindings.Party.onCreatePartySupportedChanged":
return this.Party.onCreatePartySupportedChanged.trigger(t), !0;

case "PhotonJsBindings.Party.onLeavePartyOverlayChanged":
return this.Party.onLeavePartyOverlayChanged.trigger(t), !0;

case "PhotonJsBindings.Performance.onNativeRequestedAMemoryPurge":
return this.Performance.onNativeRequestedAMemoryPurge.trigger(t), !0;

case "PhotonJsBindings.Performance.onBlurModeChanged":
return this.Performance.onBlurModeChanged.trigger(t), !0;

case "PhotonJsBindings.PlatformFriends.onFriendListUpdated":
return this.PlatformFriends.onFriendListUpdated.trigger(t), !0;

case "PhotonJsBindings.PlatformFriends.onBlockListUpdated":
return this.PlatformFriends.onBlockListUpdated.trigger(t), !0;

case "PhotonJsBindings.PlatformPresence.onAppearOfflineChanged":
return this.PlatformPresence.onAppearOfflineChanged.trigger(t), !0;

case "PhotonJsBindings.PlayerCardService.onBatchGetPlayerCardsData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetPlayerCardsError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetPlayerCardsEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetFriendsPlayerCardsData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetFriendsPlayerCardsError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetFriendsPlayerCardsEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetPlayerCardsByFirstPartyIdsData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetPlayerCardsByFirstPartyIdsError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetPlayerCardsByFirstPartyIdsEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetFirstPartyIdsData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetFirstPartyIdsError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetFirstPartyIdsEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetFriendsFirstPartyIdsData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetFriendsFirstPartyIdsError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetFriendsFirstPartyIdsEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetPrivacySettingsData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetPrivacySettingsError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.PlayerCardService.onBatchGetPrivacySettingsEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.PlayerCardService.onCachePlayerCardsLimitReached":
return this.PlayerCardService.onCachePlayerCardsLimitReached.trigger(t), !0;

case "PhotonJsBindings.PlayerCardService.onCachePlayerCardsByFirstPartyIdsLimitReached":
return this.PlayerCardService.onCachePlayerCardsByFirstPartyIdsLimitReached.trigger(t), 
!0;

case "PhotonJsBindings.PlayerCardService.onCacheFirstPartyIdsLimitReached":
return this.PlayerCardService.onCacheFirstPartyIdsLimitReached.trigger(t), !0;

case "PhotonJsBindings.PlayerList.onPlayerListsChanged":
return this.PlayerList.onPlayerListsChanged.trigger(t), !0;

case "PhotonJsBindings.PlayerList.onPlayerListPersonasChanged":
return this.PlayerList.onPlayerListPersonasChanged.trigger(t), !0;

case "PhotonJsBindings.PresenceSession.onGetPlayerPresenceData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.PresenceSession.onGetPlayerPresenceError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.PresenceSession.onGetPlayerPresenceEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.PresenceSession.onGetFriendsPresenceData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.PresenceSession.onGetFriendsPresenceError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.PresenceSession.onGetFriendsPresenceEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.PresenceSession.onAttachToPresenceSessionData":
{
const e = t;
return this._streams[e.id]?.data.trigger(e.data), !0;
}

case "PhotonJsBindings.PresenceSession.onAttachToPresenceSessionError":
{
const e = t;
let n = e.error;
return void 0 !== e.errorCode && (n += " [" + e.errorCode + "]"), void 0 !== e.domain && (n += " (" + e.domain + ")"), 
this._streams[e.id]?.error.trigger(new Error(n)), !0;
}

case "PhotonJsBindings.PresenceSession.onAttachToPresenceSessionEnd":
{
const e = t;
return this._streams[e.id]?.end.trigger(), !0;
}

case "PhotonJsBindings.PresenceSession.onCachePresenceStatusLimitReached":
return this.PresenceSession.onCachePresenceStatusLimitReached.trigger(t), !0;

case "PhotonJsBindings.StateApi.onStateChanged":
return this.StateApi.onStateChanged.trigger(t), !0;

case "PhotonJsBindings.Telemetry.onSessionHeaderInformationChanged":
return this.Telemetry.onSessionHeaderInformationChanged.trigger(t), !0;

case "PhotonJsBindings.Telemetry.onBootEnd":
return this.Telemetry.onBootEnd.trigger(t), !0;

case "PhotonJsBindings.Telemetry.onBootStart":
return this.Telemetry.onBootStart.trigger(t), !0;

case "PhotonJsBindings.Telemetry.onTelemetryAllowChanged":
return this.Telemetry.onTelemetryAllowChanged.trigger(t), !0;

case "PhotonJsBindings.Voip.onVoipChannelsUpdated":
return this.Voip.onVoipChannelsUpdated.trigger(t), !0;

case "PhotonJsBindings.Voip.onVoipStateUpdated":
return this.Voip.onVoipStateUpdated.trigger(t), !0;
}
return !1;
}));
}
};
(e => {
let t;
var n;
let r, i, a, o, s, l, c, d, u, p, f, m, y, h, g, I, v, b;
(n = t = e.StreamStatus || (e.StreamStatus = {}))[n.Data = 0] = "Data", n[n.End = 1] = "End", 
n[n.Error = 2] = "Error", (e => {
let t;
var n;
(n = t = e.RequestedView || (e.RequestedView = {}))[n.REQUESTED_VIEW_UNSPECIFIED = 0] = "REQUESTED_VIEW_UNSPECIFIED", 
n[n.REQUESTED_VIEW_ID_ONLY = 1] = "REQUESTED_VIEW_ID_ONLY", n[n.REQUESTED_VIEW_SUMMARY = 2] = "REQUESTED_VIEW_SUMMARY", 
n[n.REQUESTED_VIEW_DETAILED = 3] = "REQUESTED_VIEW_DETAILED";
})(r = e.BlockService || (e.BlockService = {})), (e => {
let t;
var n;
let r;
var i;
let a;
var o;
(n = t = e.PickFriendPlayerInclusion || (e.PickFriendPlayerInclusion = {}))[n.Show = 0] = "Show", 
n[n.Disable = 1] = "Disable", n[n.Hide = 2] = "Hide", (i = r = e.Setting || (e.Setting = {}))[i.CrossPlay = 0] = "CrossPlay", 
i[i.Audio = 1] = "Audio", i[i.Accessibility = 2] = "Accessibility", i[i.FirstPartyParentalVoip = 3] = "FirstPartyParentalVoip", 
i[i.Party = 4] = "Party", i[i.AppearOffline = 5] = "AppearOffline", (o = a = e.ParentalControlSettings || (e.ParentalControlSettings = {}))[o.Voip = 0] = "Voip";
})(i = e.DeepLink || (e.DeepLink = {})), (e => {
let t;
var n;
(n = t = e.ListUpdate || (e.ListUpdate = {}))[n.LIST_UPDATE_UNSPECIFIED = 0] = "LIST_UPDATE_UNSPECIFIED", 
n[n.LIST_UPDATE_ITEM_ADDED = 1] = "LIST_UPDATE_ITEM_ADDED", n[n.LIST_UPDATE_ITEM_REMOVED = 2] = "LIST_UPDATE_ITEM_REMOVED", 
n[n.LIST_UPDATE_ITEM_UPDATED = 3] = "LIST_UPDATE_ITEM_UPDATED";
})(a = e.FriendListNotifications || (e.FriendListNotifications = {})), (e => {
let t;
var n;
(n = t = e.RequestedView || (e.RequestedView = {}))[n.REQUESTED_VIEW_UNSPECIFIED = 0] = "REQUESTED_VIEW_UNSPECIFIED", 
n[n.REQUESTED_VIEW_ID_ONLY = 1] = "REQUESTED_VIEW_ID_ONLY", n[n.REQUESTED_VIEW_SUMMARY = 2] = "REQUESTED_VIEW_SUMMARY", 
n[n.REQUESTED_VIEW_DETAILED = 3] = "REQUESTED_VIEW_DETAILED";
})(o = e.Friends || (e.Friends = {})), (e => {
let t;
var n;
(n = t = e.GameInviteNotificationType || (e.GameInviteNotificationType = {}))[n.GAME_INVITE_NOTIFICATION_TYPE_UNSPECIFIED = 0] = "GAME_INVITE_NOTIFICATION_TYPE_UNSPECIFIED", 
n[n.GAME_INVITE_NOTIFICATION_TYPE_EXISTING = 1] = "GAME_INVITE_NOTIFICATION_TYPE_EXISTING", 
n[n.GAME_INVITE_NOTIFICATION_TYPE_ADDED = 2] = "GAME_INVITE_NOTIFICATION_TYPE_ADDED", 
n[n.GAME_INVITE_NOTIFICATION_TYPE_REMOVED = 3] = "GAME_INVITE_NOTIFICATION_TYPE_REMOVED", 
n[n.GAME_INVITE_NOTIFICATION_TYPE_REVOKED = 4] = "GAME_INVITE_NOTIFICATION_TYPE_REVOKED";
})(s = e.GameInvite || (e.GameInvite = {})), (e => {
let t;
var n;
(n = t = e.Action || (e.Action = {}))[n.Primary = 1] = "Primary", n[n.Secondary = 2] = "Secondary", 
n[n.Decline = 3] = "Decline", n[n.OpenActionList = 4] = "OpenActionList", n[n.GoUp = 5] = "GoUp", 
n[n.GoDown = 6] = "GoDown", n[n.GoLeft = 7] = "GoLeft", n[n.GoRight = 8] = "GoRight", 
n[n.NextPage = 9] = "NextPage", n[n.PreviousPage = 10] = "PreviousPage", n[n.Settings = 11] = "Settings", 
n[n.NotificationFocus = 12] = "NotificationFocus", n[n.Reload = 13] = "Reload", 
n[n.ToggleMode = 14] = "ToggleMode", n[n.TogglePhoton = 15] = "TogglePhoton", n[n.LeaveParty = 16] = "LeaveParty";
})(l = e.InputBindings || (e.InputBindings = {})), (e => {
let t;
var n;
(n = t = e.ListUpdate || (e.ListUpdate = {}))[n.LIST_UPDATE_UNSPECIFIED = 0] = "LIST_UPDATE_UNSPECIFIED", 
n[n.LIST_UPDATE_ITEM_ADDED = 1] = "LIST_UPDATE_ITEM_ADDED", n[n.LIST_UPDATE_ITEM_REMOVED = 2] = "LIST_UPDATE_ITEM_REMOVED", 
n[n.LIST_UPDATE_ITEM_UPDATED = 3] = "LIST_UPDATE_ITEM_UPDATED";
})(c = e.InviteListNotifications || (e.InviteListNotifications = {})), (e => {
let t;
var n;
(n = t = e.RequestedView || (e.RequestedView = {}))[n.REQUESTED_VIEW_UNSPECIFIED = 0] = "REQUESTED_VIEW_UNSPECIFIED", 
n[n.REQUESTED_VIEW_ID_ONLY = 1] = "REQUESTED_VIEW_ID_ONLY", n[n.REQUESTED_VIEW_SUMMARY = 2] = "REQUESTED_VIEW_SUMMARY", 
n[n.REQUESTED_VIEW_DETAILED = 3] = "REQUESTED_VIEW_DETAILED";
})(d = e.Invites || (e.Invites = {})), (e => {
let t;
var n;
(n = t = e.RequestedView || (e.RequestedView = {}))[n.REQUESTED_VIEW_UNSPECIFIED = 0] = "REQUESTED_VIEW_UNSPECIFIED", 
n[n.REQUESTED_VIEW_ID_ONLY = 1] = "REQUESTED_VIEW_ID_ONLY", n[n.REQUESTED_VIEW_SUMMARY = 2] = "REQUESTED_VIEW_SUMMARY", 
n[n.REQUESTED_VIEW_DETAILED = 3] = "REQUESTED_VIEW_DETAILED";
})(u = e.MuteService || (e.MuteService = {})), (e => {
let t;
var n;
(n = t = e.LeavePartyOverlay || (e.LeavePartyOverlay = {}))[n.InGamePlay = 0] = "InGamePlay", 
n[n.NotInGamePlay = 1] = "NotInGamePlay";
})(p = e.Party || (e.Party = {})), (e => {
let t;
var n;
(n = t = e.BlurMode || (e.BlurMode = {}))[n.Off = 0] = "Off", n[n.GrabOnce = 1] = "GrabOnce", 
n[n.Live = 2] = "Live";
})(f = e.Performance || (e.Performance = {})), (e => {
let t;
var n;
let r;
var i;
let a;
var o;
(n = t = e.PresenceStatus || (e.PresenceStatus = {}))[n.UNKNOWN = 0] = "UNKNOWN", 
n[n.OFFLINE = 1] = "OFFLINE", n[n.ONLINE = 2] = "ONLINE", n[n.CHATTING = 3] = "CHATTING", 
n[n.AWAY = 4] = "AWAY", n[n.NOT_AVAILABLE = 5] = "NOT_AVAILABLE", n[n.DO_NOT_DISTURB = 6] = "DO_NOT_DISTURB", 
n[n.IN_GAME = 7] = "IN_GAME", n[n.LOOKING_FOR_PARTY = 8] = "LOOKING_FOR_PARTY", 
(i = r = e.PlatformFriendState || (e.PlatformFriendState = {}))[i.UNKNOWN = 0] = "UNKNOWN", 
i[i.NONE = 1] = "NONE", i[i.MUTUAL = 2] = "MUTUAL", i[i.INCOMING_REQUEST = 3] = "INCOMING_REQUEST", 
i[i.OUTGOING_REQUEST = 4] = "OUTGOING_REQUEST", (o = a = e.PlatformFriendsServiceState || (e.PlatformFriendsServiceState = {}))[o.UNINITIALIZED = 0] = "UNINITIALIZED", 
o[o.INITIALIZED = 1] = "INITIALIZED", o[o.STARTED_LISTENER = 2] = "STARTED_LISTENER", 
o[o.STOPPED_LISTENER = 3] = "STOPPED_LISTENER";
})(m = e.PlatformFriends || (e.PlatformFriends = {})), (e => {
let t;
var n;
(n = t = e.PrivacyLevel || (e.PrivacyLevel = {}))[n.PRIVACY_LEVEL_UNSPECIFIED = 0] = "PRIVACY_LEVEL_UNSPECIFIED", 
n[n.PRIVACY_LEVEL_PENDING = 1] = "PRIVACY_LEVEL_PENDING", n[n.PRIVACY_LEVEL_DISMISSED = 2] = "PRIVACY_LEVEL_DISMISSED", 
n[n.PRIVACY_LEVEL_NO_ONE = 3] = "PRIVACY_LEVEL_NO_ONE", n[n.PRIVACY_LEVEL_EVERYONE = 4] = "PRIVACY_LEVEL_EVERYONE", 
n[n.PRIVACY_LEVEL_FRIENDS = 5] = "PRIVACY_LEVEL_FRIENDS", n[n.PRIVACY_LEVEL_FRIENDS_OF_FRIENDS = 6] = "PRIVACY_LEVEL_FRIENDS_OF_FRIENDS";
})(y = e.PlayerCardService || (e.PlayerCardService = {})), (e => {
let t;
var n;
let r;
var i;
let a;
var o;
let s;
var l;
(n = t = e.PlayerSortOrder || (e.PlayerSortOrder = {}))[n.Self = 0] = "Self", n[n.Online = 1] = "Online", 
n[n.InCurrentGame = 2] = "InCurrentGame", n[n.LastOnline = 3] = "LastOnline", n[n.Alphabetic = 4] = "Alphabetic", 
n[n.PlayerCustom1 = 5] = "PlayerCustom1", n[n.PlayerCustom2 = 6] = "PlayerCustom2", 
(i = r = e.SectionFilter || (e.SectionFilter = {}))[i.Online = 0] = "Online", i[i.Offline = 1] = "Offline", 
i[i.PlayerCustom1 = 2] = "PlayerCustom1", i[i.PlayerCustom2 = 3] = "PlayerCustom2", 
i[i.All = 4] = "All", (o = a = e.Icon || (e.Icon = {}))[o.Star = 0] = "Star", o[o.Hexagon = 1] = "Hexagon", 
o[o.Shield = 2] = "Shield", o[o.Tie = 3] = "Tie", o[o.StarShield = 4] = "StarShield", 
o[o.Flag = 5] = "Flag", (l = s = e.Purpose || (e.Purpose = {}))[l.MakeFriends = 0] = "MakeFriends", 
l[l.PlayTogether = 1] = "PlayTogether", l[l.None = 2] = "None";
})(h = e.PlayerList || (e.PlayerList = {})), (e => {
let t;
var n;
let r;
var i;
(n = t = e.InputType || (e.InputType = {}))[n.INPUT_TYPE_UNSPECIFIED = 0] = "INPUT_TYPE_UNSPECIFIED", 
n[n.INPUT_TYPE_CONTROLLER = 1] = "INPUT_TYPE_CONTROLLER", n[n.INPUT_TYPE_KEYBOARD = 2] = "INPUT_TYPE_KEYBOARD", 
n[n.INPUT_TYPE_MOUSE = 3] = "INPUT_TYPE_MOUSE", n[n.INPUT_TYPE_TOUCHPAD = 4] = "INPUT_TYPE_TOUCHPAD", 
n[n.INPUT_TYPE_MICROPHONE = 5] = "INPUT_TYPE_MICROPHONE", n[n.INPUT_TYPE_CAMERA = 6] = "INPUT_TYPE_CAMERA", 
(i = r = e.Operation || (e.Operation = {}))[i.OPERATION_UNSPECIFIED = 0] = "OPERATION_UNSPECIFIED", 
i[i.OPERATION_UPDATE = 1] = "OPERATION_UPDATE", i[i.OPERATION_REMOVE = 2] = "OPERATION_REMOVE";
})(g = e.PresenceSession || (e.PresenceSession = {})), (e => {
let t;
var n;
(n = t = e.State || (e.State = {}))[n.Open = 0] = "Open", n[n.Closed = 1] = "Closed", 
n[n.ShowingNotification = 2] = "ShowingNotification", n[n.ShowingFocusableNotification = 3] = "ShowingFocusableNotification", 
n[n.FocusedNotification = 4] = "FocusedNotification";
})(I = e.StateApi || (e.StateApi = {})), (e => {
let t;
var n;
(n = t = e.SoundEffect || (e.SoundEffect = {}))[n.ElementHovered = 1] = "ElementHovered", 
n[n.ElementFocused = 2] = "ElementFocused", n[n.ElementAction = 3] = "ElementAction", 
n[n.ElementRadioButtonSelected = 4] = "ElementRadioButtonSelected", n[n.ActionDenied = 5] = "ActionDenied", 
n[n.PageLeft = 6] = "PageLeft", n[n.PageRight = 7] = "PageRight", n[n.NotificationTips = 8] = "NotificationTips", 
n[n.NotificationSystemResponseSuccess = 9] = "NotificationSystemResponseSuccess", 
n[n.NotificationSystemResponseFailure = 10] = "NotificationSystemResponseFailure", 
n[n.NotificationOtherPlayerActivity = 11] = "NotificationOtherPlayerActivity", n[n.NotificationOtherPlayerInvite = 12] = "NotificationOtherPlayerInvite", 
n[n.LayerOpen = 13] = "LayerOpen", n[n.LayerClose = 14] = "LayerClose", n[n.OverlaySlideIn = 15] = "OverlaySlideIn", 
n[n.OverlayModalOpen = 16] = "OverlayModalOpen", n[n.OverlaySlideOut = 17] = "OverlaySlideOut", 
n[n.OverlayModalClose = 18] = "OverlayModalClose";
})(v = e.UserExperience || (e.UserExperience = {})), (e => {
let t;
var n;
let r;
var i;
(n = t = e.VoipChannel || (e.VoipChannel = {}))[n.None = 0] = "None", n[n.Party = 1] = "Party", 
n[n.Game = 2] = "Game", (i = r = e.VoipStatus || (e.VoipStatus = {}))[i.None = 0] = "None", 
i[i.Disabled = 1] = "Disabled", i[i.Muted = 2] = "Muted", i[i.SelfMuted = 3] = "SelfMuted", 
i[i.Silent = 4] = "Silent", i[i.Speaking = 5] = "Speaking";
})(b = e.Voip || (e.Voip = {}));
})($f || ($f = {}));
var Zf = Is({
debugName: "layerRevealedState",
default: !1
}), em = Is({
debugName: "layerState",
default: $f.StateApi.State.Closed
}), tm = Is({
debugName: "layerZoomedState",
default: 0
}), nm = Ps({
debugName: "layerZoomedState",
get: ({get: e}) => e(tm) > 0
}), rm = () => {
const e = Hs(tm), t = H.useCallback((() => {
e((e => e + 1));
}), [ e ]), n = H.useCallback((() => {
e((e => Math.max(e - 1, 0)));
}), [ e ]);
return H.useMemo((() => ({
addZoom: t,
removeZoom: n
})), [ t, n ]);
}, {stateMachineState: im, useInitStateMachine: am, useStateMachine: om} = function(e) {
const [t, n] = $s({
debugName: e,
create: () => new Kf(e)
});
return {
stateMachineState: t,
useStateMachine: n,
useInitStateMachine: (e, t) => Xf(n(), e, t)
};
}("RevealFlow"), [sm, lm] = Es("PhotonBindings"), cm = function(e, t) {
const n = Tf?.[e];
return n ? zf(n, t) : e;
}, dm = fs.Input.GamePadInput, um = fs.Input.DeviceType;
function pm() {
const e = {
[um.Stadia]: {
[dm.DPadRight]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_DPAD-RIGHT"),
[dm.DPadLeft]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_DPAD-LEFT"),
[dm.DPadUp]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_DPAD-UP"),
[dm.DPadDown]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_DPAD-DOWN"),
[dm.LeftJoystickUp]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_L3"),
[dm.LeftJoystickDown]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_L3"),
[dm.LeftJoystickLeft]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_L3"),
[dm.LeftJoystickRight]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_L3"),
[dm.LeftJoystickPress]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_L3"),
[dm.RightJoystickUp]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_R3"),
[dm.RightJoystickDown]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_R3"),
[dm.RightJoystickLeft]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_R3"),
[dm.RightJoystickRight]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_R3"),
[dm.RightJoystickPress]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_R3"),
[dm.ButtonYTriangleUp]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_Y"),
[dm.ButtonBCircleRight]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_B"),
[dm.ButtonACrossDown]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_A"),
[dm.ButtonXSquareLeft]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_X"),
[dm.MiddleOption]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_OPTIONS"),
[dm.MiddleMenu]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_MENU"),
[dm.BumperRight]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_R1"),
[dm.BumperLeft]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_L1"),
[dm.TriggerRight]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_R2"),
[dm.TriggerLeft]: cm("PHOTON-SOCIAL_NARRATION_STADIA-BUTTON_L2")
},
[um.Switch]: {
[dm.DPadRight]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_DPAD-RIGHT"),
[dm.DPadLeft]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_DPAD-LEFT"),
[dm.DPadUp]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_DPAD-UP"),
[dm.DPadDown]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_DPAD-DOWN"),
[dm.LeftJoystickUp]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_LEFT-STICK"),
[dm.LeftJoystickDown]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_LEFT-STICK"),
[dm.LeftJoystickLeft]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_LEFT-STICK"),
[dm.LeftJoystickRight]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_LEFT-STICK"),
[dm.LeftJoystickPress]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_LEFT-STICK"),
[dm.RightJoystickUp]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_RIGHT-STICK"),
[dm.RightJoystickDown]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_RIGHT-STICK"),
[dm.RightJoystickLeft]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_RIGHT-STICK"),
[dm.RightJoystickRight]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_RIGHT-STICK"),
[dm.RightJoystickPress]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_RIGHT-STICK"),
[dm.ButtonYTriangleUp]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_Y"),
[dm.ButtonBCircleRight]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_B"),
[dm.ButtonACrossDown]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_A"),
[dm.ButtonXSquareLeft]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_X"),
[dm.MiddleOption]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_MINUS"),
[dm.MiddleMenu]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_PLUS"),
[dm.BumperRight]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_R"),
[dm.BumperLeft]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_L"),
[dm.TriggerRight]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_ZR"),
[dm.TriggerLeft]: cm("PHOTON-SOCIAL_NARRATION_SWITCH-BUTTON_ZL")
},
[um.Playstation]: {
[dm.DPadRight]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_DPAD-RIGHT"),
[dm.DPadLeft]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_DPAD-LEFT"),
[dm.DPadUp]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_DPAD-UP"),
[dm.DPadDown]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_DPAD-DOWN"),
[dm.LeftJoystickUp]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_L3"),
[dm.LeftJoystickDown]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_L3"),
[dm.LeftJoystickLeft]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_L3"),
[dm.LeftJoystickRight]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_L3"),
[dm.LeftJoystickPress]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_L3"),
[dm.RightJoystickUp]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_R3"),
[dm.RightJoystickDown]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_R3"),
[dm.RightJoystickLeft]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_R3"),
[dm.RightJoystickRight]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_R3"),
[dm.RightJoystickPress]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_R3"),
[dm.ButtonYTriangleUp]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_TRIANGLE"),
[dm.ButtonBCircleRight]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_CIRCLE"),
[dm.ButtonACrossDown]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_CROSS"),
[dm.ButtonXSquareLeft]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_SQUARE"),
[dm.MiddleOption]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_TOUCHPAD"),
[dm.MiddleMenu]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_OPTIONS"),
[dm.BumperRight]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_R1"),
[dm.BumperLeft]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_L1"),
[dm.TriggerRight]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_R2"),
[dm.TriggerLeft]: cm("PHOTON-SOCIAL_NARRATION_PLAYSTATION-BUTTON_L2")
},
[um.Xbox]: {
[dm.DPadRight]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_DPAD-RIGHT"),
[dm.DPadLeft]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_DPAD-LEFT"),
[dm.DPadUp]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_DPAD-UP"),
[dm.DPadDown]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_DPAD-DOWN"),
[dm.LeftJoystickUp]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_LEFT-STICK"),
[dm.LeftJoystickDown]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_LEFT-STICK"),
[dm.LeftJoystickLeft]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_LEFT-STICK"),
[dm.LeftJoystickRight]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_LEFT-STICK"),
[dm.LeftJoystickPress]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_LEFT-STICK"),
[dm.RightJoystickUp]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_RIGHT-STICK"),
[dm.RightJoystickDown]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_RIGHT-STICK"),
[dm.RightJoystickLeft]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_RIGHT-STICK"),
[dm.RightJoystickRight]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_RIGHT-STICK"),
[dm.RightJoystickPress]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_RIGHT-STICK"),
[dm.ButtonYTriangleUp]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_Y"),
[dm.ButtonBCircleRight]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_B"),
[dm.ButtonACrossDown]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_A"),
[dm.ButtonXSquareLeft]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_X"),
[dm.MiddleOption]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_VIEW"),
[dm.MiddleMenu]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_MENU"),
[dm.BumperRight]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_RB"),
[dm.BumperLeft]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_LB"),
[dm.TriggerRight]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_RT"),
[dm.TriggerLeft]: cm("PHOTON-SOCIAL_NARRATION_XBOX-BUTTON_LT")
}
};
return ({primaryButton: t}) => {
let n;
switch (t.device) {
case um.MouseAndKeyboard:
n = t.keyboardKeyLabel;
break;

case um.Stadia:
case um.Switch:
case um.Playstation:
case um.Xbox:
t.gamePadInput && (n = e[t.device][t.gamePadInput]);
}
return n || "";
};
}
var fm, mm = () => {
const {Accessibility: e} = lm(), t = Rs(), n = uu();
H.useEffect((() => {
const r = ht.box(!1), i = async () => {
const t = (await e.getAccessibilitySettings({}))?.enableUiNarration ?? !1;
r.set(t);
}, a = [ n.init(e, pm()), Mn((() => r.get() && t.get(Zf)), (e => {
n.setEnabled(e);
}), {
fireImmediately: !0
}), e.onAccessibilitySettingsChanged.subscribe(i) ];
return i(), () => {
a.forEach((e => e()));
};
}), [ e, t, n ]);
};
var ym = new WeakSet;
function hm(e, t) {
return new Promise(((n, r) => {
const i = (e.bindings.isEventAvailable("TwinkleJsBindings.Asset.onAssetLoaded") ? e.bindings.Asset.onAssetLoaded : e.bindings.Utilities.onAssetLoaded).subscribe((({url: e, success: a}) => {
e === t.url && (i(), a ? n() : r(new Error(`Font ${e} couldn't be loaded`)));
}));
e.bindings.Utilities.loadFont(t);
}));
}
async function gm(e, t, n) {
if (n.find((({url: e, name: n}) => t.url === e || t.name === n))) return;
n.push(t);
const r = Date.now();
try {
await hm(e, t);
} catch (e) {
return console.error(`Couldn't load font '${t.name}'`, e), {
url: t.url,
duration: Date.now() - r
};
}
}
async function Im(e, t, n) {
if (ym.has(e)) throw new Error("Fonts have already been loaded this session");
ym.add(e);
const r = [], i = [];
if (await Promise.all(t.map((async t => {
const n = await gm(e, t, r);
n && i.push(n);
}))), n) {
const t = await gm(e, n, r);
t && i.push(t);
}
return i;
}
var [vm, bm] = $s({
debugName: "routersState",
create: () => ({})
}), _m = e => {
const t = Ga(), n = bm();
if (e) {
if (!n[e]) throw new Error(`Could not find history for '${e}' router`);
return n[e];
}
if (!t) throw new Error("Could not find history for unspecified router");
const r = Object.values(n).find((e => e.history === t));
if (!r) throw new Error("Could not find router for parent history");
return r;
}, Pm = (e, t) => {
const n = e.get(vm)[t];
if (!n) throw new Error(`Could not find history for '${t}' router`);
return n;
};
async function Sm(e, t, n, r) {
const i = await Promise.all(t.map((e => {
return {
key: e,
router: (t = ta({
initialIndex: 0,
initialEntries: [ r?.[e] ?? "/" ]
}), {
history: t,
navigate: e => {
t.location.pathname !== e.pathname && t.push(e);
},
goBack: t.goBack
})
};
var t;
})));
for (const e of i) n[e.key] = e.router;
}
function Tm(e) {
const t = bm()[e];
if (!t) throw new Error(`Missing history for '${e}', make sure it is setup with initRoutersHistory`);
return t.history;
}
function Em(e, t) {
return Pm(e, t).history;
}
var [km] = Zs({
debugName: "twinkleState"
}), Nm = [], Cm = class {
constructor(e, t) {
this.twinkleHttp = e, this.connectionId = t, this.isSent = !1;
}
send(e, t) {
if (this.isSent) throw new Error("Response already sent for connection ID " + this.connectionId);
const n = t ? this.twinkleHttp.stringToBytes({
data: t
})?.data : void 0;
this.twinkleHttp.sendDebugHttpResponse({
id: this.connectionId,
response: {
statusCode: e,
body: n,
headers: {}
}
}), this.isSent = !0;
}
};
function Om(e, t) {
Nm.push({
method: fs.Http.HttpMethod.Get,
uri: e,
callback: t
});
}
function Am(e, t) {
Nm.push({
method: fs.Http.HttpMethod.Post,
uri: e,
callback: t
});
}
var wm = class {
constructor(e) {
this.queryString = e;
}
getParsed() {
if (this.parsed) return this.parsed;
if (!this.queryString) return {};
const e = {};
return ("?" === this.queryString[0] ? this.queryString.substr(1) : this.queryString).split("&").forEach((t => {
if ("" !== t) if (-1 !== t.indexOf("=")) {
const [n, r] = t.split("=");
e[n] = decodeURIComponent(r);
} else e[t] = void 0;
})), this.parsed = e, e;
}
hasValues() {
return Object.keys(this.getParsed()).length > 0;
}
toObject() {
return {
...this.getParsed()
};
}
getValue(e) {
return this.getParsed()[e];
}
getString(e) {
return this.getValue(e) || "";
}
getNumber(e) {
try {
const t = parseFloat(this.getString(e));
return Number.isNaN(t) ? void 0 : t;
} catch (e) {
return;
}
}
getBoolean(e) {
const t = this.getString(e);
return [ "true", "1" ].indexOf(t) > -1 || !([ "false", "0" ].indexOf(t) > -1) && void 0;
}
isSet(e) {
return Object.prototype.hasOwnProperty.call(this.getParsed(), e);
}
};
var Lm = {
[fs.Input.MouseEventType.Up]: "onMouseUp",
[fs.Input.MouseEventType.Down]: "onMouseDown",
[fs.Input.MouseEventType.Click]: "onClick",
[fs.Input.MouseEventType.DoubleClick]: "onDoubleClick",
[fs.Input.MouseEventType.Scroll]: "onMouseScroll",
[fs.Input.MouseEventType.Enter]: "onMouseEnter",
[fs.Input.MouseEventType.Leave]: "onMouseLeave",
[fs.Input.MouseEventType.Unknown]: ""
}, Rm = class {
constructor(e, t, n) {
this.layoutApi = t, this.reconciler = n, this.captureOnEventHandler = void 0, this.captureOnStopHandler = void 0, 
this.onMouseEventBeforePropagation = new as, this.onMouseEventAfterPropagation = new as, 
this.onMouseEventHandled = new as, e.onMouseMove.subscribe((e => {
this.handleMouseMove(e.x, e.y);
})), e.onMouseEvents.subscribe((e => {
this.handleMouseEvents(e.events);
}));
}
handleMouseMove(e, t) {
this.captureOnEventHandler && this.captureOnEventHandler(e, t);
}
handleMouseEvents(e) {
for (let t = 0; t < e.length; t++) {
const n = e[t];
this.captureOnEventHandler && n.event === fs.Input.MouseEventType.Up && this.stopCapture(), 
this.propagateMouseEvent(n);
}
}
stopCapture() {
this.layoutApi.enableMouseMove({
enable: !1
}), this.captureOnEventHandler = void 0, this.captureOnStopHandler && (this.captureOnStopHandler(), 
this.captureOnStopHandler = void 0);
}
captureMouse(e, t) {
this.layoutApi.enableMouseMove({
enable: !0
}), this.captureOnEventHandler = e, this.captureOnStopHandler = t;
}
propagateMouseEvent(e) {
let t = !0;
const n = {
...e,
stopPropagation: () => {
t = !1;
}
};
this.onMouseEventBeforePropagation.trigger(n);
for (let e = 0; e < n.surfaces.length; e++) {
const r = n.surfaces[e], i = Lm[n.event];
if (!i) continue;
const a = this.reconciler.getSurfaceById(r.surfaceId), o = a && a.props[i];
if (o && (o(n), this.onMouseEventHandled.trigger(n)), !t) break;
}
t && this.onMouseEventAfterPropagation.trigger(n);
}
}, xm = class {
constructor(e) {
this.kvstore = e;
}
getItem(e) {
return this.kvstore.getString({
key: e
}).then((e => e?.value));
}
getItemSync(e) {
return this.kvstore.getStringSync({
key: e
})?.value;
}
setItem(e, t) {
return this.kvstore.setString({
key: e,
value: t
}).then((() => {}));
}
setItemSync(e, t) {
return this.kvstore.setStringSync({
key: e,
value: t
});
}
removeItem(e) {
return this.kvstore.remove({
key: e
}).then((() => {}));
}
clear() {
return this.kvstore.removeAll({}).then((() => {}));
}
}, Bm = class {
constructor(e) {
this.options = e, this.jsBindingEventHandlers = [], this.asyncJsCallResponseHandlers = [], 
this.batchedUpdates = e => e();
}
registerJsBindingEventHandler(e) {
this.jsBindingEventHandlers.push(e);
}
registerAsyncJsCallResponseHandler(e) {
this.asyncJsCallResponseHandlers.push(e);
}
onCppToJsCalls(e) {
this.batchedUpdates((() => {
mr((() => {
for (let t = 0; t < e.length; ++t) {
const n = e[t];
try {
"asyncJsCallResponse" === n[0] ? this.asyncJsCallResponseHandlers.forEach((e => {
e(...n[1]);
})) : "onJsBindingEvent" === n[0] && this.jsBindingEventHandlers.forEach((e => {
e(...n[1]);
}));
} catch (e) {
if (!this.options.onErrorCallback) throw e;
this.options.onErrorCallback(n[0], e);
}
}
}));
}), void 0);
}
setBatchCallback(e) {
this.batchedUpdates = e;
}
}, Dm = class extends Bm {
constructor(e) {
super(e), is.onScriptCalls = this.onCppToJsCalls.bind(this);
}
start(e) {
e();
}
callJsBindingAsync(e, t, n, r) {
return is.TwinkleNative.bindingCall(t, n, r, e);
}
callJsBindingSync(e, t, n) {
return is.TwinkleNative.bindingCall(e, t, n, void 0);
}
}, Mm = [ "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "+", "/" ], Fm = [ 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 62, 255, 255, 255, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 255, 255, 255, 0, 255, 255, 255, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 255, 255, 255, 255, 255, 255, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51 ];
function Um(e) {
if (e >= Fm.length) throw new Error("Unable to parse base64 string.");
const t = Fm[e];
if (255 === t) throw new Error("Unable to parse base64 string.");
return t;
}
function Hm(e) {
let t, n = "";
const r = e.length;
for (t = 2; t < r; t += 3) n += Mm[e[t - 2] >> 2], n += Mm[(3 & e[t - 2]) << 4 | e[t - 1] >> 4], 
n += Mm[(15 & e[t - 1]) << 2 | e[t] >> 6], n += Mm[63 & e[t]];
return t === r + 1 && (n += Mm[e[t - 2] >> 2], n += Mm[(3 & e[t - 2]) << 4], n += "=="), 
t === r && (n += Mm[e[t - 2] >> 2], n += Mm[(3 & e[t - 2]) << 4 | e[t - 1] >> 4], 
n += Mm[(15 & e[t - 1]) << 2], n += "="), n;
}
function Vm(e) {
if (e.length % 4 != 0) throw new Error("Unable to parse base64 string.");
const t = e.indexOf("=");
if (-1 !== t && t < e.length - 2) throw new Error("Unable to parse base64 string.");
const n = e.endsWith("==") ? 2 : e.endsWith("=") ? 1 : 0, r = e.length, i = new Uint8Array(r / 4 * 3);
let a;
for (let t = 0, n = 0; t < r; t += 4, n += 3) a = Um(e.charCodeAt(t)) << 18 | Um(e.charCodeAt(t + 1)) << 12 | Um(e.charCodeAt(t + 2)) << 6 | Um(e.charCodeAt(t + 3)), 
i[n] = a >> 16, i[n + 1] = a >> 8 & 255, i[n + 2] = 255 & a;
const o = i.length - n;
return o > 0 ? i.subarray(0, o) : i;
}
var Jm = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
function zm(e) {
let t, n, r, i, a, o, s, l = "", c = 0;
for (e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); c < e.length; ) i = Jm.indexOf(e.charAt(c++)), 
a = Jm.indexOf(e.charAt(c++)), o = Jm.indexOf(e.charAt(c++)), s = Jm.indexOf(e.charAt(c++)), 
t = i << 2 | a >> 4, n = (15 & a) << 4 | o >> 2, r = (3 & o) << 6 | s, l += String.fromCharCode(t), 
64 !== o && (l += String.fromCharCode(n)), 64 !== s && (l += String.fromCharCode(r));
return Gm(l);
}
function Gm(e) {
let t = "", n = 0, r = 0, i = 0, a = 0;
for (;n < e.length; ) r = e.charCodeAt(n), r < 128 ? (t += String.fromCharCode(r), 
n++) : r > 191 && r < 224 ? (i = e.charCodeAt(n + 1), t += String.fromCharCode((31 & r) << 6 | 63 & i), 
n += 2) : (i = e.charCodeAt(n + 1), a = e.charCodeAt(n + 2), t += String.fromCharCode((15 & r) << 12 | (63 & i) << 6 | 63 & a), 
n += 3);
return t;
}
var jm = class {}, qm = "__UINT8_B64", Wm = "__BASE64", Ym = 0;
function Km(e, t) {
if ("string" == typeof t) {
if (t.startsWith(qm)) return Vm(t.substr(qm.length));
if (t.startsWith(Wm)) return zm(t.substr(Wm.length));
if ("__UNDEFINED__" === t) return;
}
return t;
}
function Xm(e, t) {
if (t instanceof Uint8Array) {
const e = Hm(t);
return qm + e;
}
return t;
}
function Qm(e, t, n, r) {
return JSON.stringify({
bindingName: e,
methodName: t,
param: n,
asyncId: r,
requestId: Ym++
}, Xm);
}
function $m(e) {
try {
const t = JSON.parse(e, Km);
return "string" != typeof t && "_response" in t ? t._response : t;
} catch (t) {
throw console.error("Could not parse sync reply as JSON", t), console.info("Reply:", e), 
new Error("Sync call failed to parse as JSON. See console for more detail.");
}
}
function Zm(e) {
try {
return JSON.parse(e, Km);
} catch (t) {
return console.error("Could not parse TwinkleNative websocket message as JSON", t), 
console.info("Websocket message: ", e), [];
}
}
var ey = class extends Bm {
constructor(e, t) {
super(e), this.remoteApiCommunicator = t, this.clientIsOpen = !1, this.queuedPayloads = [];
}
start(e) {
this.remoteApiCommunicator.connectSocket({
onOpen: () => {
this.clientIsOpen = !0, this.queuedPayloads.forEach((e => this.sendPayload(e))), 
this.queuedPayloads.length = 0, e();
},
onError: t => {
this.clientIsOpen = !1, console.error("WebSocket connection closed down.", t), e && e();
},
onMessage: e => {
this.onCppToJsCalls(Zm(e));
}
});
}
sendPayload(e) {
if (this.remoteApiCommunicator.isSocketOpen()) try {
this.remoteApiCommunicator.socketSend(e);
} catch (e) {
console.error("Failed to send payload over WebSocket:", e);
}
}
callJsBindingAsync(e, t, n, r) {
const i = Qm(t, n, r, e);
this.clientIsOpen ? this.sendPayload(i) : this.queuedPayloads.push(i);
}
callJsBindingSync(e, t, n) {
const r = Qm(e, t, n, void 0);
return $m(this.remoteApiCommunicator.xhrSend("/remotescriptengine/bindingcall/" + t, r));
}
}, ty = class extends jm {
connectSocket(e) {
this.socket = new WebSocket("ws://" + is.location?.host + "/remotescriptengine/ws"), 
this.socket.onopen = e.onOpen, this.socket.onerror = e.onError, this.socket.onmessage = t => e.onMessage(t.data);
}
isSocketOpen() {
return !!this.socket && this.socket.readyState === this.socket.OPEN;
}
socketSend(e) {
this.socket?.send(e);
}
xhrSend(e, t) {
const n = new is.XMLHttpRequest;
if (n.open("POST", e, !1), n.overrideMimeType("text/plain"), n.send(t), 200 !== n.status) throw console.error("Got status: ", n.status, " for payload ", t), 
new Error("Sync call returned status " + n.status + ". See console for more detail.");
return n.responseText;
}
};
function ny(e) {
let t;
if (is.TwinkleNative) t = new Dm(e); else if (t = new ey(e, new ty), void 0 === is.window) throw new Error("Remote engine without window");
return t;
}
function ry(e, t) {
"number" == typeof e ? t.push(e) : "function" == typeof e ? t.push(e()) : Array.isArray(e) && e.forEach((e => {
ry(e, t);
}));
}
function iy(e, t) {
const n = {};
if ("string" == typeof t.text && (n.text = t.text), t.style) {
const r = [];
ry(t.style, r), wc(e, r), n.styleObjects = r;
}
let r = 0;
return t.onBounds && (r |= 128), t.onClick && (r |= 4), t.onDoubleClick && (r |= 8), 
t.onMouseDown && (r |= 1), t.onMouseUp && (r |= 2), t.onMouseEnter && (r |= 32), 
t.onMouseLeave && (r |= 64), t.onMouseScroll && (r |= 16), r && (n.events = r), 
n;
}
var ay = class {
constructor(e, t, n, r) {
this.reconciler = e, this.surfaceBindings = t, this.tag = n, this.props = r, this.children = [], 
this.reconciler.surfaceByTag[n] = this, this.parsedProps = this.handleProps(r);
}
isDescendantOf(e) {
let t = this.parent;
for (;t; ) {
if (t === e) return !0;
t = t.parent;
}
return !1;
}
nativeInsertChildAt(e, t, n) {
this.surfaceBindings.insertChildAt({
parentSurfaceId: e,
index: t,
childSurface: n
});
}
nativeMoveChild(e, t, n) {
this.surfaceBindings.moveChild({
parentSurfaceId: e,
fromIndex: t,
toIndex: n
});
}
nativeRemoveChild(e, t) {
this.surfaceBindings.removeChild({
parentSurfaceId: e,
index: t
});
}
handleOnSurfaceId(e, t) {
const n = e && e.onSurfaceId, r = t && t.onSurfaceId;
n !== r && ("function" == typeof n && n(null), "function" == typeof r && r(this.tag));
}
getSurfaceId() {
return this.tag;
}
getBounds() {
return this.surfaceBindings.getSurfaceBounds({
surfaceId: this.getSurfaceId()
});
}
getChildObjects() {
return this.children.map((e => e.getObject()));
}
manualUpdate(e) {
this.surfaceBindings.updateSurface({
surface: e,
surfaceId: this.tag
});
}
getObject() {
return {
id: this.tag,
...this.parsedProps,
children: this.getChildObjects()
};
}
commitUpdate(e) {
this.surfaceBindings.replaceUpdateSurface({
surfaceId: this.tag,
surface: e
});
}
commitMount() {
this.handleOnSurfaceId(void 0, this.props);
}
handleProps(e) {
return iy(this.surfaceBindings, e);
}
receiveProps(e) {
return this.handleOnSurfaceId(this.props, e), this.props = e, this.parsedProps = this.handleProps(e), 
this.parsedProps;
}
finalizeBeforeMount(e, t, n) {
return !!t.onSurfaceId;
}
finalizeBeforeRemoval() {
this.handleOnSurfaceId(this.props, null), this.children.forEach((e => {
e.finalizeBeforeRemoval();
})), this.children.length = 0, delete this.reconciler.surfaceByTag[this.tag];
}
appendChild(e) {
const t = this.children.indexOf(e);
t > -1 ? (this.children.splice(t, 1), this.children.push(e), this.nativeMoveChild(this.tag, t, this.children.length - 1)) : (e.parent = this, 
this.children.push(e), this.nativeInsertChildAt(this.tag, this.children.length - 1, e.getObject()));
}
appendChildBeforeMount(e) {
e instanceof ay ? (e.parent = this, this.children.push(e)) : console.error("Unknown child type inside '" + this.tag + "':", e);
}
insertBefore(e, t) {
const n = this.children.indexOf(e);
-1 !== n && this.children.splice(n, 1), e.parent = this;
const r = this.children.indexOf(t);
r > -1 && this.children.splice(r, 0, e), -1 !== n ? this.nativeMoveChild(this.tag, n, r) : this.nativeInsertChildAt(this.tag, r, e.getObject());
}
removeChild(e) {
if (e instanceof ay) {
e.finalizeBeforeRemoval();
const t = this.children.indexOf(e);
t > -1 && (this.children.splice(t, 1), this.nativeRemoveChild(this.tag, t)), e.parent === this && (e.parent = void 0);
} else console.error("Unknown child type inside '" + this.tag + "':", e);
}
}, oy = {}, sy = 0;
function ly() {
return sy++;
}
var cy = is.queueMicrotask;
"function" != typeof cy && (cy = function(e) {
Promise.resolve().then(e).catch((e => setTimeout((() => {
throw e;
}), 0)));
});
var dy = class {
constructor(e) {
this.surfaceBindings = e, this.rootId = void 0, this.surfaceByTag = {};
const t = this;
this.renderer = Xa({
createInstance(n, r, i, a, o) {
const s = "" + ly();
return new ay(t, e, s, "surface" === n ? r : {});
},
appendInitialChild(e, t) {
e.appendChildBeforeMount(t);
},
finalizeInitialChildren: (e, t, n, r, i) => e.finalizeBeforeMount(t, n, r),
getPublicInstance: e => e,
prepareForCommit: e => null,
prepareUpdate: (e, t, n, r, i, a) => n === r ? null : e.receiveProps(r),
resetAfterCommit(e) {},
hideInstance(e) {},
unhideInstance(e, t) {},
getRootHostContext: e => oy,
getChildHostContext: (e, t, n) => e,
scheduleTimeout: (e, t) => setTimeout(e, t),
cancelTimeout(e) {
clearTimeout(e);
},
scheduleMicrotask(e) {
cy(e);
},
noTimeout: -1,
isPrimaryRenderer: !0,
supportsMutation: !0,
supportsPersistence: !1,
supportsHydration: !1,
warnsIfNotActing: !0,
appendChild(e, t) {
e.appendChild(t);
},
insertBefore(e, t, n) {
e.insertBefore(t, n);
},
appendChildToContainer(n, r) {
t.rootId = r.tag, e.createRootSurface({
surface: r.getObject()
});
},
insertInContainerBefore(e, t, n) {},
removeChild(e, t) {
e.removeChild(t);
},
removeChildFromContainer(e, n) {
t.rootId === n.tag && (t.rootId = void 0), n.finalizeBeforeRemoval();
},
commitUpdate(e, t, n, r, i, a) {
e.commitUpdate(t);
},
commitMount(e, t, n, r) {
e.commitMount();
},
preparePortalMount(e) {},
clearContainer(e) {},
createTextInstance: (n, r, i, a) => new ay(t, e, "" + ly(), {}),
shouldSetTextContent: (e, t) => !1,
commitTextUpdate(e, t, n) {},
resetTextContent(e) {},
hideTextInstance(e) {},
unhideTextInstance(e, t) {},
supportsMicrotasks: !1,
getCurrentEventPriority: () => $a.DefaultEventPriority,
getInstanceFromNode: e => null,
beforeActiveInstanceBlur() {},
afterActiveInstanceBlur() {},
prepareScopeUpdate(e, t) {},
getInstanceFromScope: e => null,
detachDeletedInstance(e) {
delete t.surfaceByTag[e.tag];
}
}), this.root = this.renderer.createContainer("Twinkle", $a.LegacyRoot, null, !0, null, "", (e => {}), null);
}
getSurfaceById(e) {
return e ? this.surfaceByTag[e] : void 0;
}
measureText(e, t) {
const n = [];
ry(e, n), wc(this.surfaceBindings, n, !0);
const r = this.surfaceBindings.getTextMeasurements({
styleIds: n,
text: t
});
return {
width: r?.width ?? 0,
height: r?.height ?? 0
};
}
};
function uy(e, t) {
const {renderer: n, root: r} = e;
let i;
const a = new Promise((e => {
i = e;
}));
return n.updateContainer(t, r, null, (() => {
i?.();
})), a;
}
function py(e, t) {
const n = new dy(e);
return t.setBatchCallback(n.renderer.batchedUpdates), e.onSurfaceBoundsChanged.subscribe((e => {
e.changes.forEach((({bounds: e, surfaceId: t}) => {
const r = n.getSurfaceById(t), i = r && r.props.onBounds;
i && i(e, t);
}));
})), n;
}
function fy(e, t) {
is.originalSetTimeout = is.setTimeout, is.originalSetInterval = is.setInterval, 
is.originalClearTimeout = is.clearTimeout, is.originalClearInterval = is.clearInterval, 
is.originalPerformance = is.performance;
let n = 0;
const r = new Map;
is.setTimeout = function(t, i) {
const a = ++n;
return r.set(a, t), e.addTimeout({
timeoutMs: i
}, (() => {
const e = r.get(a);
e && (r.delete(a), e());
})), a;
}, is.setInterval = function(e, t) {
const i = ++n;
r.set(i, e);
const a = function() {
const e = r.get(i);
if (e) {
const n = Date.now();
e();
const r = Math.round(Date.now() - n);
setTimeout(a, Math.max(1, t - r));
}
};
return setTimeout(a, t), i;
}, is.clearInterval = function(e) {
r.delete(e);
}, is.clearTimeout = function(e) {
r.delete(e);
}, t instanceof Dm && (is.performance = {
now: () => e.getSystemTimeInMs({})?.timeInMs ?? 0
});
}
var my = 1;
function yy(e) {
let t;
return Array.isArray(e) ? t = {
bezierPoints: {
p1x: e[0],
p1y: e[1],
p2x: e[2],
p2y: e[3]
},
type: fs.Tween.Easing.Bezier
} : e && (t = {
type: fs.Tween.Easing[e]
}), t;
}
var hy = class {
constructor(e, t) {
this.tweenApi = e, this.initialValue = t, this.hasTweened = !1, this.styleIds = {}, 
this.styleIdCallbacks = {};
}
create() {
return this.id || (this.id = "" + my++, this.tweenApi.createTween({
id: {
stringId: this.id
},
initialValue: {
floatValue: this.initialValue
}
}), hy.idToTween[this.id] = this), this.id;
}
setInitialValue(e) {
this.id ? this.hasTweened || (this.set(e), this.hasTweened = !1) : this.initialValue = e;
}
transition(e, t, n) {
const r = {
id: {
stringId: this.create()
},
from: void 0 !== e ? {
floatValue: e
} : void 0,
to: void 0 !== t ? {
floatValue: t
} : void 0,
duration: n.duration,
speed: n.speed,
easing: yy(n.easing),
delay: n.delay,
delayValue: void 0 !== n.delayValue ? {
floatValue: n.delayValue
} : void 0,
loopCount: n.loopCount,
loopDelay: n.loopDelay,
rebound: n.rebound,
reboundDelay: n.reboundDelay
};
this.onFinishedCallback = n.onFinished, this.hasTweened = !0, this.tweenApi.updateTweens({
updates: [ r ]
});
}
to(e, t) {
this.transition(void 0, e, t);
}
set(e) {
this.to(e, {
duration: 0
});
}
propStyle(e) {
const t = this.styleIdCallbacks[e];
if (t) return t;
const n = () => {
const t = this.styleIds[e];
if (t) return t;
const n = this.create(), r = Oc({
[e]: n
});
return this.styleIds[e] = r, r;
};
return this.styleIdCallbacks[e] = n, n;
}
onTweenStatus(e) {
if (e === fs.Tween.TweenStatus.Finished) {
const e = this.onFinishedCallback;
e && (this.onFinishedCallback = void 0, e());
}
}
destroy() {
this.id && (delete hy.idToTween[this.id], this.tweenApi.destroyTween({
stringId: this.id
})), Object.keys(this.styleIds).forEach((e => {
Ac(this.styleIds[e]);
}));
}
}, gy = hy;
gy.idToTween = {};
var Iy = class {
constructor(e) {
var t;
this.options = e, this.rootElementWrapper = e => e, this.debugHttp = {
onGet: Om,
onPost: Am
}, Lc(), this.nativeApi = ny(this.options), this.bindings = new fs(this.nativeApi), 
this.bindings.registerBinding(), fy(this.bindings.Utilities, this.nativeApi), (t = this.bindings).Http.onDebugHttpRequest.subscribe((({id: e, request: n}) => {
let r = "", i = "";
if (n.url.indexOf("?") > -1) {
const e = n.url.split("?", 2);
i = e[0], r = e[1];
} else i = n.url;
const a = {
connectionId: e,
...n,
uri: i,
query: new wm(r)
}, o = Nm.find((e => e.method === n.method && e.uri === i)), s = new Cm(t.Http, e);
if (o) try {
o.callback(a, s);
} catch (e) {
console.error("onDebugHttpRequest failed for " + n.url, e), s.send(500, e.message);
} else {
const e = "404 Not Found (sent by JavaScript). Ensure you have registered the correct HTTP method.";
s.send(404, e);
}
})), this.bindings.Tween.onTweenStatus.subscribe((e => {
e.id.stringId && gy.idToTween[e.id.stringId]?.onTweenStatus(e.status);
})), this.http = mf(this.bindings.Http), this.localStorage = new xm(this.bindings.KvStore), 
this.reconciler = py(this.bindings.Surface, this.nativeApi), this.texture = yf.create(this.bindings.Texture), 
this.inputHandler = new Rm(this.bindings.Input, this.bindings.Layout, this.reconciler);
}
loadFont(e, t) {
this.bindings.Utilities.loadFont({
name: e,
url: t
});
}
render(e) {
return uy(this.reconciler, this.rootElementWrapper(e));
}
}, vy = class {}, by = fs.Layout.LayoutMode;
var _y = class {
constructor(e) {
this.http2 = e, this.connections = {};
}
getConnection(e, t) {
return this.connections[e] ? this.connections[e] : this.createConnection(e, t);
}
closeConnection(e) {
this.http2.closeHttp2Connection({
connectionId: e
});
for (const t in this.connections) if (this.connections[t] === e) {
delete this.connections[t];
break;
}
}
createConnection(e, t) {
const n = this.http2.createHttp2Connection({
baseUrl: e,
validateCertificate: t
});
if (void 0 === n?.connectionId) throw new Error("Failed to create connection");
return this.connections[e] = n.connectionId, n.connectionId;
}
}, Py = "grpc-message", Sy = {
te: "trailers",
"content-type": "application/grpc"
};
function Ty(e) {
return Object.entries(e).map((([e, t]) => `${e}: ${t}\r\n`)).join("");
}
function Ey(e) {
const t = {};
return e.split("\r\n").forEach((e => {
if (!e) return;
const [n, r] = e.split(": ");
t[n] = r;
})), t;
}
var ky = (e => (e[e.OK = 0] = "OK", e[e.CANCELLED = 1] = "CANCELLED", e[e.UNKNOWN = 2] = "UNKNOWN", 
e[e.INVALID_ARGUMENT = 3] = "INVALID_ARGUMENT", e[e.DEADLINE_EXCEEDED = 4] = "DEADLINE_EXCEEDED", 
e[e.NOT_FOUND = 5] = "NOT_FOUND", e[e.ALREADY_EXISTS = 6] = "ALREADY_EXISTS", e[e.PERMISSION_DENIED = 7] = "PERMISSION_DENIED", 
e[e.RESOURCE_EXHAUSTED = 8] = "RESOURCE_EXHAUSTED", e[e.FAILED_PRECONDITION = 9] = "FAILED_PRECONDITION", 
e[e.ABORTED = 10] = "ABORTED", e[e.OUT_OF_RANGE = 11] = "OUT_OF_RANGE", e[e.UNIMPLEMENTED = 12] = "UNIMPLEMENTED", 
e[e.INTERNAL = 13] = "INTERNAL", e[e.UNAVAILABLE = 14] = "UNAVAILABLE", e[e.DATA_LOSS = 15] = "DATA_LOSS", 
e[e.UNAUTHENTICATED = 16] = "UNAUTHENTICATED", e))(ky || {});
function Ny(e) {
const t = e.reduce(((e, t) => e + t.length), 0), n = new Uint8Array(t);
let r = 0;
return e.forEach((e => {
n.set(e, r), r += e.length;
})), n;
}
function Cy(e, t, n, r, i) {
for (let a = 0; a < i - r; a++) e[t + a] = n[r + a];
}
function Oy(e, t) {
for (let n = 0; n < e.length; n++) e[n] = t;
}
var Ay = class {
constructor() {
this.state = 0, this.compressedFlagBuffer = new Uint8Array(1), this.messageLengthBuffer = new Uint8Array(4), 
this.messageLengthRemaining = 4, this.messageLength = 0, this.messageBuffers = [], 
this.messageRemaining = 0;
}
write(e) {
const t = [];
let n = 0, r = 0;
for (;n < e.length; ) switch (this.state) {
case 0:
Cy(this.compressedFlagBuffer, 0, e, n, n + 1), n++, this.state = 1, Oy(this.messageLengthBuffer, 0), 
this.messageLengthRemaining = 4, this.messageLength = 0, this.messageRemaining = 0, 
this.messageBuffers = [];
break;

case 1:
if (r = Math.min(e.length - n, this.messageLengthRemaining), Cy(this.messageLengthBuffer, 4 - this.messageLengthRemaining, e, n, n + r), 
this.messageLengthRemaining -= r, n += r, 0 === this.messageLengthRemaining) {
if (this.messageLength = (i = this.messageLengthBuffer, new DataView(i.buffer, 0, 4).getUint32(0, !1)), 
this.messageRemaining = this.messageLength, 0 === this.messageRemaining) {
const e = Ny([ this.compressedFlagBuffer, this.messageLengthBuffer ]);
t.push(e), this.state = 0;
break;
}
this.state = 2;
}
break;

case 2:
if (r = Math.min(e.length - n, this.messageRemaining), this.messageBuffers.push(e.subarray(n, n + r)), 
this.messageRemaining -= r, n += r, 0 === this.messageRemaining) {
const e = Ny([ this.compressedFlagBuffer, this.messageLengthBuffer ].concat(this.messageBuffers));
t.push(e), this.state = 0;
}
break;

default:
throw new Error("Unexpected decoder state");
}
var i;
return t;
}
}, wy = class {
constructor(e, t, n, r, i, a) {
this.http2 = e, this.connectionId = t, this.serializer = n, this.deserializer = r, 
this.decoder = new Ay, this.receivedMetadata = {}, this.streamId = this.openStream(i, a ?? {}), 
this.unsubscribes = [ e.onRequestData.subscribe((e => {
if (this.isRelevantEvent(e)) {
this.decoder.write(e.data).forEach((e => {
const t = this.decodeMessage(e);
this.dataCallback?.(t);
}));
}
})), e.onRequestHeaders.subscribe((e => {
if (this.isRelevantEvent(e)) {
const t = Ey(String.fromCharCode.apply(null, Array.from(e.headerData)));
Object.entries(t).forEach((([e, t]) => {
e in this.receivedMetadata || e.endsWith("-bin") || (this.receivedMetadata[e] = t);
}));
}
})), e.onRequestError.subscribe((e => {
this.isRelevantEvent(e) && (this.errorCallback?.(new Error(e.error)), this.cleanup());
})), e.onRequestEnd.subscribe((e => {
if (this.isRelevantEvent(e)) {
const e = {
status: this.getGrpcStatus(),
message: this.getGrpcMessage(),
metadata: this.receivedMetadata
};
if (0 === e.status) this.endCallback?.(e); else {
const t = `Grpc error received (status = ${e.status}, message = ${e.message})`;
this.errorCallback?.(new Error(t), e);
}
this.cleanup();
}
})) ];
}
onData(e) {
this.dataCallback = e;
}
onError(e) {
this.errorCallback = e;
}
onEnd(e) {
this.endCallback = e;
}
write(e) {
this.sendData(this.encodeMessage(e));
}
endTransmission() {
this.signalEndOfTransmission();
}
isRelevantEvent({connectionId: e, streamId: t}) {
return e === this.connectionId && t === this.streamId;
}
openStream(e, t) {
const n = Ty({
...t,
...Sy
}), r = this.http2.openStream({
connectionId: this.connectionId,
requestType: fs.Http2.RequestType.Post,
relativeUrl: e,
customHeaders: n
});
if (!r) throw new Error("Failed to open stream");
return r.streamId;
}
sendData(e) {
this.http2.sendData({
connectionId: this.connectionId,
streamId: this.streamId,
data: e
});
}
signalEndOfTransmission() {
this.http2.signalEndOfTransmission({
connectionId: this.connectionId,
streamId: this.streamId
});
}
encodeMessage(e) {
const t = this.serializer.encode(e).finish(), n = new Uint8Array(5 + t.length);
return n[0] = 0, new DataView(n.buffer).setUint32(1, t.length, !1), n.set(t, 5), 
n;
}
decodeMessage(e) {
return this.deserializer.decode(e.subarray(5));
}
getGrpcStatus() {
const e = Number(this.receivedMetadata["grpc-status"]);
return ky[e] ? e : 2;
}
getGrpcMessage() {
if (Py in this.receivedMetadata) return decodeURI(this.receivedMetadata["grpc-message"]);
}
cleanup() {
this.unsubscribes.forEach((e => e())), this.unsubscribes.length = 0;
}
}, Ly = class {
constructor(e, t, n) {
this.http2 = e, this.baseUrl = t, this.validateCertificate = n, this.connectionProvider = new _y(this.http2);
}
makeUnaryRequest(e, t, n, r, i) {
return new Promise(((a, o) => {
try {
const s = this.createStream(e, t, n, i);
let l = null;
s.onData((e => {
null !== l && o(new Error("Too many responses received")), l = e;
})), s.onError(o), s.onEnd((() => {
null !== l ? a(l) : o(new Error("Stream closed without a response"));
})), s.write(r), s.endTransmission();
} catch (e) {
o(e);
}
}));
}
makeServerStreamingRequest(e, t, n, r, i) {
const a = this.createStream(e, t, n, i);
return a.write(r), a.endTransmission(), a;
}
makeClientStreamingRequest(e, t, n, r) {
return this.createStream(e, t, n, r);
}
makeBidirectionalStreamingRequest(e, t, n, r) {
return this.createStream(e, t, n, r);
}
createStream(e, t, n, r) {
return void 0 === this.connectionId && (this.connectionId = this.connectionProvider.getConnection(this.baseUrl, this.validateCertificate)), 
new wy(this.http2, this.connectionId, t, n, e, r);
}
}, Ry = (e => (e.UNKNOWN = "unknown", e.TEST = "test", e.DEV = "dev", e.LOAD = "load", 
e.CERT = "cert", e.PROD = "prod", e))(Ry || {}), xy = [ "prod", "cert" ];
var By = function(e, t) {
const n = t?.appName ?? "NOT_SET", r = t?.gameVersion ?? "0";
return {
...e,
appName: n,
environment: Ry[t?.envId ?? "TEST"] ?? "unknown",
isPartyEnabled: void 0 === t?.partiesEnabled || t.partiesEnabled,
isTightlyCoupledParties: void 0 !== t?.tightlyCoupledParties && t.tightlyCoupledParties,
productId: t?.productId ?? "NOT_SET",
gameVersion: r,
playerListsEnabled: !!t?.playerListsEnabled
};
}(gc, is.AppConstants), Dy = [ "XBOXONE", "PS4" ], My = [ "PC", "XBSX", "PS5", "STADIA" ];
function Fy() {
let e = [ By.devicePlatformId ];
return Dy.includes(By.devicePlatformId) && (e = [ ...Dy ]), My.includes(By.devicePlatformId) && (e = [ ...My ]), 
{
compatiblePlatforms: e
};
}
function Uy(e) {
e.DeepLink.getCrossPlayPlatformCompatibility = Fy;
}
function Hy(e) {
return "object" == typeof e && null !== e && "telemetryId" in e;
}
var Vy = class {
constructor(e, t) {
this.path = e, this.telemetryId = t;
}
link(...e) {
return {
pathname: (t = this.path, n = e[0], void 0 === t && (t = "/"), void 0 === n && (n = {}), 
"/" === t ? t : Aa(t)(n, {
pretty: !0
})),
state: this
};
var t, n;
}
createSubRoute(e, t) {
return new Vy(`${this.path}${e}`, t);
}
useParams() {
return qa();
}
static create(e, t) {
return new Vy(e, t);
}
static getFromLocation({state: e}) {
if (Hy(e)) return e;
}
};
function Jy(e, t) {
return Vy.create(e, t);
}
var zy = Jy("/friends/:photonPlayerId?", "tab_friends"), Gy = Jy("/friend-requests/:photonPlayerId?", "tab_friend_requests"), jy = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ", qy = jy.length;
function Wy(e = 16) {
let t = "";
for (let n = 0; n < e; n++) t += jy.charAt(Math.floor(Math.random() * qy));
return t;
}
function Yy(e, t = 100) {
let n;
if (e.length > t) {
const r = e.length - t;
n = e.slice(0, Math.ceil(t / 2)).join("\n"), n += `\n< ...truncated ${r} lines... >\n`, 
n += e.slice(-Math.floor(t / 2)).join("\n");
} else n = e.join("\n");
return n.trim();
}
function Ky(e) {
let t, n = 0;
if (!e || !e.length) return n;
for (let r = 0; r < e.length; r++) t = e.charCodeAt(r), n = (n << 5) - n + t, n |= 0;
return n;
}
var Xy = /^\s*at (.*?) \((.*?)(:(\d*)){0,1}\)\s*$/;
function Qy(e) {
const t = e.stack?.split("\n") || [], n = [];
for (const e of t) {
const t = e.match(Xy);
if (t) {
const e = "<anonymous>" === t[1] ? null : t[1], r = t[2], i = t[4];
if ("native" === r) continue;
n.push((e ? e + "@" : "") + r + ":" + i);
}
}
return {
mode: "stack",
name: e.name,
message: e.message,
stackString: Yy(t),
canonicalStackLines: n,
hash: Ky(n.join("\n"))
};
}
function $y() {
return xy.includes(By.environment) ? "a96becb9a8b3560fdf2e300f973704b7950eNRAL" : "75dba3e62eb4ccde896a7ec21f6e0177dd84NRAL";
}
function Zy() {
return xy.includes(By.environment) ? {
accountId: 3594946,
licenseKey: "NRJS-f484133221051994cfd",
applicationId: 1588662197
} : {
accountId: 3594950,
licenseKey: "NRJS-9c2d1c3b2e3c0951a7f",
applicationId: 1588662197
};
}
var eh = "https://insights-collector.newrelic.com", {accountId: th, applicationId: nh, licenseKey: rh} = Zy(), {environment: ih, appName: ah, devicePlatformId: oh, locale: sh} = By;
async function lh(e, t, n) {
if (!e || "dev" === e) return;
const r = `${eh}/v1/accounts/${th}/events`;
return await t(r, n, {
"Api-Key": e,
"content-type": "application/json"
});
}
var ch = new Set;
async function dh(e, t, n, r = "/") {
if (!e || "dev" === e) return;
const i = Qy(n);
if ("prod" === By.environment && ch.has(i.hash)) return;
ch.add(i.hash);
const a = {
err: [ {
params: {
message: i.message,
stackHash: i.hash,
exceptionClass: i.name,
request_uri: r,
stack_trace: i.stackString,
releaseIds: "{}",
pageview: 1
},
custom: {
build: "main_41713",
app: ah.toLowerCase(),
env: ih,
platform: oh.toLowerCase(),
locale: sh
},
metrics: {
count: 1
}
} ]
}, o = `https://bam-cell.nr-data.net/jserrors/1/${rh}`, s = [ "a=" + nh, "v=main_41713", "rst=" + Date.now(), "ref=" + r, "t=Unnamed%20Transaction", "ck=0", "sa=1" ].join("&");
await t(o + "?" + s, JSON.stringify(a), {
"Api-Key": e,
"content-type": "text/plain"
});
}
var uh = [ 500, 501, 503, 429 ], {accountId: ph, applicationId: fh} = Zy(), mh = "metric-deviceId", yh = class {
constructor(e, t) {
this.httpPost = e, this.kvstore = t, this.enabled = !0, this.MAX_BACKOFF_COUNTER = 6, 
this.FLUSH_INTERVAL_IN_MS = 6e4, this.queuedMetrics = [], this.sentPayloads = [], 
this.queueSize = 0, this.maxQueueSize = 2e4, this.nextSendAt = 0, this.nextSendTimeout = -1, 
this.backoffCounter = 1, this.sessionMetrics = new Set, this.timedMetrics = new Map;
}
get deviceId() {
return this._deviceId || (this._deviceId = this.kvstore.getStringSync({
key: mh
})?.value, 32 !== this._deviceId?.length && (this._deviceId = Wy(32), this.kvstore.setString({
key: mh,
value: this._deviceId
}))), this._deviceId;
}
clearDebug() {
this.sentPayloads = [], this.timedMetrics = new Map, this.sessionMetrics = new Set, 
this.clearQueue();
}
refreshSession() {
this.sessionMetrics.clear();
}
setMetricsEnabled(e) {
this.enabled = e, e || (this.clearQueue(), this.clearTimer());
}
get generalInformation() {
return {
deviceId: this.deviceId,
accountId: ph,
appId: fh,
eventType: "photonMetric",
productId: By.productId,
platform: By.devicePlatformId,
env: By.environment,
bundle: "main_41713",
game: By.gameVersion,
locale: By.locale
};
}
startTimer(e) {
if (this.timedMetrics.has(e)) return !1;
this.timedMetrics.set(e, Date.now());
}
stopTimer(e) {
if (!this.timedMetrics.has(e)) return !1;
const t = this.timedMetrics.get(e);
if (t) {
this.timedMetrics.delete(e);
const n = Date.now() - t;
this.addEvent({
metric: e,
duration: n
});
}
}
addSessionEvent(e, t) {
this.sessionMetrics.has(e) || (this.sessionMetrics.add(e), this.addEvent({
metric: e,
value: t
}));
}
addCountEvent(e, t = 1, n) {
this.addEvent({
metric: e,
value: t,
message: n
});
}
addDurationEvent(e, t, n, r) {
this.addEvent({
metric: e,
value: n,
duration: t,
message: r
});
}
addEvent(e) {
if (!this.enabled) return;
const t = {
...this.generalInformation,
...e
}, n = JSON.stringify(t);
this.queueSize += n.length, this.startFlushTimer(), this.queuedMetrics.push(n), 
this.queueSize > this.maxQueueSize && this.flushQueue();
}
async flushQueue() {
if (0 === this.queuedMetrics.length) return;
if (this.backoffCounter > this.MAX_BACKOFF_COUNTER) return this.clearQueue(), void this.clearTimer();
const e = [ ...this.queuedMetrics ];
this.clearQueue(), await this.postEvents(e);
}
clearQueue() {
this.queuedMetrics.length = 0, this.queueSize = 0, this.clearTimer();
}
startFlushTimer() {
if (this.nextSendTimeout < 0) {
const e = this.FLUSH_INTERVAL_IN_MS * this.backoffCounter;
this.nextSendAt = Date.now() + e, this.nextSendTimeout = setTimeout((() => {
this.clearTimer(), this.flushQueue();
}), e);
}
}
clearTimer() {
this.nextSendTimeout && (clearTimeout(this.nextSendTimeout), this.nextSendTimeout = -1, 
this.nextSendAt = 0);
}
generatePayload(e) {
return `[${e.join(",")}]`;
}
async postEvents(e) {
const t = this.generatePayload(e);
try {
const e = await lh($y(), this.httpPost, t);
!e || uh.includes(e.statusCode) ? this.backoffCounter++ : this.backoffCounter = 1;
} catch (e) {
this.backoffCounter++;
}
}
}, [hh, gh] = $s({
debugName: "metricClientState",
create: e => {
const t = e.get(km);
return new yh(t.http.post, t.bindings.KvStore);
}
}), [Ih] = Zs({
debugName: "photonBindingsState"
});
async function vh(e, t) {
await dh($y(), e.http.post, t);
}
function bh() {
const e = Gu();
return H.useCallback((async t => vh(e, t)), [ e ]);
}
var _h = (e => (e.Xbox = "XBOX", e.Psn = "PSN", e.Nintendo = "NINTENDO", e.Ea = "EA", 
e.Steam = "STEAM", e.Epic = "EPIC", e.AppleGameCenter = "APPLE_GAMECENTER", e.Stadia = "GOOGLE_STADIA", 
e.GooglePlay = "GOOGLE_PLAY", e))(_h || {}), Ph = new Set(Object.values(_h)), Sh = e => {
const t = ("object" == typeof e ? e.id : e)?.toUpperCase();
return "string" == typeof (n = t) && Ph.has(n) ? t : "EA";
var n;
}, Th = class extends Error {
constructor(e) {
super(e), this.name = "ValidationError", Object.setPrototypeOf(this, Th.prototype);
}
}, Eh = class {
constructor() {
this.lastErrors = [];
}
validate(e, t) {
this.lastErrors.length = 0;
}
parse(e, t) {}
addError(e, t) {
this.lastErrors.length > 100 || this.lastErrors.push(e ? e.join(".") + (e.length > 0 ? ": " : "") + t : t);
}
addErrors(e) {
this.lastErrors.length > 100 || this.lastErrors.push(...e);
}
createError(e, t) {
return new Error(t + (e ? " " + e.join(".") : ""));
}
getLastErrors() {
return this.lastErrors.slice();
}
}, kh = class extends Eh {
constructor(e, t) {
super(), this.attributes = e, this.optionalAttributes = t, this.type = {};
}
parseString(e) {
try {
const t = JSON.parse(e);
if (this.validate(t)) return t;
} catch (e) {
this.lastErrors.push("Failed to parse JSON: " + e.message);
}
}
validate(e, t) {
if (super.validate(e, t), "object" == typeof e) if (null === e) this.addError(t, "Not an object: null"); else if (Array.isArray(e)) this.addError(t, "Not an object: array"); else {
for (const n in this.attributes) {
const r = e[n], i = this.attributes[n];
i.validate(r, t ? [ ...t, n ] : void 0) || this.addErrors(i.getLastErrors());
}
const {optionalAttributes: n} = this;
if (n) for (const r in n) {
const i = n[r], a = e[r];
void 0 !== a && (i.validate(a, t ? [ ...t, r ] : void 0) || this.addErrors(i.getLastErrors()));
}
} else this.addError(t, "Not an object: " + typeof e);
return 0 === this.lastErrors.length;
}
parse(e, t) {
if ("object" == typeof e) {
if (null === e) throw this.createError(t, "Not an object: null");
if (Array.isArray(e)) throw this.createError(t, "Not an object: array");
{
const n = {};
for (const r in this.attributes) {
const i = e[r], a = this.attributes[r];
n[r] = a.parse(i, t ? [ ...t, r ] : void 0);
}
const {optionalAttributes: r} = this;
if (r) for (const i in r) if (Object.prototype.hasOwnProperty.call(e, i)) {
const a = r[i], o = e[i];
void 0 !== o && (n[i] = a.parse(o, t ? [ ...t, i ] : void 0));
}
return n;
}
}
throw this.createError(t, "Not an object: " + typeof e);
}
}, Nh = class extends Eh {
constructor(e) {
super(), this.itemType = e, this.type = [];
}
validate(e, t) {
if (super.validate(e, t), "object" == typeof e) if (null === e) this.addError(t, "Not an array: null"); else if (Array.isArray(e)) for (let n = 0, r = e.length; n < r; n++) {
const r = e[n];
this.itemType.validate(r, t ? [ ...t, "[" + n + "]" ] : void 0) || this.addErrors(this.itemType.getLastErrors());
} else this.addError(t, "Not an array: object"); else this.addError(t, "Not an object: " + typeof e);
return 0 === this.lastErrors.length;
}
parse(e, t) {
if ("object" == typeof e) {
if (null === e) throw this.createError(t, "Not an array: null");
if (Array.isArray(e)) {
const n = [];
for (let r = 0, i = e.length; r < i; r++) n.push(this.itemType.parse(e[r], t));
return n;
}
throw this.createError(t, "Not an array: object");
}
throw this.createError(t, "Not an object: " + typeof e);
}
}, Ch = class extends Eh {
constructor(e) {
super(), this.valueType = e, this.type = {};
}
validate(e, t) {
if (super.validate(e, t), "object" == typeof e) if (null === e) this.addError(t, "Not an object: null"); else if (Array.isArray(e)) this.addError(t, "Not an object: array"); else for (const n in e) {
const r = e[n];
this.valueType.validate(r, t ? [ ...t, n ] : void 0) || this.addErrors(this.valueType.getLastErrors());
} else this.addError(t, "Not an object: " + typeof e);
return 0 === this.lastErrors.length;
}
parse(e, t) {
if ("object" == typeof e) {
if (null === e) throw this.createError(t, "Not an object: null");
if (Array.isArray(e)) throw this.createError(t, "Not an object: array");
{
const n = {};
for (const r in e) {
const i = e[r];
n[r] = this.valueType.parse(i, t ? [ ...t, r ] : void 0);
}
return n;
}
}
throw this.createError(t, "Not an object: " + typeof e);
}
}, Oh = class extends Eh {
constructor(e) {
super(), this.literal = e, this.type = null;
}
validate(e, t) {
return super.validate(e, t), e === this.literal || (this.addError(t, "Not literal " + this.literal + ": " + e), 
!1);
}
parse(e, t) {
if (e === this.literal) return this.literal;
throw this.createError(t, "Not literal " + this.literal + ": " + e);
}
}, Ah = class extends Eh {
constructor(e, t) {
super(), this.subType = e, this.defaultValue = t, this.type = null;
}
validate(e, t) {
return this.subType.validate(e, t);
}
getLastErrors() {
return this.subType.getLastErrors();
}
parse(e, t) {
try {
return this.subType.parse(e, t);
} catch (e) {
return this.defaultValue;
}
}
}, wh = class extends Eh {
constructor(e) {
super(), this.validator = e, this.type = null;
}
validate(e, t) {
return super.validate(e, t), this.validator(e, t, this.addError.bind(this));
}
parse(e, t) {
if (this.validator(e, t, this.addError.bind(this))) return e;
throw this.createError(t, "Cannot parse");
}
}, Lh = class extends Eh {
constructor(e, t) {
super(), this.sourceType = e, this.transformer = t, this.type = null;
}
validate(e, t = []) {
return this.sourceType.validate(e, t);
}
parse(e, t = []) {
return this.transformer(this.sourceType.parse(e, t));
}
}, Rh = class extends Eh {
constructor(e) {
super(), this.lazy = e, this.type = null;
}
validate(e, t = []) {
return super.validate(e, t), this.lazy().validate(e, t);
}
parse(e, t = []) {
return this.lazy().parse(e, t);
}
}, xh = class extends Eh {
constructor(e, t) {
super(), this.a = e, this.b = t, this.type = null;
}
validate(e, t) {
return super.validate(e, t), !(!this.a.validate(e, t) && !this.b.validate(e, t)) || (this.addErrors(this.a.getLastErrors()), 
this.addErrors(this.b.getLastErrors()), !1);
}
parse(e, t) {
try {
return this.a.parse(e, t);
} catch (n) {
try {
return this.b.parse(e, t);
} catch (e) {}
}
throw this.createError(t, "Cannot parse");
}
}, Bh = {
object: (e, t) => new kh(e, t),
map: e => new Ch(e),
array: e => new Nh(e),
string: new class extends Eh {
constructor() {
super(...arguments), this.type = "";
}
validate(e, t) {
return super.validate(e, t), "string" == typeof e || (this.addError(t, "Not a string: " + typeof e), 
!1);
}
parse(e, t) {
if ("string" == typeof e) return e;
throw this.createError(t, "Not a string: " + typeof e);
}
},
number: new class extends Eh {
constructor() {
super(...arguments), this.type = 0;
}
validate(e, t) {
return super.validate(e, t), "number" == typeof e || (this.addError(t, "Not a number: " + typeof e), 
!1);
}
parse(e, t) {
if ("number" == typeof e) return e;
throw this.createError(t, "Not a number: " + typeof e);
}
},
boolean: new class extends Eh {
constructor() {
super(...arguments), this.type = !1;
}
validate(e, t) {
return super.validate(e, t), "boolean" == typeof e || (this.addError(t, "Not a boolean: " + typeof e), 
!1);
}
parse(e, t) {
if ("boolean" == typeof e) return e;
throw this.createError(t, "Not a boolean: " + typeof e);
}
},
undefined: new Oh(void 0),
null: new Oh(null),
literal: e => new Oh(e),
optional: e => new xh(e, new Oh(void 0)),
lazy: e => new Rh(e),
nullable: e => new xh(e, new Oh(null)),
custom: e => new wh(e),
anyObject: new wh((e => "object" == typeof e)),
transform: (e, t) => new Lh(e, t),
orDefault: (e, t) => new Ah(e, t),
union2: (e, t) => new xh(e, t),
uint8Array: new wh((e => e instanceof Uint8Array))
};
function Dh(e, t) {
if (!e.validate(t, void 0)) throw new Th(e.getLastErrors().join(", "));
return t;
}
var Mh = e => e;
async function Fh(e, t, n) {
const r = n?.transformResponse ?? Mh;
let i;
const a = Date.now();
try {
const o = Dh(t, await e());
n?.debugName, i = {
data: r(o),
loading: !1,
skipped: !1,
timestamp: Date.now(),
duration: Date.now() - a
};
} catch (e) {
i = {
loading: !1,
skipped: !1,
error: e,
timestamp: Date.now(),
duration: Date.now() - a
};
}
return i;
}
function Uh(e, t) {
e.error && t.onError?.(), e.error || e.loading || e.skipped || t.onSuccess?.();
}
var Hh = Is({
debugName: "noop",
default: {
skipped: !0,
loading: !1
}
});
function Vh(e, t) {
const {skipQueryOnMount: n, queryIsReady: r = !0} = t, i = n || !r;
H.useEffect((() => {
i || e();
}), [ t.debugName, e, i ]);
}
function Jh(e, t, n, r) {
return H.useCallback((async i => {
n((e => ({
...e,
loading: !0,
skipped: !1
})), i);
const a = await Fh((() => e(i)), t, {
transformResponse: r.transformResponse,
debugName: r.debugName
});
return n(a, i), a;
}), [ r.debugName, r.transformResponse, n, t, e ]);
}
function zh(e) {
const t = H.useRef(!1);
return H.useEffect((() => (t.current = !0, () => {
t.current = !1;
})), []), H.useCallback((n => {
t.current && e(n);
}), [ e ]);
}
function Gh(e) {
const t = Hs(e.cache ?? Hh);
return H.useCallback((n => {
e.cache && t(n);
}), [ e.cache, t ]);
}
function jh(e) {
const t = e.onSuccess, n = e.onError;
return H.useCallback(((e, r) => {
const i = "function" == typeof e ? e({
skipped: !1,
loading: !1
}) : e;
i.loading || !t && !n || (i.error && n ? n(i, r) : i.data && t && t(i, r));
}), [ n, t ]);
}
function qh(e, t) {
const n = zh(e), r = Gh(t), i = jh(t), a = H.useMemo((() => {
const e = [ i ];
return t.cache ? e.push(r) : e.push(n), e;
}), [ t.cache, i, r, n ]);
return H.useCallback(((e, t) => {
a.forEach((n => n(e, t)));
}), [ a ]);
}
function Wh(e, t, n, r = {}) {
const i = H.useCallback(e, t), [a, o] = H.useState({
skipped: !0,
loading: !1
}), s = Fs(r.cache ?? Hh), l = Jh(i, n, qh(o, r), r);
Vh(l, r);
const c = r.cache ? s : a;
return H.useMemo((() => ({
...c,
fetch: r.queryIsReady ?? 1 ? l : void 0
})), [ c, r.queryIsReady, l ]);
}
function Yh(e, t, n, r = {}) {
const i = Jh(H.useCallback(e, t), n, jh(r), r);
return r.queryIsReady ?? 1 ? i : void 0;
}
function Kh(e) {
return null != e;
}
var Xh = class {
constructor(e, t) {
this.id = e, this.props = ht.box(t, {
deep: !1
});
}
update(e) {
this.props.set({
...e,
timestamp: (new Date).getTime()
});
}
get data() {
return this.props.get().data;
}
get loading() {
return this.props.get().loading;
}
get uninitialized() {
return this.props.get().uninitialized;
}
get error() {
return this.props.get().error;
}
get timestamp() {
return this.props.get().timestamp;
}
toProps() {
return {
...this.props.get()
};
}
invalidateTimestamp() {
As((() => {
const e = this.props.get();
-1 !== e.timestamp && this.props.set({
...e,
timestamp: -1
});
}));
}
onBecomeObserved(e) {
return Fn(this.props, e);
}
onBecomeUnobserved(e) {
return Un(this.props, e);
}
isBeingObserved() {
return ii(this.props)?.isBeingObserved_ || !1;
}
observe(e) {
return or(this.props, (t => {
e(t);
}));
}
}, Qh = class {
constructor(e, t) {
this.id = e, this.source = t, this.computedProps = bt((() => t()), {
equals: we.structural
});
}
get data() {
return this.computedProps.get().data;
}
get loading() {
return this.computedProps.get().loading;
}
get uninitialized() {
return this.computedProps.get().uninitialized;
}
get error() {
return this.computedProps.get().error;
}
get timestamp() {
return this.computedProps.get().timestamp;
}
toProps() {
return {
...this.computedProps.get()
};
}
}, $h = class {
constructor(e) {
this.disposers = [], this.disposersByKey = {}, this._isDisposed = !1, this.disposeAll = () => {
if (!this._isDisposed) {
this._isDisposed = !0, Object.keys(this.disposersByKey).forEach((e => this.dispose(e)));
this.disposers.slice().forEach((e => this.dispose(e)));
}
}, e && this.add(e);
}
add(e) {
this.hasDisposer(e) || this.disposers.push(e);
}
set(e, t) {
this.disposersByKey[e] = t;
}
hasDisposer(e) {
return "string" == typeof e ? !!this.disposersByKey[e] : this.disposers.indexOf(e) >= 0;
}
dispose(e) {
if ("string" == typeof e) {
const t = this.disposersByKey[e];
t && (t(), delete this.disposersByKey[e]);
} else {
const t = this.disposers.indexOf(e);
e(), t >= 0 && this.disposers.splice(t, 1);
}
}
get isDisposed() {
return this._isDisposed;
}
}, Zh = (e, t) => {
const {onStreamData: n, onStreamEnd: r, onStreamError: i, keepAliveStreamOnDispose: a} = t, o = new $h;
return o.add(e.end.subscribe((() => {
r?.(), o.disposeAll();
}))), n && o.add(e.data.subscribe((e => {
n(e);
}))), i && o.add(e.error.subscribe((e => {
i(e);
}))), a || o.add((() => e.close())), e.start(), o.disposeAll;
};
function eg(e, t) {
let n = 0, r = !1;
const i = () => {
if (0 === t.wait) return e();
n ? t.leading && (r = !0) : (t.leading && e(), n = setTimeout((() => {
n = 0, t.leading ? r && (r = !1, i()) : e();
}), t.wait));
};
return i.cancel = () => {
n && (clearTimeout(n), n = 0, r = !1);
}, i;
}
var tg = class {
constructor(e, t) {
this.options = e, this.onBatch = t, this.disposers = new $h, this.pendingItems = new Set([]), 
this.processingItems = new Set([]), this.throttledBatch = eg((() => {
if (!this.pendingItems.size) return;
const e = Array.from(this.pendingItems.values()).splice(0, this.options.maxBatchSize ?? 50);
e.forEach((e => {
this.processingItems.add(e), this.pendingItems.delete(e);
})), this.onBatch(e).then((() => {
e.forEach((e => {
this.processingItems.delete(e);
})), this.throttledBatch();
}));
}), {
wait: this.options.delay ?? 16,
trailing: !0
}), this.addItem = e => {
this.processingItems.has(e) || this.pendingItems.add(e), this.throttledBatch();
}, this.dispose = () => {
this.disposers.disposeAll();
}, this.disposers.add((() => this.throttledBatch.cancel()));
}
}, ng = class {
constructor(e) {
this.onExpireCallback = e, this.atom = Ae("ExpirationDate"), this.timeout = 0, this.futureTimestamp = 0, 
this.dispose = () => {
clearTimeout(this.timeout), this.timeout = 0, this.futureTimestamp = 0;
};
}
observe() {
this.atom.reportObserved();
}
expireOn(e) {
Jt() && this.atom.reportObserved();
const t = e - Date.now();
return t > 0 && this.scheduleCheck(e), t <= 0;
}
scheduleCheck(e) {
if (!this.timeout || !this.futureTimestamp || e < this.futureTimestamp) {
this.timeout && clearTimeout(this.timeout), this.futureTimestamp = e;
const t = e - Date.now();
this.timeout = setTimeout((() => {
this.futureTimestamp = 0, this.atom.reportChanged(), this.onExpireCallback?.();
}), t);
}
}
}, rg = class {
constructor() {
this.disposers = new $h, this.dispose = () => {
this.disposers.disposeAll();
};
}
}, ig = class extends rg {
constructor(e, t) {
super(), this.fragmentList = e, this.onDemand = t;
const n = Mn((() => this.fragmentList.get()), (e => {
As((() => e.filter((e => e.uninitialized)))).forEach(this.onDemand);
}), {
fireImmediately: !0
});
this.disposers.add(n);
}
}, ag = class extends rg {
constructor(e, t, n) {
super(), this.fragmentList = e, this.onExpired = t, this.options = n;
const r = new ng((() => {
As((() => e.get().filter((e => !e.loading && e.timestamp && e.isBeingObserved() && r.expireOn(e.timestamp + n.maxAge))))).forEach((e => {
t(e);
}));
}));
this.disposers.add(r.dispose);
const i = Mn((() => this.fragmentList.get()), (e => {
e.forEach((e => {
if (this.disposers.hasDisposer(e.id)) return;
const i = e.onBecomeObserved((() => {
const i = e.timestamp;
!e.loading && i && r.expireOn(i + n.maxAge) && t(e);
})), a = e.observe((({newValue: i}) => {
As((() => {
const a = i.timestamp;
e.isBeingObserved() && !i.loading && a && r.expireOn(a + n.maxAge) && t(e);
}));
}));
this.disposers.set(e.id, (() => {
i(), a();
}));
}));
}), {
fireImmediately: !0
});
this.disposers.add(i);
}
}, og = class {
constructor(e, t, n) {
this.options = e, this.fragments = t, this.fetchFragments = n, this.disposers = new $h, 
this.dispose = () => {
this.disposers.disposeAll();
};
const r = new tg({
maxBatchSize: e.maxBatchSize ?? 50,
delay: e.delay ?? 16
}, n);
this.disposers.add(r.dispose), this.disposers.add(new ig(this.fragments, r.addItem).dispose), 
e.maxAge && this.disposers.add(new ag(this.fragments, r.addItem, {
maxAge: e.maxAge
}).dispose);
}
}, sg = class extends ls {
constructor(e, t, n, r) {
super(e, (e => [ t(e), {
loading: !1,
uninitialized: !1,
error: void 0,
data: e
} ]), {
batchDuration: n ?? 10,
initialBatchDuration: r
});
}
}, lg = class extends ls {
constructor(e, t, n) {
super(e, (e => e), {
batchDuration: t ?? 10,
initialBatchDuration: n
});
}
}, cg = class {
constructor() {
this.disposers = new $h, this.withStream = (e, t) => {
this.disposers.add(Zh(e, t));
}, this.dispose = () => {
this.disposers.disposeAll();
};
}
};
function dg(e, t) {
e.update({
...t,
data: t.data ?? e.data
});
}
function ug(e, t) {
e.data ? (e.data.replace(t.data || []), e.update({
...t,
data: e.data
})) : e.update({
...t,
data: t.data
});
}
function pg(e) {
const t = e.data || new Cs({});
return e.data || e.update({
...e.toProps(),
data: t
}), t;
}
var fg = class extends cg {
constructor(e, t, n, r) {
if (super(), this.options = e, this.applyResult = t, this.updateFragments = n, this.fragments = r, 
this.failedAttempts = 0, this.defaultMaxAttempts = 3, this.defaultRetryDelay = 2e3, 
this.performFetch(), e.refetchInterval) {
const t = setInterval((async () => {
await this.performFetch();
}), e.refetchInterval);
this.disposers.add((() => {
clearInterval(t);
}));
}
}
async performFetch() {
if (this.disposers.isDisposed) return;
const e = As((() => this.fragments.get()));
let t;
this.updateFragments(e, {
loading: !0,
uninitialized: !1
}, !0);
try {
t = await this.options.fetch();
} catch (e) {
t = {
loading: !1,
error: e
};
}
this.disposers.isDisposed || (!t.error && t.data ? (this.failedAttempts = 0, this.applyResult(t.data, this.options.updater ?? dg)) : t.error && (this.failedAttempts++, 
this.updateFragments(e, {
error: t.error || new Error("Unable to retrieve data"),
loading: !1,
uninitialized: !1
}), this.hasReachedMaxAttempts() ? this.dispose() : this.retryFetch()));
}
retryFetch() {
const e = this.options.retryDelay ?? this.defaultRetryDelay, t = setTimeout((() => {
this.performFetch();
}), e);
this.disposers.add((() => clearTimeout(t)));
}
hasReachedMaxAttempts() {
const e = this.options.maxFailedAttempts ?? this.defaultMaxAttempts;
return this.failedAttempts >= e;
}
}, mg = class extends cg {
constructor(e, t, n, r) {
super(), this.options = e, this.applyFragmentResults = t, this.updateFragments = n, 
this.fragments = r, this.batchedFetcher = new og(e, r, this.fetchFragments.bind(this)), 
this.disposers.add(this.batchedFetcher.dispose);
}
async fetchFragments(e) {
if (this.disposers.isDisposed) return;
let t;
this.updateFragments(e, {
loading: !0,
uninitialized: !1
});
try {
t = await this.options.fetch(e.map((e => e.id)));
} catch (e) {
t = [];
}
this.disposers.isDisposed || mr((() => {
this.updateFragments(e, {
loading: !1
}), this.applyFragmentResults(t, this.options.updater ?? dg);
}));
}
}, yg = class extends cg {
constructor(e, t, n, r) {
super(), this.options = e, this.applyFragmentResults = t, this.updateFragments = n, 
this.fragments = r, this.defaultMaxAttempts = 1, this.defaultAttemptTimeout = 2e3, 
this.batchedFetcher = new og(e, r, this.fetchFragments.bind(this)), this.disposers.add(this.batchedFetcher.dispose);
}
retryFetch(e, t = 1) {
if ((this.options.maxAttempts ?? this.defaultMaxAttempts) > t) {
const n = (this.options.attemptTimeout ?? this.defaultAttemptTimeout) * t, r = setTimeout((async () => {
await this.fetchFragments(e, t + 1);
}), n);
this.disposers.add((() => clearTimeout(r)));
} else this.updateFragments(e, {
loading: !1,
error: new Error("Failed to fetch resource")
});
}
async fetchFragments(e, t = 1) {
if (this.disposers.isDisposed) return;
let n;
this.updateFragments(e, {
loading: !0,
uninitialized: !1
});
try {
n = await this.options.fetch(e?.map((e => e.id)) ?? []);
} catch (e) {
n = {
loading: !1,
skipped: !1,
error: e
};
}
if (!this.disposers.isDisposed) if (n.data) {
const r = new sg(n.data, this.options.toFragmentId, this.options.batchDuration);
this.withStream(r, {
onStreamEnd: () => {
this.updateFragments(e, {
loading: !1
});
},
onStreamError: n => {
this.options?.onStreamError?.(n), this.retryFetch(e, t);
},
onStreamData: t => {
mr((() => {
const n = e.filter((e => t.some((([t]) => e.id === t))));
this.updateFragments(n, {
loading: !1
}), this.applyFragmentResults(t, this.options.updater);
}));
}
});
} else n.error && this.retryFetch(e, t);
}
}, hg = class extends cg {
constructor(e, t, n, r) {
super(), this.options = e, this.applyFragmentResults = t, this.updateFragments = n, 
this.fragments = r, this.fragmentResultsStream = new sg(e.stream, e.toFragmentId, e.batchDuration, e.initialBatchDuration), 
this.withStream(this.fragmentResultsStream, {
onStreamData: t => {
this.applyFragmentResults(t, e.updater);
},
onStreamError: e => {},
onStreamEnd: () => {
this.dispose();
}
});
}
}, gg = class {
constructor(e) {
this.createFragment = e, this.atom = Ae("ObservableFragmentFactory"), this.items = new Map, 
this.timeout = 0;
}
set(e, t) {
this.items.set(e, t), this.timeout || (this.timeout = setTimeout((() => {
this.atom.reportChanged(), this.timeout = 0;
}), 0));
}
get(e) {
const t = this.items.get(e);
if (t) return t;
const n = this.createFragment(e);
return this.set(e, n), n;
}
delete(e) {
this.items.delete(e), this.atom.reportChanged();
}
getMaybeUntracked(e) {
return this.items.get(e);
}
getItems() {
return this.atom.reportObserved(), Array.from(this.items.values());
}
get size() {
return this.atom.reportObserved(), this.items.size;
}
}, Ig = class {
constructor(e) {
this.options = e, this.defaultFragment = {
loading: !1,
uninitialized: !0,
data: void 0,
error: void 0
}, this.strategies = new Cs({}), this.applyFragmentResults = (e, t) => {
mr((() => {
As((() => {
e.forEach((([e, n]) => {
const r = this.get(e);
t(r, n);
}));
}));
}));
}, this.updateFragments = (e, t, n = !1) => {
mr((() => {
As((() => {
e.forEach((e => {
e.update({
...e.toProps(),
...t
});
})), n && Object.assign(this.defaultFragment, {
...t
});
}));
}));
}, this.fragmentsList = bt((() => this.fragments.getItems()), {
equals: we.identity
}), this.fragments = new gg((e => new Xh(e, this.defaultFragment)));
}
getStrategyOptions(e, t) {
return t;
}
setStreamStrategy(e, t = "Stream-1") {
if (e) {
const n = {
...this.options,
...e
};
return this.useStrategy(t, new hg(this.getStrategyOptions(t, n), this.applyFragmentResults, this.updateFragments, this.fragmentsList));
}
this.removeStrategy(t);
}
setSeedStrategy(e, t = "Seed-1") {
if (e) {
const n = {
...this.options,
...e
};
return this.useStrategy(t, new fg(this.getStrategyOptions(t, n), this.applyFragmentResults, this.updateFragments, this.fragmentsList));
}
this.removeStrategy(t);
}
setOnDemandStrategy(e, t = "OnDemand-1") {
if (e) {
const n = {
...this.options,
...e
};
return this.useStrategy(t, new mg(this.getStrategyOptions(t, n), this.applyFragmentResults, this.updateFragments, this.fragmentsList));
}
this.removeStrategy(t);
}
setOnDemandStreamStrategy(e, t = "OnDemandStream-1") {
if (e) {
const n = {
...this.options,
...e
};
return this.useStrategy(t, new yg(this.getStrategyOptions(t, n), this.applyFragmentResults, this.updateFragments, this.fragmentsList));
}
this.removeStrategy(t);
}
useStrategy(e, t) {
return this.removeStrategy(e), this.strategies.set(e, t), () => {
this.removeStrategy(e);
};
}
removeStrategy(e) {
const t = As((() => this.strategies.get(e)));
t && t.dispose(), this.strategies.delete(e);
}
get(e) {
return this.fragments.get(e);
}
getMaybeUntracked(e) {
return this.fragments.getMaybeUntracked(e);
}
delete(e) {
this.fragments.delete(e);
}
get size() {
return this.fragments.size;
}
}, vg = class extends Ig {
getByIds(e) {
return e.map((e => this.get(e)));
}
}, bg = "default", _g = () => bg, Pg = class extends Ig {
constructor(e) {
super({
delay: 0,
...e
}), this.options = e;
}
get() {
return super.get(bg);
}
getMaybeUntracked() {
return super.getMaybeUntracked(bg);
}
reseed() {
return As((() => Promise.all(Array.from(this.strategies.values()).map((e => {
if (e instanceof fg) return e.performFetch();
})))));
}
setStreamStrategy(e, t = "Stream-1") {
if (e) {
const n = {
...e,
toFragmentId: _g
};
return super.setStreamStrategy(n, t);
}
this.removeStrategy(t);
}
setOnDemandStreamStrategy(e, t = "OnDemandStream-1") {
if (e) {
const n = {
...e,
toFragmentId: _g
};
return super.setOnDemandStreamStrategy(n, t);
}
this.removeStrategy(t);
}
};
function Sg(e) {
return void 0 !== e.data;
}
function Tg(e) {
return void 0 !== e.data;
}
function Eg(e) {
return e.hasOwnProperty("hasData");
}
function kg(e) {
return [ [ bg, {
loading: e.loading,
error: e.error,
uninitialized: e.skipped,
data: e.data
} ] ];
}
function Ng(e) {
return {
loading: e.loading,
error: e.error,
uninitialized: e.skipped,
data: [ [ bg, {
loading: e.loading,
error: e.error,
uninitialized: e.skipped,
data: e.data
} ] ]
};
}
function Cg(e) {
let t, n = !0, r = !1, i = !1;
return e.forEach((e => {
var a;
n = n && (Eg(a = e) ? a.hasData : void 0 !== a.data), t = t || e.error, r = r || e.loading, 
i = i || !!e.uninitialized;
})), {
hasData: n,
error: t,
loading: r,
uninitialized: i
};
}
function Og(e) {
const t = [];
return e.forEach((e => {
e.data && t.push(e.data);
})), t;
}
function Ag(e) {
return {
...Cg(e),
data: Og(e)
};
}
async function wg(e, t = 1e3, n) {
const r = yr((() => void 0 !== e.data || !!e.error), {
timeout: t
});
n?.add(r.cancel);
try {
await r;
} catch (e) {}
return n?.delete(r.cancel), As((() => e.toProps()));
}
async function Lg(e, t = 1e3, n) {
const r = yr((() => Cg(e).hasData), {
timeout: t
});
n?.add(r.cancel);
try {
await r;
} catch (e) {}
return n?.delete(r.cancel), As((() => Ag(e)));
}
function Rg() {
const e = H.useRef({
disposers: new Set,
isMounted: !0
});
return H.useEffect((() => {
const t = e.current;
return () => {
t.isMounted = !1, t.disposers.forEach((e => e()));
};
}), []), e;
}
function xg() {
const e = Rg();
return H.useCallback(((t, n) => {
if (e.current.isMounted) return wg(t, n, e.current.disposers);
}), [ e ]);
}
function Bg() {
const e = Rg();
return H.useCallback(((t, n) => {
if (e.current.isMounted) return Lg(t, n, e.current.disposers);
}), [ e ]);
}
var Dg = Bh.object({
seconds: Bh.number,
nanos: Bh.number
}), Mg = Bh.object({
seconds: Bh.number
}, {
nanos: Bh.number
}), Fg = Bh.object({
id: Bh.string
}), Ug = Bh.object({}, {
stringValue: Bh.string,
localizedStringValue: Fg,
integerValue: Bh.number,
floatValue: Bh.number,
timestampValue: Dg,
durationValue: Mg
}), Hg = Bh.object({
id: Bh.string
}), Vg = Bh.object({
playerId: Bh.object({
id: Bh.string
}),
personaId: Bh.optional(Bh.object({
id: Bh.string
}))
}), Jg = Bh.object({
id: Vg
}, {
displayName: Bh.string,
nickname: Bh.string
}), zg = Bh.object({
id: Bh.string
}), Gg = Bh.object({
id: Bh.string
}), jg = Bh.object({
id: Bh.string
}), qg = Bh.object({
id: Bh.string
}), Wg = class extends ss {
constructor(e, t, n = (e => e)) {
super(e, (e => {
t.validate(e, void 0) && this.data.trigger(n(e));
}));
}
};
function Yg() {
return e => e instanceof os;
}
var Kg = "EA", Xg = "1P", Qg = "|", $g = e => `${e.eaPlayerId ? Kg : Xg}|${e.eaPlayerId || e.firstPartyPlayerId || ""}|${e.playerNetworkId}`, Zg = e => `EA|${e.eaPlayerId}|${e.playerNetworkId}`;
function eI(e) {
const t = e.split(Qg);
if ((t[0] === Kg || t[0] === Xg) && t[1] && t[2]) return {
prefix: t[0],
playerId: t[1],
playerNetworkId: t[2],
sessionId: t[3]
};
}
function tI(e) {
const t = eI(e);
if (!t) throw new Error("Bad argument: " + e);
const n = {
playerNetworkId: Sh(t.playerNetworkId)
};
return t.prefix === Xg ? n.firstPartyPlayerId = t.playerId : n.eaPlayerId = t.playerId, 
t.sessionId && (n.sessionId = t.sessionId), n;
}
function nI(e) {
const t = eI(e);
return !!t && !t.sessionId;
}
function rI(e) {
return e.startsWith(Kg) && nI(e);
}
var iI = (e, t) => `${"string" == typeof e ? e : $g(e)}|${t}`, aI = e => nI(e) ? e : $g(tI(e)), oI = $f.FriendListNotifications.ListUpdate, sI = Bh.custom((e => "number" == typeof e && e in $f.PlatformFriends.PresenceStatus && e !== $f.PlatformFriends.PresenceStatus.UNKNOWN)), lI = (Bh.object({
id: Hg,
displayName: Bh.string
}), Bh.object({
platformPlayerId: Bh.nullable(Bh.string),
avatarUrl: Bh.nullable(Bh.string),
displayName: Bh.string,
personaId: Bh.string,
playerNetworkId: zg
})), cI = Bh.object({
firstPartyUid: Bh.optional(Bh.object({
value: Bh.string
})),
displayName: Bh.object({
value: Bh.string
}),
personaId: jg,
playerNetworkId: zg,
lastAuthDate: Bh.optional(Dg)
}), dI = Bh.object({
playerDetails: lI
}, {
isPlatformFriend: Bh.nullable(Bh.boolean)
}), uI = Bh.object({
entityId: Vg,
entries: Bh.array(dI)
}), pI = Bh.object({
entity: Jg
}), fI = Bh.object({
userId: Bh.string,
displayName: Bh.string,
presenceStatus: sI
}, {
title: Bh.nullable(Bh.string),
presence: Bh.nullable(Bh.string)
}), mI = Bh.object({
displayName: Bh.string,
userId: Bh.string
}, {
name: Bh.string,
personaId: Bh.string
}), yI = (Bh.object({
friends: Bh.array(uI)
}), Bh.object({
friends: Bh.array(pI)
}), Bh.array(Bh.object({
photonPlayerId: Bh.custom((e => "string" == typeof e && nI(e)))
}))), hI = Bh.object({}, {
domain: Bh.string,
code: Bh.number,
reason: Bh.string,
cause: Bh.lazy((() => hI))
}), gI = Bh.object({
playerId: Hg,
personas: Bh.array(cI)
}, {
errorDetail: Bh.optional(hI)
}), II = Bh.object({
stream: Bh.custom(Yg()),
response: Bh.object({})
}), vI = Bh.object({
playerId: Bh.optional(Hg),
personas: Bh.array(cI),
firstPartyUid: Bh.optional(Bh.object({
value: Bh.string
})),
displayName: Bh.optional(Bh.object({
value: Bh.string
})),
errorDetail: Bh.optional(hI)
}), bI = Bh.object({
stream: Bh.custom(Yg()),
response: Bh.object({})
}), _I = Bh.object({
friendList: Bh.array(fI)
}), PI = Bh.object({
blockList: Bh.array(mI)
}), SI = Bh.object({
friendListEvent: Bh.object({
addedFriends: Bh.array(fI),
removedFriends: Bh.array(Bh.string),
updatedFriends: Bh.array(fI)
})
}), TI = Bh.object({
entity: Jg,
createTime: Bh.optional(Bh.nullable(Dg))
}), EI = Bh.object({
blockedPlayers: Bh.optional(Bh.array(TI))
}), kI = Bh.object({
entity: Jg
}), NI = Bh.object({
mutedPlayers: Bh.optional(Bh.array(kI))
}), CI = Bh.custom((e => "number" == typeof e && e in oI && e !== oI.LIST_UPDATE_UNSPECIFIED)), OI = Bh.object({
friend: Bh.object({
entity: Jg,
createTime: Bh.optional(Bh.nullable(Dg))
}),
listUpdate: CI,
updateTimestamp: Dg
}), AI = Bh.object({
friendListNotification: OI
}), wI = Bh.object({
stream: Bh.custom(Yg()),
response: Bh.object({})
});
function LI(e, t, n) {
e.addEvent({
metric: "stream_error",
value: t,
message: n.message
});
}
function RI(e, t) {
const n = gh();
H.useEffect((() => t?.error.subscribe((t => {
LI(n, e, t);
}))), [ n, t?.error, e ]);
}
function xI(e) {
try {
return Za.BigInt(e).toString(16);
} catch (t) {
return e;
}
}
function BI(e) {
try {
return Za.BigInt("0x" + e).toString(10);
} catch (t) {
return e;
}
}
function DI(e) {
return !!e.firstPartyPlayerId;
}
var MI = class {
constructor(e, t) {
this.keysAtom = Ae("key"), this.atomIndices = new Map, this.atoms = [], this.nextAtomIndex = 0, 
this.items = new Map(e);
for (let e = 0; e < t; e++) this.atoms.push(Ae("" + e));
}
getAtom(e) {
let t = this.atomIndices.get(e);
return void 0 === t && (t = this.nextAtomIndex % this.atoms.length, this.atomIndices.set(e, t), 
this.nextAtomIndex++), this.atoms[t];
}
[Symbol.iterator]() {
return this.entries();
}
clear() {
this.items.clear(), this.atomIndices.clear(), mr((() => {
this.atoms.forEach((e => e.reportChanged())), this.keysAtom.reportChanged();
}));
}
delete(e) {
const t = this.items.delete(e);
return t && mr((() => {
this.getAtom(e).reportChanged(), this.keysAtom.reportChanged();
})), this.atomIndices.delete(e), t;
}
entries() {
return this.keysAtom.reportObserved(), this.atoms.forEach((e => e.reportObserved())), 
this.items.entries();
}
forEach(e) {
for (const [t, n] of this.entries()) e(n, t, this);
}
get(e) {
return this.getAtom(e).reportObserved(), this.items.get(e);
}
has(e) {
return this.getAtom(e).reportObserved(), this.items.has(e);
}
keys() {
return this.keysAtom.reportObserved(), this.items.keys();
}
set(e, t) {
return this.items.set(e, t), mr((() => {
this.getAtom(e).reportChanged(), this.keysAtom.reportChanged();
})), this;
}
values() {
return this.atoms.forEach((e => e.reportObserved())), this.items.values();
}
get size() {
return this.keysAtom.reportObserved(), this.items.size;
}
toString() {
return "[object ShardedObservableMap]";
}
get [Symbol.toStringTag]() {
return "Map";
}
replace(e) {
mr((() => {
for (const t of this.items.keys()) {
const n = e.get(t);
void 0 !== n ? this.set(t, n) : this.delete(t);
}
for (const [t, n] of e) this.items.has(t) || this.set(t, n);
}));
}
}, FI = class {
constructor(e) {
this.store = e, this.collection = new Cs([]);
}
has(e) {
return this.collection.has(e);
}
keys() {
return Array.from(this.collection.keys());
}
require(e) {
mr((() => {
e.forEach((e => {
this.collection.set(e, void 0);
})), e.forEach((e => {
As((() => {
const t = this.store.getMaybeUntracked(e);
t?.update({
...t.toProps(),
uninitialized: !0
});
}));
}));
})), this.store.getByIds(e);
}
update(e, t) {
this.collection.set(e, t);
}
async waitForFragments(e, t) {
this.require(e);
const n = () => As((() => e.map((e => this.collection.get(e))).filter(Kh)));
return new Promise((r => {
const i = yr((() => e.every((e => {
const t = this.collection.get(e);
return t && !t.uninitialized && !t.loading;
}))), (() => {
r(n());
}), {
timeout: 8e3,
onError: () => r(n())
});
t?.add(i);
}));
}
remove(e) {
mr((() => {
e.forEach((e => {
this.collection.delete(e);
}));
}));
}
}, UI = [ "EA", "STEAM", "PSN", "XBOX", "NINTENDO", "GOOGLE_STADIA" ].map((e => ({
id: Sh(e)
}))), HI = class extends vg {
constructor() {
super(...arguments), this.playerInfoStream = new os, this.eaFriendsFragments = new FI(this), 
this.firstPartyFriendFragments = new FI(this), this.eaFriendsFragmentsList = bt((() => this.eaFriendsFragments.keys().map((e => this.fragments.get(e))))), 
this.firstPartyFriendsFragmentsList = bt((() => this.firstPartyFriendFragments.keys().map((e => this.fragments.get(e))))), 
this.generalFragmentsList = bt((() => {
const e = new Set(this.eaFriendsFragments.keys()), t = new Set(this.firstPartyFriendFragments.keys());
return this.fragments.getItems().filter((n => !e.has(n.id) && !t.has(n.id) && rI(n.id)));
})), this.updateFirstPartyFragments = (e, t, n) => {
const r = e.filter((({id: e}) => !!this.getMaybeUntracked(e)));
this.updateFragments(r, t, n);
};
}
setPlayerCardsOnDemandStrategy(e, t, n = "OnDemandStream-1", r) {
if (t && r) {
const i = {
...this.options,
...t
};
return this.useStrategy(n, new yg(this.getStrategyOptions(n, i), this.applyFragmentResults, e, r));
}
this.removeStrategy(n);
}
setEaFriendsStrategy(e) {
this.setPlayerCardsOnDemandStrategy(this.updateFragments, e, "BatchGetFriendsPlayerCards", this.eaFriendsFragmentsList);
}
setFirstPartyFriendsStrategy(e) {
this.setPlayerCardsOnDemandStrategy(this.updateFirstPartyFragments, e, "BatchGetPlayerCardsByFirstPartyIds", this.firstPartyFriendsFragmentsList);
}
setGeneralStrategy(e) {
this.setPlayerCardsOnDemandStrategy(this.updateFragments, e, "BatchGetPlayerCards", this.generalFragmentsList);
}
findByEaPlayerId(e) {
return UI.map((t => this.fragments.getMaybeUntracked($g({
eaPlayerId: e,
playerNetworkId: t.id
})))).filter((e => !!e));
}
findByEaPlayerIds(e) {
const t = [];
return e.forEach((e => {
t.push(...this.findByEaPlayerId(e));
})), t;
}
}, [VI, JI] = $s({
debugName: "playerInfoFragmentStoreState",
create: () => new HI({
debugName: "PlayerInfo"
})
}), [zI, GI] = $s({
debugName: "eaPlayerCommonInfoState",
create: () => new MI([], 50)
});
function jI(e) {
return `${e.firstPartyUid}::${e.displayName}`;
}
function qI(e) {
const t = e.split("::");
if (2 === t.length) return {
firstPartyUid: t[0],
displayName: t[1]
};
}
function WI(e) {
return !!e?.data?.hasOwnProperty("photonPlayerId");
}
function YI(e) {
const t = [];
return e.personas.forEach((n => {
const r = Sh(n.playerNetworkId.id);
let i, a;
"NINTENDO" === r ? (i = n.firstPartyUid?.value ? BI(n.firstPartyUid.value) : void 0, 
a = n.displayName.value.split("#")[0]) : (i = n.firstPartyUid?.value, a = n.displayName.value), 
t.push({
eaPlayerId: e.playerId.id,
playerNetworkId: r,
photonPlayerId: $g({
eaPlayerId: e.playerId.id,
playerNetworkId: r
}),
personaId: n.personaId?.id,
lastAuthDate: n.lastAuthDate?.seconds,
firstPartyPlayerId: i,
displayName: a
});
})), e.errorDetail && t.push({
eaPlayerId: e.playerId.id,
playerNetworkId: "EA",
displayName: "",
photonPlayerId: $g({
eaPlayerId: e.playerId.id,
playerNetworkId: "EA"
}),
errorDetail: e.errorDetail
}), t;
}
function KI(e) {
return new ss(new Wg(e, gI), ((e, t) => {
YI(e).forEach((e => {
t.data.trigger(e);
}));
}));
}
function XI(e) {
return new ss(new Wg(e, vI), ((e, t) => {
e.playerId ? YI({
playerId: e.playerId,
personas: e.personas
}).forEach((e => {
t.data.trigger(e);
})) : e.errorDetail && e.firstPartyUid && e.displayName && t.data.trigger({
errorDetail: e.errorDetail,
firstPartyPlayerId: e.firstPartyUid.value,
displayName: e.displayName.value
});
}));
}
function QI() {
const e = JI(), t = Rg();
return H.useCallback((async n => {
const r = n.map((e => Zg({
eaPlayerId: e,
playerNetworkId: "EA"
})));
return await e.eaFriendsFragments.waitForFragments(r, t.current.disposers), e.eaFriendsFragments.remove(r), 
As((() => Og(e.findByEaPlayerIds(n))));
}), [ e, t ]);
}
function $I() {
const e = JI(), t = Rg();
return H.useCallback((async n => {
if (!n.length) return [];
const r = await e.firstPartyFriendFragments.waitForFragments(n, t.current.disposers), i = As((() => r.map((e => e.data?.eaPlayerId)).filter(Kh)));
return e.firstPartyFriendFragments.remove(n), As((() => Og(e.findByEaPlayerIds(i)).filter(DI)));
}), [ e, t ]);
}
function ZI() {
const e = JI(), t = Bg();
return H.useCallback((async n => (await t(e.getByIds(n.map((e => $g({
eaPlayerId: e,
playerNetworkId: "EA"
})))), 1e4), As((() => Og(e.findByEaPlayerIds(n)))))), [ e, t ]);
}
function ev() {
const {PlayerCardService: e} = lm();
return {
batchGetPlayerCards: Yh((t => e.BatchGetPlayerCards({
playerIds: t?.map((e => ({
id: e
}))) ?? [],
playerNetworkIds: UI
})), [ e ], II, {}),
batchGetFriendsPlayerCards: Yh((t => e.BatchGetFriendsPlayerCards({
playerIds: t?.map((e => ({
id: e
}))) ?? [],
playerNetworkIds: UI
})), [ e ], II, {}),
batchGetPlayerCardsByFirstPartyIds: Yh((t => {
let n;
return n = "NX" === By.devicePlatformId ? t?.map((({firstPartyUid: e, displayName: t}) => ({
firstPartyUid: {
value: xI(e)
},
displayName: {
value: t.split("#")[0]
}
}))) ?? [] : t?.map((({firstPartyUid: e, displayName: t}) => ({
firstPartyUid: {
value: e
},
displayName: {
value: t
}
}))) ?? [], e.BatchGetPlayerCardsByFirstPartyIds({
firstPartyUidAndDisplayNames: n
});
}), [ e ], bI, {})
};
}
function tv(e) {
return e.filter(nI).map((e => tI(e).eaPlayerId)).filter(Kh);
}
function nv(e, t) {
return !(!t.data || !e.data) && (!(!e.data.firstPartyPlayerId || t.data.firstPartyPlayerId) || !!e.data.lastAuthDate && (!t.data.lastAuthDate || t.data.lastAuthDate < e.data.lastAuthDate));
}
function rv(e, t) {
const n = t.data?.eaPlayerId, r = t.data?.lastAuthDate;
if (n && r) {
const t = e.get(n)?.mostRecentlyLoggedInPersonaDate;
(!t || t < r) && e.set(n, {
mostRecentlyLoggedInPersonaDate: r
});
}
}
function iv(e, t, n) {
nv(e, t) || (t.data?.errorDetail && !e.data ? e.update({
data: void 0,
error: new Error(t.data?.errorDetail.reason ?? "Missing player card"),
loading: !1,
uninitialized: !1
}) : (dg(e, t), rv(n, t)));
}
function av() {
const {batchGetPlayerCards: e, batchGetFriendsPlayerCards: t, batchGetPlayerCardsByFirstPartyIds: n} = ev(), r = JI(), i = GI();
H.useEffect((() => r.setStreamStrategy({
stream: r.playerInfoStream,
toFragmentId: e => $g(e),
updater: (e, t) => {
iv(e, t, i);
}
})), [ r.playerInfoStream, r, i ]);
const a = gh();
H.useEffect((() => {
if (t) {
const e = {
toFragmentId: $g,
fetch: async e => {
const n = tv(e), r = await t(n), i = r.data ? KI(r.data.stream) : void 0;
return {
...r,
data: i
};
},
batchDuration: 10,
maxBatchSize: 200,
maxAttempts: 3,
attemptTimeout: 2e3,
onStreamError: e => LI(a, "PlayerCardService.batchGetFriendsPlayerCards", e),
updater: (e, t) => {
iv(e, t, i), r.eaFriendsFragments.update(e.id, e);
}
};
return r.setEaFriendsStrategy(e);
}
}), [ t, r.eaFriendsFragments, r, i, a ]), H.useEffect((() => {
if (!n) return;
const e = {
toFragmentId: e => {
return (t = e) && t.hasOwnProperty("errorDetail") ? jI({
firstPartyUid: e.firstPartyPlayerId,
displayName: e.displayName
}) : $g(e);
var t;
},
fetch: async e => {
const t = e.map((e => qI(e))).filter(Kh), r = await n(t), i = r.data ? XI(r.data.stream) : void 0;
return {
...r,
data: i
};
},
batchDuration: 10,
maxBatchSize: 200,
maxAttempts: 3,
attemptTimeout: 2e3,
onStreamError: e => LI(a, "PlayerCardService.batchGetPlayerCardsByFirstPartyIds", e),
updater: (e, t) => {
if (t.data) {
if (!t.data.firstPartyPlayerId) return void (WI(t) && iv(e, t, i));
const n = jI({
firstPartyUid: t.data.firstPartyPlayerId,
displayName: t.data.displayName
});
WI(t) ? t.data?.firstPartyPlayerId && iv(e, t, i) : e.update({
error: new Error("Not EA connected"),
loading: !1,
uninitialized: !1
}), r.firstPartyFriendFragments.has(n) && r.firstPartyFriendFragments.update(n, e);
}
}
};
return r.setFirstPartyFriendsStrategy(e);
}), [ n, i, a, r ]), H.useEffect((() => {
if (e) {
const t = {
toFragmentId: $g,
fetch: async t => {
const n = tv(t), r = await e(n), i = r.data ? KI(r.data.stream) : void 0;
return {
...r,
data: i
};
},
batchDuration: 10,
maxBatchSize: 200,
maxAttempts: 3,
attemptTimeout: 2e3,
onStreamError: e => LI(a, "PlayerCardService.batchGetPlayerCards", e),
updater: (e, t) => {
iv(e, t, i);
}
};
return r.setGeneralStrategy(t);
}
}), [ e, i, a, r ]);
}
var ov = ({children: e}) => (av(), H.createElement(H.Fragment, null, e)), sv = (e => (e.main = "main", 
e.overlay = "overlay", e))(sv || {}), lv = Object.keys(sv);
function cv(e) {
return _m(e);
}
function dv(e) {
return _m(e);
}
var uv = Jy("/", void 0), pv = {
overlay: e => e.pathname !== uv.path
};
var fv = {
encode: (e, t = rs.Writer.create()) => ("" !== e.id && t.uint32(10).string(e.id), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
id: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.id = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
id: ""
};
return t.id = e.id ?? "", t;
}
};
var mv = {
encode: (e, t = rs.Writer.create()) => ("" !== e.id && t.uint32(10).string(e.id), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
id: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.id = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
id: ""
};
return t.id = e.id ?? "", t;
}
};
var yv = {
encode: (e, t = rs.Writer.create()) => (0 !== e.totalSize && t.uint32(8).int32(e.totalSize), 
0 !== e.pageSize && t.uint32(16).int32(e.pageSize), 0 !== e.offset && t.uint32(24).int32(e.offset), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
totalSize: 0,
pageSize: 0,
offset: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.totalSize = n.int32();
break;

case 2:
i.pageSize = n.int32();
break;

case 3:
i.offset = n.int32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
totalSize: 0,
pageSize: 0,
offset: 0
};
return t.totalSize = e.totalSize ?? 0, t.pageSize = e.pageSize ?? 0, t.offset = e.offset ?? 0, 
t;
}
};
var hv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.playerId && fv.encode(e.playerId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.personaId && mv.encode(e.personaId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: void 0,
personaId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = fv.decode(n, n.uint32());
break;

case 2:
i.personaId = mv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: void 0,
personaId: void 0
};
return t.playerId = void 0 !== e.playerId && null !== e.playerId ? fv.fromPartial(e.playerId) : void 0, 
t.personaId = void 0 !== e.personaId && null !== e.personaId ? mv.fromPartial(e.personaId) : void 0, 
t;
}
};
var gv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.id && hv.encode(e.id, t.uint32(10).fork()).ldelim(), 
"" !== e.displayName && t.uint32(18).string(e.displayName), "" !== e.nickname && t.uint32(26).string(e.nickname), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
id: void 0,
displayName: "",
nickname: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.id = hv.decode(n, n.uint32());
break;

case 2:
i.displayName = n.string();
break;

case 3:
i.nickname = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
id: void 0,
displayName: "",
nickname: ""
};
return t.id = void 0 !== e.id && null !== e.id ? hv.fromPartial(e.id) : void 0, 
t.displayName = e.displayName ?? "", t.nickname = e.nickname ?? "", t;
}
};
var Iv = {
encode: (e, t = rs.Writer.create()) => (0 !== e.seconds && t.uint32(8).int64(e.seconds), 
0 !== e.nanos && t.uint32(16).int32(e.nanos), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
seconds: 0,
nanos: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.seconds = Number(n.int64());
break;

case 2:
i.nanos = n.int32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
seconds: 0,
nanos: 0
};
return t.seconds = e.seconds ?? 0, t.nanos = e.nanos ?? 0, t;
}
};
var vv = {
encode: (e, t = rs.Writer.create()) => ("" !== e.id && t.uint32(10).string(e.id), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
id: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.id = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
id: ""
};
return t.id = e.id ?? "", t;
}
};
var bv = {
encode: (e, t = rs.Writer.create()) => ("" !== e.id && t.uint32(10).string(e.id), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
id: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.id = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
id: ""
};
return t.id = e.id ?? "", t;
}
};
var _v = {
encode: (e, t = rs.Writer.create()) => ("" !== e.domain && t.uint32(10).string(e.domain), 
0 !== e.code && t.uint32(16).int32(e.code), "" !== e.reason && t.uint32(26).string(e.reason), 
void 0 !== e.cause && _v.encode(e.cause, t.uint32(34).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
domain: "",
code: 0,
reason: "",
cause: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.domain = n.string();
break;

case 2:
i.code = n.int32();
break;

case 3:
i.reason = n.string();
break;

case 4:
i.cause = _v.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
domain: "",
code: 0,
reason: "",
cause: void 0
};
return t.domain = e.domain ?? "", t.code = e.code ?? 0, t.reason = e.reason ?? "", 
t.cause = void 0 !== e.cause && null !== e.cause ? _v.fromPartial(e.cause) : void 0, 
t;
}
};
var Pv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entity && gv.encode(e.entity, t.uint32(10).fork()).ldelim(), 
void 0 !== e.createTime && Iv.encode(e.createTime, t.uint32(18).fork()).ldelim(), 
void 0 !== e.sourcePlatform && vv.encode(e.sourcePlatform, t.uint32(26).fork()).ldelim(), 
void 0 !== e.targetPlatform && vv.encode(e.targetPlatform, t.uint32(34).fork()).ldelim(), 
void 0 !== e.sourcePlayerNetworkId && bv.encode(e.sourcePlayerNetworkId, t.uint32(42).fork()).ldelim(), 
void 0 !== e.targetPlayerNetworkId && bv.encode(e.targetPlayerNetworkId, t.uint32(50).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entity: void 0,
createTime: void 0,
sourcePlatform: void 0,
targetPlatform: void 0,
sourcePlayerNetworkId: void 0,
targetPlayerNetworkId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entity = gv.decode(n, n.uint32());
break;

case 2:
i.createTime = Iv.decode(n, n.uint32());
break;

case 3:
i.sourcePlatform = vv.decode(n, n.uint32());
break;

case 4:
i.targetPlatform = vv.decode(n, n.uint32());
break;

case 5:
i.sourcePlayerNetworkId = bv.decode(n, n.uint32());
break;

case 6:
i.targetPlayerNetworkId = bv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entity: void 0,
createTime: void 0,
sourcePlatform: void 0,
targetPlatform: void 0,
sourcePlayerNetworkId: void 0,
targetPlayerNetworkId: void 0
};
return t.entity = void 0 !== e.entity && null !== e.entity ? gv.fromPartial(e.entity) : void 0, 
t.createTime = void 0 !== e.createTime && null !== e.createTime ? Iv.fromPartial(e.createTime) : void 0, 
t.sourcePlatform = void 0 !== e.sourcePlatform && null !== e.sourcePlatform ? vv.fromPartial(e.sourcePlatform) : void 0, 
t.targetPlatform = void 0 !== e.targetPlatform && null !== e.targetPlatform ? vv.fromPartial(e.targetPlatform) : void 0, 
t.sourcePlayerNetworkId = void 0 !== e.sourcePlayerNetworkId && null !== e.sourcePlayerNetworkId ? bv.fromPartial(e.sourcePlayerNetworkId) : void 0, 
t.targetPlayerNetworkId = void 0 !== e.targetPlayerNetworkId && null !== e.targetPlayerNetworkId ? bv.fromPartial(e.targetPlayerNetworkId) : void 0, 
t;
}
};
var Sv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.sourcePlatform && vv.encode(e.sourcePlatform, t.uint32(18).fork()).ldelim(), 
void 0 !== e.targetPlatform && vv.encode(e.targetPlatform, t.uint32(26).fork()).ldelim(), 
void 0 !== e.sourcePlayerNetworkId && bv.encode(e.sourcePlayerNetworkId, t.uint32(34).fork()).ldelim(), 
void 0 !== e.targetPlayerNetworkId && bv.encode(e.targetPlayerNetworkId, t.uint32(42).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
sourcePlatform: void 0,
targetPlatform: void 0,
sourcePlayerNetworkId: void 0,
targetPlayerNetworkId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.sourcePlatform = vv.decode(n, n.uint32());
break;

case 3:
i.targetPlatform = vv.decode(n, n.uint32());
break;

case 4:
i.sourcePlayerNetworkId = bv.decode(n, n.uint32());
break;

case 5:
i.targetPlayerNetworkId = bv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
sourcePlatform: void 0,
targetPlatform: void 0,
sourcePlayerNetworkId: void 0,
targetPlayerNetworkId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.sourcePlatform = void 0 !== e.sourcePlatform && null !== e.sourcePlatform ? vv.fromPartial(e.sourcePlatform) : void 0, 
t.targetPlatform = void 0 !== e.targetPlatform && null !== e.targetPlatform ? vv.fromPartial(e.targetPlatform) : void 0, 
t.sourcePlayerNetworkId = void 0 !== e.sourcePlayerNetworkId && null !== e.sourcePlayerNetworkId ? bv.fromPartial(e.sourcePlayerNetworkId) : void 0, 
t.targetPlayerNetworkId = void 0 !== e.targetPlayerNetworkId && null !== e.targetPlayerNetworkId ? bv.fromPartial(e.targetPlayerNetworkId) : void 0, 
t;
}
};
var Tv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), 0 !== e.view && t.uint32(24).int32(e.view), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
pageInfo: void 0,
view: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

case 3:
i.view = n.int32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
pageInfo: void 0,
view: 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t.view = e.view ?? 0, t;
}
};
var Ev = {
encode(e, t = rs.Writer.create()) {
for (const n of e.invites) Pv.encode(n, t.uint32(10).fork()).ldelim();
return void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
invites: [],
pageInfo: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.invites.push(Pv.decode(n, n.uint32()));
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
invites: [],
pageInfo: void 0
};
return t.invites = e.invites?.map((e => Pv.fromPartial(e))) || [], t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t;
}
};
var kv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), 0 !== e.view && t.uint32(24).int32(e.view), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
pageInfo: void 0,
view: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

case 3:
i.view = n.int32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
pageInfo: void 0,
view: 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t.view = e.view ?? 0, t;
}
};
var Nv = {
encode(e, t = rs.Writer.create()) {
for (const n of e.invites) Pv.encode(n, t.uint32(10).fork()).ldelim();
return void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
invites: [],
pageInfo: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.invites.push(Pv.decode(n, n.uint32()));
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
invites: [],
pageInfo: void 0
};
return t.invites = e.invites?.map((e => Pv.fromPartial(e))) || [], t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t;
}
};
var Cv = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim();
for (const n of e.invites) Sv.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
invites: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.invites.push(Sv.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
invites: []
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.invites = e.invites?.map((e => Sv.fromPartial(e))) || [], t;
}
};
var Ov = {
encode: (e, t = rs.Writer.create()) => (Object.entries(e.inviteStatus).forEach((([e, n]) => {
wv.encode({
key: e,
value: n
}, t.uint32(10).fork()).ldelim();
})), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
inviteStatus: {}
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) {
const e = wv.decode(n, n.uint32());
void 0 !== e.value && (i.inviteStatus[e.key] = e.value);
} else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
inviteStatus: {}
};
return t.inviteStatus = Object.entries(e.inviteStatus ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = Av.fromPartial(n)), 
e)), {}), t;
}
};
var Av = {
encode: (e, t = rs.Writer.create()) => (!0 === e.success && t.uint32(8).bool(e.success), 
void 0 !== e.errorDetail && _v.encode(e.errorDetail, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
success: !1,
errorDetail: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.success = n.bool();
break;

case 2:
i.errorDetail = _v.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
success: !1,
errorDetail: void 0
};
return t.success = e.success ?? !1, t.errorDetail = void 0 !== e.errorDetail && null !== e.errorDetail ? _v.fromPartial(e.errorDetail) : void 0, 
t;
}
};
var wv = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
void 0 !== e.value && Av.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = Av.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: void 0
};
return t.key = e.key ?? "", t.value = void 0 !== e.value && null !== e.value ? Av.fromPartial(e.value) : void 0, 
t;
}
};
var Lv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetEntityId && hv.encode(e.targetEntityId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityId = hv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityId = void 0 !== e.targetEntityId && null !== e.targetEntityId ? hv.fromPartial(e.targetEntityId) : void 0, 
t;
}
};
var Rv = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var xv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetEntityId && hv.encode(e.targetEntityId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityId = hv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityId = void 0 !== e.targetEntityId && null !== e.targetEntityId ? hv.fromPartial(e.targetEntityId) : void 0, 
t;
}
};
var Bv = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var Dv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetEntityId && hv.encode(e.targetEntityId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityId = hv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityId = void 0 !== e.targetEntityId && null !== e.targetEntityId ? hv.fromPartial(e.targetEntityId) : void 0, 
t;
}
};
var Mv = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var Fv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.entityId = hv.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t;
}
};
var Uv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.entityId = hv.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t;
}
};
var Hv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.inviteListNotification && Jv.encode(e.inviteListNotification, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
inviteListNotification: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.inviteListNotification = Jv.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
inviteListNotification: void 0
};
return t.inviteListNotification = void 0 !== e.inviteListNotification && null !== e.inviteListNotification ? Jv.fromPartial(e.inviteListNotification) : void 0, 
t;
}
};
var Vv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.inviteListNotification && Jv.encode(e.inviteListNotification, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
inviteListNotification: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.inviteListNotification = Jv.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
inviteListNotification: void 0
};
return t.inviteListNotification = void 0 !== e.inviteListNotification && null !== e.inviteListNotification ? Jv.fromPartial(e.inviteListNotification) : void 0, 
t;
}
};
var Jv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.friendInviteDetails && Pv.encode(e.friendInviteDetails, t.uint32(10).fork()).ldelim(), 
0 !== e.listUpdate && t.uint32(16).int32(e.listUpdate), void 0 !== e.updateTimestamp && Iv.encode(e.updateTimestamp, t.uint32(26).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
friendInviteDetails: void 0,
listUpdate: 0,
updateTimestamp: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.friendInviteDetails = Pv.decode(n, n.uint32());
break;

case 2:
i.listUpdate = n.int32();
break;

case 3:
i.updateTimestamp = Iv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
friendInviteDetails: void 0,
listUpdate: 0,
updateTimestamp: void 0
};
return t.friendInviteDetails = void 0 !== e.friendInviteDetails && null !== e.friendInviteDetails ? Pv.fromPartial(e.friendInviteDetails) : void 0, 
t.listUpdate = e.listUpdate ?? 0, t.updateTimestamp = void 0 !== e.updateTimestamp && null !== e.updateTimestamp ? Iv.fromPartial(e.updateTimestamp) : void 0, 
t;
}
}, zv = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async SubscribeToReceivedInviteListNotifications(e) {
const t = new os;
return t.start = () => {
const n = this.grpcClient.makeServerStreamingRequest("/eadp.friends.v1.InviteListNotifications/SubscribeToReceivedInviteListNotifications", Uv, Vv, Uv.fromPartial(e), this.grpcMetadata);
n.onError((e => t.error.trigger(e))), n.onEnd((() => t.end.trigger())), n.onData((e => {
t.data.trigger(e);
}));
}, {
stream: t,
response: {}
};
}
async SubscribeToSentInviteListNotifications(e) {
const t = new os;
return t.start = () => {
const n = this.grpcClient.makeServerStreamingRequest("/eadp.friends.v1.InviteListNotifications/SubscribeToSentInviteListNotifications", Fv, Hv, Fv.fromPartial(e), this.grpcMetadata);
n.onError((e => t.error.trigger(e))), n.onEnd((() => t.end.trigger())), n.onData((e => {
t.data.trigger(e);
}));
}, {
stream: t,
response: {}
};
}
}, Gv = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async AcceptReceivedFriendInvite(e) {
const t = xv.fromPartial(e);
return await this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Invites/AcceptReceivedFriendInvite", xv, Bv, t, this.grpcMetadata);
}
async BatchSendFriendInvites(e) {
const t = Cv.fromPartial(e);
return await this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Invites/BatchSendFriendInvites", Cv, Ov, t, this.grpcMetadata);
}
async CancelSentFriendInvite(e) {
const t = Lv.fromPartial(e);
return await this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Invites/CancelSentFriendInvite", Lv, Rv, t, this.grpcMetadata);
}
async DeclineReceivedFriendInvite(e) {
const t = Dv.fromPartial(e);
return await this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Invites/DeclineReceivedFriendInvite", Dv, Mv, t, this.grpcMetadata);
}
async ListReceivedFriendInvites(e) {
const t = kv.fromPartial(e);
return await this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Invites/ListReceivedFriendInvites", kv, Nv, t, this.grpcMetadata);
}
async ListSentFriendInvites(e) {
const t = Tv.fromPartial(e);
return await this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Invites/ListSentFriendInvites", Tv, Ev, t, this.grpcMetadata);
}
};
var jv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetEntityId && hv.encode(e.targetEntityId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityId = hv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityId = void 0 !== e.targetEntityId && null !== e.targetEntityId ? hv.fromPartial(e.targetEntityId) : void 0, 
t;
}
};
var qv = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var Wv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetEntityId && hv.encode(e.targetEntityId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityId = hv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityId = void 0 !== e.targetEntityId && null !== e.targetEntityId ? hv.fromPartial(e.targetEntityId) : void 0, 
t;
}
};
var Yv = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var Kv = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim();
for (const n of e.targetEntityIds) hv.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityIds: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityIds.push(hv.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityIds: []
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityIds = e.targetEntityIds?.map((e => hv.fromPartial(e))) || [], t;
}
};
var Xv = {
encode(e, t = rs.Writer.create()) {
for (const n of e.status) Qv.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
status: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.status.push(Qv.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
status: []
};
return t.status = e.status?.map((e => Qv.fromPartial(e))) || [], t;
}
};
var Qv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
!0 === e.isBlocked && t.uint32(16).bool(e.isBlocked), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
isBlocked: !1
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.isBlocked = n.bool();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
isBlocked: !1
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.isBlocked = e.isBlocked ?? !1, t;
}
};
var $v = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), 0 !== e.view && t.uint32(24).int32(e.view), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
pageInfo: void 0,
view: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

case 3:
i.view = n.int32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
pageInfo: void 0,
view: 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t.view = e.view ?? 0, t;
}
};
var Zv = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entity && gv.encode(e.entity, t.uint32(10).fork()).ldelim(), 
void 0 !== e.createTime && Iv.encode(e.createTime, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entity: void 0,
createTime: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entity = gv.decode(n, n.uint32());
break;

case 2:
i.createTime = Iv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entity: void 0,
createTime: void 0
};
return t.entity = void 0 !== e.entity && null !== e.entity ? gv.fromPartial(e.entity) : void 0, 
t.createTime = void 0 !== e.createTime && null !== e.createTime ? Iv.fromPartial(e.createTime) : void 0, 
t;
}
};
var eb = {
encode(e, t = rs.Writer.create()) {
for (const n of e.blockedPlayers) Zv.encode(n, t.uint32(10).fork()).ldelim();
return void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
blockedPlayers: [],
pageInfo: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.blockedPlayers.push(Zv.decode(n, n.uint32()));
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
blockedPlayers: [],
pageInfo: void 0
};
return t.blockedPlayers = e.blockedPlayers?.map((e => Zv.fromPartial(e))) || [], 
t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t;
}
}, tb = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async BatchVerifyBlockedPlayers(e) {
const t = Kv.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.privacy.v1.Block/BatchVerifyBlockedPlayers", Kv, Xv, t, this.grpcMetadata);
}
async BlockPlayer(e) {
const t = jv.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.privacy.v1.Block/BlockPlayer", jv, qv, t, this.grpcMetadata);
}
async ListBlockedPlayers(e) {
const t = $v.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.privacy.v1.Block/ListBlockedPlayers", $v, eb, t, this.grpcMetadata);
}
async UnblockPlayer(e) {
const t = Wv.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.privacy.v1.Block/UnblockPlayer", Wv, Yv, t, this.grpcMetadata);
}
};
var nb = {
encode: (e, t = rs.Writer.create()) => (0 !== e.value && t.uint32(8).int32(e.value), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
value: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.value = n.int32(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
value: 0
};
return t.value = e.value ?? 0, t;
}
};
var rb = {
encode: (e, t = rs.Writer.create()) => (!0 === e.value && t.uint32(8).bool(e.value), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
value: !1
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.value = n.bool(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
value: !1
};
return t.value = e.value ?? !1, t;
}
};
var ib = {
encode: (e, t = rs.Writer.create()) => ("" !== e.value && t.uint32(10).string(e.value), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
value: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.value = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
value: ""
};
return t.value = e.value ?? "", t;
}
};
var ab = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entity && gv.encode(e.entity, t.uint32(10).fork()).ldelim(), 
void 0 !== e.createTime && Iv.encode(e.createTime, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entity: void 0,
createTime: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entity = gv.decode(n, n.uint32());
break;

case 2:
i.createTime = Iv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entity: void 0,
createTime: void 0
};
return t.entity = void 0 !== e.entity && null !== e.entity ? gv.fromPartial(e.entity) : void 0, 
t.createTime = void 0 !== e.createTime && null !== e.createTime ? Iv.fromPartial(e.createTime) : void 0, 
t;
}
};
var ob = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), 0 !== e.view && t.uint32(24).int32(e.view), 
"" !== e.etag && t.uint32(34).string(e.etag), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
pageInfo: void 0,
view: 0,
etag: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

case 3:
i.view = n.int32();
break;

case 4:
i.etag = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
pageInfo: void 0,
view: 0,
etag: ""
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t.view = e.view ?? 0, t.etag = e.etag ?? "", t;
}
};
var sb = {
encode(e, t = rs.Writer.create()) {
for (const n of e.friends) ab.encode(n, t.uint32(10).fork()).ldelim();
return void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), 
"" !== e.etag && t.uint32(26).string(e.etag), !0 === e.etagModified && t.uint32(32).bool(e.etagModified), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
friends: [],
pageInfo: void 0,
etag: "",
etagModified: !1
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.friends.push(ab.decode(n, n.uint32()));
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

case 3:
i.etag = n.string();
break;

case 4:
i.etagModified = n.bool();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
friends: [],
pageInfo: void 0,
etag: "",
etagModified: !1
};
return t.friends = e.friends?.map((e => ab.fromPartial(e))) || [], t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t.etag = e.etag ?? "", t.etagModified = e.etagModified ?? !1, t;
}
};
var lb = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim();
for (const n of e.targetEntityIds) hv.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityIds: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityIds.push(hv.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityIds: []
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityIds = e.targetEntityIds?.map((e => hv.fromPartial(e))) || [], t;
}
};
var cb = {
encode(e, t = rs.Writer.create()) {
for (const n of e.status) db.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
status: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.status.push(db.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
status: []
};
return t.status = e.status?.map((e => db.fromPartial(e))) || [], t;
}
};
var db = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
!0 === e.isFriend && t.uint32(16).bool(e.isFriend), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
isFriend: !1
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.isFriend = n.bool();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
isFriend: !1
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.isFriend = e.isFriend ?? !1, t;
}
};
var ub = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), void 0 !== e.platform && vv.encode(e.platform, t.uint32(26).fork()).ldelim(), 
0 !== e.view && t.uint32(32).int32(e.view), void 0 !== e.showCrossPlatformDetails && rb.encode(e.showCrossPlatformDetails, t.uint32(42).fork()).ldelim(), 
void 0 !== e.playerNetworkId && bv.encode(e.playerNetworkId, t.uint32(50).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
pageInfo: void 0,
platform: void 0,
view: 0,
showCrossPlatformDetails: void 0,
playerNetworkId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

case 3:
i.platform = vv.decode(n, n.uint32());
break;

case 4:
i.view = n.int32();
break;

case 5:
i.showCrossPlatformDetails = rb.decode(n, n.uint32());
break;

case 6:
i.playerNetworkId = bv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
pageInfo: void 0,
platform: void 0,
view: 0,
showCrossPlatformDetails: void 0,
playerNetworkId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t.platform = void 0 !== e.platform && null !== e.platform ? vv.fromPartial(e.platform) : void 0, 
t.view = e.view ?? 0, t.showCrossPlatformDetails = void 0 !== e.showCrossPlatformDetails && null !== e.showCrossPlatformDetails ? rb.fromPartial(e.showCrossPlatformDetails) : void 0, 
t.playerNetworkId = void 0 !== e.playerNetworkId && null !== e.playerNetworkId ? bv.fromPartial(e.playerNetworkId) : void 0, 
t;
}
};
var pb = {
encode: (e, t = rs.Writer.create()) => ("" !== e.platformPlayerId && t.uint32(10).string(e.platformPlayerId), 
"" !== e.avatarUrl && t.uint32(18).string(e.avatarUrl), "" !== e.displayName && t.uint32(26).string(e.displayName), 
"" !== e.personaId && t.uint32(34).string(e.personaId), void 0 !== e.platform && vv.encode(e.platform, t.uint32(42).fork()).ldelim(), 
void 0 !== e.playerNetworkId && bv.encode(e.playerNetworkId, t.uint32(50).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
platformPlayerId: "",
avatarUrl: "",
displayName: "",
personaId: "",
platform: void 0,
playerNetworkId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.platformPlayerId = n.string();
break;

case 2:
i.avatarUrl = n.string();
break;

case 3:
i.displayName = n.string();
break;

case 4:
i.personaId = n.string();
break;

case 5:
i.platform = vv.decode(n, n.uint32());
break;

case 6:
i.playerNetworkId = bv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
platformPlayerId: "",
avatarUrl: "",
displayName: "",
personaId: "",
platform: void 0,
playerNetworkId: void 0
};
return t.platformPlayerId = e.platformPlayerId ?? "", t.avatarUrl = e.avatarUrl ?? "", 
t.displayName = e.displayName ?? "", t.personaId = e.personaId ?? "", t.platform = void 0 !== e.platform && null !== e.platform ? vv.fromPartial(e.platform) : void 0, 
t.playerNetworkId = void 0 !== e.playerNetworkId && null !== e.playerNetworkId ? bv.fromPartial(e.playerNetworkId) : void 0, 
t;
}
};
var fb = {
encode: (e, t = rs.Writer.create()) => (!0 === e.isPlatformFriend && t.uint32(16).bool(e.isPlatformFriend), 
void 0 !== e.playerDetails && pb.encode(e.playerDetails, t.uint32(26).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
isPlatformFriend: !1,
playerDetails: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 2:
i.isPlatformFriend = n.bool();
break;

case 3:
i.playerDetails = pb.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
isPlatformFriend: !1,
playerDetails: void 0
};
return t.isPlatformFriend = e.isPlatformFriend ?? !1, t.playerDetails = void 0 !== e.playerDetails && null !== e.playerDetails ? pb.fromPartial(e.playerDetails) : void 0, 
t;
}
};
var mb = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(10).fork()).ldelim();
for (const n of e.friends) yb.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
pageInfo: void 0,
friends: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.pageInfo = yv.decode(n, n.uint32());
break;

case 2:
i.friends.push(yb.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
pageInfo: void 0,
friends: []
};
return t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t.friends = e.friends?.map((e => yb.fromPartial(e))) || [], t;
}
};
var yb = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim();
for (const n of e.entries) fb.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
entries: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.entries.push(fb.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
entries: []
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.entries = e.entries?.map((e => fb.fromPartial(e))) || [], t;
}
};
var hb = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetEntityId && hv.encode(e.targetEntityId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityId = hv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityId = void 0 !== e.targetEntityId && null !== e.targetEntityId ? hv.fromPartial(e.targetEntityId) : void 0, 
t;
}
};
var gb = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var Ib = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetEntityId && hv.encode(e.targetEntityId, t.uint32(18).fork()).ldelim(), 
0 !== e.view && t.uint32(24).int32(e.view), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityId: void 0,
view: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityId = hv.decode(n, n.uint32());
break;

case 3:
i.view = n.int32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityId: void 0,
view: 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityId = void 0 !== e.targetEntityId && null !== e.targetEntityId ? hv.fromPartial(e.targetEntityId) : void 0, 
t.view = e.view ?? 0, t;
}
};
var vb = {
encode(e, t = rs.Writer.create()) {
for (const n of e.friends) ab.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
friends: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.friends.push(ab.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
friends: []
};
return t.friends = e.friends?.map((e => ab.fromPartial(e))) || [], t;
}
};
var bb = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.entityId = hv.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t;
}
};
var _b = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.friendListNotification && Pb.encode(e.friendListNotification, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
friendListNotification: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.friendListNotification = Pb.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
friendListNotification: void 0
};
return t.friendListNotification = void 0 !== e.friendListNotification && null !== e.friendListNotification ? Pb.fromPartial(e.friendListNotification) : void 0, 
t;
}
};
var Pb = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.friend && ab.encode(e.friend, t.uint32(10).fork()).ldelim(), 
0 !== e.listUpdate && t.uint32(16).int32(e.listUpdate), void 0 !== e.updateTimestamp && Iv.encode(e.updateTimestamp, t.uint32(26).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
friend: void 0,
listUpdate: 0,
updateTimestamp: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.friend = ab.decode(n, n.uint32());
break;

case 2:
i.listUpdate = n.int32();
break;

case 3:
i.updateTimestamp = Iv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
friend: void 0,
listUpdate: 0,
updateTimestamp: void 0
};
return t.friend = void 0 !== e.friend && null !== e.friend ? ab.fromPartial(e.friend) : void 0, 
t.listUpdate = e.listUpdate ?? 0, t.updateTimestamp = void 0 !== e.updateTimestamp && null !== e.updateTimestamp ? Iv.fromPartial(e.updateTimestamp) : void 0, 
t;
}
}, Sb = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async SubscribeToFriendListNotifications(e) {
const t = new os;
return t.start = () => {
const n = this.grpcClient.makeServerStreamingRequest("/eadp.friends.v1.FriendListNotifications/SubscribeToFriendListNotifications", bb, _b, bb.fromPartial(e), this.grpcMetadata);
n.onError((e => t.error.trigger(e))), n.onEnd((() => t.end.trigger())), n.onData((e => {
t.data.trigger(e);
}));
}, {
stream: t,
response: {}
};
}
}, Tb = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async BatchVerifyFriends(e) {
const t = lb.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Friends/BatchVerifyFriends", lb, cb, t, this.grpcMetadata);
}
async DeleteFriend(e) {
const t = hb.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Friends/DeleteFriend", hb, gb, t, this.grpcMetadata);
}
async ListFriends(e) {
const t = ob.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Friends/ListFriends", ob, sb, t, this.grpcMetadata);
}
async ListMutualFriends(e) {
const t = Ib.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Friends/ListMutualFriends", Ib, vb, t, this.grpcMetadata);
}
async ListPlatformFriends(e) {
const t = ub.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.friends.v1.Friends/ListPlatformFriends", ub, mb, t, this.grpcMetadata);
}
};
var Eb = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetEntityId && hv.encode(e.targetEntityId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityId = hv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityId = void 0 !== e.targetEntityId && null !== e.targetEntityId ? hv.fromPartial(e.targetEntityId) : void 0, 
t;
}
};
var kb = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var Nb = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetEntityId && hv.encode(e.targetEntityId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityId = hv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityId: void 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityId = void 0 !== e.targetEntityId && null !== e.targetEntityId ? hv.fromPartial(e.targetEntityId) : void 0, 
t;
}
};
var Cb = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var Ob = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim();
for (const n of e.targetEntityIds) hv.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
targetEntityIds: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.targetEntityIds.push(hv.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
targetEntityIds: []
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.targetEntityIds = e.targetEntityIds?.map((e => hv.fromPartial(e))) || [], t;
}
};
var Ab = {
encode(e, t = rs.Writer.create()) {
for (const n of e.status) wb.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
status: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.status.push(wb.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
status: []
};
return t.status = e.status?.map((e => wb.fromPartial(e))) || [], t;
}
};
var wb = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
!0 === e.isMuted && t.uint32(16).bool(e.isMuted), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
isMuted: !1
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.isMuted = n.bool();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
isMuted: !1
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.isMuted = e.isMuted ?? !1, t;
}
};
var Lb = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entityId && hv.encode(e.entityId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), 0 !== e.view && t.uint32(24).int32(e.view), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entityId: void 0,
pageInfo: void 0,
view: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entityId = hv.decode(n, n.uint32());
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

case 3:
i.view = n.int32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entityId: void 0,
pageInfo: void 0,
view: 0
};
return t.entityId = void 0 !== e.entityId && null !== e.entityId ? hv.fromPartial(e.entityId) : void 0, 
t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t.view = e.view ?? 0, t;
}
};
var Rb = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.entity && gv.encode(e.entity, t.uint32(10).fork()).ldelim(), 
void 0 !== e.createTime && Iv.encode(e.createTime, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
entity: void 0,
createTime: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.entity = gv.decode(n, n.uint32());
break;

case 2:
i.createTime = Iv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
entity: void 0,
createTime: void 0
};
return t.entity = void 0 !== e.entity && null !== e.entity ? gv.fromPartial(e.entity) : void 0, 
t.createTime = void 0 !== e.createTime && null !== e.createTime ? Iv.fromPartial(e.createTime) : void 0, 
t;
}
};
var xb = {
encode(e, t = rs.Writer.create()) {
for (const n of e.mutedPlayers) Rb.encode(n, t.uint32(10).fork()).ldelim();
return void 0 !== e.pageInfo && yv.encode(e.pageInfo, t.uint32(18).fork()).ldelim(), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
mutedPlayers: [],
pageInfo: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.mutedPlayers.push(Rb.decode(n, n.uint32()));
break;

case 2:
i.pageInfo = yv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
mutedPlayers: [],
pageInfo: void 0
};
return t.mutedPlayers = e.mutedPlayers?.map((e => Rb.fromPartial(e))) || [], t.pageInfo = void 0 !== e.pageInfo && null !== e.pageInfo ? yv.fromPartial(e.pageInfo) : void 0, 
t;
}
}, Bb = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async BatchVerifyMutedPlayers(e) {
const t = Ob.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.privacy.v1.Mute/BatchVerifyMutedPlayers", Ob, Ab, t, this.grpcMetadata);
}
async ListMutedPlayers(e) {
const t = Lb.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.privacy.v1.Mute/ListMutedPlayers", Lb, xb, t, this.grpcMetadata);
}
async MutePlayer(e) {
const t = Eb.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.privacy.v1.Mute/MutePlayer", Eb, kb, t, this.grpcMetadata);
}
async UnmutePlayer(e) {
const t = Nb.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.privacy.v1.Mute/UnmutePlayer", Nb, Cb, t, this.grpcMetadata);
}
};
var Db = {
encode: (e, t = rs.Writer.create()) => ("" !== e.userId && t.uint32(10).string(e.userId), 
"" !== e.displayName && t.uint32(18).string(e.displayName), 0 !== e.state && t.uint32(24).int32(e.state), 
0 !== e.presenceStatus && t.uint32(32).int32(e.presenceStatus), "" !== e.personaId && t.uint32(42).string(e.personaId), 
"" !== e.name && t.uint32(50).string(e.name), "" !== e.presence && t.uint32(58).string(e.presence), 
"" !== e.avatar && t.uint32(66).string(e.avatar), "" !== e.group && t.uint32(74).string(e.group), 
"" !== e.groupId && t.uint32(82).string(e.groupId), "" !== e.title && t.uint32(90).string(e.title), 
"" !== e.titleId && t.uint32(98).string(e.titleId), !0 === e.joinableFlag && t.uint32(104).bool(e.joinableFlag), 
!0 === e.playingSameTitleFlag && t.uint32(112).bool(e.playingSameTitleFlag), !0 === e.favoriteFlag && t.uint32(120).bool(e.favoriteFlag), 
!0 === e.privacyFlag && t.uint32(128).bool(e.privacyFlag), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
userId: "",
displayName: "",
state: 0,
presenceStatus: 0,
personaId: "",
name: "",
presence: "",
avatar: "",
group: "",
groupId: "",
title: "",
titleId: "",
joinableFlag: !1,
playingSameTitleFlag: !1,
favoriteFlag: !1,
privacyFlag: !1
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.userId = n.string();
break;

case 2:
i.displayName = n.string();
break;

case 3:
i.state = n.int32();
break;

case 4:
i.presenceStatus = n.int32();
break;

case 5:
i.personaId = n.string();
break;

case 6:
i.name = n.string();
break;

case 7:
i.presence = n.string();
break;

case 8:
i.avatar = n.string();
break;

case 9:
i.group = n.string();
break;

case 10:
i.groupId = n.string();
break;

case 11:
i.title = n.string();
break;

case 12:
i.titleId = n.string();
break;

case 13:
i.joinableFlag = n.bool();
break;

case 14:
i.playingSameTitleFlag = n.bool();
break;

case 15:
i.favoriteFlag = n.bool();
break;

case 16:
i.privacyFlag = n.bool();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
userId: "",
displayName: "",
state: 0,
presenceStatus: 0,
personaId: "",
name: "",
presence: "",
avatar: "",
group: "",
groupId: "",
title: "",
titleId: "",
joinableFlag: !1,
playingSameTitleFlag: !1,
favoriteFlag: !1,
privacyFlag: !1
};
return t.userId = e.userId ?? "", t.displayName = e.displayName ?? "", t.state = e.state ?? 0, 
t.presenceStatus = e.presenceStatus ?? 0, t.personaId = e.personaId ?? "", t.name = e.name ?? "", 
t.presence = e.presence ?? "", t.avatar = e.avatar ?? "", t.group = e.group ?? "", 
t.groupId = e.groupId ?? "", t.title = e.title ?? "", t.titleId = e.titleId ?? "", 
t.joinableFlag = e.joinableFlag ?? !1, t.playingSameTitleFlag = e.playingSameTitleFlag ?? !1, 
t.favoriteFlag = e.favoriteFlag ?? !1, t.privacyFlag = e.privacyFlag ?? !1, t;
}
};
var Mb = {
encode: (e, t = rs.Writer.create()) => ("" !== e.name && t.uint32(10).string(e.name), 
"" !== e.displayName && t.uint32(18).string(e.displayName), "" !== e.userId && t.uint32(26).string(e.userId), 
"" !== e.personaId && t.uint32(34).string(e.personaId), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
name: "",
displayName: "",
userId: "",
personaId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.name = n.string();
break;

case 2:
i.displayName = n.string();
break;

case 3:
i.userId = n.string();
break;

case 4:
i.personaId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
name: "",
displayName: "",
userId: "",
personaId: ""
};
return t.name = e.name ?? "", t.displayName = e.displayName ?? "", t.userId = e.userId ?? "", 
t.personaId = e.personaId ?? "", t;
}
};
var Fb = {
encode: (e, t = rs.Writer.create()) => (0 !== e.userIndex && t.uint32(8).int64(e.userIndex), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
userIndex: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.userIndex = Number(n.int64()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
userIndex: 0
};
return t.userIndex = e.userIndex ?? 0, t;
}
};
var Ub = {
encode(e, t = rs.Writer.create()) {
for (const n of e.friendList) Db.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
friendList: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.friendList.push(Db.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
friendList: []
};
return t.friendList = e.friendList?.map((e => Db.fromPartial(e))) || [], t;
}
};
var Hb = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var Vb = {
encode(e, t = rs.Writer.create()) {
for (const n of e.blockedUsers) Mb.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
blockedUsers: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.blockedUsers.push(Mb.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
blockedUsers: []
};
return t.blockedUsers = e.blockedUsers?.map((e => Mb.fromPartial(e))) || [], t;
}
};
var Jb = {
encode: (e, t = rs.Writer.create()) => (0 !== e.userIndex && t.uint32(8).int64(e.userIndex), 
"" !== e.friendId && t.uint32(18).string(e.friendId), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
userIndex: 0,
friendId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.userIndex = Number(n.int64());
break;

case 2:
i.friendId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
userIndex: 0,
friendId: ""
};
return t.userIndex = e.userIndex ?? 0, t.friendId = e.friendId ?? "", t;
}
};
var zb = {
encode: (e, t = rs.Writer.create()) => (0 !== e.userIndex && t.uint32(8).int64(e.userIndex), 
"" !== e.friendId && t.uint32(18).string(e.friendId), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
userIndex: 0,
friendId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.userIndex = Number(n.int64());
break;

case 2:
i.friendId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
userIndex: 0,
friendId: ""
};
return t.userIndex = e.userIndex ?? 0, t.friendId = e.friendId ?? "", t;
}
};
var Gb = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var jb = {
encode: (e, t = rs.Writer.create()) => (0 !== e.userIndex && t.uint32(8).int64(e.userIndex), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
userIndex: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.userIndex = Number(n.int64()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
userIndex: 0
};
return t.userIndex = e.userIndex ?? 0, t;
}
};
var qb = {
encode(e, t = rs.Writer.create()) {
for (const n of e.addedFriends) Db.encode(n, t.uint32(10).fork()).ldelim();
for (const n of e.updatedFriends) Db.encode(n, t.uint32(18).fork()).ldelim();
for (const n of e.removedFriends) t.uint32(26).string(n);
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
addedFriends: [],
updatedFriends: [],
removedFriends: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.addedFriends.push(Db.decode(n, n.uint32()));
break;

case 2:
i.updatedFriends.push(Db.decode(n, n.uint32()));
break;

case 3:
i.removedFriends.push(n.string());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
addedFriends: [],
updatedFriends: [],
removedFriends: []
};
return t.addedFriends = e.addedFriends?.map((e => Db.fromPartial(e))) || [], t.updatedFriends = e.updatedFriends?.map((e => Db.fromPartial(e))) || [], 
t.removedFriends = e.removedFriends?.map((e => e)) || [], t;
}
};
var Wb = {
encode(e, t = rs.Writer.create()) {
for (const n of e.blockList) Mb.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
blockList: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.blockList.push(Mb.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
blockList: []
};
return t.blockList = e.blockList?.map((e => Mb.fromPartial(e))) || [], t;
}
};
var Yb = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.friendListUpdate && qb.encode(e.friendListUpdate, t.uint32(10).fork()).ldelim(), 
void 0 !== e.blockListUpdate && Wb.encode(e.blockListUpdate, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
friendListUpdate: void 0,
blockListUpdate: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.friendListUpdate = qb.decode(n, n.uint32());
break;

case 2:
i.blockListUpdate = Wb.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
friendListUpdate: void 0,
blockListUpdate: void 0
};
return t.friendListUpdate = void 0 !== e.friendListUpdate && null !== e.friendListUpdate ? qb.fromPartial(e.friendListUpdate) : void 0, 
t.blockListUpdate = void 0 !== e.blockListUpdate && null !== e.blockListUpdate ? Wb.fromPartial(e.blockListUpdate) : void 0, 
t;
}
};
var Kb = {
encode: (e, t = rs.Writer.create()) => (0 !== e.userIndex && t.uint32(8).int64(e.userIndex), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
userIndex: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.userIndex = Number(n.int64()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
userIndex: 0
};
return t.userIndex = e.userIndex ?? 0, t;
}
};
var Xb = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
}, Qb = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t, this.onBlockListUpdated = new as, this.onFriendListUpdated = new as;
}
async addBlock() {
throw new Error("Not implemented");
}
async addFriend(e) {
const t = Jb.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/native.platform.PlatformFriendsService/addFriend", Jb, Jb, t, this.grpcMetadata);
}
async getBlockList(e) {
const t = Hb.fromPartial(e);
return {
blockList: (await this.grpcClient.makeUnaryRequest("/native.platform.PlatformFriendsService/getBlockList", Hb, Vb, t, this.grpcMetadata)).blockedUsers
};
}
async getFriendList(e) {
const t = Fb.fromPartial(e);
return await this.grpcClient.makeUnaryRequest("/native.platform.PlatformFriendsService/getFriendList", Fb, Ub, t, this.grpcMetadata);
}
async getState() {
throw new Error("Not implemented");
}
async removeBlock() {
throw new Error("Not implemented");
}
async removeFriend(e) {
const t = zb.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/native.platform.PlatformFriendsService/removeFriend", zb, Gb, t, this.grpcMetadata);
}
async startListener(e) {
const t = jb.fromPartial(e), n = this.grpcClient.makeServerStreamingRequest("/native.platform.PlatformFriendsService/startListener", jb, Yb, t, this.grpcMetadata);
return n.onError((e => {
console.error(e);
})), n.onData((e => {
e.friendListUpdate && this.onFriendListUpdated.trigger({
friendListEvent: e.friendListUpdate
}), e.blockListUpdate && this.onBlockListUpdated.trigger({
blockListEvent: e.blockListUpdate
});
})), {};
}
async stopListener(e) {
const t = Kb.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/native.platform.PlatformFriendsService/stopListener", Kb, Xb, t, this.grpcMetadata);
}
};
var $b = {
encode: (e, t = rs.Writer.create()) => ("" !== e.id && t.uint32(10).string(e.id), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
id: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.id = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
id: ""
};
return t.id = e.id ?? "", t;
}
};
var Zb = {
encode: (e, t = rs.Writer.create()) => ("" !== e.id && t.uint32(10).string(e.id), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
id: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.id = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
id: ""
};
return t.id = e.id ?? "", t;
}
};
function e_() {
return {
token: new Uint8Array
};
}
var t_ = {
encode: (e, t = rs.Writer.create()) => (0 !== e.token.length && t.uint32(10).bytes(e.token), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = e_();
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.token = n.bytes(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = e_();
return t.token = e.token ?? new Uint8Array, t;
}
};
var n_ = {
encode: (e, t = rs.Writer.create()) => (0 !== e.seconds && t.uint32(8).int64(e.seconds), 
0 !== e.nanos && t.uint32(16).int32(e.nanos), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
seconds: 0,
nanos: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.seconds = Number(n.int64());
break;

case 2:
i.nanos = n.int32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
seconds: 0,
nanos: 0
};
return t.seconds = e.seconds ?? 0, t.nanos = e.nanos ?? 0, t;
}
};
var r_ = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.playerId && fv.encode(e.playerId, t.uint32(10).fork()).ldelim(), void 0 !== e.targetPlayerId && fv.encode(e.targetPlayerId, t.uint32(18).fork()).ldelim();
for (const n of e.targetPlayerNetworkId) bv.encode(n, t.uint32(66).fork()).ldelim();
for (const n of e.targetDevicePlatformId) $b.encode(n, t.uint32(74).fork()).ldelim();
void 0 !== e.senderPlayerNetworkId && bv.encode(e.senderPlayerNetworkId, t.uint32(26).fork()).ldelim(), 
void 0 !== e.senderDevicePlatformId && $b.encode(e.senderDevicePlatformId, t.uint32(58).fork()).ldelim(), 
void 0 !== e.senderProductId && Zb.encode(e.senderProductId, t.uint32(34).fork()).ldelim();
for (const n of e.gameJoinTokenTypes) t.uint32(42).string(n);
return Object.entries(e.properties).forEach((([e, n]) => {
i_.encode({
key: e,
value: n
}, t.uint32(50).fork()).ldelim();
})), t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: void 0,
targetPlayerId: void 0,
targetPlayerNetworkId: [],
targetDevicePlatformId: [],
senderPlayerNetworkId: void 0,
senderDevicePlatformId: void 0,
senderProductId: void 0,
gameJoinTokenTypes: [],
properties: {}
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = fv.decode(n, n.uint32());
break;

case 2:
i.targetPlayerId = fv.decode(n, n.uint32());
break;

case 8:
i.targetPlayerNetworkId.push(bv.decode(n, n.uint32()));
break;

case 9:
i.targetDevicePlatformId.push($b.decode(n, n.uint32()));
break;

case 3:
i.senderPlayerNetworkId = bv.decode(n, n.uint32());
break;

case 7:
i.senderDevicePlatformId = $b.decode(n, n.uint32());
break;

case 4:
i.senderProductId = Zb.decode(n, n.uint32());
break;

case 5:
i.gameJoinTokenTypes.push(n.string());
break;

case 6:
const t = i_.decode(n, n.uint32());
void 0 !== t.value && (i.properties[t.key] = t.value);
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: void 0,
targetPlayerId: void 0,
targetPlayerNetworkId: [],
targetDevicePlatformId: [],
senderPlayerNetworkId: void 0,
senderDevicePlatformId: void 0,
senderProductId: void 0,
gameJoinTokenTypes: [],
properties: {}
};
return t.playerId = void 0 !== e.playerId && null !== e.playerId ? fv.fromPartial(e.playerId) : void 0, 
t.targetPlayerId = void 0 !== e.targetPlayerId && null !== e.targetPlayerId ? fv.fromPartial(e.targetPlayerId) : void 0, 
t.targetPlayerNetworkId = e.targetPlayerNetworkId?.map((e => bv.fromPartial(e))) || [], 
t.targetDevicePlatformId = e.targetDevicePlatformId?.map((e => $b.fromPartial(e))) || [], 
t.senderPlayerNetworkId = void 0 !== e.senderPlayerNetworkId && null !== e.senderPlayerNetworkId ? bv.fromPartial(e.senderPlayerNetworkId) : void 0, 
t.senderDevicePlatformId = void 0 !== e.senderDevicePlatformId && null !== e.senderDevicePlatformId ? $b.fromPartial(e.senderDevicePlatformId) : void 0, 
t.senderProductId = void 0 !== e.senderProductId && null !== e.senderProductId ? Zb.fromPartial(e.senderProductId) : void 0, 
t.gameJoinTokenTypes = e.gameJoinTokenTypes?.map((e => e)) || [], t.properties = Object.entries(e.properties ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = b_.fromPartial(n)), 
e)), {}), t;
}
};
var i_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
void 0 !== e.value && b_.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = b_.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: void 0
};
return t.key = e.key ?? "", t.value = void 0 !== e.value && null !== e.value ? b_.fromPartial(e.value) : void 0, 
t;
}
};
var a_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var o_ = {
encode(e, t = rs.Writer.create()) {
"" !== e.gameInviteId && t.uint32(10).string(e.gameInviteId), void 0 !== e.senderPlayerId && fv.encode(e.senderPlayerId, t.uint32(18).fork()).ldelim(), 
void 0 !== e.senderPlayerNetworkId && bv.encode(e.senderPlayerNetworkId, t.uint32(26).fork()).ldelim(), 
void 0 !== e.senderDevicePlatformId && $b.encode(e.senderDevicePlatformId, t.uint32(90).fork()).ldelim(), 
void 0 !== e.senderProductId && Zb.encode(e.senderProductId, t.uint32(34).fork()).ldelim();
for (const n of e.targetPlayerNetworkId) bv.encode(n, t.uint32(98).fork()).ldelim();
for (const n of e.targetDevicePlatformId) $b.encode(n, t.uint32(106).fork()).ldelim();
void 0 !== e.createdTimestamp && Iv.encode(e.createdTimestamp, t.uint32(42).fork()).ldelim(), 
void 0 !== e.expiryTimestamp && Iv.encode(e.expiryTimestamp, t.uint32(50).fork()).ldelim(), 
void 0 !== e.purgeTimestamp && Iv.encode(e.purgeTimestamp, t.uint32(58).fork()).ldelim();
for (const n of e.gameJoinTokenTypes) t.uint32(66).string(n);
return void 0 !== e.revokeTimestamp && Iv.encode(e.revokeTimestamp, t.uint32(74).fork()).ldelim(), 
Object.entries(e.properties).forEach((([e, n]) => {
s_.encode({
key: e,
value: n
}, t.uint32(82).fork()).ldelim();
})), t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
gameInviteId: "",
senderPlayerId: void 0,
senderPlayerNetworkId: void 0,
senderDevicePlatformId: void 0,
senderProductId: void 0,
targetPlayerNetworkId: [],
targetDevicePlatformId: [],
createdTimestamp: void 0,
expiryTimestamp: void 0,
purgeTimestamp: void 0,
gameJoinTokenTypes: [],
revokeTimestamp: void 0,
properties: {}
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.gameInviteId = n.string();
break;

case 2:
i.senderPlayerId = fv.decode(n, n.uint32());
break;

case 3:
i.senderPlayerNetworkId = bv.decode(n, n.uint32());
break;

case 11:
i.senderDevicePlatformId = $b.decode(n, n.uint32());
break;

case 4:
i.senderProductId = Zb.decode(n, n.uint32());
break;

case 12:
i.targetPlayerNetworkId.push(bv.decode(n, n.uint32()));
break;

case 13:
i.targetDevicePlatformId.push($b.decode(n, n.uint32()));
break;

case 5:
i.createdTimestamp = Iv.decode(n, n.uint32());
break;

case 6:
i.expiryTimestamp = Iv.decode(n, n.uint32());
break;

case 7:
i.purgeTimestamp = Iv.decode(n, n.uint32());
break;

case 8:
i.gameJoinTokenTypes.push(n.string());
break;

case 9:
i.revokeTimestamp = Iv.decode(n, n.uint32());
break;

case 10:
const t = s_.decode(n, n.uint32());
void 0 !== t.value && (i.properties[t.key] = t.value);
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
gameInviteId: "",
senderPlayerId: void 0,
senderPlayerNetworkId: void 0,
senderDevicePlatformId: void 0,
senderProductId: void 0,
targetPlayerNetworkId: [],
targetDevicePlatformId: [],
createdTimestamp: void 0,
expiryTimestamp: void 0,
purgeTimestamp: void 0,
gameJoinTokenTypes: [],
revokeTimestamp: void 0,
properties: {}
};
return t.gameInviteId = e.gameInviteId ?? "", t.senderPlayerId = void 0 !== e.senderPlayerId && null !== e.senderPlayerId ? fv.fromPartial(e.senderPlayerId) : void 0, 
t.senderPlayerNetworkId = void 0 !== e.senderPlayerNetworkId && null !== e.senderPlayerNetworkId ? bv.fromPartial(e.senderPlayerNetworkId) : void 0, 
t.senderDevicePlatformId = void 0 !== e.senderDevicePlatformId && null !== e.senderDevicePlatformId ? $b.fromPartial(e.senderDevicePlatformId) : void 0, 
t.senderProductId = void 0 !== e.senderProductId && null !== e.senderProductId ? Zb.fromPartial(e.senderProductId) : void 0, 
t.targetPlayerNetworkId = e.targetPlayerNetworkId?.map((e => bv.fromPartial(e))) || [], 
t.targetDevicePlatformId = e.targetDevicePlatformId?.map((e => $b.fromPartial(e))) || [], 
t.createdTimestamp = void 0 !== e.createdTimestamp && null !== e.createdTimestamp ? Iv.fromPartial(e.createdTimestamp) : void 0, 
t.expiryTimestamp = void 0 !== e.expiryTimestamp && null !== e.expiryTimestamp ? Iv.fromPartial(e.expiryTimestamp) : void 0, 
t.purgeTimestamp = void 0 !== e.purgeTimestamp && null !== e.purgeTimestamp ? Iv.fromPartial(e.purgeTimestamp) : void 0, 
t.gameJoinTokenTypes = e.gameJoinTokenTypes?.map((e => e)) || [], t.revokeTimestamp = void 0 !== e.revokeTimestamp && null !== e.revokeTimestamp ? Iv.fromPartial(e.revokeTimestamp) : void 0, 
t.properties = Object.entries(e.properties ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = b_.fromPartial(n)), 
e)), {}), t;
}
};
var s_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
void 0 !== e.value && b_.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = b_.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: void 0
};
return t.key = e.key ?? "", t.value = void 0 !== e.value && null !== e.value ? b_.fromPartial(e.value) : void 0, 
t;
}
};
var l_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.playerId && fv.encode(e.playerId, t.uint32(10).fork()).ldelim(), 
"" !== e.gameInviteId && t.uint32(18).string(e.gameInviteId), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: void 0,
gameInviteId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = fv.decode(n, n.uint32());
break;

case 2:
i.gameInviteId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: void 0,
gameInviteId: ""
};
return t.playerId = void 0 !== e.playerId && null !== e.playerId ? fv.fromPartial(e.playerId) : void 0, 
t.gameInviteId = e.gameInviteId ?? "", t;
}
};
var c_ = {
encode: (e, t = rs.Writer.create()) => (Object.entries(e.gameJoinTokens).forEach((([e, n]) => {
d_.encode({
key: e,
value: n
}, t.uint32(10).fork()).ldelim();
})), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
gameJoinTokens: {}
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) {
const e = d_.decode(n, n.uint32());
void 0 !== e.value && (i.gameJoinTokens[e.key] = e.value);
} else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
gameJoinTokens: {}
};
return t.gameJoinTokens = Object.entries(e.gameJoinTokens ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = t_.fromPartial(n)), 
e)), {}), t;
}
};
var d_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
void 0 !== e.value && t_.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = t_.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: void 0
};
return t.key = e.key ?? "", t.value = void 0 !== e.value && null !== e.value ? t_.fromPartial(e.value) : void 0, 
t;
}
};
var u_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.playerId && fv.encode(e.playerId, t.uint32(10).fork()).ldelim(), 
"" !== e.gameInviteId && t.uint32(18).string(e.gameInviteId), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: void 0,
gameInviteId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = fv.decode(n, n.uint32());
break;

case 2:
i.gameInviteId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: void 0,
gameInviteId: ""
};
return t.playerId = void 0 !== e.playerId && null !== e.playerId ? fv.fromPartial(e.playerId) : void 0, 
t.gameInviteId = e.gameInviteId ?? "", t;
}
};
var p_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var f_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.playerId && fv.encode(e.playerId, t.uint32(10).fork()).ldelim(), 
"" !== e.gameInviteId && t.uint32(18).string(e.gameInviteId), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: void 0,
gameInviteId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = fv.decode(n, n.uint32());
break;

case 2:
i.gameInviteId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: void 0,
gameInviteId: ""
};
return t.playerId = void 0 !== e.playerId && null !== e.playerId ? fv.fromPartial(e.playerId) : void 0, 
t.gameInviteId = e.gameInviteId ?? "", t;
}
};
var m_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var y_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.senderPlayerId && fv.encode(e.senderPlayerId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.senderPlayerNetworkId && bv.encode(e.senderPlayerNetworkId, t.uint32(18).fork()).ldelim(), 
void 0 !== e.senderProductId && Zb.encode(e.senderProductId, t.uint32(26).fork()).ldelim(), 
"" !== e.containedGameJoinTokenType && t.uint32(34).string(e.containedGameJoinTokenType), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
senderPlayerId: void 0,
senderPlayerNetworkId: void 0,
senderProductId: void 0,
containedGameJoinTokenType: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.senderPlayerId = fv.decode(n, n.uint32());
break;

case 2:
i.senderPlayerNetworkId = bv.decode(n, n.uint32());
break;

case 3:
i.senderProductId = Zb.decode(n, n.uint32());
break;

case 4:
i.containedGameJoinTokenType = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
senderPlayerId: void 0,
senderPlayerNetworkId: void 0,
senderProductId: void 0,
containedGameJoinTokenType: ""
};
return t.senderPlayerId = void 0 !== e.senderPlayerId && null !== e.senderPlayerId ? fv.fromPartial(e.senderPlayerId) : void 0, 
t.senderPlayerNetworkId = void 0 !== e.senderPlayerNetworkId && null !== e.senderPlayerNetworkId ? bv.fromPartial(e.senderPlayerNetworkId) : void 0, 
t.senderProductId = void 0 !== e.senderProductId && null !== e.senderProductId ? Zb.fromPartial(e.senderProductId) : void 0, 
t.containedGameJoinTokenType = e.containedGameJoinTokenType ?? "", t;
}
};
var h_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var g_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.gameInvite && o_.encode(e.gameInvite, t.uint32(10).fork()).ldelim(), 
0 !== e.gameInviteNotificationType && t.uint32(16).int32(e.gameInviteNotificationType), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
gameInvite: void 0,
gameInviteNotificationType: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.gameInvite = o_.decode(n, n.uint32());
break;

case 2:
i.gameInviteNotificationType = n.int32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
gameInvite: void 0,
gameInviteNotificationType: 0
};
return t.gameInvite = void 0 !== e.gameInvite && null !== e.gameInvite ? o_.fromPartial(e.gameInvite) : void 0, 
t.gameInviteNotificationType = e.gameInviteNotificationType ?? 0, t;
}
};
var I_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.playerId && fv.encode(e.playerId, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.playerId = fv.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
playerId: void 0
};
return t.playerId = void 0 !== e.playerId && null !== e.playerId ? fv.fromPartial(e.playerId) : void 0, 
t;
}
};
var v_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.gameInviteNotification && g_.encode(e.gameInviteNotification, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
gameInviteNotification: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.gameInviteNotification = g_.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
gameInviteNotification: void 0
};
return t.gameInviteNotification = void 0 !== e.gameInviteNotification && null !== e.gameInviteNotification ? g_.fromPartial(e.gameInviteNotification) : void 0, 
t;
}
};
var b_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.stringValue && t.uint32(10).string(e.stringValue), 
void 0 !== e.integerValue && t.uint32(24).int64(e.integerValue), void 0 !== e.floatValue && t.uint32(33).double(e.floatValue), 
void 0 !== e.timestampValue && Iv.encode(e.timestampValue, t.uint32(42).fork()).ldelim(), 
void 0 !== e.durationValue && n_.encode(e.durationValue, t.uint32(50).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
stringValue: void 0,
integerValue: void 0,
floatValue: void 0,
timestampValue: void 0,
durationValue: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.stringValue = n.string();
break;

case 3:
i.integerValue = Number(n.int64());
break;

case 4:
i.floatValue = n.double();
break;

case 5:
i.timestampValue = Iv.decode(n, n.uint32());
break;

case 6:
i.durationValue = n_.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
stringValue: void 0,
integerValue: void 0,
floatValue: void 0,
timestampValue: void 0,
durationValue: void 0
};
return t.stringValue = e.stringValue ?? void 0, t.integerValue = e.integerValue ?? void 0, 
t.floatValue = e.floatValue ?? void 0, t.timestampValue = void 0 !== e.timestampValue && null !== e.timestampValue ? Iv.fromPartial(e.timestampValue) : void 0, 
t.durationValue = void 0 !== e.durationValue && null !== e.durationValue ? n_.fromPartial(e.durationValue) : void 0, 
t;
}
}, __ = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t, this.onCacheGameInvitesLimitReached = new as;
}
async SendGameInvite(e) {
const t = r_.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.gameinvite.v1.GameInviteService/SendGameInvite", r_, a_, t, this.grpcMetadata);
}
async GetGameJoinTokens(e) {
const t = l_.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.gameinvite.v1.GameInviteService/GetGameJoinTokens", l_, c_, t, this.grpcMetadata);
}
async AcceptGameInvite(e) {
const t = u_.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.gameinvite.v1.GameInviteService/AcceptGameInvite", u_, p_, t, this.grpcMetadata);
}
async RejectGameInvite(e) {
const t = f_.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.gameinvite.v1.GameInviteService/RejectGameInvite", f_, m_, t, this.grpcMetadata);
}
async RevokeGameInvites(e) {
const t = y_.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.social.gameinvite.v1.GameInviteService/RevokeGameInvites", y_, h_, t, this.grpcMetadata);
}
async SubscribeToReceivedGameInviteNotifications(e) {
const t = I_.fromPartial(e), n = new os;
return n.start = () => {
const e = this.grpcClient.makeServerStreamingRequest("/eadp.social.gameinvite.v1.GameInviteService/SubscribeToReceivedGameInviteNotifications", I_, v_, t, this.grpcMetadata);
e.onError((e => n.error.trigger(e))), e.onEnd((() => n.end.trigger())), e.onData((e => {
n.data.trigger(e);
}));
}, {
stream: n,
response: {}
};
}
async GetReceivedGameInvites() {
throw Error("Not implemented");
}
enableCacheGameInvites() {
throw Error("Not implemented");
}
disableCacheGameInvites() {
throw Error("Not implemented");
}
setCacheGameInvitesLimit() {
throw Error("Not implemented");
}
getCacheGameInvitesKeys() {
throw Error("Not implemented");
}
getCacheGameInvitesValue() {
throw Error("Not implemented");
}
};
var P_ = {
encode(e, t = rs.Writer.create()) {
"" !== e.lobbyId && t.uint32(18).string(e.lobbyId);
for (const n of e.members) S_.encode(n, t.uint32(42).fork()).ldelim();
return 0 !== e.maxSize && t.uint32(48).uint32(e.maxSize), !0 === e.joinable && t.uint32(56).bool(e.joinable), 
!0 === e.crossPlayEnabled && t.uint32(64).bool(e.crossPlayEnabled), "" !== e.telemetryType && t.uint32(74).string(e.telemetryType), 
!0 === e.invitable && t.uint32(80).bool(e.invitable), t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
lobbyId: "",
members: [],
maxSize: 0,
joinable: !1,
crossPlayEnabled: !1,
telemetryType: "",
invitable: !1
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 2:
i.lobbyId = n.string();
break;

case 5:
i.members.push(S_.decode(n, n.uint32()));
break;

case 6:
i.maxSize = n.uint32();
break;

case 7:
i.joinable = n.bool();
break;

case 8:
i.crossPlayEnabled = n.bool();
break;

case 9:
i.telemetryType = n.string();
break;

case 10:
i.invitable = n.bool();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
lobbyId: "",
members: [],
maxSize: 0,
joinable: !1,
crossPlayEnabled: !1,
telemetryType: "",
invitable: !1
};
return t.lobbyId = e.lobbyId ?? "", t.members = e.members?.map((e => S_.fromPartial(e))) || [], 
t.maxSize = e.maxSize ?? 0, t.joinable = e.joinable ?? !1, t.crossPlayEnabled = e.crossPlayEnabled ?? !1, 
t.telemetryType = e.telemetryType ?? "", t.invitable = e.invitable ?? !1, t;
}
};
var S_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
"" !== e.playerNetworkId && t.uint32(18).string(e.playerNetworkId), "" !== e.displayName && t.uint32(26).string(e.displayName), 
0 !== e.joinTimestampMs && t.uint32(32).uint64(e.joinTimestampMs), "" !== e.personaId && t.uint32(42).string(e.personaId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: "",
playerNetworkId: "",
displayName: "",
joinTimestampMs: 0,
personaId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = n.string();
break;

case 2:
i.playerNetworkId = n.string();
break;

case 3:
i.displayName = n.string();
break;

case 4:
i.joinTimestampMs = Number(n.uint64());
break;

case 5:
i.personaId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: "",
playerNetworkId: "",
displayName: "",
joinTimestampMs: 0,
personaId: ""
};
return t.playerId = e.playerId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", 
t.displayName = e.displayName ?? "", t.joinTimestampMs = e.joinTimestampMs ?? 0, 
t.personaId = e.personaId ?? "", t;
}
};
var T_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.lobbyId && t.uint32(10).string(e.lobbyId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
lobbyId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.lobbyId = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
lobbyId: ""
};
return t.lobbyId = e.lobbyId ?? "", t;
}
};
var E_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.lobby && P_.encode(e.lobby, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
lobby: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.lobby = P_.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
lobby: void 0
};
return t.lobby = void 0 !== e.lobby && null !== e.lobby ? P_.fromPartial(e.lobby) : void 0, 
t;
}
};
var k_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var N_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.lobby && P_.encode(e.lobby, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
lobby: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.lobby = P_.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
lobby: void 0
};
return t.lobby = void 0 !== e.lobby && null !== e.lobby ? P_.fromPartial(e.lobby) : void 0, 
t;
}
};
var C_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var O_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.lobby && P_.encode(e.lobby, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
lobby: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.lobby = P_.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
lobby: void 0
};
return t.lobby = void 0 !== e.lobby && null !== e.lobby ? P_.fromPartial(e.lobby) : void 0, 
t;
}
};
var A_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var w_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.lobbyId && t.uint32(10).string(e.lobbyId), 
"" !== e.playerId && t.uint32(18).string(e.playerId), "" !== e.playerNetworkId && t.uint32(26).string(e.playerNetworkId), 
"" !== e.personaId && t.uint32(34).string(e.personaId), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
lobbyId: "",
playerId: "",
playerNetworkId: "",
personaId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.lobbyId = n.string();
break;

case 2:
i.playerId = n.string();
break;

case 3:
i.playerNetworkId = n.string();
break;

case 4:
i.personaId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
lobbyId: "",
playerId: "",
playerNetworkId: "",
personaId: ""
};
return t.lobbyId = e.lobbyId ?? "", t.playerId = e.playerId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", 
t.personaId = e.personaId ?? "", t;
}
};
var L_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var R_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.lobbyId && t.uint32(10).string(e.lobbyId), 
void 0 !== e.member && S_.encode(e.member, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
lobbyId: "",
member: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.lobbyId = n.string();
break;

case 2:
i.member = S_.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
lobbyId: "",
member: void 0
};
return t.lobbyId = e.lobbyId ?? "", t.member = void 0 !== e.member && null !== e.member ? S_.fromPartial(e.member) : void 0, 
t;
}
};
var x_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
"" !== e.playerNetworkId && t.uint32(18).string(e.playerNetworkId), "" !== e.personaId && t.uint32(26).string(e.personaId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: "",
playerNetworkId: "",
personaId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = n.string();
break;

case 2:
i.playerNetworkId = n.string();
break;

case 3:
i.personaId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: "",
playerNetworkId: "",
personaId: ""
};
return t.playerId = e.playerId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", 
t.personaId = e.personaId ?? "", t;
}
};
var B_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
"" !== e.playerNetworkId && t.uint32(18).string(e.playerNetworkId), "" !== e.reason && t.uint32(26).string(e.reason), 
"" !== e.personaId && t.uint32(34).string(e.personaId), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: "",
playerNetworkId: "",
reason: "",
personaId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = n.string();
break;

case 2:
i.playerNetworkId = n.string();
break;

case 3:
i.reason = n.string();
break;

case 4:
i.personaId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: "",
playerNetworkId: "",
reason: "",
personaId: ""
};
return t.playerId = e.playerId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", 
t.reason = e.reason ?? "", t.personaId = e.personaId ?? "", t;
}
};
var D_ = {
encode(e, t = rs.Writer.create()) {
for (const n of e.players) x_.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
players: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.players.push(x_.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
players: []
};
return t.players = e.players?.map((e => x_.fromPartial(e))) || [], t;
}
};
var M_ = {
encode(e, t = rs.Writer.create()) {
for (const n of e.uninvitablePlayers) B_.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
uninvitablePlayers: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.uninvitablePlayers.push(B_.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
uninvitablePlayers: []
};
return t.uninvitablePlayers = e.uninvitablePlayers?.map((e => B_.fromPartial(e))) || [], 
t;
}
};
var F_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var U_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.fromPlayerId && t.uint32(10).string(e.fromPlayerId), 
"" !== e.fromPlayerNetworkId && t.uint32(18).string(e.fromPlayerNetworkId), "" !== e.fromPersonaId && t.uint32(26).string(e.fromPersonaId), 
"" !== e.fromFirstPartyUid && t.uint32(34).string(e.fromFirstPartyUid), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
fromPlayerId: "",
fromPlayerNetworkId: "",
fromPersonaId: "",
fromFirstPartyUid: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.fromPlayerId = n.string();
break;

case 2:
i.fromPlayerNetworkId = n.string();
break;

case 3:
i.fromPersonaId = n.string();
break;

case 4:
i.fromFirstPartyUid = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
fromPlayerId: "",
fromPlayerNetworkId: "",
fromPersonaId: "",
fromFirstPartyUid: ""
};
return t.fromPlayerId = e.fromPlayerId ?? "", t.fromPlayerNetworkId = e.fromPlayerNetworkId ?? "", 
t.fromPersonaId = e.fromPersonaId ?? "", t.fromFirstPartyUid = e.fromFirstPartyUid ?? "", 
t;
}
};
function H_(e) {
let t;
const n = e.error.subscribe((() => {
clearTimeout(t), t = setTimeout((() => {
e.start();
}), 5e3);
}));
return () => {
clearTimeout(t), n();
};
}
var V_ = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t, this.onLobbyChanged = new as, this.onMemberLeft = new as, 
this.onMemberJoined = new as, this.onSendEaInvite = new as, this.onFirstPartyInviteAccepted = new as, 
this.onUninvitablePlayersChanged = new as, Promise.all([ this.subscribeToLobbyChanged(), this.subscribeToMemberLeft(), this.subscribeToMemberJoined(), this.subscribeToUninvitablePlayersChanged(), this.subscribeToFirstPartyInvitedAcceptedStream() ]);
}
async subscribeToLobbyChanged() {
const e = await this.createLobbyChangedStream(), t = e.data.subscribe((e => {
this.onLobbyChanged.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
async subscribeToMemberLeft() {
const e = await this.createMemberLeftStream(), t = e.data.subscribe((e => {
this.onMemberLeft.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
async subscribeToMemberJoined() {
const e = await this.createMemberJoinedStream(), t = e.data.subscribe((e => {
this.onMemberJoined.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
async subscribeToUninvitablePlayersChanged() {
const e = await this.createUninvitablePlayersChangedStream(), t = e.data.subscribe((e => {
this.onUninvitablePlayersChanged.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
async subscribeToFirstPartyInvitedAcceptedStream() {
const e = await this.createFirstPartyInvitedAcceptedStream(), t = e.data.subscribe((e => {
this.onFirstPartyInviteAccepted.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
createLobbyChangedStream() {
const e = new os;
return e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.LobbyService/subscribeToLobbyChanged", C_, O_, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(t);
}));
}, e;
}
createMemberLeftStream() {
const e = new os;
return e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.LobbyService/subscribeToMemberLeft", A_, w_, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(t);
}));
}, e;
}
createMemberJoinedStream() {
const e = new os;
return e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.LobbyService/subscribeToMemberJoined", L_, R_, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(t);
}));
}, e;
}
createUninvitablePlayersChangedStream() {
const e = new os;
return e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.LobbyService/subscribeToUninvitablePlayersChanged", C_, O_, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(t);
}));
}, e;
}
createFirstPartyInvitedAcceptedStream() {
const e = new os;
return e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.LobbyService/subscribeToFirstPartyInviteAcceptedChanged", F_, U_, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(t);
}));
}, e;
}
async getLobby(e) {
return this.grpcClient.makeUnaryRequest("/native.game.LobbyService/getLobby", k_, N_, e, this.grpcMetadata);
}
async filterUninvitablePlayers(e) {
return {
uninvitablePlayers: (await this.grpcClient.makeUnaryRequest("/native.game.LobbyService/filterUninvitablePlayers", D_, M_, e, this.grpcMetadata)).uninvitablePlayers.map((e => ({
...e,
reason: e.reason ? e.reason : void 0
})))
};
}
async prepareInvite(e) {
return Promise.resolve({
firstPartyInviteSent: !1,
sendEaInvite: !0,
success: !0
});
}
async sendEaInviteResponse(e) {
return Promise.resolve({});
}
async joinLobby(e) {
return this.grpcClient.makeUnaryRequest("/native.game.LobbyService/joinLobby", T_, E_, e, this.grpcMetadata);
}
};
var J_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.localizedName && t.uint32(10).string(e.localizedName), 
"" !== e.telemetryName && t.uint32(18).string(e.telemetryName), 0 !== e.playerActionId && t.uint32(24).uint32(e.playerActionId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
localizedName: "",
telemetryName: "",
playerActionId: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.localizedName = n.string();
break;

case 2:
i.telemetryName = n.string();
break;

case 3:
i.playerActionId = n.uint32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
localizedName: "",
telemetryName: "",
playerActionId: 0
};
return t.localizedName = e.localizedName ?? "", t.telemetryName = e.telemetryName ?? "", 
t.playerActionId = e.playerActionId ?? 0, t;
}
};
var z_ = {
encode(e, t = rs.Writer.create()) {
"" !== e.partyId && t.uint32(10).string(e.partyId), void 0 !== e.partyLeader && j_.encode(e.partyLeader, t.uint32(18).fork()).ldelim();
for (const n of e.members) G_.encode(n, t.uint32(34).fork()).ldelim();
return 0 !== e.maxSize && t.uint32(40).int32(e.maxSize), !0 === e.promotionEnabled && t.uint32(48).bool(e.promotionEnabled), 
!0 === e.crossPlayEnabled && t.uint32(56).bool(e.crossPlayEnabled), !0 === e.joinable && t.uint32(64).bool(e.joinable), 
!0 === e.invitable && t.uint32(72).bool(e.invitable), void 0 !== e.localizedPartyTitle && t.uint32(82).string(e.localizedPartyTitle), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
partyId: "",
partyLeader: void 0,
members: [],
maxSize: 0,
promotionEnabled: !1,
crossPlayEnabled: !1,
joinable: !1,
invitable: !1,
localizedPartyTitle: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.partyId = n.string();
break;

case 2:
i.partyLeader = j_.decode(n, n.uint32());
break;

case 4:
i.members.push(G_.decode(n, n.uint32()));
break;

case 5:
i.maxSize = n.int32();
break;

case 6:
i.promotionEnabled = n.bool();
break;

case 7:
i.crossPlayEnabled = n.bool();
break;

case 8:
i.joinable = n.bool();
break;

case 9:
i.invitable = n.bool();
break;

case 10:
i.localizedPartyTitle = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
partyId: "",
partyLeader: void 0,
members: [],
maxSize: 0,
promotionEnabled: !1,
crossPlayEnabled: !1,
joinable: !1,
invitable: !1,
localizedPartyTitle: void 0
};
return t.partyId = e.partyId ?? "", t.partyLeader = void 0 !== e.partyLeader && null !== e.partyLeader ? j_.fromPartial(e.partyLeader) : void 0, 
t.members = e.members?.map((e => G_.fromPartial(e))) || [], t.maxSize = e.maxSize ?? 0, 
t.promotionEnabled = e.promotionEnabled ?? !1, t.crossPlayEnabled = e.crossPlayEnabled ?? !1, 
t.joinable = e.joinable ?? !1, t.invitable = e.invitable ?? !1, t.localizedPartyTitle = e.localizedPartyTitle ?? void 0, 
t;
}
};
var G_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
"" !== e.playerNetworkId && t.uint32(18).string(e.playerNetworkId), "" !== e.displayName && t.uint32(26).string(e.displayName), 
0 !== e.joinTimestampMs && t.uint32(32).uint64(e.joinTimestampMs), "" !== e.personaId && t.uint32(42).string(e.personaId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: "",
playerNetworkId: "",
displayName: "",
joinTimestampMs: 0,
personaId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = n.string();
break;

case 2:
i.playerNetworkId = n.string();
break;

case 3:
i.displayName = n.string();
break;

case 4:
i.joinTimestampMs = Number(n.uint64());
break;

case 5:
i.personaId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: "",
playerNetworkId: "",
displayName: "",
joinTimestampMs: 0,
personaId: ""
};
return t.playerId = e.playerId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", 
t.displayName = e.displayName ?? "", t.joinTimestampMs = e.joinTimestampMs ?? 0, 
t.personaId = e.personaId ?? "", t;
}
};
var j_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
"" !== e.playerNetworkId && t.uint32(18).string(e.playerNetworkId), "" !== e.personaId && t.uint32(26).string(e.personaId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: "",
playerNetworkId: "",
personaId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = n.string();
break;

case 2:
i.playerNetworkId = n.string();
break;

case 3:
i.personaId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: "",
playerNetworkId: "",
personaId: ""
};
return t.playerId = e.playerId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", 
t.personaId = e.personaId ?? "", t;
}
};
var q_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var W_ = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.party && z_.encode(e.party, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
party: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.party = z_.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
party: void 0
};
return t.party = void 0 !== e.party && null !== e.party ? z_.fromPartial(e.party) : void 0, 
t;
}
};
var Y_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.partyId && t.uint32(10).string(e.partyId), 
"" !== e.playerId && t.uint32(18).string(e.playerId), "" !== e.playerNetworkId && t.uint32(26).string(e.playerNetworkId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
partyId: "",
playerId: "",
playerNetworkId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.partyId = n.string();
break;

case 2:
i.playerId = n.string();
break;

case 3:
i.playerNetworkId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
partyId: "",
playerId: "",
playerNetworkId: ""
};
return t.partyId = e.partyId ?? "", t.playerId = e.playerId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", 
t;
}
};
var K_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var X_ = {
encode: (e, t = rs.Writer.create()) => ("" !== e.partyId && t.uint32(10).string(e.partyId), 
"" !== e.playerId && t.uint32(18).string(e.playerId), "" !== e.playerNetworkId && t.uint32(26).string(e.playerNetworkId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
partyId: "",
playerId: "",
playerNetworkId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.partyId = n.string();
break;

case 2:
i.playerId = n.string();
break;

case 3:
i.playerNetworkId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
partyId: "",
playerId: "",
playerNetworkId: ""
};
return t.partyId = e.partyId ?? "", t.playerId = e.playerId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", 
t;
}
};
var Q_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var $_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var Z_ = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var eP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var tP = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.party && z_.encode(e.party, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
party: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.party = z_.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
party: void 0
};
return t.party = void 0 !== e.party && null !== e.party ? z_.fromPartial(e.party) : void 0, 
t;
}
};
var nP = {
encode: (e, t = rs.Writer.create()) => ("" !== e.partyId && t.uint32(10).string(e.partyId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
partyId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.partyId = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
partyId: ""
};
return t.partyId = e.partyId ?? "", t;
}
};
var rP = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.party && z_.encode(e.party, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
party: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.party = z_.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
party: void 0
};
return t.party = void 0 !== e.party && null !== e.party ? z_.fromPartial(e.party) : void 0, 
t;
}
};
var iP = {
encode: (e, t = rs.Writer.create()) => (!0 === e.isSupported && t.uint32(8).bool(e.isSupported), 
void 0 !== e.localizedReason && t.uint32(18).string(e.localizedReason), void 0 !== e.localizedTitle && t.uint32(26).string(e.localizedTitle), 
void 0 !== e.enableSupportAction && J_.encode(e.enableSupportAction, t.uint32(34).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
isSupported: !1,
localizedReason: void 0,
localizedTitle: void 0,
enableSupportAction: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.isSupported = n.bool();
break;

case 2:
i.localizedReason = n.string();
break;

case 3:
i.localizedTitle = n.string();
break;

case 4:
i.enableSupportAction = J_.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
isSupported: !1,
localizedReason: void 0,
localizedTitle: void 0,
enableSupportAction: void 0
};
return t.isSupported = e.isSupported ?? !1, t.localizedReason = e.localizedReason ?? void 0, 
t.localizedTitle = e.localizedTitle ?? void 0, t.enableSupportAction = void 0 !== e.enableSupportAction && null !== e.enableSupportAction ? J_.fromPartial(e.enableSupportAction) : void 0, 
t;
}
};
var aP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var oP = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.partySupport && iP.encode(e.partySupport, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
partySupport: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.partySupport = iP.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
partySupport: void 0
};
return t.partySupport = void 0 !== e.partySupport && null !== e.partySupport ? iP.fromPartial(e.partySupport) : void 0, 
t;
}
};
var sP = {
encode(e, t = rs.Writer.create()) {
for (const n of e.partyIds) t.uint32(10).string(n);
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
partyIds: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.partyIds.push(n.string()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
partyIds: []
};
return t.partyIds = e.partyIds?.map((e => e)) || [], t;
}
};
var lP = {
encode(e, t = rs.Writer.create()) {
for (const n of e.partySupport) iP.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
partySupport: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.partySupport.push(iP.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
partySupport: []
};
return t.partySupport = e.partySupport?.map((e => iP.fromPartial(e))) || [], t;
}
};
var cP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var dP = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
"" !== e.partyId && t.uint32(18).string(e.partyId), "" !== e.personaId && t.uint32(26).string(e.personaId), 
"" !== e.playerNetworkId && t.uint32(34).string(e.playerNetworkId), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: "",
partyId: "",
personaId: "",
playerNetworkId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = n.string();
break;

case 2:
i.partyId = n.string();
break;

case 3:
i.personaId = n.string();
break;

case 4:
i.playerNetworkId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: "",
partyId: "",
personaId: "",
playerNetworkId: ""
};
return t.playerId = e.playerId ?? "", t.partyId = e.partyId ?? "", t.personaId = e.personaId ?? "", 
t.playerNetworkId = e.playerNetworkId ?? "", t;
}
};
var uP = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.member && G_.encode(e.member, t.uint32(10).fork()).ldelim(), 
"" !== e.partyId && t.uint32(18).string(e.partyId), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
member: void 0,
partyId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.member = G_.decode(n, n.uint32());
break;

case 2:
i.partyId = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
member: void 0,
partyId: ""
};
return t.member = void 0 !== e.member && null !== e.member ? G_.fromPartial(e.member) : void 0, 
t.partyId = e.partyId ?? "", t;
}
};
function pP(e, t) {
if (void 0 === e) throw new Error(t || "Condition was undefined");
}
var fP = e => (pP(e.partyLeader, "Missing party leader"), {
...e,
partyLeader: e.partyLeader
}), mP = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t, this.onCreatePartySupportedChanged = new as, 
this.onLeaderChanged = new as, this.onMemberKicked = new as, this.onMemberLeft = new as, 
this.onMemberJoined = new as, this.onLeavePartyOverlayChanged = new as, this.subscribeToLeaderChanged(), 
this.subscribeToMemberKicked(), this.subscribeToMemberLeft(), this.subscribeToMemberJoined(), 
this.subscribeToCanCreateParty(), this.initCanCreateParty();
}
async getParty() {
const e = await this.grpcClient.makeUnaryRequest("/native.game.PartyService/getParty", eP, tP, {}, this.grpcMetadata);
if (!e.party) return {
party: void 0
};
const t = fP(e.party);
return this.partyId = t.partyId, {
party: t
};
}
async createParty() {
const e = await this.grpcClient.makeUnaryRequest("/native.game.PartyService/createParty", q_, W_, {}, this.grpcMetadata);
if (!e.party) throw new Error("Failed to create party");
const t = fP(e.party);
return this.partyId = t.partyId, {
party: t
};
}
async kickPartyMember(e) {
const t = Y_.fromPartial({
partyId: this.partyId,
playerId: e.playerId,
playerNetworkId: e.playerNetworkId
});
return this.grpcClient.makeUnaryRequest("/native.game.PartyService/kickPartyMember", Y_, K_, t, this.grpcMetadata);
}
async setPartyLeader(e) {
const t = X_.fromPartial({
partyId: this.partyId,
playerId: e.playerId,
playerNetworkId: e.playerNetworkId
});
return this.grpcClient.makeUnaryRequest("/native.game.PartyService/setPartyLeader", X_, Q_, t, this.grpcMetadata);
}
async joinParty(e) {
const t = await this.grpcClient.makeUnaryRequest("/native.game.PartyService/joinParty", nP, rP, e, this.grpcMetadata);
if (!t.party) throw new Error("Failed to join party");
const n = fP(t.party);
return this.partyId = n.partyId, {
party: n
};
}
async leaveParty(e) {
return this.grpcClient.makeUnaryRequest("/native.game.PartyService/leaveParty", $_, Z_, e, this.grpcMetadata);
}
getLeavePartyOverlay() {
throw new Error("Not implemented");
}
async initCanCreateParty() {
const e = await this.grpcClient.makeUnaryRequest("/native.game.PartyService/isCreatePartySupported", aP, oP, {}, this.grpcMetadata);
this.partySupport = e.partySupport, this.partySupport && this.onCreatePartySupportedChanged.trigger({
partySupport: this.partySupport
});
}
isCreatePartySupported() {
return this.partySupport ? {
partySupport: this.partySupport
} : void 0;
}
async isPartySupported(e) {
return this.grpcClient.makeUnaryRequest("/native.game.PartyService/isPartySupported", sP, lP, e, this.grpcMetadata);
}
subscribeToCanCreateParty() {
const e = new os;
e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.PartyService/subscribeCreatePartySupported", cP, iP, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger({
partySupport: t
});
}));
};
const t = e.data.subscribe((e => {
this.partySupport = e.partySupport, this.onCreatePartySupportedChanged.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
subscribeToLeaderChanged() {
const e = new os;
e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.PartyService/subscribeLeaderChanged", cP, dP, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(t);
}));
};
const t = e.data.subscribe((e => {
this.onLeaderChanged.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
subscribeToMemberKicked() {
const e = new os;
e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.PartyService/subscribeMemberKicked", cP, dP, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(t);
}));
};
const t = e.data.subscribe((e => {
this.onMemberKicked.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
subscribeToMemberLeft() {
const e = new os;
e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.PartyService/subscribeMemberLeft", cP, dP, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(t);
}));
};
const t = e.data.subscribe((e => {
this.onMemberLeft.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
subscribeToMemberJoined() {
const e = new os;
e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.PartyService/subscribeMemberJoined", cP, uP, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
var n;
e.data.trigger((pP((n = t).member, "Missing party member"), {
...n,
member: n.member
}));
}));
};
const t = e.data.subscribe((e => {
this.onMemberJoined.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
};
var yP = {
encode: (e, t = rs.Writer.create()) => (0 !== e.channel && t.uint32(8).int32(e.channel), 
"" !== e.name && t.uint32(18).string(e.name), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
channel: 0,
name: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.channel = n.int32();
break;

case 2:
i.name = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
channel: 0,
name: ""
};
return t.channel = e.channel ?? 0, t.name = e.name ?? "", t;
}
};
var hP = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
"" !== e.playerNetworkId && t.uint32(18).string(e.playerNetworkId), 0 !== e.channel && t.uint32(24).int32(e.channel), 
0 !== e.status && t.uint32(32).int32(e.status), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: "",
playerNetworkId: "",
channel: 0,
status: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = n.string();
break;

case 2:
i.playerNetworkId = n.string();
break;

case 3:
i.channel = n.int32();
break;

case 4:
i.status = n.int32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: "",
playerNetworkId: "",
channel: 0,
status: 0
};
return t.playerId = e.playerId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", 
t.channel = e.channel ?? 0, t.status = e.status ?? 0, t;
}
};
var gP = {
encode(e, t = rs.Writer.create()) {
for (const n of e.players) hP.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
players: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.players.push(hP.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
players: []
};
return t.players = e.players?.map((e => hP.fromPartial(e))) || [], t;
}
};
var IP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var vP = {
encode(e, t = rs.Writer.create()) {
for (const n of e.channels) yP.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
channels: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.channels.push(yP.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
channels: []
};
return t.channels = e.channels?.map((e => yP.fromPartial(e))) || [], t;
}
};
var bP = {
encode: (e, t = rs.Writer.create()) => (0 !== e.channel && t.uint32(8).int32(e.channel), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
channel: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.channel = n.int32(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
channel: 0
};
return t.channel = e.channel ?? 0, t;
}
};
var _P = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var PP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var SP = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.state && gP.encode(e.state, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
state: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.state = gP.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
state: void 0
};
return t.state = void 0 !== e.state && null !== e.state ? gP.fromPartial(e.state) : void 0, 
t;
}
};
var TP = {
encode(e, t = rs.Writer.create()) {
for (const n of e.playerIds) t.uint32(10).string(n);
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerIds: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.playerIds.push(n.string()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
playerIds: []
};
return t.playerIds = e.playerIds?.map((e => e)) || [], t;
}
};
var EP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var kP = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.playerId = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
playerId: ""
};
return t.playerId = e.playerId ?? "", t;
}
};
var NP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var CP = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.playerId = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
playerId: ""
};
return t.playerId = e.playerId ?? "", t;
}
};
var OP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var AP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var wP = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.state && gP.encode(e.state, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
state: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.state = gP.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
state: void 0
};
return t.state = void 0 !== e.state && null !== e.state ? gP.fromPartial(e.state) : void 0, 
t;
}
};
var LP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var RP = {
encode(e, t = rs.Writer.create()) {
for (const n of e.channels) yP.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
channels: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.channels.push(yP.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
channels: []
};
return t.channels = e.channels?.map((e => yP.fromPartial(e))) || [], t;
}
};
function xP(e) {
switch (e) {
case 2:
return $f.Voip.VoipChannel.Party;

case 3:
return $f.Voip.VoipChannel.Game;

default:
return $f.Voip.VoipChannel.None;
}
}
function BP(e) {
switch (e) {
case $f.Voip.VoipChannel.Party:
return 2;

case $f.Voip.VoipChannel.Game:
return 3;

default:
return 1;
}
}
function DP(e) {
return e.name ? {
name: e.name,
channel: xP(e.channel)
} : {
channel: xP(e.channel)
};
}
function MP(e) {
switch (e) {
case 2:
return $f.Voip.VoipStatus.Disabled;

case 3:
return $f.Voip.VoipStatus.Muted;

case 4:
return $f.Voip.VoipStatus.SelfMuted;

case 5:
return $f.Voip.VoipStatus.Silent;

case 6:
return $f.Voip.VoipStatus.Speaking;

default:
return $f.Voip.VoipStatus.None;
}
}
function FP(e) {
return {
channel: xP(e.channel),
playerId: e.playerId,
playerNetworkId: e.playerNetworkId,
status: MP(e.status)
};
}
function UP(e) {
return {
players: (e?.players || []).map(FP)
};
}
var HP = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t, this.onVoipChannelsUpdated = new as, 
this.onVoipStateUpdated = new as, this.subscribeToVoipState(), this.subscribeToVoipChannelsUpdated();
}
async getVoipChannels(e) {
return {
channels: (await this.grpcClient.makeUnaryRequest("/native.game.VoipService/getVoipChannels", IP, vP, e, this.grpcMetadata)).channels.map(DP)
};
}
async getVoipState(e) {
return {
state: UP((await this.grpcClient.makeUnaryRequest("/native.game.VoipService/getVoipState", PP, SP, e, this.grpcMetadata)).state)
};
}
async setMutedPlayers(e) {
return this.grpcClient.makeUnaryRequest("/native.game.VoipService/setMutedPlayers", TP, EP, e, this.grpcMetadata);
}
async mutePlayer(e) {
return this.grpcClient.makeUnaryRequest("/native.game.VoipService/mutePlayer", kP, NP, e, this.grpcMetadata);
}
async unmutePlayer(e) {
return this.grpcClient.makeUnaryRequest("/native.game.VoipService/unmutePlayer", CP, OP, e, this.grpcMetadata);
}
async setActiveVoipChannel(e) {
const t = {
channel: BP(e.channel)
};
return this.grpcClient.makeUnaryRequest("/native.game.VoipService/setActiveVoipChannel", bP, _P, t, this.grpcMetadata);
}
subscribeToVoipState() {
const e = new os;
e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.VoipService/subscribeVoipStateUpdated", AP, wP, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(UP(t.state));
}));
};
const t = e.data.subscribe((e => {
this.onVoipStateUpdated.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
subscribeToVoipChannelsUpdated() {
const e = new os;
e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.VoipService/subscribeVoipChannelsUpdated", LP, RP, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger({
channels: t.channels.map(DP)
});
}));
};
const t = e.data.subscribe((e => {
this.onVoipChannelsUpdated.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
};
var VP = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.query && ib.encode(e.query, t.uint32(10).fork()).ldelim();
for (const n of e.namespaces) t.uint32(18).string(n);
return void 0 !== e.pageSize && nb.encode(e.pageSize, t.uint32(26).fork()).ldelim(), 
void 0 !== e.pageNumber && nb.encode(e.pageNumber, t.uint32(34).fork()).ldelim(), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
query: void 0,
namespaces: [],
pageSize: void 0,
pageNumber: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.query = ib.decode(n, n.uint32());
break;

case 2:
i.namespaces.push(n.string());
break;

case 3:
i.pageSize = nb.decode(n, n.uint32());
break;

case 4:
i.pageNumber = nb.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
query: void 0,
namespaces: [],
pageSize: void 0,
pageNumber: void 0
};
return t.query = void 0 !== e.query && null !== e.query ? ib.fromPartial(e.query) : void 0, 
t.namespaces = e.namespaces?.map((e => e)) || [], t.pageSize = void 0 !== e.pageSize && null !== e.pageSize ? nb.fromPartial(e.pageSize) : void 0, 
t.pageNumber = void 0 !== e.pageNumber && null !== e.pageNumber ? nb.fromPartial(e.pageNumber) : void 0, 
t;
}
};
var JP = {
encode(e, t = rs.Writer.create()) {
for (const n of e.personas) zP.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
personas: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.personas.push(zP.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
personas: []
};
return t.personas = e.personas?.map((e => zP.fromPartial(e))) || [], t;
}
};
var zP = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.personaId && ib.encode(e.personaId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.pidId && ib.encode(e.pidId, t.uint32(18).fork()).ldelim(), void 0 !== e.displayName && ib.encode(e.displayName, t.uint32(26).fork()).ldelim(), 
void 0 !== e.nickName && ib.encode(e.nickName, t.uint32(34).fork()).ldelim(), void 0 !== e.nameSpaceName && ib.encode(e.nameSpaceName, t.uint32(42).fork()).ldelim(), 
void 0 !== e.email && ib.encode(e.email, t.uint32(50).fork()).ldelim(), void 0 !== e.firstName && ib.encode(e.firstName, t.uint32(58).fork()).ldelim(), 
void 0 !== e.lastName && ib.encode(e.lastName, t.uint32(66).fork()).ldelim(), void 0 !== e.status && ib.encode(e.status, t.uint32(74).fork()).ldelim(), 
void 0 !== e.showPersona && ib.encode(e.showPersona, t.uint32(82).fork()).ldelim(), 
void 0 !== e.dateCreated && ib.encode(e.dateCreated, t.uint32(90).fork()).ldelim(), 
void 0 !== e.anonymousUser && ib.encode(e.anonymousUser, t.uint32(98).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
personaId: void 0,
pidId: void 0,
displayName: void 0,
nickName: void 0,
nameSpaceName: void 0,
email: void 0,
firstName: void 0,
lastName: void 0,
status: void 0,
showPersona: void 0,
dateCreated: void 0,
anonymousUser: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.personaId = ib.decode(n, n.uint32());
break;

case 2:
i.pidId = ib.decode(n, n.uint32());
break;

case 3:
i.displayName = ib.decode(n, n.uint32());
break;

case 4:
i.nickName = ib.decode(n, n.uint32());
break;

case 5:
i.nameSpaceName = ib.decode(n, n.uint32());
break;

case 6:
i.email = ib.decode(n, n.uint32());
break;

case 7:
i.firstName = ib.decode(n, n.uint32());
break;

case 8:
i.lastName = ib.decode(n, n.uint32());
break;

case 9:
i.status = ib.decode(n, n.uint32());
break;

case 10:
i.showPersona = ib.decode(n, n.uint32());
break;

case 11:
i.dateCreated = ib.decode(n, n.uint32());
break;

case 12:
i.anonymousUser = ib.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
personaId: void 0,
pidId: void 0,
displayName: void 0,
nickName: void 0,
nameSpaceName: void 0,
email: void 0,
firstName: void 0,
lastName: void 0,
status: void 0,
showPersona: void 0,
dateCreated: void 0,
anonymousUser: void 0
};
return t.personaId = void 0 !== e.personaId && null !== e.personaId ? ib.fromPartial(e.personaId) : void 0, 
t.pidId = void 0 !== e.pidId && null !== e.pidId ? ib.fromPartial(e.pidId) : void 0, 
t.displayName = void 0 !== e.displayName && null !== e.displayName ? ib.fromPartial(e.displayName) : void 0, 
t.nickName = void 0 !== e.nickName && null !== e.nickName ? ib.fromPartial(e.nickName) : void 0, 
t.nameSpaceName = void 0 !== e.nameSpaceName && null !== e.nameSpaceName ? ib.fromPartial(e.nameSpaceName) : void 0, 
t.email = void 0 !== e.email && null !== e.email ? ib.fromPartial(e.email) : void 0, 
t.firstName = void 0 !== e.firstName && null !== e.firstName ? ib.fromPartial(e.firstName) : void 0, 
t.lastName = void 0 !== e.lastName && null !== e.lastName ? ib.fromPartial(e.lastName) : void 0, 
t.status = void 0 !== e.status && null !== e.status ? ib.fromPartial(e.status) : void 0, 
t.showPersona = void 0 !== e.showPersona && null !== e.showPersona ? ib.fromPartial(e.showPersona) : void 0, 
t.dateCreated = void 0 !== e.dateCreated && null !== e.dateCreated ? ib.fromPartial(e.dateCreated) : void 0, 
t.anonymousUser = void 0 !== e.anonymousUser && null !== e.anonymousUser ? ib.fromPartial(e.anonymousUser) : void 0, 
t;
}
}, GP = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async SearchPlayers(e) {
const t = VP.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.playersearch.grpc.search.v1.service.PlayerSearch/SearchPlayers", VP, JP, t, this.grpcMetadata);
}
};
var jP = {
encode(e, t = rs.Writer.create()) {
for (const n of e.playerIds) fv.encode(n, t.uint32(10).fork()).ldelim();
for (const n of e.playerNetworkIds) bv.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerIds: [],
playerNetworkIds: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerIds.push(fv.decode(n, n.uint32()));
break;

case 2:
i.playerNetworkIds.push(bv.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerIds: [],
playerNetworkIds: []
};
return t.playerIds = e.playerIds?.map((e => fv.fromPartial(e))) || [], t.playerNetworkIds = e.playerNetworkIds?.map((e => bv.fromPartial(e))) || [], 
t;
}
};
var qP = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.playerId && fv.encode(e.playerId, t.uint32(10).fork()).ldelim(), void 0 !== e.pii && XP.encode(e.pii, t.uint32(18).fork()).ldelim();
for (const n of e.personas) QP.encode(n, t.uint32(26).fork()).ldelim();
return void 0 !== e.errorDetail && _v.encode(e.errorDetail, t.uint32(34).fork()).ldelim(), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: void 0,
pii: void 0,
personas: [],
errorDetail: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = fv.decode(n, n.uint32());
break;

case 2:
i.pii = XP.decode(n, n.uint32());
break;

case 3:
i.personas.push(QP.decode(n, n.uint32()));
break;

case 4:
i.errorDetail = _v.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: void 0,
pii: void 0,
personas: [],
errorDetail: void 0
};
return t.playerId = void 0 !== e.playerId && null !== e.playerId ? fv.fromPartial(e.playerId) : void 0, 
t.pii = void 0 !== e.pii && null !== e.pii ? XP.fromPartial(e.pii) : void 0, t.personas = e.personas?.map((e => QP.fromPartial(e))) || [], 
t.errorDetail = void 0 !== e.errorDetail && null !== e.errorDetail ? _v.fromPartial(e.errorDetail) : void 0, 
t;
}
};
var WP = {
encode(e, t = rs.Writer.create()) {
for (const n of e.firstPartyUidAndDisplayNames) YP.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
firstPartyUidAndDisplayNames: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.firstPartyUidAndDisplayNames.push(YP.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
firstPartyUidAndDisplayNames: []
};
return t.firstPartyUidAndDisplayNames = e.firstPartyUidAndDisplayNames?.map((e => YP.fromPartial(e))) || [], 
t;
}
};
var YP = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.firstPartyUid && ib.encode(e.firstPartyUid, t.uint32(10).fork()).ldelim(), 
void 0 !== e.displayName && ib.encode(e.displayName, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
firstPartyUid: void 0,
displayName: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.firstPartyUid = ib.decode(n, n.uint32());
break;

case 2:
i.displayName = ib.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
firstPartyUid: void 0,
displayName: void 0
};
return t.firstPartyUid = void 0 !== e.firstPartyUid && null !== e.firstPartyUid ? ib.fromPartial(e.firstPartyUid) : void 0, 
t.displayName = void 0 !== e.displayName && null !== e.displayName ? ib.fromPartial(e.displayName) : void 0, 
t;
}
};
var KP = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.playerId && fv.encode(e.playerId, t.uint32(10).fork()).ldelim();
for (const n of e.personas) QP.encode(n, t.uint32(18).fork()).ldelim();
return void 0 !== e.firstPartyUid && ib.encode(e.firstPartyUid, t.uint32(26).fork()).ldelim(), 
void 0 !== e.displayName && ib.encode(e.displayName, t.uint32(34).fork()).ldelim(), 
void 0 !== e.errorDetail && _v.encode(e.errorDetail, t.uint32(42).fork()).ldelim(), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: void 0,
personas: [],
firstPartyUid: void 0,
displayName: void 0,
errorDetail: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = fv.decode(n, n.uint32());
break;

case 2:
i.personas.push(QP.decode(n, n.uint32()));
break;

case 3:
i.firstPartyUid = ib.decode(n, n.uint32());
break;

case 4:
i.displayName = ib.decode(n, n.uint32());
break;

case 5:
i.errorDetail = _v.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: void 0,
personas: [],
firstPartyUid: void 0,
displayName: void 0,
errorDetail: void 0
};
return t.playerId = void 0 !== e.playerId && null !== e.playerId ? fv.fromPartial(e.playerId) : void 0, 
t.personas = e.personas?.map((e => QP.fromPartial(e))) || [], t.firstPartyUid = void 0 !== e.firstPartyUid && null !== e.firstPartyUid ? ib.fromPartial(e.firstPartyUid) : void 0, 
t.displayName = void 0 !== e.displayName && null !== e.displayName ? ib.fromPartial(e.displayName) : void 0, 
t.errorDetail = void 0 !== e.errorDetail && null !== e.errorDetail ? _v.fromPartial(e.errorDetail) : void 0, 
t;
}
};
var XP = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.firstName && ib.encode(e.firstName, t.uint32(10).fork()).ldelim(), 
void 0 !== e.lastName && ib.encode(e.lastName, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
firstName: void 0,
lastName: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.firstName = ib.decode(n, n.uint32());
break;

case 2:
i.lastName = ib.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
firstName: void 0,
lastName: void 0
};
return t.firstName = void 0 !== e.firstName && null !== e.firstName ? ib.fromPartial(e.firstName) : void 0, 
t.lastName = void 0 !== e.lastName && null !== e.lastName ? ib.fromPartial(e.lastName) : void 0, 
t;
}
};
var QP = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.playerNetworkId && bv.encode(e.playerNetworkId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.personaId && mv.encode(e.personaId, t.uint32(18).fork()).ldelim(), 
void 0 !== e.displayName && ib.encode(e.displayName, t.uint32(26).fork()).ldelim(), 
void 0 !== e.nickname && ib.encode(e.nickname, t.uint32(34).fork()).ldelim(), void 0 !== e.firstPartyUid && ib.encode(e.firstPartyUid, t.uint32(42).fork()).ldelim(), 
void 0 !== e.lastAuthDate && Iv.encode(e.lastAuthDate, t.uint32(50).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerNetworkId: void 0,
personaId: void 0,
displayName: void 0,
nickname: void 0,
firstPartyUid: void 0,
lastAuthDate: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerNetworkId = bv.decode(n, n.uint32());
break;

case 2:
i.personaId = mv.decode(n, n.uint32());
break;

case 3:
i.displayName = ib.decode(n, n.uint32());
break;

case 4:
i.nickname = ib.decode(n, n.uint32());
break;

case 5:
i.firstPartyUid = ib.decode(n, n.uint32());
break;

case 6:
i.lastAuthDate = Iv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerNetworkId: void 0,
personaId: void 0,
displayName: void 0,
nickname: void 0,
firstPartyUid: void 0,
lastAuthDate: void 0
};
return t.playerNetworkId = void 0 !== e.playerNetworkId && null !== e.playerNetworkId ? bv.fromPartial(e.playerNetworkId) : void 0, 
t.personaId = void 0 !== e.personaId && null !== e.personaId ? mv.fromPartial(e.personaId) : void 0, 
t.displayName = void 0 !== e.displayName && null !== e.displayName ? ib.fromPartial(e.displayName) : void 0, 
t.nickname = void 0 !== e.nickname && null !== e.nickname ? ib.fromPartial(e.nickname) : void 0, 
t.firstPartyUid = void 0 !== e.firstPartyUid && null !== e.firstPartyUid ? ib.fromPartial(e.firstPartyUid) : void 0, 
t.lastAuthDate = void 0 !== e.lastAuthDate && null !== e.lastAuthDate ? Iv.fromPartial(e.lastAuthDate) : void 0, 
t;
}
}, $P = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t, this.onCachePlayerCardsLimitReached = new as, 
this.onCachePlayerCardsByFirstPartyIdsLimitReached = new as, this.onCacheFirstPartyIdsLimitReached = new as;
}
getPlayerCards(e, t) {
const n = jP.fromPartial(t), r = new os;
return r.start = () => {
const t = this.grpcClient.makeServerStreamingRequest(e, jP, qP, n, this.grpcMetadata);
t.onError((e => r.error.trigger(e))), t.onEnd((() => r.end.trigger())), t.onData((e => {
r.data.trigger(e);
}));
}, {
stream: r,
response: {}
};
}
async BatchGetPlayerCards(e) {
return this.getPlayerCards("/eadp.playercard.v1.PlayerCardService/BatchGetPlayerCards", e);
}
async BatchGetFriendsPlayerCards(e) {
return this.getPlayerCards("/eadp.playercard.v1.PlayerCardService/BatchGetFriendsPlayerCards", e);
}
async BatchGetPlayerCardsByFirstPartyIds(e) {
const t = WP.fromPartial(e), n = new os;
return n.start = () => {
const e = this.grpcClient.makeServerStreamingRequest("/eadp.playercard.v1.PlayerCardService/BatchGetPlayerCardsByFirstPartyIds", WP, KP, t, this.grpcMetadata);
e.onError((e => n.error.trigger(e))), e.onEnd((() => n.end.trigger())), e.onData((e => {
n.data.trigger(e);
}));
}, {
stream: n,
response: {}
};
}
async BatchGetFriendsFirstPartyIds() {
throw Error("Not implemented");
}
async BatchGetFirstPartyIds() {
throw Error("Not implemented");
}
async BatchGetPrivacySettings() {
throw Error("Not implemented");
}
disableCachePlayerCards() {
throw Error("Not implemented");
}
enableCachePlayerCards() {
throw Error("Not implemented");
}
getCachePlayerCardsKeys() {
throw Error("Not implemented");
}
getCachePlayerCardsValue() {
throw Error("Not implemented");
}
setCachePlayerCardsLimit() {
throw Error("Not implemented");
}
enableCachePlayerCardsByFirstPartyIds() {
throw Error("Not implemented");
}
disableCachePlayerCardsByFirstPartyIds() {
throw Error("Not implemented");
}
setCachePlayerCardsByFirstPartyIdsLimit() {
throw Error("Not implemented");
}
getCachePlayerCardsByFirstPartyIdsKeys() {
throw Error("Not implemented");
}
getCachePlayerCardsByFirstPartyIdsValue() {
throw Error("Not implemented");
}
enableCacheFirstPartyIds() {
throw Error("Not implemented");
}
disableCacheFirstPartyIds() {
throw Error("Not implemented");
}
setCacheFirstPartyIdsLimit() {
throw Error("Not implemented");
}
getCacheFirstPartyIdsKeys() {
throw Error("Not implemented");
}
getCacheFirstPartyIdsValue() {
throw Error("Not implemented");
}
};
var ZP = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var eS = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.playerListConfig && mS.encode(e.playerListConfig, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerListConfig: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.playerListConfig = mS.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
playerListConfig: void 0
};
return t.playerListConfig = void 0 !== e.playerListConfig && null !== e.playerListConfig ? mS.fromPartial(e.playerListConfig) : void 0, 
t;
}
};
var tS = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var nS = {
encode(e, t = rs.Writer.create()) {
for (const n of e.playerLists) uS.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerLists: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.playerLists.push(uS.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
playerLists: []
};
return t.playerLists = e.playerLists?.map((e => uS.fromPartial(e))) || [], t;
}
};
var rS = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerListId && t.uint32(10).string(e.playerListId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerListId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.playerListId = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
playerListId: ""
};
return t.playerListId = e.playerListId ?? "", t;
}
};
var iS = {
encode(e, t = rs.Writer.create()) {
"" !== e.playerListId && t.uint32(10).string(e.playerListId);
for (const n of e.personas) fS.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerListId: "",
personas: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerListId = n.string();
break;

case 2:
i.personas.push(fS.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerListId: "",
personas: []
};
return t.playerListId = e.playerListId ?? "", t.personas = e.personas?.map((e => fS.fromPartial(e))) || [], 
t;
}
};
var aS = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var oS = {
encode(e, t = rs.Writer.create()) {
"" !== e.playerListId && t.uint32(10).string(e.playerListId);
for (const n of e.personas) fS.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerListId: "",
personas: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerListId = n.string();
break;

case 2:
i.personas.push(fS.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerListId: "",
personas: []
};
return t.playerListId = e.playerListId ?? "", t.personas = e.personas?.map((e => fS.fromPartial(e))) || [], 
t;
}
};
var sS = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var lS = {
encode(e, t = rs.Writer.create()) {
for (const n of e.playerLists) uS.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerLists: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.playerLists.push(uS.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
playerLists: []
};
return t.playerLists = e.playerLists?.map((e => uS.fromPartial(e))) || [], t;
}
};
var cS = {
encode(e, t = rs.Writer.create()) {
"" !== e.id && t.uint32(10).string(e.id), "" !== e.localizedTitle && t.uint32(18).string(e.localizedTitle), 
0 !== e.sectionFilter && t.uint32(24).int32(e.sectionFilter), t.uint32(34).fork();
for (const n of e.playerSortOrders) t.int32(n);
return t.ldelim(), t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
id: "",
localizedTitle: "",
sectionFilter: 0,
playerSortOrders: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.id = n.string();
break;

case 2:
i.localizedTitle = n.string();
break;

case 3:
i.sectionFilter = n.int32();
break;

case 4:
if (2 == (7 & e)) {
const e = n.uint32() + n.pos;
for (;n.pos < e; ) i.playerSortOrders.push(n.int32());
} else i.playerSortOrders.push(n.int32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
id: "",
localizedTitle: "",
sectionFilter: 0,
playerSortOrders: []
};
return t.id = e.id ?? "", t.localizedTitle = e.localizedTitle ?? "", t.sectionFilter = e.sectionFilter ?? 0, 
t.playerSortOrders = e.playerSortOrders?.map((e => e)) || [], t;
}
};
var dS = {
encode(e, t = rs.Writer.create()) {
"" !== e.localizedTitle && t.uint32(10).string(e.localizedTitle), "" !== e.localizedReason && t.uint32(18).string(e.localizedReason);
for (const n of e.playerActions) J_.encode(n, t.uint32(26).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
localizedTitle: "",
localizedReason: "",
playerActions: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.localizedTitle = n.string();
break;

case 2:
i.localizedReason = n.string();
break;

case 3:
i.playerActions.push(J_.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
localizedTitle: "",
localizedReason: "",
playerActions: []
};
return t.localizedTitle = e.localizedTitle ?? "", t.localizedReason = e.localizedReason ?? "", 
t.playerActions = e.playerActions?.map((e => J_.fromPartial(e))) || [], t;
}
};
var uS = {
encode(e, t = rs.Writer.create()) {
"" !== e.id && t.uint32(10).string(e.id), "" !== e.localizedTitle && t.uint32(18).string(e.localizedTitle), 
0 !== e.purpose && t.uint32(24).int32(e.purpose), !0 === e.showPresenceNotifications && t.uint32(32).bool(e.showPresenceNotifications);
for (const n of e.sections) cS.encode(n, t.uint32(42).fork()).ldelim();
return Object.entries(e.localizedIconLegend).forEach((([e, n]) => {
pS.encode({
key: e,
value: n
}, t.uint32(50).fork()).ldelim();
})), "" !== e.localizedLegendTitle && t.uint32(58).string(e.localizedLegendTitle), 
void 0 !== e.emptyState && dS.encode(e.emptyState, t.uint32(66).fork()).ldelim(), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
id: "",
localizedTitle: "",
purpose: 0,
showPresenceNotifications: !1,
sections: [],
localizedIconLegend: {},
localizedLegendTitle: "",
emptyState: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.id = n.string();
break;

case 2:
i.localizedTitle = n.string();
break;

case 3:
i.purpose = n.int32();
break;

case 4:
i.showPresenceNotifications = n.bool();
break;

case 5:
i.sections.push(cS.decode(n, n.uint32()));
break;

case 6:
const t = pS.decode(n, n.uint32());
void 0 !== t.value && (i.localizedIconLegend[t.key] = t.value);
break;

case 7:
i.localizedLegendTitle = n.string();
break;

case 8:
i.emptyState = dS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
id: "",
localizedTitle: "",
purpose: 0,
showPresenceNotifications: !1,
sections: [],
localizedIconLegend: {},
localizedLegendTitle: "",
emptyState: void 0
};
return t.id = e.id ?? "", t.localizedTitle = e.localizedTitle ?? "", t.purpose = e.purpose ?? 0, 
t.showPresenceNotifications = e.showPresenceNotifications ?? !1, t.sections = e.sections?.map((e => cS.fromPartial(e))) || [], 
t.localizedIconLegend = Object.entries(e.localizedIconLegend ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = String(n)), 
e)), {}), t.localizedLegendTitle = e.localizedLegendTitle ?? "", t.emptyState = void 0 !== e.emptyState && null !== e.emptyState ? dS.fromPartial(e.emptyState) : void 0, 
t;
}
};
var pS = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
"" !== e.value && t.uint32(18).string(e.value), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: ""
};
return t.key = e.key ?? "", t.value = e.value ?? "", t;
}
};
var fS = {
encode(e, t = rs.Writer.create()) {
"" !== e.playerId && t.uint32(10).string(e.playerId), "" !== e.playerNetworkId && t.uint32(18).string(e.playerNetworkId), 
"" !== e.personaId && t.uint32(26).string(e.personaId), 0 !== e.customValue1 && t.uint32(32).uint32(e.customValue1), 
0 !== e.customValue2 && t.uint32(40).uint32(e.customValue2), t.uint32(50).fork();
for (const n of e.icons) t.int32(n);
return t.ldelim(), t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: "",
playerNetworkId: "",
personaId: "",
customValue1: 0,
customValue2: 0,
icons: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = n.string();
break;

case 2:
i.playerNetworkId = n.string();
break;

case 3:
i.personaId = n.string();
break;

case 4:
i.customValue1 = n.uint32();
break;

case 5:
i.customValue2 = n.uint32();
break;

case 6:
if (2 == (7 & e)) {
const e = n.uint32() + n.pos;
for (;n.pos < e; ) i.icons.push(n.int32());
} else i.icons.push(n.int32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: "",
playerNetworkId: "",
personaId: "",
customValue1: 0,
customValue2: 0,
icons: []
};
return t.playerId = e.playerId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", 
t.personaId = e.personaId ?? "", t.customValue1 = e.customValue1 ?? 0, t.customValue2 = e.customValue2 ?? 0, 
t.icons = e.icons?.map((e => e)) || [], t;
}
};
var mS = {
encode: (e, t = rs.Writer.create()) => ("" !== e.localizedName && t.uint32(10).string(e.localizedName), 
void 0 !== e.emptyState && dS.encode(e.emptyState, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
localizedName: "",
emptyState: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.localizedName = n.string();
break;

case 2:
i.emptyState = dS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
localizedName: "",
emptyState: void 0
};
return t.localizedName = e.localizedName ?? "", t.emptyState = void 0 !== e.emptyState && null !== e.emptyState ? dS.fromPartial(e.emptyState) : void 0, 
t;
}
}, yS = {
0: $f.PlayerList.Purpose.MakeFriends,
1: $f.PlayerList.Purpose.PlayTogether,
2: $f.PlayerList.Purpose.None
}, hS = {
0: $f.PlayerList.Icon.Star,
2: $f.PlayerList.Icon.Shield,
1: $f.PlayerList.Icon.Hexagon,
3: $f.PlayerList.Icon.Tie,
4: $f.PlayerList.Icon.StarShield,
5: $f.PlayerList.Icon.Flag
};
function gS(e) {
return hS[e];
}
var IS = {
0: $f.PlayerList.SectionFilter.Online,
1: $f.PlayerList.SectionFilter.Offline,
2: $f.PlayerList.SectionFilter.PlayerCustom1,
3: $f.PlayerList.SectionFilter.PlayerCustom2,
4: $f.PlayerList.SectionFilter.All
}, vS = {
1: $f.PlayerList.PlayerSortOrder.Online,
0: $f.PlayerList.PlayerSortOrder.Self,
2: $f.PlayerList.PlayerSortOrder.InCurrentGame,
4: $f.PlayerList.PlayerSortOrder.Alphabetic,
5: $f.PlayerList.PlayerSortOrder.PlayerCustom1,
6: $f.PlayerList.PlayerSortOrder.PlayerCustom2,
3: $f.PlayerList.PlayerSortOrder.LastOnline
};
function bS(e) {
return vS[e];
}
function _S(e) {
return {
playerLists: e.playerLists.map((e => ({
...e,
purpose: yS[e.purpose],
sections: e.sections.map((e => ({
...e,
sectionFilter: IS[e.sectionFilter],
playerSortOrders: e.playerSortOrders.map(bS)
})))
})))
};
}
function PS(e) {
return {
playerListId: e.playerListId,
personas: e.personas.map((e => ({
...e,
icons: e.icons.map(gS)
})))
};
}
var SS = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t, this.onPlayerListPersonasChanged = new as, 
this.onPlayerListsChanged = new as, Promise.all([ this.subscribeToPlayerListPersonasChanged(), this.subscribeToPlayerListsChanged() ]);
}
async getPlayerListConfig(e) {
const t = await this.grpcClient.makeUnaryRequest("/native.game.PlayerListService/getPlayerListConfig", ZP, eS, e, this.grpcMetadata), n = t.playerListConfig, r = t.playerListConfig?.emptyState;
return pP(n), pP(r), {
playerList: {
...n,
emptyState: r
}
};
}
async getPlayerLists(e) {
return _S(await this.grpcClient.makeUnaryRequest("/native.game.PlayerListService/getPlayerLists", tS, nS, e, this.grpcMetadata));
}
async getPlayerListPersonas(e) {
return PS(await this.grpcClient.makeUnaryRequest("/native.game.PlayerListService/getPlayerListPersonas", rS, iS, e, this.grpcMetadata));
}
createPlayerListPersonasChangedStream() {
const e = new os;
return e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.PlayerListService/subscribeToPlayerListPersonasChanged", aS, oS, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(PS(t));
}));
}, e;
}
async subscribeToPlayerListPersonasChanged() {
const e = await this.createPlayerListPersonasChangedStream(), t = e.data.subscribe((e => {
this.onPlayerListPersonasChanged.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
createPlayerListsChangedStream() {
const e = new os;
return e.start = () => {
const t = this.grpcClient.makeServerStreamingRequest("/native.game.PlayerListService/subscribeToPlayerListsChanged", sS, lS, {}, this.grpcMetadata);
t.onError((t => e.error.trigger(t))), t.onEnd((() => e.end.trigger())), t.onData((t => {
e.data.trigger(_S(t));
}));
}, e;
}
async subscribeToPlayerListsChanged() {
const e = await this.createPlayerListsChangedStream(), t = e.data.subscribe((e => {
this.onPlayerListsChanged.trigger(e);
})), n = H_(e);
return e.start(), () => {
t(), n();
};
}
};
var TS = {
encode: (e, t = rs.Writer.create()) => (0 !== e.hours && t.uint32(8).int32(e.hours), 
0 !== e.minutes && t.uint32(16).uint32(e.minutes), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
hours: 0,
minutes: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.hours = n.int32();
break;

case 2:
i.minutes = n.uint32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
hours: 0,
minutes: 0
};
return t.hours = e.hours ?? 0, t.minutes = e.minutes ?? 0, t;
}
};
var ES = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.playerNetworkId && bv.encode(e.playerNetworkId, t.uint32(10).fork()).ldelim(), 
void 0 !== e.productId && Zb.encode(e.productId, t.uint32(18).fork()).ldelim(), 
void 0 !== e.devicePlatformId && $b.encode(e.devicePlatformId, t.uint32(26).fork()).ldelim(), 
"" !== e.locale && t.uint32(34).string(e.locale), void 0 !== e.timeZoneOffset && TS.encode(e.timeZoneOffset, t.uint32(42).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerNetworkId: void 0,
productId: void 0,
devicePlatformId: void 0,
locale: "",
timeZoneOffset: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerNetworkId = bv.decode(n, n.uint32());
break;

case 2:
i.productId = Zb.decode(n, n.uint32());
break;

case 3:
i.devicePlatformId = $b.decode(n, n.uint32());
break;

case 4:
i.locale = n.string();
break;

case 5:
i.timeZoneOffset = TS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerNetworkId: void 0,
productId: void 0,
devicePlatformId: void 0,
locale: "",
timeZoneOffset: void 0
};
return t.playerNetworkId = void 0 !== e.playerNetworkId && null !== e.playerNetworkId ? bv.fromPartial(e.playerNetworkId) : void 0, 
t.productId = void 0 !== e.productId && null !== e.productId ? Zb.fromPartial(e.productId) : void 0, 
t.devicePlatformId = void 0 !== e.devicePlatformId && null !== e.devicePlatformId ? $b.fromPartial(e.devicePlatformId) : void 0, 
t.locale = e.locale ?? "", t.timeZoneOffset = void 0 !== e.timeZoneOffset && null !== e.timeZoneOffset ? TS.fromPartial(e.timeZoneOffset) : void 0, 
t;
}
};
var kS = {
encode: (e, t = rs.Writer.create()) => ("" !== e.id && t.uint32(10).string(e.id), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
id: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.id = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
id: ""
};
return t.id = e.id ?? "", t;
}
};
var NS = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.stringValue && t.uint32(10).string(e.stringValue), 
void 0 !== e.localizedStringValue && kS.encode(e.localizedStringValue, t.uint32(18).fork()).ldelim(), 
void 0 !== e.integerValue && t.uint32(24).int64(e.integerValue), void 0 !== e.floatValue && t.uint32(33).double(e.floatValue), 
void 0 !== e.timestampValue && Iv.encode(e.timestampValue, t.uint32(42).fork()).ldelim(), 
void 0 !== e.durationValue && n_.encode(e.durationValue, t.uint32(50).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
stringValue: void 0,
localizedStringValue: void 0,
integerValue: void 0,
floatValue: void 0,
timestampValue: void 0,
durationValue: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.stringValue = n.string();
break;

case 2:
i.localizedStringValue = kS.decode(n, n.uint32());
break;

case 3:
i.integerValue = Number(n.int64());
break;

case 4:
i.floatValue = n.double();
break;

case 5:
i.timestampValue = Iv.decode(n, n.uint32());
break;

case 6:
i.durationValue = n_.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
stringValue: void 0,
localizedStringValue: void 0,
integerValue: void 0,
floatValue: void 0,
timestampValue: void 0,
durationValue: void 0
};
return t.stringValue = e.stringValue ?? void 0, t.localizedStringValue = void 0 !== e.localizedStringValue && null !== e.localizedStringValue ? kS.fromPartial(e.localizedStringValue) : void 0, 
t.integerValue = e.integerValue ?? void 0, t.floatValue = e.floatValue ?? void 0, 
t.timestampValue = void 0 !== e.timestampValue && null !== e.timestampValue ? Iv.fromPartial(e.timestampValue) : void 0, 
t.durationValue = void 0 !== e.durationValue && null !== e.durationValue ? n_.fromPartial(e.durationValue) : void 0, 
t;
}
};
var CS = {
encode(e, t = rs.Writer.create()) {
!0 === e.appearOffline && t.uint32(8).bool(e.appearOffline), Object.entries(e.properties).forEach((([e, n]) => {
OS.encode({
key: e,
value: n
}, t.uint32(18).fork()).ldelim();
})), void 0 !== e.activityDescription && kS.encode(e.activityDescription, t.uint32(26).fork()).ldelim(), 
void 0 !== e.activityDetails && kS.encode(e.activityDetails, t.uint32(34).fork()).ldelim(), 
Object.entries(e.gameJoinTokens).forEach((([e, n]) => {
AS.encode({
key: e,
value: n
}, t.uint32(42).fork()).ldelim();
})), !0 === e.lookingForMore && t.uint32(48).bool(e.lookingForMore), !0 === e.joinable && t.uint32(56).bool(e.joinable), 
t.uint32(66).fork();
for (const n of e.inputTypes) t.int32(n);
return t.ldelim(), t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
appearOffline: !1,
properties: {},
activityDescription: void 0,
activityDetails: void 0,
gameJoinTokens: {},
lookingForMore: !1,
joinable: !1,
inputTypes: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.appearOffline = n.bool();
break;

case 2:
const t = OS.decode(n, n.uint32());
void 0 !== t.value && (i.properties[t.key] = t.value);
break;

case 3:
i.activityDescription = kS.decode(n, n.uint32());
break;

case 4:
i.activityDetails = kS.decode(n, n.uint32());
break;

case 5:
const r = AS.decode(n, n.uint32());
void 0 !== r.value && (i.gameJoinTokens[r.key] = r.value);
break;

case 6:
i.lookingForMore = n.bool();
break;

case 7:
i.joinable = n.bool();
break;

case 8:
if (2 == (7 & e)) {
const e = n.uint32() + n.pos;
for (;n.pos < e; ) i.inputTypes.push(n.int32());
} else i.inputTypes.push(n.int32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
appearOffline: !1,
properties: {},
activityDescription: void 0,
activityDetails: void 0,
gameJoinTokens: {},
lookingForMore: !1,
joinable: !1,
inputTypes: []
};
return t.appearOffline = e.appearOffline ?? !1, t.properties = Object.entries(e.properties ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = NS.fromPartial(n)), 
e)), {}), t.activityDescription = void 0 !== e.activityDescription && null !== e.activityDescription ? kS.fromPartial(e.activityDescription) : void 0, 
t.activityDetails = void 0 !== e.activityDetails && null !== e.activityDetails ? kS.fromPartial(e.activityDetails) : void 0, 
t.gameJoinTokens = Object.entries(e.gameJoinTokens ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = t_.fromPartial(n)), 
e)), {}), t.lookingForMore = e.lookingForMore ?? !1, t.joinable = e.joinable ?? !1, 
t.inputTypes = e.inputTypes?.map((e => e)) || [], t;
}
};
var OS = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
void 0 !== e.value && NS.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = NS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: void 0
};
return t.key = e.key ?? "", t.value = void 0 !== e.value && null !== e.value ? NS.fromPartial(e.value) : void 0, 
t;
}
};
var AS = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
void 0 !== e.value && t_.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = t_.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: void 0
};
return t.key = e.key ?? "", t.value = void 0 !== e.value && null !== e.value ? t_.fromPartial(e.value) : void 0, 
t;
}
};
var wS = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.playerId && fv.encode(e.playerId, t.uint32(10).fork()).ldelim(), 
!0 === e.playerOnline && t.uint32(16).bool(e.playerOnline), void 0 !== e.lastSeenOnline && Iv.encode(e.lastSeenOnline, t.uint32(26).fork()).ldelim(), 
void 0 !== e.sessionNotification && LS.encode(e.sessionNotification, t.uint32(34).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: void 0,
playerOnline: !1,
lastSeenOnline: void 0,
sessionNotification: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerId = fv.decode(n, n.uint32());
break;

case 2:
i.playerOnline = n.bool();
break;

case 3:
i.lastSeenOnline = Iv.decode(n, n.uint32());
break;

case 4:
i.sessionNotification = LS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerId: void 0,
playerOnline: !1,
lastSeenOnline: void 0,
sessionNotification: void 0
};
return t.playerId = void 0 !== e.playerId && null !== e.playerId ? fv.fromPartial(e.playerId) : void 0, 
t.playerOnline = e.playerOnline ?? !1, t.lastSeenOnline = void 0 !== e.lastSeenOnline && null !== e.lastSeenOnline ? Iv.fromPartial(e.lastSeenOnline) : void 0, 
t.sessionNotification = void 0 !== e.sessionNotification && null !== e.sessionNotification ? LS.fromPartial(e.sessionNotification) : void 0, 
t;
}
};
var LS = {
encode(e, t = rs.Writer.create()) {
"" !== e.presenceSessionId && t.uint32(10).string(e.presenceSessionId), !0 === e.online && t.uint32(16).bool(e.online), 
void 0 !== e.updateTimestamp && Iv.encode(e.updateTimestamp, t.uint32(26).fork()).ldelim(), 
void 0 !== e.client && ES.encode(e.client, t.uint32(34).fork()).ldelim(), "" !== e.activityDescription && t.uint32(42).string(e.activityDescription), 
"" !== e.activityDetails && t.uint32(50).string(e.activityDetails), Object.entries(e.properties).forEach((([e, n]) => {
RS.encode({
key: e,
value: n
}, t.uint32(58).fork()).ldelim();
})), !0 === e.lookingForMore && t.uint32(64).bool(e.lookingForMore), !0 === e.joinable && t.uint32(72).bool(e.joinable), 
t.uint32(82).fork();
for (const n of e.inputTypes) t.int32(n);
t.ldelim();
for (const n of e.gameJoinTokenTypes) t.uint32(90).string(n);
return void 0 !== e.onlineTimestamp && Iv.encode(e.onlineTimestamp, t.uint32(98).fork()).ldelim(), 
!0 === e.updated && t.uint32(104).bool(e.updated), t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionId: "",
online: !1,
updateTimestamp: void 0,
client: void 0,
activityDescription: "",
activityDetails: "",
properties: {},
lookingForMore: !1,
joinable: !1,
inputTypes: [],
gameJoinTokenTypes: [],
onlineTimestamp: void 0,
updated: !1
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.presenceSessionId = n.string();
break;

case 2:
i.online = n.bool();
break;

case 3:
i.updateTimestamp = Iv.decode(n, n.uint32());
break;

case 4:
i.client = ES.decode(n, n.uint32());
break;

case 5:
i.activityDescription = n.string();
break;

case 6:
i.activityDetails = n.string();
break;

case 7:
const t = RS.decode(n, n.uint32());
void 0 !== t.value && (i.properties[t.key] = t.value);
break;

case 8:
i.lookingForMore = n.bool();
break;

case 9:
i.joinable = n.bool();
break;

case 10:
if (2 == (7 & e)) {
const e = n.uint32() + n.pos;
for (;n.pos < e; ) i.inputTypes.push(n.int32());
} else i.inputTypes.push(n.int32());
break;

case 11:
i.gameJoinTokenTypes.push(n.string());
break;

case 12:
i.onlineTimestamp = Iv.decode(n, n.uint32());
break;

case 13:
i.updated = n.bool();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionId: "",
online: !1,
updateTimestamp: void 0,
client: void 0,
activityDescription: "",
activityDetails: "",
properties: {},
lookingForMore: !1,
joinable: !1,
inputTypes: [],
gameJoinTokenTypes: [],
onlineTimestamp: void 0,
updated: !1
};
return t.presenceSessionId = e.presenceSessionId ?? "", t.online = e.online ?? !1, 
t.updateTimestamp = void 0 !== e.updateTimestamp && null !== e.updateTimestamp ? Iv.fromPartial(e.updateTimestamp) : void 0, 
t.client = void 0 !== e.client && null !== e.client ? ES.fromPartial(e.client) : void 0, 
t.activityDescription = e.activityDescription ?? "", t.activityDetails = e.activityDetails ?? "", 
t.properties = Object.entries(e.properties ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = NS.fromPartial(n)), 
e)), {}), t.lookingForMore = e.lookingForMore ?? !1, t.joinable = e.joinable ?? !1, 
t.inputTypes = e.inputTypes?.map((e => e)) || [], t.gameJoinTokenTypes = e.gameJoinTokenTypes?.map((e => e)) || [], 
t.onlineTimestamp = void 0 !== e.onlineTimestamp && null !== e.onlineTimestamp ? Iv.fromPartial(e.onlineTimestamp) : void 0, 
t.updated = e.updated ?? !1, t;
}
};
var RS = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
void 0 !== e.value && NS.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = NS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: void 0
};
return t.key = e.key ?? "", t.value = void 0 !== e.value && null !== e.value ? NS.fromPartial(e.value) : void 0, 
t;
}
};
var xS = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.appearOffline && MS.encode(e.appearOffline, t.uint32(10).fork()).ldelim(), 
Object.entries(e.properties).forEach((([e, n]) => {
BS.encode({
key: e,
value: n
}, t.uint32(18).fork()).ldelim();
})), void 0 !== e.activityDescription && FS.encode(e.activityDescription, t.uint32(26).fork()).ldelim(), 
void 0 !== e.activityDetails && FS.encode(e.activityDetails, t.uint32(34).fork()).ldelim(), 
Object.entries(e.gameJoinTokens).forEach((([e, n]) => {
DS.encode({
key: e,
value: n
}, t.uint32(42).fork()).ldelim();
})), void 0 !== e.lookingForMore && MS.encode(e.lookingForMore, t.uint32(50).fork()).ldelim(), 
void 0 !== e.joinable && MS.encode(e.joinable, t.uint32(58).fork()).ldelim(), void 0 !== e.inputTypes && VS.encode(e.inputTypes, t.uint32(66).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
appearOffline: void 0,
properties: {},
activityDescription: void 0,
activityDetails: void 0,
gameJoinTokens: {},
lookingForMore: void 0,
joinable: void 0,
inputTypes: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.appearOffline = MS.decode(n, n.uint32());
break;

case 2:
const t = BS.decode(n, n.uint32());
void 0 !== t.value && (i.properties[t.key] = t.value);
break;

case 3:
i.activityDescription = FS.decode(n, n.uint32());
break;

case 4:
i.activityDetails = FS.decode(n, n.uint32());
break;

case 5:
const r = DS.decode(n, n.uint32());
void 0 !== r.value && (i.gameJoinTokens[r.key] = r.value);
break;

case 6:
i.lookingForMore = MS.decode(n, n.uint32());
break;

case 7:
i.joinable = MS.decode(n, n.uint32());
break;

case 8:
i.inputTypes = VS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
appearOffline: void 0,
properties: {},
activityDescription: void 0,
activityDetails: void 0,
gameJoinTokens: {},
lookingForMore: void 0,
joinable: void 0,
inputTypes: void 0
};
return t.appearOffline = void 0 !== e.appearOffline && null !== e.appearOffline ? MS.fromPartial(e.appearOffline) : void 0, 
t.properties = Object.entries(e.properties ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = US.fromPartial(n)), 
e)), {}), t.activityDescription = void 0 !== e.activityDescription && null !== e.activityDescription ? FS.fromPartial(e.activityDescription) : void 0, 
t.activityDetails = void 0 !== e.activityDetails && null !== e.activityDetails ? FS.fromPartial(e.activityDetails) : void 0, 
t.gameJoinTokens = Object.entries(e.gameJoinTokens ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = HS.fromPartial(n)), 
e)), {}), t.lookingForMore = void 0 !== e.lookingForMore && null !== e.lookingForMore ? MS.fromPartial(e.lookingForMore) : void 0, 
t.joinable = void 0 !== e.joinable && null !== e.joinable ? MS.fromPartial(e.joinable) : void 0, 
t.inputTypes = void 0 !== e.inputTypes && null !== e.inputTypes ? VS.fromPartial(e.inputTypes) : void 0, 
t;
}
};
var BS = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
void 0 !== e.value && US.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = US.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: void 0
};
return t.key = e.key ?? "", t.value = void 0 !== e.value && null !== e.value ? US.fromPartial(e.value) : void 0, 
t;
}
};
var DS = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
void 0 !== e.value && HS.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = HS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: void 0
};
return t.key = e.key ?? "", t.value = void 0 !== e.value && null !== e.value ? HS.fromPartial(e.value) : void 0, 
t;
}
};
var MS = {
encode: (e, t = rs.Writer.create()) => (0 !== e.operation && t.uint32(8).int32(e.operation), 
!0 === e.value && t.uint32(16).bool(e.value), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
operation: 0,
value: !1
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.operation = n.int32();
break;

case 2:
i.value = n.bool();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
operation: 0,
value: !1
};
return t.operation = e.operation ?? 0, t.value = e.value ?? !1, t;
}
};
var FS = {
encode: (e, t = rs.Writer.create()) => (0 !== e.operation && t.uint32(8).int32(e.operation), 
void 0 !== e.value && kS.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
operation: 0,
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.operation = n.int32();
break;

case 2:
i.value = kS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
operation: 0,
value: void 0
};
return t.operation = e.operation ?? 0, t.value = void 0 !== e.value && null !== e.value ? kS.fromPartial(e.value) : void 0, 
t;
}
};
var US = {
encode: (e, t = rs.Writer.create()) => (0 !== e.operation && t.uint32(8).int32(e.operation), 
void 0 !== e.value && NS.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
operation: 0,
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.operation = n.int32();
break;

case 2:
i.value = NS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
operation: 0,
value: void 0
};
return t.operation = e.operation ?? 0, t.value = void 0 !== e.value && null !== e.value ? NS.fromPartial(e.value) : void 0, 
t;
}
};
var HS = {
encode: (e, t = rs.Writer.create()) => (0 !== e.operation && t.uint32(8).int32(e.operation), 
void 0 !== e.value && t_.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
operation: 0,
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.operation = n.int32();
break;

case 2:
i.value = t_.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
operation: 0,
value: void 0
};
return t.operation = e.operation ?? 0, t.value = void 0 !== e.value && null !== e.value ? t_.fromPartial(e.value) : void 0, 
t;
}
};
var VS = {
encode(e, t = rs.Writer.create()) {
0 !== e.operation && t.uint32(8).int32(e.operation), t.uint32(18).fork();
for (const n of e.values) t.int32(n);
return t.ldelim(), t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
operation: 0,
values: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.operation = n.int32();
break;

case 2:
if (2 == (7 & e)) {
const e = n.uint32() + n.pos;
for (;n.pos < e; ) i.values.push(n.int32());
} else i.values.push(n.int32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
operation: 0,
values: []
};
return t.operation = e.operation ?? 0, t.values = e.values?.map((e => e)) || [], 
t;
}
};
var JS = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.clientInfo && ES.encode(e.clientInfo, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
clientInfo: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.clientInfo = ES.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
clientInfo: void 0
};
return t.clientInfo = void 0 !== e.clientInfo && null !== e.clientInfo ? ES.fromPartial(e.clientInfo) : void 0, 
t;
}
};
var zS = {
encode: (e, t = rs.Writer.create()) => ("" !== e.presenceSessionId && t.uint32(10).string(e.presenceSessionId), 
void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionId: "",
presenceSessionToken: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.presenceSessionId = n.string();
break;

case 2:
i.presenceSessionToken = hT.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionId: "",
presenceSessionToken: void 0
};
return t.presenceSessionId = e.presenceSessionId ?? "", t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t;
}
};
var GS = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.presenceSessionToken = hT.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t;
}
};
var jS = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var qS = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim(), 
void 0 !== e.presence && CS.encode(e.presence, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0,
presence: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.presenceSessionToken = hT.decode(n, n.uint32());
break;

case 2:
i.presence = CS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0,
presence: void 0
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t.presence = void 0 !== e.presence && null !== e.presence ? CS.fromPartial(e.presence) : void 0, 
t;
}
};
var WS = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.presenceNotification && wS.encode(e.presenceNotification, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceNotification: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.presenceNotification = wS.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
presenceNotification: void 0
};
return t.presenceNotification = void 0 !== e.presenceNotification && null !== e.presenceNotification ? wS.fromPartial(e.presenceNotification) : void 0, 
t;
}
};
var YS = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim(), 
void 0 !== e.presenceUpdate && CS.encode(e.presenceUpdate, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0,
presenceUpdate: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.presenceSessionToken = hT.decode(n, n.uint32());
break;

case 2:
i.presenceUpdate = CS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0,
presenceUpdate: void 0
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t.presenceUpdate = void 0 !== e.presenceUpdate && null !== e.presenceUpdate ? CS.fromPartial(e.presenceUpdate) : void 0, 
t;
}
};
var KS = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var XS = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim(), 
void 0 !== e.presenceUpdate && xS.encode(e.presenceUpdate, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0,
presenceUpdate: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.presenceSessionToken = hT.decode(n, n.uint32());
break;

case 2:
i.presenceUpdate = xS.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0,
presenceUpdate: void 0
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t.presenceUpdate = void 0 !== e.presenceUpdate && null !== e.presenceUpdate ? xS.fromPartial(e.presenceUpdate) : void 0, 
t;
}
};
var QS = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var $S = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetPlayerId && fv.encode(e.targetPlayerId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0,
targetPlayerId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.presenceSessionToken = hT.decode(n, n.uint32());
break;

case 2:
i.targetPlayerId = fv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0,
targetPlayerId: void 0
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t.targetPlayerId = void 0 !== e.targetPlayerId && null !== e.targetPlayerId ? fv.fromPartial(e.targetPlayerId) : void 0, 
t;
}
};
var ZS = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var eT = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim();
for (const n of e.targetPlayerIds) fv.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0,
targetPlayerIds: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.presenceSessionToken = hT.decode(n, n.uint32());
break;

case 2:
i.targetPlayerIds.push(fv.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0,
targetPlayerIds: []
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t.targetPlayerIds = e.targetPlayerIds?.map((e => fv.fromPartial(e))) || [], t;
}
};
var tT = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var nT = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.presenceSessionToken = hT.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t;
}
};
var rT = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var iT = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim(), 
void 0 !== e.targetPlayerId && fv.encode(e.targetPlayerId, t.uint32(18).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0,
targetPlayerId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.presenceSessionToken = hT.decode(n, n.uint32());
break;

case 2:
i.targetPlayerId = fv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0,
targetPlayerId: void 0
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t.targetPlayerId = void 0 !== e.targetPlayerId && null !== e.targetPlayerId ? fv.fromPartial(e.targetPlayerId) : void 0, 
t;
}
};
var aT = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var oT = {
encode(e, t = rs.Writer.create()) {
void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim();
for (const n of e.targetPlayerIds) fv.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0,
targetPlayerIds: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.presenceSessionToken = hT.decode(n, n.uint32());
break;

case 2:
i.targetPlayerIds.push(fv.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0,
targetPlayerIds: []
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t.targetPlayerIds = e.targetPlayerIds?.map((e => fv.fromPartial(e))) || [], t;
}
};
var sT = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var lT = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.presenceSessionToken = hT.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t;
}
};
var cT = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var dT = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.presenceSessionToken && hT.encode(e.presenceSessionToken, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
presenceSessionToken: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.presenceSessionToken = hT.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
presenceSessionToken: void 0
};
return t.presenceSessionToken = void 0 !== e.presenceSessionToken && null !== e.presenceSessionToken ? hT.fromPartial(e.presenceSessionToken) : void 0, 
t;
}
};
var uT = {
encode(e, t = rs.Writer.create()) {
for (const n of e.subscribedToPlayers) fv.encode(n, t.uint32(10).fork()).ldelim();
return !0 === e.subscribedToFriends && t.uint32(16).bool(e.subscribedToFriends), 
t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
subscribedToPlayers: [],
subscribedToFriends: !1
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.subscribedToPlayers.push(fv.decode(n, n.uint32()));
break;

case 2:
i.subscribedToFriends = n.bool();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
subscribedToPlayers: [],
subscribedToFriends: !1
};
return t.subscribedToPlayers = e.subscribedToPlayers?.map((e => fv.fromPartial(e))) || [], 
t.subscribedToFriends = e.subscribedToFriends ?? !1, t;
}
};
var pT = {
encode: (e, t = rs.Writer.create()) => ("" !== e.sessionId && t.uint32(10).string(e.sessionId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
sessionId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.sessionId = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
sessionId: ""
};
return t.sessionId = e.sessionId ?? "", t;
}
};
var fT = {
encode: (e, t = rs.Writer.create()) => (Object.entries(e.gameJoinTokens).forEach((([e, n]) => {
mT.encode({
key: e,
value: n
}, t.uint32(10).fork()).ldelim();
})), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
gameJoinTokens: {}
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) {
const e = mT.decode(n, n.uint32());
void 0 !== e.value && (i.gameJoinTokens[e.key] = e.value);
} else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
gameJoinTokens: {}
};
return t.gameJoinTokens = Object.entries(e.gameJoinTokens ?? {}).reduce(((e, [t, n]) => (void 0 !== n && (e[t] = t_.fromPartial(n)), 
e)), {}), t;
}
};
var mT = {
encode: (e, t = rs.Writer.create()) => ("" !== e.key && t.uint32(10).string(e.key), 
void 0 !== e.value && t_.encode(e.value, t.uint32(18).fork()).ldelim(), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
key: "",
value: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.key = n.string();
break;

case 2:
i.value = t_.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
key: "",
value: void 0
};
return t.key = e.key ?? "", t.value = void 0 !== e.value && null !== e.value ? t_.fromPartial(e.value) : void 0, 
t;
}
};
function yT() {
return {
token: new Uint8Array
};
}
var hT = {
encode: (e, t = rs.Writer.create()) => (0 !== e.token.length && t.uint32(10).bytes(e.token), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = yT();
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.token = n.bytes(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = yT();
return t.token = e.token ?? new Uint8Array, t;
}
}, gT = class {
constructor(e, t, n) {
this.grpcClient = e, this.grpcMetadata = t, this.identityService = n, this.onCachePresenceStatusLimitReached = new as;
}
async attachToPresenceSession() {
const e = await this.identityService.getPersonaInfo({});
pP(e?.personaInfo, "personaInfo missing");
const t = {
clientInfo: {
playerNetworkId: e.personaInfo.playerNetworkId,
devicePlatformId: e.personaInfo.devicePlatformId,
productId: {
id: By.productId
},
locale: By.locale
}
}, {presenceSessionToken: n} = await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/CreatePresenceSession", JS, zS, t, this.grpcMetadata);
pP(n, "presenceSessionToken missing"), this.presenceSessionToken = n;
const r = {
presenceSessionToken: n,
presence: {
appearOffline: !1,
properties: {},
activityDescription: void 0,
activityDetails: void 0,
gameJoinTokens: {},
lookingForMore: !1,
joinable: !1,
inputTypes: []
}
}, i = new os;
return i.start = () => {
const e = this.grpcClient.makeServerStreamingRequest("/eadp.social.presence.v1.PresenceService/ConnectToPresenceSession", qS, WS, r, this.grpcMetadata);
e.onError((e => i.error.trigger(e))), e.onEnd((() => i.end.trigger())), e.onData((e => {
i.data.trigger(e);
}));
}, {
stream: i,
response: {}
};
}
async detachFromPresenceSession() {
const e = {
presenceSessionToken: this.presenceSessionToken
};
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/DeletePresenceSession", GS, jS, e, this.grpcMetadata), 
{};
}
async getDirectJoinTokens(e) {
const t = e;
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/GetDirectJoinTokens", pT, fT, t, this.grpcMetadata);
}
async getFriendsPresence() {
throw Error("getFriendsPresence not implemented");
}
async getPlayerPresence() {
throw Error("getPlayerPresence not implemented");
}
async getPresenceSubscriptions() {
const e = {
presenceSessionToken: this.presenceSessionToken
};
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/GetPresenceSubscriptions", dT, uT, e, this.grpcMetadata);
}
async partialUpdatePresence(e) {
const t = {
presenceSessionToken: this.presenceSessionToken,
...e
};
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/PartialUpdatePresenceSession", XS, QS, t, this.grpcMetadata);
}
async subscribeToFriendsPresence() {
const e = {
presenceSessionToken: this.presenceSessionToken
};
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/SubscribeToFriendsPresence", nT, rT, e, this.grpcMetadata);
}
async subscribeToPlayerPresence(e) {
const t = {
presenceSessionToken: this.presenceSessionToken,
...e
};
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/SubscribeToPlayerPresence", $S, ZS, t, this.grpcMetadata);
}
async subscribeToPlayersPresence(e) {
const t = {
presenceSessionToken: this.presenceSessionToken,
...e
};
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/SubscribeToPlayersPresence", eT, tT, t, this.grpcMetadata);
}
async unsubscribeFromFriendsPresence() {
const e = {
presenceSessionToken: this.presenceSessionToken
};
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/UnsubscribeFromFriendsPresence", lT, cT, e, this.grpcMetadata);
}
async unsubscribeFromPlayerPresence(e) {
const t = {
presenceSessionToken: this.presenceSessionToken,
...e
};
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/UnsubscribeFromPlayerPresence", iT, aT, t, this.grpcMetadata);
}
async unsubscribeFromPlayersPresence(e) {
const t = {
presenceSessionToken: this.presenceSessionToken,
...e
};
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/UnsubscribeFromPlayersPresence", oT, sT, t, this.grpcMetadata);
}
async updatePresence(e) {
const t = {
presenceSessionToken: this.presenceSessionToken,
...e
};
return await this.grpcClient.makeUnaryRequest("/eadp.social.presence.v1.PresenceService/UpdatePresenceSession", YS, KS, t, this.grpcMetadata);
}
disableCachePresenceStatus() {
throw Error("Not implemented");
}
enableCachePresenceStatus() {
throw Error("Not implemented");
}
getCachePresenceStatusPrimaryKeys() {
throw Error("Not implemented");
}
getCachePresenceStatusSecondaryKeys() {
throw Error("Not implemented");
}
getCachePresenceStatusValue() {
throw Error("Not implemented");
}
setCachePresenceStatusLimit() {
throw Error("Not implemented");
}
};
var IT = {
encode(e, t = rs.Writer.create()) {
"" !== e.displayName && t.uint32(10).string(e.displayName);
for (const n of e.assets) vT.encode(n, t.uint32(18).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
displayName: "",
assets: []
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.displayName = n.string();
break;

case 2:
i.assets.push(vT.decode(n, n.uint32()));
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
displayName: "",
assets: []
};
return t.displayName = e.displayName ?? "", t.assets = e.assets?.map((e => vT.fromPartial(e))) || [], 
t;
}
};
var vT = {
encode: (e, t = rs.Writer.create()) => ("" !== e.type && t.uint32(10).string(e.type), 
void 0 !== e.geometry && bT.encode(e.geometry, t.uint32(18).fork()).ldelim(), "" !== e.url && t.uint32(26).string(e.url), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
type: "",
geometry: void 0,
url: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.type = n.string();
break;

case 2:
i.geometry = bT.decode(n, n.uint32());
break;

case 3:
i.url = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
type: "",
geometry: void 0,
url: ""
};
return t.type = e.type ?? "", t.geometry = void 0 !== e.geometry && null !== e.geometry ? bT.fromPartial(e.geometry) : void 0, 
t.url = e.url ?? "", t;
}
};
var bT = {
encode: (e, t = rs.Writer.create()) => (0 !== e.width && t.uint32(8).uint32(e.width), 
0 !== e.height && t.uint32(16).uint32(e.height), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
width: 0,
height: 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.width = n.uint32();
break;

case 2:
i.height = n.uint32();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
width: 0,
height: 0
};
return t.width = e.width ?? 0, t.height = e.height ?? 0, t;
}
};
var _T = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.productId && Zb.encode(e.productId, t.uint32(10).fork()).ldelim(), 
"" !== e.locale && t.uint32(18).string(e.locale), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
productId: void 0,
locale: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.productId = Zb.decode(n, n.uint32());
break;

case 2:
i.locale = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
productId: void 0,
locale: ""
};
return t.productId = void 0 !== e.productId && null !== e.productId ? Zb.fromPartial(e.productId) : void 0, 
t.locale = e.locale ?? "", t;
}
};
var PT = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.response && IT.encode(e.response, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
response: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.response = IT.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
response: void 0
};
return t.response = void 0 !== e.response && null !== e.response ? IT.fromPartial(e.response) : void 0, 
t;
}
}, ST = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async GetProduct(e) {
const t = _T.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/eadp.crossplaycontentmart.v1.CrossplayContentMartService/GetProduct", _T, PT, t, this.grpcMetadata);
}
async GetPlayerNetwork() {
throw Error("Not implemented");
}
async GetInputMethod() {
throw Error("Not implemented");
}
disableFifoCache() {
throw Error("Not implemented");
}
enableFifoCache() {
throw Error("Not implemented");
}
};
var TT = {
encode: (e, t = rs.Writer.create()) => ("" !== e.teamId && t.uint32(10).string(e.teamId), 
"" !== e.playerId && t.uint32(18).string(e.playerId), "" !== e.displayName && t.uint32(26).string(e.displayName), 
"" !== e.playerNetworkId && t.uint32(34).string(e.playerNetworkId), 0 !== e.timestamp && t.uint32(40).uint64(e.timestamp), 
"" !== e.primaryContext && t.uint32(50).string(e.primaryContext), "" !== e.secondaryContext && t.uint32(58).string(e.secondaryContext), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
teamId: "",
playerId: "",
displayName: "",
playerNetworkId: "",
timestamp: 0,
primaryContext: "",
secondaryContext: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.teamId = n.string();
break;

case 2:
i.playerId = n.string();
break;

case 3:
i.displayName = n.string();
break;

case 4:
i.playerNetworkId = n.string();
break;

case 5:
i.timestamp = Number(n.uint64());
break;

case 6:
i.primaryContext = n.string();
break;

case 7:
i.secondaryContext = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
teamId: "",
playerId: "",
displayName: "",
playerNetworkId: "",
timestamp: 0,
primaryContext: "",
secondaryContext: ""
};
return t.teamId = e.teamId ?? "", t.playerId = e.playerId ?? "", t.displayName = e.displayName ?? "", 
t.playerNetworkId = e.playerNetworkId ?? "", t.timestamp = e.timestamp ?? 0, t.primaryContext = e.primaryContext ?? "", 
t.secondaryContext = e.secondaryContext ?? "", t;
}
};
var ET = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.playerId = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
playerId: ""
};
return t.playerId = e.playerId ?? "", t;
}
};
var kT = {
encode(e, t = rs.Writer.create()) {
for (const n of e.encounters) TT.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
encounters: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.encounters.push(TT.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
encounters: []
};
return t.encounters = e.encounters?.map((e => TT.fromPartial(e))) || [], t;
}
};
var NT = {
encode: (e, t = rs.Writer.create()) => ("" !== e.playerId && t.uint32(10).string(e.playerId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.playerId = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
playerId: ""
};
return t.playerId = e.playerId ?? "", t;
}
};
var CT = {
encode(e, t = rs.Writer.create()) {
for (const n of e.encounters) TT.encode(n, t.uint32(10).fork()).ldelim();
return t;
},
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
encounters: []
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.encounters.push(TT.decode(n, n.uint32())); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
encounters: []
};
return t.encounters = e.encounters?.map((e => TT.fromPartial(e))) || [], t;
}
}, OT = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async getRecentlyMetPlayers(e) {
const t = ET.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/native.game.RecentlyMetService/getRecentlyMetPlayers", ET, kT, t, this.grpcMetadata);
}
async getSessionPlayers(e) {
const t = ET.fromPartial(e);
return this.grpcClient.makeUnaryRequest("/native.game.RecentlyMetService/getSessionPlayers", NT, CT, t, this.grpcMetadata);
}
};
var AT = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var wT = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.tokenInfo && xT.encode(e.tokenInfo, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
tokenInfo: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.tokenInfo = xT.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
tokenInfo: void 0
};
return t.tokenInfo = void 0 !== e.tokenInfo && null !== e.tokenInfo ? xT.fromPartial(e.tokenInfo) : void 0, 
t;
}
};
var LT = {
encode: (e, t = rs.Writer.create()) => t,
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {};
for (;n.pos < r; ) {
const e = n.uint32();
n.skipType(7 & e);
}
return i;
},
fromPartial: e => ({})
};
var RT = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.personaInfo && BT.encode(e.personaInfo, t.uint32(10).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
personaInfo: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.personaInfo = BT.decode(n, n.uint32()); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
personaInfo: void 0
};
return t.personaInfo = void 0 !== e.personaInfo && null !== e.personaInfo ? BT.fromPartial(e.personaInfo) : void 0, 
t;
}
};
var xT = {
encode: (e, t = rs.Writer.create()) => ("" !== e.userId && t.uint32(10).string(e.userId), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
userId: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
if (e >>> 3 == 1) i.userId = n.string(); else n.skipType(7 & e);
}
return i;
},
fromPartial(e) {
const t = {
userId: ""
};
return t.userId = e.userId ?? "", t;
}
};
var BT = {
encode: (e, t = rs.Writer.create()) => ("" !== e.personaId && t.uint32(10).string(e.personaId), 
"" !== e.displayName && t.uint32(18).string(e.displayName), void 0 !== e.devicePlatformId && $b.encode(e.devicePlatformId, t.uint32(26).fork()).ldelim(), 
void 0 !== e.playerNetworkId && bv.encode(e.playerNetworkId, t.uint32(34).fork()).ldelim(), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
personaId: "",
displayName: "",
devicePlatformId: void 0,
playerNetworkId: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.personaId = n.string();
break;

case 2:
i.displayName = n.string();
break;

case 3:
i.devicePlatformId = $b.decode(n, n.uint32());
break;

case 4:
i.playerNetworkId = bv.decode(n, n.uint32());
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
personaId: "",
displayName: "",
devicePlatformId: void 0,
playerNetworkId: void 0
};
return t.personaId = e.personaId ?? "", t.displayName = e.displayName ?? "", t.devicePlatformId = void 0 !== e.devicePlatformId && null !== e.devicePlatformId ? $b.fromPartial(e.devicePlatformId) : void 0, 
t.playerNetworkId = void 0 !== e.playerNetworkId && null !== e.playerNetworkId ? bv.fromPartial(e.playerNetworkId) : void 0, 
t;
}
}, DT = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async getPersonaInfo(e) {
return this.grpcClient.makeUnaryRequest("/native.identity.IdentityService/getPersonaInfo", LT, RT, e, this.grpcMetadata);
}
async getTokenInfo(e) {
return this.grpcClient.makeUnaryRequest("/native.identity.IdentityService/getTokenInfo", AT, wT, e, this.grpcMetadata);
}
};
var MT = {
encode: (e, t = rs.Writer.create()) => (0 !== e.playerActionId && t.uint32(8).uint32(e.playerActionId), 
"" !== e.playerId && t.uint32(18).string(e.playerId), "" !== e.personaId && t.uint32(26).string(e.personaId), 
"" !== e.playerNetworkId && t.uint32(34).string(e.playerNetworkId), void 0 !== e.confirmed && t.uint32(40).bool(e.confirmed), 
t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
playerActionId: 0,
playerId: "",
personaId: "",
playerNetworkId: "",
confirmed: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.playerActionId = n.uint32();
break;

case 2:
i.playerId = n.string();
break;

case 3:
i.personaId = n.string();
break;

case 4:
i.playerNetworkId = n.string();
break;

case 5:
i.confirmed = n.bool();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
playerActionId: 0,
playerId: "",
personaId: "",
playerNetworkId: "",
confirmed: void 0
};
return t.playerActionId = e.playerActionId ?? 0, t.playerId = e.playerId ?? "", 
t.personaId = e.personaId ?? "", t.playerNetworkId = e.playerNetworkId ?? "", t.confirmed = e.confirmed ?? void 0, 
t;
}
};
var FT = {
encode: (e, t = rs.Writer.create()) => (void 0 !== e.successMessage && t.uint32(10).string(e.successMessage), 
void 0 !== e.confirmation && UT.encode(e.confirmation, t.uint32(18).fork()).ldelim(), 
void 0 !== e.errorMessage && t.uint32(26).string(e.errorMessage), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
successMessage: void 0,
confirmation: void 0,
errorMessage: void 0
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.successMessage = n.string();
break;

case 2:
i.confirmation = UT.decode(n, n.uint32());
break;

case 3:
i.errorMessage = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
successMessage: void 0,
confirmation: void 0,
errorMessage: void 0
};
return t.successMessage = e.successMessage ?? void 0, t.confirmation = void 0 !== e.confirmation && null !== e.confirmation ? UT.fromPartial(e.confirmation) : void 0, 
t.errorMessage = e.errorMessage ?? void 0, t;
}
};
var UT = {
encode: (e, t = rs.Writer.create()) => ("" !== e.localizedTitle && t.uint32(10).string(e.localizedTitle), 
"" !== e.localizedDescription && t.uint32(18).string(e.localizedDescription), t),
decode(e, t) {
const n = e instanceof rs.Reader ? e : new rs.Reader(e);
let r = void 0 === t ? n.len : n.pos + t;
const i = {
localizedTitle: "",
localizedDescription: ""
};
for (;n.pos < r; ) {
const e = n.uint32();
switch (e >>> 3) {
case 1:
i.localizedTitle = n.string();
break;

case 2:
i.localizedDescription = n.string();
break;

default:
n.skipType(7 & e);
}
}
return i;
},
fromPartial(e) {
const t = {
localizedTitle: "",
localizedDescription: ""
};
return t.localizedTitle = e.localizedTitle ?? "", t.localizedDescription = e.localizedDescription ?? "", 
t;
}
}, HT = class {
constructor(e, t) {
this.grpcClient = e, this.grpcMetadata = t;
}
async invokePlayerActionAsync(e) {
return this.grpcClient.makeUnaryRequest("/native.game.DeepLinkService/invokePlayerActionAsync", MT, FT, e, this.grpcMetadata);
}
};
function VT(e, t, n) {
e.Identity = new DT(t, n), e.Friends = new Tb(t, n), e.PlatformFriends = new Qb(t, n), 
e.PresenceSession = new gT(t, n, e.Identity), e.BlockService = new tb(t, n), e.Invites = new Gv(t, n), 
e.MuteService = new Bb(t, n), e.PlayerSearch = new GP(t, n), e.Party = new mP(t, n), 
e.Lobby = new V_(t, n), e.PlayerList = new SS(t, n), e.Voip = new HP(t, n), e.RecentlyMet = new OT(t, n), 
e.FriendListNotifications = new Sb(t, n), e.PlayerCardService = new $P(t, n), e.InviteListNotifications = new zv(t, n), 
e.GameInvite = new __(t, n), e.ContentMart = new ST(t, n);
const r = new HT(t, n);
e.DeepLink.invokePlayerActionAsync = r.invokePlayerActionAsync.bind(r);
}
var JT = class {
triggerBootEnd(e) {
this.handleEvent("boot_end", e);
}
triggerBootStart(e) {
this.handleEvent("boot_start", e);
}
triggerFriends(e) {
this.handleEvent("friends", e);
}
triggerFriendsPresence(e) {
this.handleEvent("friends_presence", e);
}
triggerGroup(e) {
this.handleEvent("group", e);
}
triggerLogin(e) {
this.handleEvent("login", e);
}
triggerMessage(e) {
this.handleEvent("message", e);
}
triggerMpLink(e) {
this.handleEvent("mp_link", e);
}
triggerPageView(e) {
this.handleEvent("page_view", e);
}
triggerPath(e) {
this.handleEvent("path", e);
}
triggerPlayerGrievance(e) {
this.handleEvent("player_grievance", e);
}
triggerSearch(e) {
this.handleEvent("search", e);
}
triggerSettings(e) {
this.handleEvent("settings", e);
}
triggerSocMessage(e) {
this.handleEvent("soc_message", e);
}
}, zT = [ 500, 501, 503, 429 ], GT = class extends JT {
constructor(e, t, n) {
super(), this.httpPost = e, this.pinUrl = t, this.telemetryEnabled = !0, this.MAX_BACKOFF_COUNTER = 6, 
this.FLUSH_INTERVAL_IN_MS = 6e4, this.eventCounter = 0, this.preReadyQueuedEvents = [], 
this.queuedEvents = [], this.sentPayloads = [], this.queueSize = 0, this.nextSendAt = 0, 
this.nextSendTimeout = -1, this.backoffCounter = 1, this.maxQueueSize = 2e4, n && this.updateSessionInfo(n);
}
clearDebug() {
this.sentPayloads = [], this.clearQueue();
}
setGetCustomCoreHeaders(e) {
this.customCoreHeaders = e;
}
updateSessionId() {
this.info && this.updateSessionInfo(this.info);
}
setTelemetryEnabled(e) {
this.telemetryEnabled = e, e || (this.clearQueue(), this.clearTimer());
}
updateSessionInfo(e) {
if (this.info = e, this.sessionHeaders = {
sid: `${this.info.personaId}_${Date.now()}`,
taxv: "2.0",
tidt: "service",
tid: "photon",
rel: "prod",
v: e.versionNumber,
plat: e.platform,
et: "client_photon",
ts_post: "NOT_SET_YET",
loc: e.locale,
mac: e.macAddress,
clientIP: e.clientIp,
custom: {
edw_master_ttl_id: e.edwMasterTitleId,
offer_id: e.offerId,
mdm_master_ttl_id: e.mdmMasterTitleId,
entitlement_id: e.entitlementId,
tidv: e.buildVersion,
tsid: e.titleLaunchSessionId
},
events: [ "QUEUED_EVENTS_PLACEHOLDER" ]
}, this.preReadyQueuedEvents.length) {
for (const e of this.preReadyQueuedEvents) this.handleEvent(e.eventName, e.params, e.timestamp);
this.preReadyQueuedEvents.length = 0;
}
}
handleEvent(e, t, n = (new Date).toISOString()) {
if (!this.telemetryEnabled) return;
if (!this.info) return void this.preReadyQueuedEvents.push({
eventName: e,
params: t,
timestamp: n
});
const r = {
s: ++this.eventCounter,
en: e,
pidt: "persona",
pid: this.info.personaId,
pidm: {
nucleus: this.info.nucleusId
},
ts_event: n,
custom: this.customCoreHeaders?.() ?? {}
}, i = {
...t,
core: r
}, a = JSON.stringify(i);
this.queuedEvents.push(a), this.queueSize += a.length, this.startTimer(), this.queueSize > this.maxQueueSize && this.flushQueue();
}
async flushQueue() {
if (0 === this.queuedEvents.length || !this.sessionHeaders) return;
if (this.backoffCounter > this.MAX_BACKOFF_COUNTER) return this.clearQueue(), void this.clearTimer();
const e = [];
for (;this.queuedEvents.length > 0; ) e.push(this.consumeQueuedEvents());
return this.clearTimer(), this.postEvents(e);
}
consumeQueuedEvents() {
if (this.queueSize < this.maxQueueSize) return this.queueSize = 0, this.queuedEvents.splice(0, this.queuedEvents.length);
const e = [];
let t = 0;
for (const n of this.queuedEvents) if (e.push(n), t += n.length, t > this.maxQueueSize) break;
return this.queuedEvents.splice(0, e.length), this.queueSize -= t, e;
}
generatePayLoad(e) {
if (this.sessionHeaders) {
return JSON.stringify({
...this.sessionHeaders,
ts_post: (new Date).toISOString()
}).replace('"QUEUED_EVENTS_PLACEHOLDER"', e.join(","));
}
return "";
}
clearQueue() {
this.queuedEvents.length = 0, this.queueSize = 0;
}
startTimer() {
if (this.nextSendTimeout < 0) {
const e = this.FLUSH_INTERVAL_IN_MS * this.backoffCounter;
this.nextSendAt = Date.now() + e, this.nextSendTimeout = setTimeout((() => {
this.clearTimer(), this.flushQueue();
}), e);
}
}
clearTimer() {
this.nextSendTimeout && (clearTimeout(this.nextSendTimeout), this.nextSendTimeout = -1, 
this.nextSendAt = 0);
}
async postEvents(e) {
await Promise.all(e.map((async e => {
const t = this.generatePayLoad(e);
try {
const e = await this.httpPost(this.pinUrl, t);
zT.includes(e.statusCode) ? this.backoffCounter++ : this.backoffCounter = 1;
} catch (e) {
this.backoffCounter++;
}
})));
}
}, jT = xy.includes(By.environment) ? "https://pin-river.data.ea.com/pinEvents" : "https://pin-river-test.data.ea.com/pinEvents", [qT, WT] = $s({
debugName: "pinClientState",
create: e => {
const t = e.get(km);
return new GT(t.http.post, jT);
}
});
function YT(e, t) {
const n = e.get(qT), r = e.get(hh), i = t.Telemetry.getTelemetryAllowed({})?.status ?? !0;
n.setTelemetryEnabled(i), r.setMetricsEnabled(i);
}
var KT = {
"ar-sa": "ar_SA-9a5e8062.json",
"cs-cz": "cs_CZ-a1a8a9c7.json",
"da-dk": "da_DK-8c6b86bb.json",
"de-de": "de_DE-b2d40ff9.json",
"en-us": "en_US-167fcbfc.json",
"es-es": "es_ES-4eec1b0b.json",
"es-mx": "es_MX-f33adde0.json",
"fr-fr": "fr_FR-fc6d98bd.json",
"it-it": "it_IT-185eea6f.json",
"ja-jp": "ja_JP-72b3f18f.json",
"ko-kr": "ko_KR-dd2e970a.json",
"nl-nl": "nl_NL-14e783e7.json",
"nb-no": "nb_NO-72f00679.json",
"no-no": "nb_NO-72f00679.json",
"pl-pl": "pl_PL-5df0adc8.json",
"pt-br": "pt_BR-06a536d4.json",
"pt-pt": "pt_PT-77ae28f4.json",
"ru-ru": "ru_RU-788fc32f.json",
"sv-se": "sv_SE-85bee33b.json",
"tr-tr": "tr_TR-e3f49e8b.json",
"zh-cn": "zh_CN-91a1243d.json",
"zh-tw": "zh_TW-b0744762.json",
"zh-hk": "zh_TW-b0744762.json"
}, XT = "en-us";
function QT(e) {
const t = e.toLowerCase();
return KT[t] ? {
supportedLocale: t,
isRTL: By.isRTL
} : {
supportedLocale: XT,
isRTL: false
};
}
function $T(e, t) {
const n = "/translations/" + KT[e], r = gc.bundleUrlUnsafe;
if (!!Uc(r)) {
return r.split("/").slice(0, -1).join("/") + n;
}
return "https://artifactory.ea.com/artifactory/eax-generic-local/photon/main/latest" + n;
}
async function ZT(e, t, n, r) {
const i = Date.now(), a = $T(t);
try {
return void await Jf(e, a, n);
} catch (e) {
const t = "" + e;
return console.warn(t), {
message: t,
url: a,
duration: Date.now() - i
};
}
}
async function eE(e, t, n = "") {
let r = !0;
const i = [], {supportedLocale: a, isRTL: o} = QT(t), s = await ZT(e, a, o);
if (s) {
i.push(s);
const t = await ZT(e, XT, false);
t && (r = !1, i.push(t));
}
return {
translationsLoaded: r,
errors: i
};
}
var tE = Bh.object({
tokenInfo: Bh.object({
userId: Bh.string,
productId: Bh.optional(Bh.nullable(Bh.string))
}),
personaInfo: Bh.object({
personaId: Bh.string,
displayName: Bh.string,
devicePlatformId: Gg,
playerNetworkId: zg
})
}), nE = class extends Pg {}, [rE, iE] = $s({
debugName: "userStateStoreState",
create: () => new nE({
debugName: "User"
})
}), [aE, oE] = Es("User"), sE = Ps({
debugName: "userState",
get: ({get: e}) => {
const t = e(rE).get().toProps();
if (t.data) {
const n = e(VI).getByIds(t.data.personas);
return {
...t,
data: {
...t.data,
personas: Og(n)
}
};
}
return {
...t,
data: void 0
};
}
}), lE = e => e.getUntracked(sE);
function cE() {
return {
data: oE().data?.tokenInfo.userId
};
}
function dE(e, t) {
const {eaPlayerId: n} = tI(e);
return t ? {
isCurrentEaUser: t.tokenInfo.userId === n,
isCurrentPhotonUser: t.photonPlayerId === e
} : {
isCurrentEaUser: !1,
isCurrentPhotonUser: !1
};
}
function uE(e) {
const {data: t} = oE();
return dE(e, t);
}
function pE(e, t) {
return dE(t, e(sE).data);
}
function fE(e) {
const t = Sh(e.personaInfo.playerNetworkId);
return {
tokenInfo: {
userId: e.tokenInfo.userId,
productId: e.tokenInfo.productId ?? void 0
},
personaInfo: {
...e.personaInfo,
playerNetworkId: t,
devicePlatformId: yc(e.personaInfo.devicePlatformId)
},
photonPlayerId: $g({
eaPlayerId: e.tokenInfo.userId,
playerNetworkId: t
})
};
}
function mE(e) {
return Fh((async () => {
const [t, n] = await Promise.all([ e.getTokenInfo({}), e.getPersonaInfo({}) ]);
return delete t?.tokenInfo?.accessToken, {
...t,
...n
};
}), tE, {
transformResponse: fE
});
}
function yE(e) {
const t = iE(), n = JI(), r = Bg(), i = xg(), {Identity: a} = lm();
H.useEffect((() => t.setSeedStrategy({
fetch: async () => {
let t = e;
if (!t) {
const e = await mE(a);
if (e.error || !e.data) return Ng({
error: e.error || new Error("Failed to init user session"),
loading: !1,
skipped: !1
});
t = e.data;
}
await i(n.get(t.photonPlayerId), 8e3);
const o = t.tokenInfo.userId, s = As((() => n.findByEaPlayerId(o))), l = await r(s, 8e3);
return Ng({
data: {
...t,
personas: l?.data.map((e => e.photonPlayerId)) ?? []
},
loading: !1,
skipped: !1
});
}
})), [ t, n, a, e, r, i ]);
}
var hE = Ii.observer((({preloadedUser: e, children: t}) => {
yE(e);
const n = Fs(sE);
return H.createElement(aE.Provider, {
value: n
}, t);
}));
var [gE, IE] = function() {
const e = {
availableSettings: void 0,
isAppearOfflineSupported: void 0,
crossplayCompatiblePlatforms: void 0
};
function t(t) {
const n = t.DeepLink.getSettingsAvailability({});
e.availableSettings = n?.availableSettings ?? [], e.isAppearOfflineSupported = !(!t.isMethodAvailable("PhotonJsBindings.PlatformPresence.isAppearOfflineSupported") || !t.PlatformPresence.isAppearOfflineSupported({})?.available);
}
function n(t) {
if (t.isMethodAvailable("PhotonJsBindings.DeepLink.getCrossPlayPlatformCompatibility")) {
const n = (t.DeepLink.getCrossPlayPlatformCompatibility({})?.compatiblePlatforms ?? []).map(yc);
e.crossplayCompatiblePlatforms = new Set(n), e.crossplayCompatiblePlatforms.size && !e.crossplayCompatiblePlatforms.has(By.devicePlatformId) && e.crossplayCompatiblePlatforms.add(By.devicePlatformId);
} else e.crossplayCompatiblePlatforms = new Set;
}
return [ new Proxy(e, {
get(...e) {
const [t, n] = e;
if ("string" != typeof n || void 0 === t[n]) throw new Error(`PhotonBindingsConstants for "${n.toString()}" is not initiated`);
return Reflect.get(...e);
}
}), function(e) {
t(e), n(e);
} ];
}(), vE = Is({
debugName: "firstPartyAppearOfflineSettingState",
default: !1
}), bE = e => "onlineStatusState" + e, _E = (e => (e[e.RespectFirstPartySetting = 0] = "RespectFirstPartySetting", 
e[e.Online = 1] = "Online", e[e.AppearOffline = 2] = "AppearOffline", e))(_E || {}), PE = Is({
debugName: "appearOfflineSettingState",
default: 0
});
function SE(e, t, n, r) {
return e.set(PE, r), t.localStorage.setItem(bE(n), JSON.stringify(r));
}
var TE = async (e, t, n, r) => {
let i = !1;
try {
t.PlatformPresence.onAppearOfflineChanged.subscribe((e => n.set(vE, e.appearOffline ?? !1)));
i = (await t.PlatformPresence.isAppearOffline({}))?.appearOffline ?? !1, n.set(vE, i);
} catch {}
let a = gE.isAppearOfflineSupported ? 0 : 1;
if (r) try {
const t = (await e.localStorage.getItem(bE(r.tokenInfo.userId)))?.trim(), n = Number(t);
t && _E[n] && (a = n);
} catch {}
return n.set(PE, a), i;
};
function EE(e, t) {
return n => n.getConfigBoolValue({
name: e,
defaultValue: t
})?.value ?? t;
}
function kE(e, t) {
return n => n.getConfigStringValue({
name: e,
defaultValue: t
})?.value ?? t;
}
var NE = is.useDevservice || !1, CE = {
UseFTUE: EE("Photon.UseFTUE", !0),
UseDevservice: EE("Photon.UseDevservice", NE),
EADPServiceHost: kE("Photon.EADPServiceHost", "devservice.ad.ea.com:8082/api/default/default"),
TranslationHost: kE("Photon.TranslationHost", "")
}, OE = {
"PhotonJsBindings.Party.getParty": !1,
"PhotonJsBindings.Party.createParty": !1,
"PhotonJsBindings.Party.joinParty": !0,
"PhotonJsBindings.Party.leaveParty": !1,
"PhotonJsBindings.Party.setPartyLeader": !1,
"PhotonJsBindings.Party.kickPartyMember": !1,
"PhotonJsBindings.Party.isPartySupported": !1,
"PhotonJsBindings.Lobby.getLobby": !1,
"PhotonJsBindings.Lobby.joinLobby": !0,
"PhotonJsBindings.Lobby.filterUninvitablePlayers": !1,
"PhotonJsBindings.Lobby.prepareInvite": !1,
"PhotonJsBindings.Voip.mutePlayer": !1,
"PhotonJsBindings.Voip.unmutePlayer": !1,
"PhotonJsBindings.Voip.setMutedPlayers": !1,
"PhotonJsBindings.Voip.getVoipState": !1,
"PhotonJsBindings.Voip.setActiveVoipChannel": !1,
"PhotonJsBindings.Voip.getVoipChannels": !1,
"PhotonJsBindings.InputBindings.setExclusiveMouseRegion": !1,
"PhotonJsBindings.PlatformFriends.startListener": !0,
"PhotonJsBindings.PlatformFriends.stopListener": !0,
"PhotonJsBindings.PlatformFriends.getState": !0,
"PhotonJsBindings.PlatformFriends.getFriendList": !0,
"PhotonJsBindings.PlatformFriends.getBlockList": !0,
"PhotonJsBindings.PlatformFriends.addFriend": !0,
"PhotonJsBindings.PlatformFriends.removeFriend": !0,
"PhotonJsBindings.PlatformFriends.addBlock": !0,
"PhotonJsBindings.PlatformFriends.removeBlock": !0,
"PhotonJsBindings.DeepLink.invokePlayerActionAsync": !1,
"PhotonJsBindings.DeepLink.openFirstPartyProfileAsync": !1,
"PhotonJsBindings.DeepLink.filterFriendsForPicker": !1,
"PhotonJsBindings.DeepLink.openGameHubPage": !1,
"PhotonJsBindings.Identity.getTokenInfo": !0,
"PhotonJsBindings.Identity.getPersonaInfo": !0,
"PhotonJsBindings.Moderation.getReportCategories": !1,
"PhotonJsBindings.Moderation.reportPlayer": !1,
"PhotonJsBindings.Moderation.playerReportingCancelled": !1,
"PhotonJsBindings.RecentlyMet.getRecentlyMetPlayers": !1,
"PhotonJsBindings.RecentlyMet.getSessionPlayers": !1,
"PhotonJsBindings.Accessibility.getAccessibilitySettings": !1,
"PhotonJsBindings.Accessibility.narrate": !1,
"PhotonJsBindings.UserExperience.playSoundEffect": !1,
"PhotonJsBindings.PresenceSession.updatePresence": !0,
"PhotonJsBindings.PresenceSession.partialUpdatePresence": !0,
"PhotonJsBindings.PresenceSession.subscribeToPlayerPresence": !0,
"PhotonJsBindings.PresenceSession.subscribeToPlayersPresence": !0,
"PhotonJsBindings.PresenceSession.unsubscribeFromPlayerPresence": !0,
"PhotonJsBindings.PresenceSession.unsubscribeFromPlayersPresence": !0,
"PhotonJsBindings.PresenceSession.subscribeToFriendsPresence": !0,
"PhotonJsBindings.PresenceSession.unsubscribeFromFriendsPresence": !0,
"PhotonJsBindings.PresenceSession.getPresenceSubscriptions": !0,
"PhotonJsBindings.PresenceSession.getDirectJoinTokens": !0,
"PhotonJsBindings.PresenceSession.getPlayerPresence": !0,
"PhotonJsBindings.PresenceSession.getPlayerPresenceEnd": !0,
"PhotonJsBindings.PresenceSession.getFriendsPresence": !0,
"PhotonJsBindings.PresenceSession.getFriendsPresenceEnd": !0,
"PhotonJsBindings.PresenceSession.attachToPresenceSession": !0,
"PhotonJsBindings.PresenceSession.attachToPresenceSessionEnd": !0,
"PhotonJsBindings.PresenceSession.detachFromPresenceSession": !0,
"PhotonJsBindings.PlatformPresence.isAppearOffline": !1,
"PhotonJsBindings.Badging.updateUnseenItemCount": !1,
"PhotonJsBindings.Badging.updateOnlineFriendCount": !1,
"PhotonJsBindings.BlockService.BlockPlayer": !0,
"PhotonJsBindings.BlockService.UnblockPlayer": !0,
"PhotonJsBindings.BlockService.BatchVerifyBlockedPlayers": !0,
"PhotonJsBindings.BlockService.ListBlockedPlayers": !0,
"PhotonJsBindings.MuteService.MutePlayer": !0,
"PhotonJsBindings.MuteService.UnmutePlayer": !0,
"PhotonJsBindings.MuteService.BatchVerifyMutedPlayers": !0,
"PhotonJsBindings.MuteService.ListMutedPlayers": !0,
"PhotonJsBindings.Friends.ListFriends": !0,
"PhotonJsBindings.Friends.BatchVerifyFriends": !0,
"PhotonJsBindings.Friends.ListPlatformFriends": !0,
"PhotonJsBindings.Friends.DeleteFriend": !0,
"PhotonJsBindings.Friends.ListMutualFriends": !0,
"PhotonJsBindings.Invites.ListSentFriendInvites": !0,
"PhotonJsBindings.Invites.ListReceivedFriendInvites": !0,
"PhotonJsBindings.Invites.BatchSendFriendInvites": !0,
"PhotonJsBindings.Invites.CancelSentFriendInvite": !0,
"PhotonJsBindings.Invites.AcceptReceivedFriendInvite": !0,
"PhotonJsBindings.Invites.DeclineReceivedFriendInvite": !0,
"PhotonJsBindings.GameInvite.SendGameInvite": !0,
"PhotonJsBindings.GameInvite.SubscribeToReceivedGameInviteNotifications": !0,
"PhotonJsBindings.GameInvite.SubscribeToReceivedGameInviteNotificationsEnd": !0,
"PhotonJsBindings.GameInvite.GetReceivedGameInvites": !0,
"PhotonJsBindings.GameInvite.GetReceivedGameInvitesEnd": !0,
"PhotonJsBindings.GameInvite.GetGameJoinTokens": !0,
"PhotonJsBindings.GameInvite.AcceptGameInvite": !0,
"PhotonJsBindings.GameInvite.RejectGameInvite": !0,
"PhotonJsBindings.GameInvite.RevokeGameInvites": !0,
"PhotonJsBindings.ContentMart.GetProduct": !0,
"PhotonJsBindings.ContentMart.GetPlayerNetwork": !0,
"PhotonJsBindings.ContentMart.GetInputMethod": !0,
"PhotonJsBindings.PlayerSearch.SearchPlayers": !0,
"PhotonJsBindings.PlayerCardService.BatchGetPlayerCards": !0,
"PhotonJsBindings.PlayerCardService.BatchGetPlayerCardsEnd": !0,
"PhotonJsBindings.PlayerCardService.BatchGetFriendsPlayerCards": !0,
"PhotonJsBindings.PlayerCardService.BatchGetFriendsPlayerCardsEnd": !0,
"PhotonJsBindings.PlayerCardService.BatchGetPlayerCardsByFirstPartyIds": !0,
"PhotonJsBindings.PlayerCardService.BatchGetPlayerCardsByFirstPartyIdsEnd": !0,
"PhotonJsBindings.PlayerCardService.BatchGetFirstPartyIds": !0,
"PhotonJsBindings.PlayerCardService.BatchGetFirstPartyIdsEnd": !0,
"PhotonJsBindings.PlayerCardService.BatchGetFriendsFirstPartyIds": !0,
"PhotonJsBindings.PlayerCardService.BatchGetFriendsFirstPartyIdsEnd": !0,
"PhotonJsBindings.PlayerCardService.BatchGetPrivacySettings": !0,
"PhotonJsBindings.PlayerCardService.BatchGetPrivacySettingsEnd": !0,
"PhotonJsBindings.FriendListNotifications.SubscribeToFriendListNotifications": !0,
"PhotonJsBindings.FriendListNotifications.SubscribeToFriendListNotificationsEnd": !0,
"PhotonJsBindings.InviteListNotifications.SubscribeToSentInviteListNotifications": !0,
"PhotonJsBindings.InviteListNotifications.SubscribeToSentInviteListNotificationsEnd": !0,
"PhotonJsBindings.InviteListNotifications.SubscribeToReceivedInviteListNotifications": !0,
"PhotonJsBindings.InviteListNotifications.SubscribeToReceivedInviteListNotificationsEnd": !0,
"PhotonJsBindings.PlayerList.getPlayerListConfig": !1,
"PhotonJsBindings.PlayerList.getPlayerListPersonas": !1,
"PhotonJsBindings.PlayerList.getPlayerLists": !1
}, AE = new Map([ [ "PhotonJsBindings.GameInvite.RevokeGameInvites", [ "NOT_FOUND(5) game invite not found" ] ] ]);
function wE(e) {
return OE[e];
}
var LE = class extends $f {
constructor(e, t) {
super(e), this.metricClient = t, this.bootEndCount = 0, this.Telemetry.onBootEnd.subscribe((() => {
this.bootEndCount++;
}));
}
addSuccessMetric(e, t) {
wE(e) && this.metricClient.addDurationEvent("query", t, e);
}
addErrorMetric(e, t, n) {
if (!wE(e)) return;
const r = AE.get(e)?.includes(n);
this.metricClient.addDurationEvent(r ? "query" : "query_error", t, e, n);
}
_asyncCallback(e, t, n) {
const r = Date.now(), i = this.bootEndCount;
super._asyncCallback(e, t, ((t, a) => {
n(t, a), this.bootEndCount > i || (a ? this.addErrorMetric(e, Date.now() - r, a.message) : this.addSuccessMetric(e, Date.now() - r));
}));
}
}, RE = Vc("/sparta/assets/ui/lib/RoundedRect-4806f472.png"), xE = {
main: zy.link()
};
function BE(e, t) {
const n = t.split("/"), [r, i] = n[0].split(":"), a = r.includes("devservice.ad.ea.com"), o = Number(i) + 1;
return {
grpcClient: new Ly(e.bindings.Http2, `http${a ? "s" : ""}://${r}:${o}`, a),
grpcMetadata: {
"x-photon-devservice-env": n[2] ?? "default",
"x-photon-devservice-profile": n[3] ?? "default"
}
};
}
var DE = [ jT, eh ];
function ME(e) {
return !!DE.find((t => e.startsWith(t)));
}
var FE = 15, UE = 70, HE = 90, VE = 100, JE = 119, zE = 200, GE = 300, jE = 500, qE = $f.Performance.BlurMode, WE = Oc({
position: "absolute",
top: 0,
right: 0,
bottom: 0,
left: 0,
textureFadeInTime: 0
}), YE = Oc({
layerGrabBackground: !0,
layer: !0,
layerBlur: 1,
layerToTextureDownScaleFactorPerAxis: 2,
opacity: 0
}), KE = Oc({
layer: !0,
layerBlur: 1,
layerGrabBackground: !0,
layerToTextureDownScaleFactorPerAxis: 2
}), XE = Zp(sd.OverlayBackgroundColor, .85), QE = sd.OverlayBackgroundColor, $E = ({type: e, backgroundIndex: t, onLoaded: n, startZOffset: r, opacityTween: i}) => {
const a = Gu(), o = e + "_" + t, s = "twinkleLayerToTexture://" + o, [l, c] = H.useState(!1), d = H.useCallback((() => {
c(!0);
}), []);
H.useEffect((() => {
l && n?.();
}), [ l, n ]), H.useEffect((() => a.texture.registerOnLoadedCallback([ s ], d)), [ d, a.texture, l, o, s ]);
const u = l ? Bc("texture", s) : [ YE, Bc("layerToTexture", o) ];
return H.createElement("surface", {
key: o,
style: [ WE, u, i && i.propStyle("opacity"), Bc("zOffset", r - t) ]
});
}, ZE = ({type: e, opacityTween: t, startZOffset: n, style: r}) => {
const i = H.useRef(1), a = Gu(), {onWindowSizeChanged: o} = a.bindings.Layout, [s, l] = H.useState([ H.createElement($E, {
key: e + "_" + i.current,
type: e,
backgroundIndex: i.current,
startZOffset: n,
opacityTween: t
}) ]), c = H.useCallback((() => {
l((e => (e.length > 1 && e.pop(), [ ...e ])));
}), []), d = H.useCallback((() => {
i.current++, l((r => [ H.createElement($E, {
startZOffset: n,
type: e,
key: e + "_" + i.current,
backgroundIndex: i.current,
onLoaded: c,
opacityTween: t
}), ...r ]));
}), [ n, e, c, t ]);
return H.useEffect((() => o.subscribe(tu(d, 250))), [ d, o, c ]), H.createElement(H.Fragment, null, H.createElement("surface", {
style: [ WE, Bc("backgroundColor", XE), Bc("zOffset", n + 1), t && t.propStyle("opacity"), r ]
}), s);
}, ek = ({opacityTween: e, startZOffset: t, style: n}) => H.createElement("surface", {
style: [ WE, KE, Bc("backgroundColor", XE), Bc("zOffset", t), e && e.propStyle("opacity"), n ]
}), tk = ({opacityTween: e, type: t, startZOffset: n, style: r}) => H.createElement("surface", {
style: [ WE, Bc("zOffset", n), Bc("backgroundColor", 0 === t ? sd.BackgroundColor.body : QE), e && e.propStyle("opacity"), r ]
}), nk = ({type: e, opacityTween: t, style: n}) => {
const r = 0 === e ? 0 : UE, i = lm(), [a, o] = H.useState(i.Performance.getBlurMode({})?.blurMode);
return H.useEffect((() => i.Performance.onBlurModeChanged.subscribe((({blurMode: e}) => o(e)))), [ i.Performance.onBlurModeChanged ]), 
void 0 === a ? null : a === qE.GrabOnce ? H.createElement(ZE, {
style: n,
type: e,
opacityTween: t,
startZOffset: r
}) : a === qE.Live ? H.createElement(ek, {
style: n,
type: e,
opacityTween: t,
startZOffset: r
}) : H.createElement(tk, {
style: n,
type: e,
opacityTween: t,
startZOffset: r
});
}, rk = Is({
debugName: "crossplayEnabledState",
default: !0
}), ik = () => {
const e = lm(), t = Hs(rk);
H.useEffect((() => {
if (!(e.isMethodAvailable("PhotonJsBindings.DeepLink.isCrossPlayEnabled") && e.isMethodAvailable("PhotonJsBindings.DeepLink.getCrossPlayPlatformCompatibility"))) return;
const n = e.DeepLink.isCrossPlayEnabled({});
return n && t(n.on), e.DeepLink.onCrossPlayStatusChanged.subscribe((e => {
t(e.on);
}));
}), [ e, t ]);
}, ak = Is({
debugName: "modalQueueState",
default: []
}), ok = Is({
debugName: "modalLocationState",
default: {}
}), sk = Ps({
debugName: "currentModalState",
get: ({get: e}) => e(ak)[0]
}), lk = Ps({
debugName: "currentModalState",
get: ({get: e}) => {
const t = e(sk);
if (t) return e(ok)[t.id];
}
}), [ck, dk] = $s({
debugName: "modalState",
create: e => {
let t = 1;
return {
showModal: An(((n, {sequenceId: r, telemetryId: i, ignoreCloseAll: a, opaque: o} = {}) => {
e.set(ak, (s => {
const l = t++, c = r ? s.filter((e => e.sequenceId !== r)) : s;
return (r || i) && e.set(ok, (e => {
const t = {
...e
};
if (r) {
const e = s.find((e => e.sequenceId === r));
e && delete t[e.id];
}
return i && (t[l] = {
state: {
telemetryId: i
}
}), t;
})), c.concat({
component: n,
id: l,
sequenceId: r,
ignoreCloseAll: a,
opaque: o
});
}));
})),
closeModal: An((() => {
const t = e.getUntracked(sk)?.id;
e.set(ak, (e => e.slice(1))), t && e.set(ok, (e => {
const n = {
...e
};
return delete n[t], n;
}));
})),
closeAllModals: An((() => {
e.set(ak, e.getUntracked(ak).filter((e => e.ignoreCloseAll)));
const t = e.getUntracked(ak);
e.set(ok, (e => {
const n = {};
for (const r of t) r.id && e[r.id] && (n[r.id] = e[r.id]);
return n;
}));
}))
};
}
}), uk = e => {
const t = Rs(), n = Fs(sk)?.id;
H.useEffect((() => {
n && t.set(ok, (t => t[n]?.state.telemetryId === e ? t : {
...t,
[n]: {
state: {
telemetryId: e
}
}
}));
}), [ t, n, e ]);
};
fs.Input.DeviceType, fs.Input.ButtonState;
function pk(e, t) {
return e.size > 0 && !e.has(t);
}
function fk(e, t = !0, n = !0, r = new Set) {
let i = 0;
if (!e?.isOnline) return 1;
if (!e?.isEAPresence) return 1;
if (By.devicePlatformId === e.devicePlatformId) return 1;
pk(r, e.devicePlatformId) && (i |= 32), n || (i |= 8);
const a = e.properties?.lobbyCrossplayEnabled;
!1 === a && (i |= 16);
const o = e.properties?.partyCrossplayEnabled;
!1 === o && (i |= 16), t || (i |= 2);
const s = e.properties?.crossplayEnabled;
return !1 === s && (i |= 4), i || 1;
}
function mk(e) {
return 1 == (1 & e);
}
function yk(e) {
return (24 & e) > 0;
}
function hk(e) {
return 16 == (16 & e);
}
function gk(e) {
return 2 == (2 & e);
}
function Ik(e) {
return 4 == (4 & e);
}
function vk(e, t = !0, n = !0, r = new Set) {
return !mk(fk(e, t, n, r));
}
function bk(e) {
return !mk(e) && (54 & e) > 0;
}
function _k(e) {
return !mk(e) && (46 & e) > 0;
}
function Pk(e) {
const t = new Cs([]);
return e.forEach((e => {
const n = e.playerId, r = Sh(e.playerNetworkId), i = $g({
eaPlayerId: n,
playerNetworkId: r
});
t.set(i, {
eaPlayerId: n,
personaId: e.personaId,
playerNetworkId: r,
joinTimestampMs: e.joinTimestampMs,
photonPlayerId: i
});
})), t;
}
function Sk(e) {
if (e.lobby) {
const t = Pk(e.lobby.members);
return {
...e.lobby,
members: t
};
}
}
function Tk(e) {
const t = Pk(e.lobby.members);
return {
...e.lobby,
members: t
};
}
var Ek = Bh.object({
playerId: Bh.string,
playerNetworkId: Bh.string,
displayName: Bh.string,
personaId: Bh.string,
joinTimestampMs: Bh.number
}), kk = Bh.object({
lobbyId: Bh.string,
members: Bh.array(Ek),
maxSize: Bh.number,
joinable: Bh.boolean,
crossPlayEnabled: Bh.boolean,
telemetryType: Bh.string,
invitable: Bh.boolean
}), Nk = Bh.object({
lobby: Bh.optional(Bh.nullable(kk))
}), Ck = Bh.object({
lobby: kk
}), Ok = class extends os {
constructor(e) {
super({
data: e
});
}
};
function Ak(e, t) {
return (n, r) => {
Sg(n) && Tg(r) && (n.data.lobbyId === r.data.lobbyId ? e(n, r) : t && t(n, r));
};
}
function wk(e) {
return $g({
eaPlayerId: e.playerId,
playerNetworkId: Sh(e.playerNetworkId)
});
}
function Lk(e) {
const t = Sh(e.playerNetworkId);
return {
eaPlayerId: e.playerId,
personaId: e.personaId,
playerNetworkId: t,
joinTimestampMs: e.joinTimestampMs,
photonPlayerId: $g({
eaPlayerId: e.playerId,
playerNetworkId: t
})
};
}
var Rk = class extends Pg {
init(e, t) {
const n = [ this.setSeed(e, t), this.setLobbyChangedStream(e, t), this.setMemberLeftStream(e, t), this.setMemberJoinedStream(e, t) ];
return () => {
n.forEach((e => e?.()));
};
}
updateLobby(e) {
this.applyFragmentResults(kg({
data: e,
loading: !1,
skipped: !1
}), ((e, t) => e.update(t)));
}
setSeed(e, t) {
return this.setSeedStrategy({
fetch: async () => Ng(await Fh((() => t.getLobby({})), Nk, {
transformResponse: Sk
})),
updater: (e, t) => e.update(t)
});
}
setLobbyChangedStream(e, t) {
return this.setStreamStrategy({
stream: new Ok(t.onLobbyChanged),
updater: (e, t) => {
if (t.data) {
const n = t.data.lobby ? {
...t.data.lobby,
members: Pk(t.data.lobby.members)
} : void 0;
e.update({
...e.toProps(),
data: n
});
}
}
}, "lobbyChangedStreamStrategy");
}
setMemberLeftStream(e, t) {
return this.setStreamStrategy({
stream: new Ok(t.onMemberLeft),
updater: Ak(((e, t) => {
const n = wk(t.data);
e.data.members.get(n) && e.data.members.delete(n);
}))
}, "memberLeftStreamStrategy");
}
setMemberJoinedStream(e, t) {
return this.setStreamStrategy({
stream: new Ok(t.onMemberJoined),
updater: Ak(((e, t) => {
const n = wk(t.data.member), r = Lk(t.data.member);
e.data.members.set(n, r);
}))
}, "memberJoinedStreamStrategy");
}
}, [xk, Bk] = $s({
debugName: "lobbyFragmentStoreState",
create: () => new Rk({
debugName: "Lobby"
})
});
function Dk(e) {
return e.getUntracked(xk).get();
}
function Mk(e) {
return e.get(xk);
}
function Fk(e, t) {
return !!e.get(xk).get().data?.members.get(t);
}
var Uk = Ps({
debugName: "lobbyCrossplayEnabledState",
get: ({get: e}) => e(xk).get().data?.crossPlayEnabled
}), Hk = Bh.object({
playerId: Bh.string,
personaId: Bh.string,
playerNetworkId: Bh.string,
displayName: Bh.string,
joinTimestampMs: Bh.number
}), Vk = Bh.object({
playerNetworkId: Bh.string,
playerId: Bh.string,
personaId: Bh.string
}), Jk = Bh.object({
partyId: Bh.string,
partyLeader: Vk,
members: Bh.array(Hk),
maxSize: Bh.number,
promotionEnabled: Bh.boolean,
crossPlayEnabled: Bh.boolean,
joinable: Bh.boolean,
invitable: Bh.boolean
}, {
localizedPartyTitle: Bh.string
}), zk = (Bh.optional(Jk), Rc((e => ({
color: e
})), {
fontSize: bc(sd.TextSizeLabel.medium),
zOffset: 1,
textLetterSpacing: vc(1),
textEdgeOffset: .1
})), Gk = ({text: e, useEllipsis: t = !1, color: n, style: r}) => H.createElement("surface", {
text: e,
style: [ jd, zk(n || sd.TextColorStandard.default), Bc("textEllipsis", t), Bc("wordWrap", t ? "normal" : "break-word"), r ]
}), jk = (e => (e.Cloud = "Cloud", e.Console = "Console", e.Pc = "Pc", e))(jk || {}), qk = {
..._h,
...jk
}, Wk = vc(32), Yk = {
primaryId: Oc({
flexDirection: "row",
flexWrap: "nowrap",
alignItems: "center"
}),
icon: Oc({
width: Wk,
height: Wk,
minWidth: Wk,
textureMode: "cover",
zOffset: 1,
color: sd.TextColorStandard.emphasized
})
}, Kk = {
[qk.Cloud]: Gp.cloud32,
[qk.Console]: Gp.console32,
[qk.Epic]: Gp.epic32,
[qk.Ea]: Gp.ea32,
[qk.Nintendo]: Gp.switch32,
[qk.Pc]: Gp.pc32,
[qk.Psn]: Gp.playstation32,
[qk.Stadia]: Gp.stadia32,
[qk.Steam]: Gp.steam32,
[qk.Xbox]: Gp.xbox32
}, Xk = e => Kk[e] || Kk[qk.Pc], Qk = {
[qk.Cloud]: Wd.genericCloud,
[qk.Console]: Wd.genericConsole,
[qk.Epic]: Wd.epicGames,
[qk.Ea]: Wd.ea,
[qk.Nintendo]: Wd.switch,
[qk.Pc]: Wd.genericPc,
[qk.Psn]: Wd.playstation,
[qk.Stadia]: Wd.stadia,
[qk.Steam]: Wd.steam,
[qk.Xbox]: Wd.xbox
};
function $k(e, t = 16) {
return e.length > t + 1 ? Gf() ? "" + e.substr(0, t) : e.substr(0, t) + "" : e;
}
function Zk({name: e, playerNetworkId: t}, n) {
const r = [ (i = t, Qk[i] || Wd.genericPc), n?.allowEllipsis ? $k(e) : e ];
var i;
return Gf() && r.reverse(), r.join(Wd.nbsp);
}
var eN = ({platform: e, style: t}) => {
const n = Xk(e);
return H.createElement("surface", {
style: [ Yk.icon, Bc("texture", n), t ]
});
}, tN = ({name: e, playerNetworkId: t, textStyle: n, style: r, useEllipsis: i = !0}) => H.createElement("surface", {
style: [ Yk.primaryId, r ]
}, H.createElement(eN, {
platform: t,
style: Bc("marginEnd", vc(sd.DimensionSpace.medium))
}), H.createElement(Gk, {
text: e,
color: sd.TextColorStandard.emphasized,
style: [ Bc("textEllipsis", i), Bc("wordWrap", i ? "normal" : "break-word"), n ]
}));
function nN(e, t) {
const [n, r] = H.useState((() => As((() => void 0 === e.data && 0 !== t))));
return H.useEffect((() => {
if (0 !== t) {
const n = As((() => e.data));
if (r(void 0 === n), void 0 === n) {
let n = !1;
return wg(e, t).then((() => {
n || r(!1);
})), () => {
n = !0;
};
}
} else r(!1);
}), [ e, t ]), n;
}
function rN(e, t) {
const [n, r] = H.useState((() => As((() => !Cg(e).hasData && 0 !== t))));
return H.useEffect((() => {
if (0 !== t) {
const n = As((() => Cg(e)));
if (r(!n.hasData), !n.hasData) {
let n = !1;
return Lg(e, t).then((() => {
n || r(!1);
})), () => {
n = !0;
};
}
}
}), [ e, t ]), n;
}
function iN(e, t) {
const n = e.toProps(), r = nN(e, t);
return {
...n,
loading: r || n.loading
};
}
function aN(e, t, n) {
return iN(t.get(e), n);
}
function oN(e, t) {
const n = Ag(e), r = rN(e, t);
return {
...n,
loading: r || n.loading
};
}
function sN(e, t, n) {
return oN(H.useMemo((() => t.getByIds(e)), [ e, t ]), n);
}
function lN(e, t) {
return iN(e.get(), t);
}
function cN(e, t) {
const n = e.toProps();
return {
...n,
data: n.data ? t(n.data) : void 0
};
}
function dN(e, t) {
return new Qh(t.key, (() => e.get(t)));
}
function uN(e) {
const t = Rs();
return H.useMemo((() => dN(t, e)), [ e, t ]);
}
function pN(e, t) {
const n = Rs();
return H.useMemo((() => new Qh(e.key, (() => n.getItem(e, t)))), [ e, n, t ]);
}
var fN = class extends Pg {}, [mN, yN] = $s({
debugName: "blockListFragmentStoreState",
create: () => new fN({
debugName: "BlockList"
})
});
function hN(e) {
const {eaPlayerId: t} = tI(e);
return cN(yN().get(), (e => t ? e.get(t) : void 0));
}
var gN = class {
constructor(e) {
this.isInGamePlayStatus = !1;
const t = e.getInGamePlay({});
t && (this.isInGamePlayStatus = t.inGamePlay), e.onInGamePlayChanged.subscribe((({inGamePlay: e}) => {
this.isInGamePlayStatus = e;
}));
}
get isInGamePlay() {
return this.isInGamePlayStatus;
}
}, [IN, vN] = $s({
debugName: "gamePlayManagerState",
create: e => {
const t = e.get(Ih);
return new gN(t.Notifications);
}
}), bN = class {
constructor(e) {
this.storage = e, this.settings = {
...bN.defaultSettings
}, Nr(this, {
settings: ht,
setSetting: An,
restoreSettings: An
});
}
init(e) {
return this.userId = e, this.getStoredSettings();
}
async getStoredSettings() {
if (this.storageKey) try {
const e = await this.storage.getItem(this.storageKey);
e && (this.settings = JSON.parse(e));
} catch (e) {}
}
get storageKey() {
if (this.userId) return "notificationSettings_" + this.userId;
}
async setStoredSettings() {
return As((() => {
if (this.storageKey) return this.storage.setItem(this.storageKey, JSON.stringify(ur(this.settings)));
}));
}
setSetting(e, t, n) {
return this.settings[e][t] = n, this.setStoredSettings();
}
getSetting(e, t) {
return this.settings[e][t];
}
restoreSettings(e) {
return this.settings[e] = {
...bN.defaultSettings[e]
}, this.setStoredSettings();
}
isDefaultSettings(e) {
return Object.keys(bN.defaultSettings[e]).every((t => {
const n = Number(t);
return bN.defaultSettings[e][n] === this.settings[e][n];
}));
}
}, _N = bN;
_N.defaultSettings = {
0: {
0: 0,
1: 1,
2: 0,
3: 1,
4: 0,
5: 1
},
1: {
0: !1
}
};
var [PN, SN] = $s({
debugName: "settingsState",
create: e => {
const t = e.get(km);
return new _N(t.localStorage);
}
});
function TN(e) {
const t = Gu(), [n] = H.useState((() => new gy(t.bindings.Tween, e)));
return H.useEffect((() => {
n.setInitialValue(e);
}), [ n, e ]), H.useEffect((() => () => {
n.destroy();
}), [ n ]), n;
}
var EN = Bc("marginBottom", vc(sd.DimensionSpace.medium)), kN = (Oc({
marginTop: vc(sd.DimensionSpace.medium),
marginBottom: vc(sd.DimensionSpace.medium),
backgroundColor: sd.BackgroundColor.alt2
}), Bc("marginTop", vc(sd.DimensionSpace.medium))), NN = vc(587), CN = Oc({
color: sd.BackgroundColor.alt2,
width: NN,
layer: !0,
layerClip: !0,
position: "relative"
}), ON = vc(sd.DimensionSpace.medium), AN = Oc({
position: "absolute",
start: ON,
end: ON,
top: ON
}), wN = {
duration: sd.AnimationTime.fastest,
easing: sd.AnimationEasing.ease
}, LN = ({style: e, children: t}) => {
const n = TN(0), [r, i] = H.useState(!1), [a, o] = H.useState(!1), s = H.useRef(0), l = H.useCallback((e => {
if (a) return;
const t = e.height + 2 * ON;
if (!r) return n.set(t), void i(!0);
t !== s.current && (s.current = t, o(!0), n.to(t, {
...wN,
onFinished: () => {
o(!1);
}
}));
}), [ r, n, a ]);
return H.createElement("surface", {
style: [ CN, $p({
radius: sd.BorderRadius.smaller
}), r ? n.propStyle("height") : void 0, e ]
}, H.createElement("surface", {
style: AN,
onBounds: l
}, t));
}, RN = Oc({
flexDirection: "row",
alignItems: "center"
}), xN = ({children: e, style: t}) => H.createElement("surface", {
style: [ RN, t ]
}, e), BN = ({children: e, style: t}) => H.createElement("surface", {
style: [ Bc("flexDirection", "column"), t ]
}, e), DN = Oc({
width: vc(80),
height: vc(80),
marginEnd: vc(sd.DimensionSpace.medium),
alignItems: "center",
justifyContent: "center",
flexShrink: 0
}), MN = Oc({
width: vc(sd.DimensionSpace.largest),
height: vc(sd.DimensionSpace.largest),
textureMode: "contain",
zOffset: 1
}), FN = ({texture: e, color: t, style: n}) => H.createElement("surface", {
style: DN
}, H.createElement("surface", {
style: [ MN, n, Bc("color", t), Bc("texture", e) ]
})), UN = Oc({
borderCenter: !0,
texture2Border: vc(sd.BorderRadius.smaller),
texture2: Qp({
radius: sd.BorderRadius.smaller
}),
width: vc(80),
height: vc(80)
}), HN = ({style: e, ...t}) => H.createElement(FN, {
style: [ UN, e ],
...t
}), VN = Oc({
width: vc(80),
height: vc(80),
alignItems: "center",
justifyContent: "center",
alignSelf: "flex-start",
marginEnd: vc(sd.DimensionSpace.medium)
}), JN = ({style: e, backgroundTexture: t, ...n}) => H.createElement("surface", {
style: [ VN, Bc("texture", t) ]
}, H.createElement(FN, {
style: [ Bc("marginEnd", 0), e ],
...n
})), zN = Oc({
flex: 1
}), GN = ({text: e, color: t}) => H.createElement(Gk, {
style: zN,
text: e,
color: t ?? sd.TextColorStandard.emphasized
}), jN = Oc({
color: Zp(sd.ColorNeutral._300, .5),
padding: vc(sd.DimensionSpace.smaller),
paddingLeft: 0,
flexDirection: "row",
alignItems: "flex-start"
}), qN = ({children: e, style: t}) => H.createElement("surface", {
style: [ $p({
radius: sd.BorderRadius.smaller
}), jN, t ]
}, e), WN = ({children: e}) => H.createElement("surface", {
style: Bc("flexDirection", "column")
}, e), YN = ({id: e, text: t, callback: n, variant: r, style: i, narrationItem: a, narration: o}) => {
const s = sp(2);
return H.createElement(Op, {
id: e,
label: t,
variant: r,
style: i,
input: {
keyBinding: s,
callback: n
},
onClick: n,
narration: o,
narrationItem: a
});
};
function KN(e) {
return fm?.[e] ?? e;
}
var XN = fs.Input.GamePadInput, QN = fs.Input.DeviceType, $N = {
fps: 60,
totalFrames: 60,
startFrame: 0,
looping: !1
};
function ZN({height: e, ...t}) {
return Oc({
spriteAnimation: {
...$N,
...t
},
height: e
});
}
var eC = {
circular: ZN({
spriteSheet: _c({
1: Vc("/photon/quantum/sprites/Circle-24219046.png"),
2: Vc("/photon/quantum/sprites/Circle@2x-d23a83cc.png")
}),
frameWidth: vc(46),
frameHeight: vc(46),
height: vc(46)
}),
escTab: ZN({
spriteSheet: Vc("/photon/quantum/sprites/EscTab_spaced-2c4cce55.png"),
frameWidth: 69,
frameHeight: 44,
height: vc(44)
}),
keyboardKeys: ZN({
spriteSheet: _c({
1: Vc("/photon/quantum/sprites/KeyboardKeys-8b666dab.png"),
2: Vc("/photon/quantum/sprites/KeyboardKey@2x-be59b33a.png")
}),
frameWidth: vc(62),
frameHeight: vc(46),
height: vc(46)
}),
playstationL1R1: ZN({
spriteSheet: _c({
1: Vc("/photon/quantum/sprites/PS_L1R1-c0eb2a71.png"),
2: Vc("/photon/quantum/sprites/PS_L1R1@2x-44966ef7.png")
}),
frameWidth: vc(62),
frameHeight: vc(46),
height: vc(46)
}),
playstationL2: ZN({
spriteSheet: _c({
1: Vc("/photon/quantum/sprites/PS_L2-73f3ceac.png"),
2: Vc("/photon/quantum/sprites/PS_L2@2x-bdc16511.png")
}),
frameWidth: vc(54),
frameHeight: vc(46),
height: vc(46)
}),
playstationR2: ZN({
spriteSheet: _c({
1: Vc("/photon/quantum/sprites/PS_R2-f9c3cc70.png"),
2: Vc("/photon/quantum/sprites/PS_R2@2x-598f9bf0.png")
}),
frameWidth: vc(54),
frameHeight: vc(46),
height: vc(46)
}),
playstationOptions: ZN({
spriteSheet: _c({
1: Vc("/photon/quantum/sprites/PS5_Options-d51ab689.png"),
2: Vc("/photon/quantum/sprites/PS5_Options@2x-be5985b8.png")
}),
frameWidth: vc(46),
frameHeight: vc(46),
height: vc(46)
}),
playstationWordOptions: ZN({
spriteSheet: Vc("/photon/quantum/sprites/PlaystationWordOptions_spaced-757a0bf2.png"),
frameWidth: 96,
frameHeight: 44,
height: vc(44)
}),
xboxLt: ZN({
spriteSheet: _c({
1: Vc("/photon/quantum/sprites/Xbox_LT-fc24c8ad.png"),
2: Vc("/photon/quantum/sprites/Xbox_LT@2x-b6d65690.png")
}),
frameWidth: vc(46),
frameHeight: vc(46),
height: vc(46)
}),
xboxRt: ZN({
spriteSheet: _c({
1: Vc("/photon/quantum/sprites/Xbox_RT-a4fb6698.png"),
2: Vc("/photon/quantum/sprites/Xbox_RT@2x-e1be6525.png")
}),
frameWidth: vc(46),
frameHeight: vc(46),
height: vc(46)
}),
switchL: ZN({
spriteSheet: Vc("/photon/quantum/sprites/SwitchL_spaced-6e7e1668.png"),
frameWidth: 46,
frameHeight: 38,
height: vc(38)
}),
switchR: ZN({
spriteSheet: Vc("/photon/quantum/sprites/SwitchR_spaced-81af1806.png"),
frameWidth: 46,
frameHeight: 38,
height: vc(38)
}),
switchZL: ZN({
spriteSheet: Vc("/photon/quantum/sprites/SwitchZL_spaced-eae374c9.png"),
frameWidth: 46,
frameHeight: 38,
height: vc(38)
}),
switchZR: ZN({
spriteSheet: Vc("/photon/quantum/sprites/SwitchZR_spaced-735440b5.png"),
frameWidth: 46,
frameHeight: 38,
height: vc(38)
})
}, tC = {
[QN.MouseAndKeyboard]: {},
[QN.Touch]: {},
[QN.Playstation]: {
[XN.MiddleOption]: eC.keyboardKeys,
[XN.TriggerRight]: eC.playstationR2,
[XN.TriggerLeft]: eC.playstationL2,
[XN.MiddleMenu]: "PS5" === gc.devicePlatformId ? eC.playstationOptions : eC.playstationWordOptions,
[XN.BumperLeft]: eC.playstationL1R1,
[XN.BumperRight]: eC.playstationL1R1
},
[QN.Xbox]: {
[XN.TriggerRight]: eC.xboxRt,
[XN.TriggerLeft]: eC.xboxLt
},
[QN.NotSet]: {},
[QN.Stadia]: {
[XN.TriggerRight]: eC.playstationR2,
[XN.TriggerLeft]: eC.playstationL2,
[XN.BumperLeft]: eC.playstationL1R1,
[XN.BumperRight]: eC.playstationL1R1
},
[QN.Switch]: {
[XN.TriggerRight]: eC.switchZR,
[XN.TriggerLeft]: eC.switchZL,
[XN.BumperRight]: eC.switchR,
[XN.BumperLeft]: eC.switchL
}
};
function nC(e, t) {
const n = tC[e.device];
return e.device === QN.MouseAndKeyboard ? void 0 === t && e.keyboardKeyLabel && 1 === e.keyboardKeyLabel?.length ? eC.playstationOptions : eC.keyboardKeys : n[e.gamePadInput ?? XN.NotBound] || eC.circular;
}
var [rC, iC] = Es("NotificationFocusable");
function aC(e) {
const t = e.split("%key%");
return 1 === t.length ? [ e, "" ] : [ t[0].trim(), t[1].trim() ];
}
var oC = Oc({
alignSelf: "stretch",
flexDirection: "row",
flexWrap: "nowrap",
alignItems: "center",
justifyContent: "center"
}), sC = Oc({
position: "relative",
marginLeft: vc(sd.DimensionSpace.small),
marginRight: vc(sd.DimensionSpace.small),
height: vc(46),
alignItems: "center",
justifyContent: "center"
}), lC = [ sC, Oc({
paddingStart: vc(7),
paddingEnd: vc(7)
}) ], cC = Oc({
position: "absolute",
zOffset: 1,
left: 0,
right: 0
}), dC = "holdTimerKey", uC = Ii.observer((({onActivated: e, activateText: t, holdActivateText: n, holdRequired: r, holdTime: i, interaction: a}) => {
const o = Gu(), {isPressed: s} = a, {timeout: l, disposeTimeout: c} = ru(), d = sp(4), [u, p] = H.useState(null), [f, m] = H.useState(!1), y = s || f;
H.useEffect((() => {
r && u && o.bindings.Layout.playSpriteAnimation({
surfaceId: u,
start: y
});
}), [ f, r, y, u, o ]), H.useEffect((() => o.bindings.Input.onFocusNotificationButtonPressed.subscribe((() => {
m(!0);
}))), [ o ]), H.useEffect((() => o.bindings.Input.onFocusNotificationButtonReleased.subscribe((() => {
m(!1);
}))), [ o ]);
const h = H.useCallback((() => {
r || e?.();
}), [ r, e ]), g = Ju({
transcendBoundaries: !0,
keyBinding: d,
callback: h
});
H.useEffect((() => {
r && m(g);
}), [ g, r ]), H.useEffect((() => {
r && i && (c(dC), y && e && l(dC, e, i));
}), [ c, f, r, i, y, s, e, l ]);
const I = pc(d.primaryButton), v = d.primaryButton.keyboardKeyLabel, [b, _] = aC(r ? n : t), P = sd.TextColorStandard.emphasized, S = nC(d.primaryButton, I);
return H.createElement("surface", {
style: oC
}, !!b && H.createElement(Kd, {
text: b,
color: P
}), I || v ? H.createElement("surface", {
style: r ? lC : sC
}, H.createElement(Zd, {
buttonLabel: v,
icon: I
}), r ? H.createElement("surface", {
onSurfaceId: p,
style: [ cC, S ]
}) : void 0) : void 0, !!_ && H.createElement(Kd, {
text: _,
color: P
}));
})), pC = Ii.observer((e => {
const {onActivated: t} = e;
return H.createElement(Cp, {
variant: 0,
id: "activateNotification",
onClick: t
}, (t => H.createElement(uC, {
...e,
interaction: t
})));
})), fC = Ii.observer((({style: e, onClose: t, children: n}) => {
const r = sp(3);
return Vu({
keyBinding: r,
callback: t,
label: KN("INPUT_LABEL_DISMISS_NOTIFICATION")
}), H.createElement("surface", {
style: [ Bc("flexDirection", "column"), e ]
}, n);
})), mC = Oc({
position: "relative"
}), yC = Oc({
position: "absolute",
top: 0,
bottom: 0,
right: 0,
left: 0
}), hC = ({children: e, onClose: t, holdTime: n, holdRequired: r, activateText: i, holdActivateText: a, onActivated: o, isActivated: s}) => {
const l = iC(), c = TN(0), d = TN(1), [u, p] = H.useState(!1), f = H.useCallback((() => {
u || (d.to(0, wN), p(!0), o?.(), c.to(1, {
...wN,
delay: wN.duration
}));
}), [ u, d, c, o ]), m = H.useCallback((() => {
t?.(), d.to(0, wN), p(!1), c.to(1, {
...wN,
delay: wN.duration
});
}), [ d, c, t ]);
return H.useEffect((() => {
s && !u && f();
}), [ u, f, s ]), H.useEffect((() => {
l.setFocusable();
}), [ l ]), H.createElement("surface", {
style: [ mC, Bc("minHeight", vc(68)) ]
}, H.createElement(uf, {
isolate: u
}, u ? H.createElement(fC, {
style: c.propStyle("opacity"),
onClose: m
}, e) : void 0), H.createElement(uf, {
disable: u
}, H.createElement("surface", {
style: [ yC, d.propStyle("opacity"), u ? Bc("enableMouseEvents", !1) : void 0 ]
}, H.createElement(pC, {
onActivated: f,
holdTime: n,
holdRequired: r,
activateText: i,
holdActivateText: a
}))));
}, gC = ({id: e, onDismiss: t, onAction: n, dismiss: r, message: i, icon: a, holdTimeMs: o, buttonLabel: s, onMount: l}) => {
const c = H.useCallback((() => {
n(), r();
}), [ r, n ]);
return H.useEffect((() => (l?.(), () => {
t();
})), [ t, l ]), H.createElement(BN, null, H.createElement(LN, {
key: e
}, H.createElement(xN, {
style: s ? EN : void 0
}, H.createElement(FN, {
texture: a
}), H.createElement(GN, {
text: i
})), !!s && H.createElement(hC, {
onActivated: c,
activateText: "",
holdActivateText: s,
holdRequired: !0,
holdTime: o
})));
}, IC = ({keyBinding: e, label: t}, {getKeyBindingText: n}) => e ? [ cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-LIST-CONTROL_PRESS-BUTTON"), cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-LIST-CONTROL_CTA-1", {
"%buttonPrimary%": n(e),
"%actionPrimary%": t
}) ] : void 0, vC = ({label: e, keyBinding: t, buttonNumber: n, buttonTotal: r}, {getKeyBindingText: i}) => t ? [ cm("PHOTON-SOCIAL_NARRATION_BUTTON-FOCUS", {
"%buttonLabel%": e,
"%buttonNumber%": n + "",
"%buttonTotal%": r + "",
"%primaryKey%": i(t)
}) ] : void 0, bC = () => ({
activateText: cm("PHOTON-SOCIAL_NOTIFICATION_BUTTON_PRESS-OPEN"),
holdActivateText: cm("PHOTON-SOCIAL_NOTIFICATION_BUTTON_OPEN")
}), _C = e => ({id: t, dismiss: n, stayActive: r, holdOptions: i, isActivated: a, onClose: o}) => {
const {activateText: s, holdActivateText: l} = bC();
let c;
return e.icon && (c = 1 === e.iconSize ? H.createElement(HN, {
texture: e.icon
}) : H.createElement(FN, {
texture: e.icon,
color: e.iconColor
})), H.createElement(LN, {
key: t
}, H.createElement(xN, {
style: e.actions ? EN : void 0
}, c, H.createElement(GN, {
text: e.text
})), e.actions ? H.createElement(hC, {
onDismiss: n,
onClose: o,
isActivated: a,
onActivated: r,
holdTime: i?.holdTimeMs,
holdRequired: i?.holdRequired,
activateText: s,
holdActivateText: l
}, e.infoArea ? H.createElement(qN, {
style: EN
}, H.createElement(FN, {
color: e.infoArea.iconColor,
texture: e.infoArea.icon
}), H.createElement(GN, {
text: e.infoArea.text
})) : void 0, H.createElement(WN, null, e.actions.map(((t, r) => H.createElement(YN, {
variant: 0 === r ? 0 : void 0,
key: t.id,
style: 0 !== r ? kN : void 0,
id: t.id,
text: t.label,
callback: () => {
n(), t.callback();
},
narration: {
buttonNumber: r + 1,
buttonTotal: e.actions?.length ?? 0
},
narrationItem: vC
}))))) : void 0);
}, PC = class extends Pg {}, [SC, TC] = $s({
debugName: "receivedFriendRequestFragmentStoreState",
create: () => new PC({
debugName: "ReceivedFriendRequests"
})
}), [EC, kC] = $s({
debugName: "sentFriendRequestFragmentStoreState",
create: () => new PC({
debugName: "SentFriendRequests"
})
});
var NC = function(e) {
const t = "01e75742-3d23-c703-14ac-54c9d34006e2" === e.productId, n = "y88j" === e.productId;
return {
betaWatermark: !1,
legacySimplifiedPlatformRepresentations: t || n,
preTranslatedRichPresence: t || n,
disableFirstPartyFriends: (t || n) && "NX" === e.devicePlatformId
};
}(By), CC = $f.PlatformFriends;
function OC(e) {
return "1P-" + e;
}
function AC(e, t, n) {
const r = n.firstPartyPlayerId;
var i;
e.set(r, {
photonPlayerId: n.photonPlayerId
}), (i = n.photonPlayerId).startsWith(Xg) && nI(i) && t.playerInfoStream.data.trigger(n);
}
var wC = new Set([ CC.PresenceStatus.ONLINE, CC.PresenceStatus.IN_GAME, CC.PresenceStatus.CHATTING, CC.PresenceStatus.LOOKING_FOR_PARTY ]);
function LC(e, t, n, r) {
const i = r.userId, a = wC.has(r.presenceStatus), o = "EA" === t ? "PC" : "UNKNOWN", s = OC(i);
a ? e.firstPartyPresenceStream.data.trigger({
sessionId: s,
joinable: !1,
photonPlayerId: n,
playerNetworkId: t,
isOnline: a,
isEAPresence: !1,
productTitle: r.title || r.presence || void 0,
devicePlatformId: o
}) : e.removePointOfPresence(n, s);
}
function RC(e, t, n, r, i) {
AC(e, n, r), LC(t, r.playerNetworkId, r.photonPlayerId, i);
}
async function xC(e, t, n, r) {
if (!t.length) return new Map;
const i = t.map((e => jI({
firstPartyUid: e.userId,
displayName: e.displayName
}))), a = await n(i);
mr((() => {
i.forEach((t => {
e.delete(t);
}));
}));
const o = new Map(a.filter((e => e.playerNetworkId === r)).map((e => [ e.firstPartyPlayerId, e ])));
return new Map(t.map((e => {
return [ e.userId, o.get(e.userId) ?? {
firstPartyPlayerId: e.userId,
photonPlayerId: (t = {
firstPartyPlayerId: e.userId,
playerNetworkId: r
}, `1P|${t.firstPartyPlayerId || ""}|${t.playerNetworkId}`),
displayName: e.displayName,
playerNetworkId: r
} ];
var t;
})));
}
async function BC(e, t, n, r, i) {
const a = await Fh((() => n.getFriendList({})), _I);
if (a.error || !a.data) return {
...a,
data: void 0
};
const o = new Cs({});
if ("EA" === i) return a.data.friendList.forEach((t => {
const n = Zg({
eaPlayerId: t.userId,
playerNetworkId: i
});
LC(e, i, n, t);
})), {
...a,
data: o
};
const s = await xC(t, a.data.friendList, r, i), l = new Map(a.data.friendList.map((e => [ e.userId, e ])));
return s.forEach((n => {
const r = l.get(n.firstPartyPlayerId);
r && RC(o, e, t, n, r);
})), {
...a,
data: o
};
}
var DC = class extends os {
constructor(e) {
super({
data: e.onFriendListUpdated
}), this.platformFriendsService = e;
}
start() {
this.platformFriendsService.startListener({}), super.start();
}
close() {
this.platformFriendsService.stopListener({}), super.close();
}
};
function MC(e) {
return new Wg(new DC(e), SI);
}
var FC = class extends Pg {
init(e, t, n, r, i) {
if (NC.disableFirstPartyFriends) return void this.initToEmptyList();
const a = [ this.initSeedStrategy(e, t, n, r, i), this.initStreamStrategy(e, t, n, r, i) ];
return () => {
a.forEach((e => e?.()));
};
}
initToEmptyList() {
const e = this.get();
mr((() => {
const t = As((() => pg(e)));
e.update({
data: t,
loading: !1,
uninitialized: !1,
error: void 0
});
}));
}
initSeedStrategy(e, t, n, r, i) {
return this.setSeedStrategy({
fetch: async () => Ng(await BC(e, t, n, r, i)),
updater: ug
});
}
initStreamStrategy(e, t, n, r, i) {
return this.setStreamStrategy({
stream: MC(n),
updater: async (n, a) => {
const o = pg(n), s = a.data?.friendListEvent;
if (s) {
if ("STADIA" === By.devicePlatformId) return void await this.reseed();
if (s.updatedFriends.forEach((t => {
let n;
n = "EA" === i ? $g({
eaPlayerId: t.userId,
playerNetworkId: "EA"
}) : As((() => o.get(t.userId)?.photonPlayerId)), n && LC(e, i, n, t);
})), "EA" !== i && s.removedFriends.forEach((t => {
const n = As((() => o.get(t)));
n && (o.delete(t), e.removePointOfPresence(n.photonPlayerId, OC(t)));
})), "EA" === i) return void s.addedFriends.forEach((t => {
const n = Zg({
eaPlayerId: t.userId,
playerNetworkId: i
});
LC(e, i, n, t);
}));
const n = await xC(t, s.addedFriends, r, i), a = new Map(s.addedFriends.map((e => [ e.userId, e ])));
n.forEach((n => {
const r = a.get(n.firstPartyPlayerId);
r && RC(o, e, t, n, r);
}));
}
}
});
}
}, [UC, HC] = $s({
debugName: "firstPartyFriendsStoreState",
create: () => new FC({
debugName: "FirstPartyFriends"
})
});
function VC(e = {}) {
return new Cs(e);
}
var JC = class extends Pg {
constructor() {
super(...arguments), this.addFriend = e => {
const t = this.get();
As((() => {
const n = t.data;
n ? n.set(e.photonPlayerId, e) : t.update({
...t.toProps(),
data: VC({
[e.photonPlayerId]: e
})
});
}));
}, this.removeFriend = e => {
const t = this.get(), n = [];
return As((() => {
const r = t.data;
if (r) return mr((() => {
UI.forEach((({id: t}) => {
const i = $g({
eaPlayerId: e,
playerNetworkId: t
}), a = r.get(i);
a && (r.delete(i), n.push(a));
}));
})), n;
t.update({
...t.toProps(),
data: VC()
});
}));
};
}
}, [zC, GC] = $s({
debugName: "eaFriendsFragmentStoreState",
create: () => new JC({
debugName: "EaFriends"
})
}), jC = Ps({
debugName: "eaFriendsPlayerInfosState",
get: ({get: e}) => {
const t = e(zC).get(), n = e(VI), r = e(mN).get(), i = new Set(r.data?.keys()), a = [];
t.data?.forEach((({photonPlayerId: e}) => {
const {eaPlayerId: t} = tI(e);
t && !i.has(t) && a.push(n.get(e));
}));
const o = Cg([ t, r ]);
return {
...o,
data: o.hasData ? Og(a) : void 0
};
}
}), qC = Ps({
debugName: "firstPartyFriendsPlayerInfosState",
get: ({get: e}) => {
const t = e(UC).get(), n = e(VI), r = [];
return t.data?.forEach((({photonPlayerId: e}) => {
r.push(n.get(e));
})), {
...t.toProps(),
data: t.data ? Og(r) : void 0
};
}
}), WC = Ss({
debugName: "playerRowActionState",
get: e => ({get: t}) => {
const {eaPlayerId: n, firstPartyPlayerId: r} = tI(e);
if (n || r) {
if (n) {
const r = t(zC).get().data?.get(e);
if (r) return 1;
const i = t(mN).get().data?.get(n);
if (i) return 0;
const a = t(EC).get().data?.get(n);
if (a) return 2;
const o = t(SC).get().data?.get(n);
if (o) return 2;
if (t(rE).get().data?.tokenInfo.userId === n) return 3;
}
if (r) {
const e = t(UC).get().data?.get(r);
if (e) return 1;
}
return 4;
}
}
});
function YC(e) {
const t = new Map;
return e.forEach((e => {
if (!e.sessionId) return;
const n = t.get(e.photonPlayerId);
n ? n[e.sessionId] = e : t.set(e.photonPlayerId, {
[e.sessionId]: e
});
})), new MI(t, 50);
}
var KC = class extends Pg {
constructor() {
super(...arguments), this.firstPartyPresenceStream = new os;
}
addPresence(e) {
const t = this.get();
As((() => {
const n = t.data;
if (n) {
const t = n.get(e.photonPlayerId);
n.set(e.photonPlayerId, {
...t,
[e.sessionId]: e
});
} else t.update({
...t.toProps(),
data: YC([ e ])
});
}));
}
addPointsOfPresence(e) {
Object.keys(e).forEach((t => {
this.addPresence(e[t]);
}));
}
removePresence(e) {
const t = this.get();
return As((() => {
const n = t.data;
if (n) {
const t = n.get(e);
return n.delete(e), t;
}
}));
}
async removeSelectPointsOfPresence(e, t) {
const n = this.get(), r = As((() => n.data));
if (r) {
const n = As((() => ({
...r.get(e) ?? {}
})));
Object.keys(n).forEach((e => {
t(n[e]) && delete n[e];
})), 0 === Object.keys(n).length ? r.delete(e) : r.set(e, {
...n
});
}
}
async removePointOfPresence(e, t) {
await this.removeSelectPointsOfPresence(e, (e => e.sessionId === t));
}
}, [XC, QC] = $s({
debugName: "presenceFragmentStoreState",
create: () => new KC({
debugName: "Presence"
})
}), $C = e => e.get(XC), ZC = (e, t) => {
const n = (e.lastSeenOnline ?? 0) > (t.lastSeenOnline ?? 0) ? -1 : 1;
if (e.productId || t.productId) {
if (e.productId && t.productId) {
if (e.productId !== t.productId) {
if (e.productId === By.productId) return -1;
if (t.productId === By.productId) return 1;
}
return n;
}
return e.productId && !t.productId ? -1 : 1;
}
return n;
}, eO = (e, t) => {
const n = e?.get(t) ?? {};
return Object.keys(n).map((e => n[e]));
}, tO = (e, t) => {
const n = eO(e, t);
return n.sort(ZC), n[0];
}, nO = (e, t) => {
const {sessionId: n} = tI(t), r = aI(t);
return n ? e?.get(r)?.[n] : tO(e, r);
};
function rO(e) {
const t = Vy.getFromLocation(e)?.telemetryId;
return t || (console.warn("Missing telemetryId for " + e.pathname), "missing_id");
}
function iO(e) {
return "/" !== e.pathname;
}
var aO = class {
constructor(e, t) {
this.pinClient = e, this.getCurrentLocation = t, this.currentState = {}, this.isInOverlay = !1, 
this.disableEvents = !1;
}
shouldTriggerEvent(e) {
return "page" !== e && "overlay" !== e || !this.disableEvents;
}
withDisabledEvents(e) {
this.disableEvents = !0;
try {
e();
} catch (e) {}
this.disableEvents = !1;
}
onEvent(e, t) {
const {enterTime: n, location: r} = this.currentState;
if (t === r) return;
const i = Date.now();
switch (e) {
case "overlay":
this.isInOverlay = !0;
break;

case "page":
this.isInOverlay = !1;
}
const a = {
type: e,
pgid: rO(t)
};
r && (a.fromid = rO(r)), void 0 !== n && (a.pgdur = Math.round((i - n) / 1e3)), 
this.shouldTriggerEvent(e) && this.pinClient.triggerPageView(a), this.currentState = {
location: t,
enterTime: i
};
}
onPageView(e) {
this.onEvent("page", e);
}
onOverlayView(e, t) {
iO(e) ? (this.onEvent("overlay", e), t && this.shouldTriggerEvent("overlay") && this.pinClient.triggerMessage({
pg_id: t,
msg_id: t,
status: "impression",
type: "in_game",
service: "",
index: {
total_items: 0,
item_index: 0
}
})) : this.isInOverlay && this.onEvent(...this.getCurrentLocation());
}
onStart() {
this.currentState.location || (this.currentState.location = {
state: {
telemetryId: "manual_invoke"
}
}, this.onEvent(...this.getCurrentLocation()));
}
onExit() {
this.currentState.location && (this.onEvent("exit", {
state: {
telemetryId: "manual_close"
}
}), this.currentState = {});
}
}, [oO, sO] = $s({
debugName: "pageViewTelemetryState",
create: e => {
const t = Em(e, "main"), n = Em(e, "overlay"), r = e.get(qT);
return new aO(r, (function() {
const r = e.getUntracked(lk);
return r ? [ "overlay", r ] : iO(n.location) ? [ "overlay", n.location ] : [ "page", t.location ];
}));
}
}), lO = () => {
const e = Rs();
H.useEffect((() => {
const t = Em(e, "main"), n = Em(e, "overlay"), r = e.get(oO), i = [ t.listen((e => {
r.onPageView(e);
})), n.listen((e => {
r.onOverlayView(e);
})), Mn((() => e.get(lk)), ((e, i) => {
e?.state.telemetryId ? r.onOverlayView(e, e.state.telemetryId) : i?.state.telemetryId && (iO(n.location) ? r.onOverlayView(n.location) : r.onPageView(t.location));
}), {
fireImmediately: !0
}), Mn((() => e.get(Zf)), (e => {
e ? r.onStart() : r.onExit();
}), {
fireImmediately: !0
}) ];
return () => {
i.forEach((e => e()));
};
}), [ e ]);
}, cO = e => e.map(((t, n) => ({
...t,
telemetryInfo: {
index: {
item_index: n + 1,
total_items: e.length
}
}
}))), dO = (e, t) => {
e.triggerMessage({
type: "in_game",
service: "",
index: {
total_items: 0,
item_index: 0
},
status: "click",
...t
});
}, uO = (e, t, n) => () => (n && t && dO(e, n), t?.()), pO = (e, t) => {
const n = WT();
return H.useCallback((r => {
dO(n, {
pg_id: e,
destination_name: t,
msg_id: t,
option: r ? "expand" : "collapse"
});
}), [ t, e, n ]);
}, fO = e => {
const t = WT();
H.useEffect((() => {
e && dO(t, {
msg_id: e.pg_id,
...e,
status: "impression"
});
}), [ e, t ]);
};
function mO(e) {
switch (e) {
case 0:
return "blocked";

case 1:
return "friend";

case 2:
return "pending_friend";

default:
return "not_friend";
}
}
var yO = (e, t, n, r, i) => () => {
const a = As((() => {
const t = lE(e).data?.personaInfo, r = e.get(XC).get().data, a = nO(r, n), o = e.getItem(WC, aI(n));
let s = "unknown", l = "unknown";
return a && t && (s = a.playerNetworkId === t.playerNetworkId ? "same" : "other", 
l = a.devicePlatformId === t.devicePlatformId ? "same" : "other"), {
plat: s,
gen: l,
rel: mO(o),
...i?.context
};
}));
return uO(t, r, i && {
...i,
context: a
})();
}, hO = (e, t, n) => {
const r = Rs(), i = WT();
return H.useMemo((() => yO(r, i, e, t, n)), [ r, i, e, t, n ]);
};
function gO(e, t) {
const n = "overlay_player_actions_other" === e.pg_id || "overlay_player_actions_self" === e.pg_id;
return `${rO(t)}__${n ? e.pg_id : "CTA"}`;
}
var IO = 0, vO = class {
constructor(e, t) {
this.notificationManager = e, this.item = t, this.id = ++IO + "", this.timeLogItem = {
startTs: 0,
endTs: 0,
duration: 0
};
}
setTimeLog() {
this.timeLogItem.endTs || (this.timeLogItem.endTs = Date.now(), this.timeLogItem.startTs ? this.timeLogItem.duration = Math.ceil((this.timeLogItem.endTs - this.timeLogItem.startTs) / 1e3) : (this.timeLogItem.startTs = this.timeLogItem.endTs, 
this.timeLogItem.duration = 0));
}
ready() {
this.timeLogItem.startTs || (this.timeLogItem.startTs = Date.now());
}
done() {
this.setTimeLog();
}
getScreenTimeInSeconds() {
if (this.item.options?.stayActiveUntilInteractedWith) return;
if (this.item.options?.screenTimeInSec) return this.item.options.screenTimeInSec;
const e = this.notificationManager.getNotificationQueueFromTier(this.item.tier);
if (!e) throw Error("No queue found for active item");
return e.screenTimeInSec;
}
}, bO = class {
constructor(e) {
this.items = [], this.capacity = e.capacity, this.screenTimeInSec = e.screenTimeInSec, 
this.useTimeWindow = e.useTimeWindow, this.overridable = e.overridable;
}
addItem(e) {
this.items.push(e);
}
getCount() {
return this.items.length;
}
getNextItem() {
return this.overridable && this.items.length > 1 && this.items.splice(0, this.items.length - 1), 
this.items[0];
}
dequeueNextItem() {
this.items.shift();
}
}, _O = class {
constructor(e, t, n, r) {
this.pinClient = e, this.settings = t, this.gamePlayManager = n, this.activeItem = void 0, 
this.onDismiss = new as, this.onComplete = new as, this.queues = {
0: new bO({
screenTimeInSec: 6,
capacity: 1,
useTimeWindow: !1
}),
1: new bO({
screenTimeInSec: 6,
capacity: 10,
useTimeWindow: !0
}),
2: new bO({
screenTimeInSec: 4,
capacity: 15,
useTimeWindow: !0
}),
3: new bO({
screenTimeInSec: 4,
capacity: 2,
useTimeWindow: !1,
overridable: !0
})
}, this.timeLog = [], this.isNotificationAllowed = !0;
const i = r.getNotificationAllowed({});
i && this.setNotificationAllowed(i.status), r.onNotificationAllowChanged.subscribe((({status: e}) => {
this.setNotificationAllowed(e);
})), Nr(this, {
activeItem: ht.ref
});
}
setNotificationAllowed(e) {
this.isNotificationAllowed = e;
}
get isInGamePlay() {
return this.gamePlayManager.isInGamePlay;
}
shouldShowNotification(e) {
if (!this.isNotificationAllowed) return !1;
const t = 2 === this.settings.getSetting(0, 0), n = 1 === this.settings.getSetting(0, 0), r = 2 === this.settings.getSetting(0, e), i = 1 === this.settings.getSetting(0, e);
return this.gamePlayManager.isInGamePlay ? !(t || n || r || i) : !t && !r;
}
addNotification(e) {
As((() => this.shouldShowNotification(e.options?.setting ?? 0))) ? this.isQueueAvailable(e.tier) ? (this.addToQueue(e), 
As((() => {
this.activeItem || this.showNextNotification();
}))) : this.telemetrySendEvent("dropped", e) : this.telemetrySendEvent("hidden", e);
}
isEmpty() {
return void 0 === this.activeItem;
}
dismiss() {
this.onDismiss.trigger();
}
isQueueAvailable(e) {
return As((() => {
const t = this.queues[e];
if (this.activeItem) {
if (this.queues[this.activeItem.item.tier].overridable) return this.dismiss(), !0;
if (t.overridable) return !1;
}
return t.getCount() + 1 <= t.capacity;
}));
}
isTimeSlotExceeded(e) {
const {tier: t} = e, n = this.queues[t];
if (!n.useTimeWindow) return !1;
const r = e.options?.screenTimeInSec ?? n.screenTimeInSec;
if (!r) throw Error("screenTimeInSec is not set properly");
return this.timeLog.reduce(((e, t) => e + t.duration), 0) + r > 20;
}
addToQueue(e) {
this.queues[e.tier].addItem(e);
}
showNextNotification() {
if (this.activeItem) throw Error("Not showing notification, already active found");
let e;
this.purgeTimeLog(), this.queues[0].getCount() ? e = this.queues[0].getNextItem() : this.queues[1].getCount() ? e = this.queues[1].getNextItem() : this.queues[2].getCount() ? e = this.queues[2].getNextItem() : this.queues[3].getCount() && (e = this.queues[3].getNextItem()), 
e ? this.isTimeSlotExceeded(e) ? (this.telemetrySendEvent("dropped", e), this.queues[e.tier].dequeueNextItem(), 
this.showNextNotification()) : this.activeItem = new vO(this, e) : this.activeItem = void 0;
}
deleteActiveItem() {
if (!this.activeItem) return;
const e = this.activeItem.item.tier;
this.queues[e].dequeueNextItem(), this.activeItem = void 0;
}
addToTimeLog(e) {
this.timeLog.push(e), this.purgeTimeLog();
}
purgeTimeLog() {
const e = Date.now() - 6e4;
this.timeLog = this.timeLog.filter((t => t.endTs > e));
}
isUsingWithTimeWindow(e) {
const t = e.tier;
return this.queues[t].useTimeWindow;
}
activeItemDone() {
As((() => {
if (!this.activeItem) throw Error("Found no active item when done");
this.isUsingWithTimeWindow(this.activeItem.item) && this.addToTimeLog(this.activeItem.timeLogItem);
const {options: e, tier: t, type: n} = this.activeItem.item;
this.deleteActiveItem(), this.showNextNotification(), this.onComplete.trigger(t, n, e);
}));
}
getNotificationQueueFromTier(e) {
return this.queues[e];
}
telemetrySendEvent(e, t) {
t.options?.telemetryInfo && dO(this.pinClient, {
msg_id: t.options.telemetryInfo.pg_id,
...t.options.telemetryInfo,
status: "impression",
status_code: e,
...t.data?.hasActions && {
option: "open",
destination_name: "main"
}
});
}
}, [PO, SO] = $s({
debugName: "notificationState",
create: e => {
const t = e.get(km), n = e.get(Ih), r = e.get(qT), i = e.get(PN), a = e.get(IN), o = e.get(hh), s = new _O(r, i, a, n.Notifications), l = () => {
t.bindings.Input.setFocusNotificationRequireHold({
holdRequired: !0
});
}, c = () => {
t.bindings.Input.setFocusNotificationRequireHold({
holdRequired: !1
});
};
return {
notificationManager: s,
showNotification(e, t, n, r) {
const i = {
...n,
hasActions: !!n?.actions?.length
};
s.addNotification({
tier: e,
type: t,
content: _C(n),
options: r,
data: i
});
},
showNotificationComponent(e, t, n, r, i) {
s.addNotification({
tier: e,
type: t,
content: n,
options: r,
data: i
});
},
showCtaNotification(e, n, r, i, a, o, d) {
const u = 1e3 * (t.bindings.Input.getFocusNotificationConfig({})?.holdTimeSeconds ?? 1);
s.addNotification({
tier: e,
type: n,
content: e => H.createElement(gC, {
...e,
icon: r,
message: i,
buttonLabel: a,
holdTimeMs: u,
onDismiss: c,
onAction: o,
onMount: l
}),
options: d,
data: {
text: i
}
});
},
showNextNotification() {
s.activeItemDone();
},
showErrorNotification(e, t, n) {
o.addEvent({
eventType: "photon_user_error",
value: t,
message: n?.message
}), s.addNotification({
tier: 0,
type: 0,
content: _C({
text: cm("PHOTON-SOCIAL_NOTIFICATION_GLOBAL_ERROR_ACTION-FAIL"),
icon: Up.WARNING,
iconColor: sd.IconColorStandard.error,
...e
})
});
}
};
}
});
function TO() {
const {data: e} = oE(), t = e?.personaInfo;
return t ? {
devicePlatformId: t.devicePlatformId,
playerNetworkId: t.playerNetworkId
} : {
devicePlatformId: "UNKNOWN",
playerNetworkId: "EA"
};
}
function EO(e) {
return e?.displayName ?? "";
}
var kO = {
EPIC: !0,
EA: !0,
PSN: !0,
GOOGLE_STADIA: !0,
NINTENDO: !0,
STEAM: !0,
XBOX: !0
};
function NO(e) {
return e in kO;
}
var CO = {
EPIC: {
EPIC: "EPIC",
EA: qk.Console,
PSN: qk.Console,
GOOGLE_STADIA: qk.Console,
STEAM: qk.Console,
XBOX: qk.Console,
NINTENDO: qk.Console
},
EA: {
EPIC: qk.Console,
EA: "EA",
PSN: qk.Console,
GOOGLE_STADIA: qk.Console,
STEAM: qk.Console,
XBOX: qk.Console,
NINTENDO: qk.Console
},
PSN: {
EPIC: qk.Console,
EA: qk.Console,
PSN: "PSN",
GOOGLE_STADIA: qk.Console,
STEAM: qk.Console,
XBOX: qk.Console,
NINTENDO: qk.Console
},
GOOGLE_STADIA: {
EPIC: qk.Console,
EA: qk.Console,
PSN: qk.Console,
GOOGLE_STADIA: "GOOGLE_STADIA",
STEAM: qk.Console,
XBOX: qk.Console,
NINTENDO: qk.Console
},
STEAM: {
EPIC: qk.Console,
EA: qk.Console,
PSN: qk.Console,
GOOGLE_STADIA: qk.Console,
STEAM: "STEAM",
XBOX: qk.Console,
NINTENDO: qk.Console
},
XBOX: {
EPIC: qk.Console,
EA: qk.Console,
PSN: qk.Console,
GOOGLE_STADIA: qk.Console,
STEAM: qk.Console,
XBOX: "XBOX",
NINTENDO: qk.Console
},
NINTENDO: {
EPIC: qk.Console,
EA: qk.Console,
PSN: qk.Console,
GOOGLE_STADIA: qk.Console,
STEAM: qk.Console,
XBOX: qk.Console,
NINTENDO: "NINTENDO"
}
}, OO = {
EPIC: {
EPIC: qk.Pc,
EA: qk.Pc,
PSN: qk.Console,
GOOGLE_STADIA: qk.Console,
STEAM: qk.Pc,
XBOX: qk.Console,
NINTENDO: qk.Console
},
EA: {
EPIC: qk.Pc,
EA: qk.Pc,
PSN: qk.Console,
GOOGLE_STADIA: qk.Console,
STEAM: qk.Pc,
XBOX: qk.Console,
NINTENDO: qk.Console
},
PSN: {
EPIC: qk.Pc,
EA: qk.Pc,
PSN: "PSN",
GOOGLE_STADIA: qk.Console,
STEAM: qk.Pc,
XBOX: qk.Console,
NINTENDO: qk.Console
},
GOOGLE_STADIA: {
EPIC: qk.Pc,
EA: qk.Pc,
PSN: qk.Console,
GOOGLE_STADIA: "GOOGLE_STADIA",
STEAM: qk.Pc,
XBOX: qk.Console,
NINTENDO: qk.Console
},
STEAM: {
EPIC: qk.Pc,
EA: qk.Pc,
PSN: qk.Console,
GOOGLE_STADIA: qk.Console,
STEAM: qk.Pc,
XBOX: qk.Console,
NINTENDO: qk.Console
},
XBOX: {
EPIC: qk.Pc,
EA: qk.Pc,
PSN: qk.Console,
GOOGLE_STADIA: qk.Console,
STEAM: qk.Pc,
XBOX: "XBOX",
NINTENDO: qk.Console
},
NINTENDO: {
EPIC: qk.Pc,
EA: qk.Pc,
PSN: qk.Console,
GOOGLE_STADIA: qk.Console,
STEAM: qk.Pc,
XBOX: qk.Console,
NINTENDO: "NINTENDO"
}
};
function AO(e, t) {
const n = NC.legacySimplifiedPlatformRepresentations ? CO : OO;
return NO(e) && NO(t) ? n[e][t] : qk.Console;
}
function wO(e, t) {
return AO(e, t?.playerNetworkId ?? "EA");
}
var LO = e => {
const {playerNetworkId: t} = TO();
return {
name: EO(e),
playerNetworkId: wO(t, e)
};
}, RO = (e, t) => ({
name: EO(e),
playerNetworkId: wO(t.personaInfo.playerNetworkId, e)
}), xO = Ss({
debugName: "relativePrimaryIdMap",
get: e => ({get: t}) => {
const n = aI(e), {data: r} = t(rE).get(), {data: i} = t(VI).get(n);
return r?.photonPlayerId === n ? {
name: EO(i),
playerNetworkId: r?.personaInfo.playerNetworkId ?? "EA"
} : {
name: EO(i),
playerNetworkId: wO(r?.personaInfo.playerNetworkId ?? "EA", i)
};
}
}), BO = (e, t) => e.getItemUntracked(xO, t), DO = e => Us(xO, e), MO = Ii.observer((e => {
const {playerNetworkId: t, name: n} = DO(e.photonPlayerId);
return H.createElement(tN, {
name: n,
playerNetworkId: t,
style: e.style,
textStyle: e.textStyle,
useEllipsis: e.useEllipsis
});
})), FO = ({player: e, color: t = sd.TextColorStandard.emphasized, style: n}) => {
const {playerNetworkId: r} = TO(), i = Zk({
name: e.displayName,
playerNetworkId: AO(r, e.playerNetworkId)
});
return H.createElement(Gk, {
text: i,
color: t,
style: [ Bc("textEllipsis", !0), n ]
});
}, UO = () => {
const {showNotification: e} = SO(), {data: t} = lN(yN()), {data: n} = oE();
return H.useCallback((r => {
const i = r.eaPlayerId, {isCurrentPhotonUser: a} = dE(r.photonPlayerId, n);
if (n && !a && i) {
As((() => t?.has(i))) ? e(0, 2, {
text: cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_PARTY_MEMBER-BLOCKED", {
"%primaryID%": Zk(RO(r, n), {
allowEllipsis: !0
})
}),
icon: Up.WARNING,
iconColor: sd.ColorSystem.warning
}) : e(2, 2, {
text: cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_PARTY_MEMBER-JOIN", {
"%primaryID%": Zk(RO(r, n), {
allowEllipsis: !0
})
}),
icon: Up.PARTY
});
}
}), [ t, e, n ]);
};
function HO(e, t, n) {
return e && e.playerNetworkId === n && e.playerId === t;
}
var VO = () => {
const {showNotification: e} = SO(), {data: t} = oE();
return H.useCallback(((n, r) => {
if (!t || HO(r?.partyLeader, t.tokenInfo.userId, t.personaInfo.playerNetworkId)) return;
const {isCurrentPhotonUser: i} = dE(n.photonPlayerId, t);
i ? e(0, 2, {
icon: Up.REMOVE,
text: cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_PARTY_KICKED")
}) : e(2, 2, {
icon: Up.REMOVE,
text: cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_PARTY_MEMBER-EXIT", {
"%primaryID%": Zk(RO(n, t), {
allowEllipsis: !0
})
})
});
}), [ e, t ]);
}, JO = () => {
const {showNotification: e} = SO(), {data: t} = oE();
return H.useCallback((n => {
const {isCurrentPhotonUser: r} = dE(n.photonPlayerId, t);
t && !r && e(2, 2, {
icon: Up.EXIT,
text: cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_PARTY_MEMBER-EXIT", {
"%primaryID%": Zk(RO(n, t), {
allowEllipsis: !0
})
})
});
}), [ e, t ]);
}, zO = () => {
const {showNotification: e} = SO(), {data: t} = oE();
return H.useCallback(((n, r) => {
if (!t || HO(r?.partyLeader, t.tokenInfo.userId, t.personaInfo.playerNetworkId)) return;
const {isCurrentPhotonUser: i} = dE(n.photonPlayerId, t);
i ? e(2, 2, {
icon: Up.PARTY_LEADER,
text: cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_PARTY_LEADER-CONFIRM")
}, {
telemetryInfo: {
pg_id: "tst_promoted"
}
}) : e(2, 2, {
icon: Up.PARTY_LEADER,
text: cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_PARTY_LEADER-ANNOUNCE", {
"%primaryID%": Zk(RO(n, t), {
allowEllipsis: !0
})
})
}, {
setting: 5,
telemetryInfo: {
pg_id: "tst_promoted_other"
}
});
}), [ e, t ]);
}, [GO, jO] = $s({
debugName: "PartyNotificationEventsState",
create: () => ({
kicked: new as,
left: new as,
joined: new as,
setLeader: new as
})
}), qO = e => {
const t = jO();
H.useEffect((() => t.setLeader.subscribe(e.setLeader)), [ e.setLeader, t.setLeader ]), 
H.useEffect((() => t.joined.subscribe(e.joined)), [ e.joined, t.joined ]), H.useEffect((() => t.left.subscribe(e.left)), [ e.left, t.left ]), 
H.useEffect((() => t.kicked.subscribe(e.kicked)), [ e.kicked, t.kicked ]);
}, WO = () => {
const e = JO(), t = VO(), n = UO(), r = zO(), i = H.useMemo((() => ({
kicked: t,
left: e,
joined: n,
setLeader: r
})), [ n, t, e, r ]);
return qO(i);
};
function YO(e) {
const t = new Cs([]);
return e.members.forEach((e => {
const n = e.playerId, r = Sh(e.playerNetworkId), i = $g({
eaPlayerId: n,
playerNetworkId: r
});
t.set(i, {
eaPlayerId: n,
personaId: e.personaId,
playerNetworkId: r,
joinTimestampMs: e.joinTimestampMs,
photonPlayerId: i
});
})), {
...e,
partyLeader: {
playerId: e.partyLeader.playerId,
personaId: e.partyLeader.personaId,
playerNetworkId: Sh(e.partyLeader.playerNetworkId)
},
members: t,
maxSize: e.maxSize,
promotionEnabled: e.promotionEnabled,
crossPlayEnabled: e.crossPlayEnabled,
joinable: e.joinable,
invitable: e.invitable,
localizedPartyTitle: e.localizedPartyTitle
};
}
function KO(e) {
return e ? YO(e) : e;
}
async function XO(e, t, n, r = {}) {
const i = e.get(GO), a = e.get(VI), {data: o} = await wg(a.get(n), 1e4);
o && i[t].trigger(o, r);
}
function QO(e, t) {
return (n, r) => {
Sg(n) && Tg(r) && (n.data.partyId === r.data.partyId ? e(n, r) : t && t(n, r));
};
}
function $O(e) {
return $g({
eaPlayerId: e.playerId,
playerNetworkId: Sh(e.playerNetworkId)
});
}
function ZO(e) {
const t = Sh(e.playerNetworkId);
return {
eaPlayerId: e.playerId,
playerNetworkId: t,
personaId: e.personaId,
joinTimestampMs: e.joinTimestampMs,
photonPlayerId: $g({
eaPlayerId: e.playerId,
playerNetworkId: t
})
};
}
var eA = e => ({
eaPlayerId: e.playerId,
playerNetworkId: Sh(e.playerNetworkId),
status: e.status,
channel: e.channel
}), tA = class extends Pg {}, [nA, rA] = $s({
debugName: "voipPlayersFragmentStoreState",
create: () => new tA({
debugName: "VoipPlayersFragmentStore"
})
});
function iA(e) {
return e.get(nA);
}
function aA(e) {
const t = iA(e), {data: n} = lE(e);
return As((() => n?.photonPlayerId && t.get().data?.players.get(n.photonPlayerId)));
}
function oA(e) {
return aA(e)?.status === $f.Voip.VoipStatus.Disabled;
}
var sA = class extends Pg {}, [lA, cA] = $s({
debugName: "voipChannelsFragmentStoreState",
create: () => new sA({
debugName: "VoipChannels"
})
});
function dA(e, t) {
return !!t && !!e && e.status !== $f.Voip.VoipStatus.Disabled && t.status !== $f.Voip.VoipStatus.Disabled && e.channel === t.channel;
}
var uA = $f.Voip.VoipChannel, pA = class extends os {
constructor(e) {
super({
data: e
});
}
}, fA = class extends Pg {
updateParty(e) {
this.applyFragmentResults(kg({
data: e,
loading: !1,
skipped: !1
}), ((e, t) => e.update(t)));
}
init(e, t, n) {
const r = [ this.setSeed(e, t, n), this.setLeaderChangedStream(e, t), this.setMemberKickedStream(e, t), this.setMemberLeftStream(e, t), this.setMemberJoinedStream(e, t) ];
return () => {
r.forEach((e => e?.()));
};
}
setSeed(e, t, n) {
const r = () => !!t.isCreatePartySupported({})?.partySupport.isSupported;
return super.setSeedStrategy({
fetch: async () => {
let i = (await t.getParty({}))?.party;
return i || r() ? Ng(await Fh((async () => {
if (!i) try {
const e = await t.createParty({});
i = e?.party;
} catch (e) {
throw new Error("Failed to create party:" + e);
}
if (i) {
e.get(VI).getByIds(i.members.map((e => $g({
eaPlayerId: e.playerId,
playerNetworkId: Sh(e.playerNetworkId)
}))));
oA(e) || await n.setActiveVoipChannel({
channel: uA.Party
});
}
return i;
}), Jk, {
transformResponse: KO
})) : Ng({
loading: !1,
skipped: !1
});
},
updater: (e, t) => {
r() ? e.update(t) : e.update({
loading: !1,
data: void 0
});
}
});
}
setLeaderChangedStream(e, t) {
return this.setStreamStrategy({
stream: new pA(t.onLeaderChanged),
updater: QO(((t, n) => {
const r = $O(n.data), i = t.data.partyLeader, a = t.data.members, o = a.get(r), s = {
...t.data,
members: a,
partyLeader: {
playerId: n.data.playerId,
personaId: n.data.personaId,
playerNetworkId: Sh(n.data.playerNetworkId)
}
};
t.update({
...t.toProps(),
data: s
}), o && XO(e, "setLeader", r, {
partyLeader: i
});
}))
}, "leaderChangedStreamStrategy");
}
setMemberKickedStream(e, t) {
return this.setStreamStrategy({
stream: new pA(t.onMemberKicked),
updater: QO(((t, n) => {
const r = $O(n.data);
t.data.members.get(r) && (t.data.members.delete(r), XO(e, "kicked", r, {
partyLeader: t.data.partyLeader
}));
}))
}, "memberKickedStreamStrategy");
}
setMemberLeftStream(e, t) {
return this.setStreamStrategy({
stream: new pA(t.onMemberLeft),
updater: QO(((t, n) => {
const r = $O(n.data);
t.data.members.get(r) && (t.data.members.delete(r), XO(e, "left", r));
}))
}, "memberLeftStreamStrategy");
}
setMemberJoinedStream(e, t) {
return this.setStreamStrategy({
stream: new pA(t.onMemberJoined),
updater: QO(((t, n) => {
const r = $O(n.data.member), i = ZO(n.data.member);
t.data.members.set(r, i), XO(e, "joined", r);
}), ((t, n) => {
const {data: r} = lE(e);
n.data.member.playerId === r?.tokenInfo.userId && this.reseed();
}))
}, "memberJoinedStreamStrategy");
}
}, [mA, yA] = $s({
debugName: "partyFragmentStoreState",
create: () => new fA({
debugName: "Party"
})
});
function hA(e) {
return e.get(mA);
}
function gA(e) {
const t = hA(e);
return As((() => t.get().data?.members.size));
}
var IA = Ps({
debugName: "partyCrossplayEnabledState",
get: ({get: e}) => e(mA).get().data?.crossPlayEnabled
}), vA = Ps({
debugName: "partyOrLobbyCrossplayEnabledState",
get: ({get: e}) => e(Uk) || e(IA)
}), bA = Ss({
debugName: "crossplayPreventedState",
get: e => ({get: t}) => {
const n = t(vA), r = gE.crossplayCompatiblePlatforms;
return fk(nO(t(XC).get().data, e), t(rk), n, r);
}
});
function _A(e) {
return Us(bA, e);
}
function PA(e) {
return bk(Us(bA, e));
}
var SA = Ps({
debugName: "firstPartyFriendsExcludingEAFriendsPlayerInfosState",
get: ({get: e}) => {
const t = e(rE).get();
if (!t.data) return {
...t.toProps(),
data: void 0
};
if ("EA" === t.data.personaInfo.playerNetworkId) return {
loading: !1,
uninitialized: !1,
data: [],
error: void 0
};
const n = e(VI), r = e(jC), i = e(mN).get(), a = e(qC);
if (r.data && a.data && i.data) {
const e = [], t = new Set, o = new Set(i.data.map((e => e.eaPlayerId)));
for (const e of r.data) e.firstPartyPlayerId && t.add(e.firstPartyPlayerId);
for (const {photonPlayerId: r, firstPartyPlayerId: i, eaPlayerId: s} of a.data.values()) !i || s && o.has(s) || t.has(i) || e.push(n.get(r));
const s = Cg([ r, a, i, ...e ]);
return {
...s,
data: s.hasData ? Og(e) : void 0
};
}
return {
...Cg([ r, a ]),
data: void 0
};
}
}), TA = Ps({
debugName: "friendsPlayerInfosState",
get: ({get: e}) => {
const t = e(jC), n = e(SA), r = Cg([ t, n ]);
return {
...r,
data: r.hasData ? [ ...t.data ?? [], ...n.data ?? [] ] : void 0
};
}
}), EA = (e => (e.party = "party", e.lobby = "lobby", e))(EA || {});
function kA(e) {
const t = !!e.properties?.lobbyJoinable && !!e.gameJoinTokenTypes?.includes("lobby"), n = e.productId === By.productId, r = !!e.joinable;
return t && r && n;
}
function NA(e) {
if (!By.isPartyEnabled) return !1;
const t = !!e.properties?.partyJoinable && !!e.gameJoinTokenTypes?.includes("party"), n = e.productId === By.productId, r = !!e.joinable;
return t && r && n;
}
function CA(e, t) {
const n = e.displayName.toLowerCase(), r = t.displayName.toLowerCase();
return n < r ? -1 : n > r ? 1 : 0;
}
var OA = (e, t, n, r, i, a) => {
const o = a?.get(e.photonPlayerId)?.uninvitable, s = !r?.has(e.photonPlayerId) && (t && !o || NA(e)), l = !i?.has(e.photonPlayerId) && (n && !o || kA(e));
return !(!s && !l);
}, AA = e => e.presence?.isOnline ?? !1;
function wA(e) {
return (t, n) => {
if (!!t.presence?.isOnline != !!n.presence?.isOnline) return AA(t) ? -1 : 1;
if (t.photonPlayerId === n.photonPlayerId) return t.presence?.isEAPresence ? -1 : 1;
if (t.playerInfo.playerNetworkId !== n.playerInfo.playerNetworkId && (t.playerInfo.playerNetworkId === e || n.playerInfo.playerNetworkId === e)) return t.playerInfo.playerNetworkId === e ? -1 : 1;
if (t.playerInfo.eaPlayerId === n.playerInfo.eaPlayerId) {
const r = t.playerInfo?.playerNetworkId === e, i = n.playerInfo?.playerNetworkId === e, a = "EA" === t.playerInfo?.playerNetworkId, o = "EA" === n.playerInfo?.playerNetworkId;
if (r !== i) return r ? -1 : 1;
if (a !== o) return a ? -1 : 1;
}
if (!t.mostRecentlyLoggedInPersonaDate || !n.mostRecentlyLoggedInPersonaDate) return t.mostRecentlyLoggedInPersonaDate || n.mostRecentlyLoggedInPersonaDate ? t.mostRecentlyLoggedInPersonaDate ? -1 : 1 : CA(t.playerInfo, n.playerInfo);
const r = n.mostRecentlyLoggedInPersonaDate - t.mostRecentlyLoggedInPersonaDate;
return 0 === r ? CA(t.playerInfo, n.playerInfo) : r;
};
}
var LA = (e, t) => {
const n = e.presence?.updateTimestamp || 0, r = t.presence?.updateTimestamp || 0;
return n === r ? CA(e.playerInfo, t.playerInfo) : n > r ? -1 : 1;
};
function RA(e, t) {
const n = e.presence.productId === By.productId;
return n !== (t.presence.productId === By.productId) ? n ? -1 : 1 : 0;
}
function xA(e, t, n) {
const r = e.presence.playerNetworkId === n;
return r !== (t.presence.playerNetworkId === n) ? r ? -1 : 1 : 0;
}
function BA(e, t, n) {
const r = RA(e, t);
if (r) return r;
const i = xA(e, t, n);
return i || LA(e, t);
}
function DA(e, t, n, r, i = new Set, a, o, s, l, c) {
return e.sort(((e, d) => {
const u = s?.has(e.photonPlayerId) || l?.has(e.photonPlayerId);
if (u !== (s?.has(d.photonPlayerId) || l?.has(d.photonPlayerId))) return u ? -1 : 1;
const p = RA(e, d);
if (p) return p;
const f = vk(e.presence, n, r, i), m = vk(d.presence, n, r, i), y = !f && OA(e.presence, a, o, s, l, c);
if (y !== (!m && OA(d.presence, a, o, s, l, c))) return y ? -1 : 1;
const h = xA(e, d, t);
return h || LA(e, d);
})), e;
}
function MA(e, t) {
return e.sort(wA(t)), e;
}
function FA(e, t) {
const n = [], r = {};
return e.sort(wA(t)), e.forEach((e => {
const t = e.playerInfo.eaPlayerId ?? e.playerInfo.firstPartyPlayerId;
t && (r[t] && e.presence?.isEAPresence && AA(e) || !r[t]) && (n.push(e), r[t] = !0);
})), n;
}
function UA(e) {
return !!e.presence?.isOnline;
}
var HA = {
uninvitable: !1
}, VA = Is({
debugName: "uninvitableFriendsState",
default: new Map
});
function JA(e) {
const t = Rs(), n = Bk().get().data, r = n && n.invitable && n.maxSize > n.members.size, i = Fk(t, e), a = Fs(VA).get(e);
return !i && r && a ? a : HA;
}
var zA = (e, t) => ({
telemetryInfo: t,
photonPlayerId: e.photonPlayerId
}), GA = (e, t) => ({
telemetryInfo: t,
photonPlayerId: iI(e.photonPlayerId, e.presence.sessionId),
presence: e.presence
});
function jA(e, t, n) {
const r = [];
return e.forEach((e => {
const i = eO(t, e.photonPlayerId);
if (i.length) i.forEach((t => {
r.push({
playerInfo: e,
presence: t,
photonPlayerId: e.photonPlayerId
});
})); else {
const i = e.eaPlayerId ? n.get(e.eaPlayerId)?.mostRecentlyLoggedInPersonaDate : void 0;
r.push({
playerInfo: e,
photonPlayerId: e.photonPlayerId,
presence: nO(t, e.photonPlayerId),
mostRecentlyLoggedInPersonaDate: i
});
}
})), r;
}
var qA = Ps({
debugName: "relevantFriendsWithPresenceState",
get: ({get: e}) => {
const t = e(TA), n = e(XC).get(), r = e(zI), i = e(sE).data?.personaInfo.playerNetworkId, a = e(zC).get(), o = [ t, a ];
(a.data?.size ?? 0) > 0 && o.push({
...n.toProps(),
data: n.loading ? void 0 : n.data
});
const s = Cg(o);
if (s.hasData && t.data && n.data && i) {
const e = FA(jA(t.data, n.data, r), i);
return {
...s,
data: e
};
}
return s;
}
}), WA = Ps({
debugName: "blockedListState",
get: ({get: e}) => {
const t = e(mN).get();
let n;
if (t.data) {
const e = t.data.size;
n = t.data.map(((t, n) => zA(t, {
pg_id: "tab_friends",
destination_name: "blocked",
index: {
item_index: n + 1,
total_items: e
}
})));
}
return {
...t.toProps(),
data: n
};
}
}), YA = Ps({
debugName: "invitableToPartyOrLobbyState",
get: ({get: e}) => {
const t = e(mA).get().data, n = e(xk).get().data;
let r, i, a = !1, o = !1;
return t && (r = new Set(t.members.keys()), a = t.invitable && r.size < t.maxSize), 
n && (i = new Set(n.members.keys()), o = n.invitable && i.size < n.maxSize), {
partyMembers: r,
lobbyMembers: i,
invitableToParty: a,
invitableToLobby: o
};
}
}), KA = Ps({
debugName: "friendsListState",
get: ({get: e}) => {
const t = e(sE), n = t.data?.personaInfo.playerNetworkId, r = e(rk), i = e(vA);
if (void 0 === n) return {
...t,
data: void 0
};
const a = e(qA), o = e(WA);
let s;
if (a.data && o.data) {
const t = [], l = [];
a.data.forEach((e => {
AA(e) ? t.push(e) : l.push(e);
}));
const {invitableToLobby: c, invitableToParty: d, lobbyMembers: u, partyMembers: p} = e(YA), f = e(VA), m = gE.crossplayCompatiblePlatforms;
s = {
0: DA(t, n, r, i, m, d, c, p, u, f).map(((e, n) => GA(e, {
pg_id: "tab_friends",
destination_name: "online_friends",
msg_id: "online_friends",
index: {
item_index: n + 1,
total_items: t.length
}
}))),
1: MA(l, n).map(((e, t) => zA(e, {
pg_id: "tab_friends",
destination_name: "offline_friends",
msg_id: "offline_friends",
index: {
item_index: t + 1,
total_items: l.length
}
}))),
2: o.data.map(((e, t) => zA(e, {
pg_id: "tab_friends",
destination_name: "blocked",
msg_id: "blocked",
index: {
item_index: t + 1,
total_items: o.data?.length ?? 0
}
})))
};
}
const l = Cg([ a, o ]);
return {
...l,
data: l.hasData ? s : void 0
};
}
}), XA = Is({
debugName: "waitingForInitialPresence",
default: !0
}), QA = Ss({
debugName: "hasFriendshipState",
get: e => ({get: t}) => {
const n = t(mN).get(), r = t(zC).get(), i = Cg([ n, r ]);
if (!i.hasData) return {
...i,
data: void 0
};
const {eaPlayerId: a} = tI(e);
if (a && n.data?.has(a)) return {
...i,
data: !1
};
if (!!r.data?.get(e)) return {
...r.toProps(),
data: !0
};
const o = t(VI).get(e), s = t(UC).get(), l = o.data?.firstPartyPlayerId, c = !!l && !!s.data?.get(l), d = Cg([ o, s ]);
return {
...d,
data: d.hasData ? c : void 0
};
}
}), $A = Ss({
debugName: "isSamePlatformFriendsState",
get: e => ({get: t}) => {
const n = t(sE), r = n.data?.personaInfo.playerNetworkId;
if (!r) return {
...n,
data: void 0
};
const i = t(VI).get(e), a = i.data?.playerNetworkId;
if (!a) return {
...i.toProps(),
data: void 0
};
if (r !== a) return {
...i.toProps(),
data: !1
};
if ("EA" === r) {
const n = t(zC).get(), r = !!n.data?.get(e);
return {
...n.toProps(),
data: r
};
}
const o = t(UC).get(), s = i.data?.firstPartyPlayerId, l = !!s && !!o.data?.get(s);
return {
...o.toProps(),
data: o.data ? l : void 0
};
}
}), [ZA, ew] = $s({
debugName: "layerStateHelper",
create: e => {
const t = e.getUntracked(im);
return {
get isHidden() {
return "Hidden" === t.currentState || "Hiding" === t.currentState;
},
get isRevealed() {
return "Revealed" === t.currentState || "Revealing" === t.currentState;
},
onRevealed: e => t.stateChangeEvent.subscribe((t => {
"Revealing" === t && e();
})),
onHidden: e => t.stateChangeEvent.subscribe((t => {
"Hiding" === t && e();
})),
open: () => {
"Revealed" !== t.currentState && t.interrupt((() => "Revealing"));
},
close: () => {
"Hidden" !== t.currentState && t.interrupt((() => "Hiding"));
},
toggle: () => {
t.interrupt((e => "Hidden" === e || "Hiding" === e ? "Revealing" : "Hiding"));
}
};
}
});
function tw(e) {
return e.getUntracked(ZA);
}
function nw(e) {
const t = tw(e);
let n;
return {
start: () => {
void 0 === n && (n = t.isHidden, n && t.open());
},
stop: () => {
n && t.close(), n = void 0;
}
};
}
var rw = $f.DeepLink.PickFriendPlayerInclusion;
function iw(e, t) {
return e.joinTimestampMs - t.joinTimestampMs;
}
function aw(e, t) {
const n = wA(t);
return e.sort(((e, t) => {
const r = e.inclusion !== rw.Show;
return r !== (t.inclusion !== rw.Show) ? r ? 1 : -1 : n(e, t);
}));
}
var ow = Ps({
debugName: "partyMembersPlayerInfosState",
get: ({get: e}) => {
const t = e(mA).get(), n = e(VI), r = e(sE).data?.tokenInfo.userId, i = Array.from(t.data?.members.values() ?? []).sort(iw), a = [];
i.forEach((e => {
e.eaPlayerId !== r && a.push(n.get(e.photonPlayerId));
}));
return {
...Cg(a),
data: Og(a)
};
}
}), sw = vs({
debugName: "friendPickerRequest",
default: void 0
}), lw = Ps({
debugName: "friendPickerSourceState",
get: ({get: e, getItem: t}) => {
const n = e(sw), r = e(KA), i = new Set;
r.data && (r.data[0].forEach((e => i.add(aI(e.photonPlayerId)))), r.data[1].forEach((e => i.add(e.photonPlayerId))));
const a = e(TA), o = new Map;
a.data?.forEach((e => {
o.set(e.photonPlayerId, e);
}));
const s = e(XC).get(), l = s.data, c = [];
i.forEach((e => {
const n = o.get(e);
if (n && n.eaPlayerId && n.personaId) {
const r = nO(l, e), i = !mk(t(bA, e));
c.push({
photonPlayerId: e,
presence: r,
playerId: n.eaPlayerId,
personaId: n.personaId,
playerNetworkId: n.playerNetworkId,
isOnline: !!r && r.isOnline,
firstPartyPlayerId: n.firstPartyPlayerId,
displayName: n.displayName,
crossplayDisabled: i
});
}
}));
const d = e(ow);
n?.includePartyPlayers && d.data?.forEach((e => {
if (e && e.eaPlayerId && e.personaId) {
const n = !mk(t(bA, $g(e)));
c.push({
photonPlayerId: e.photonPlayerId,
playerId: e.eaPlayerId,
personaId: e.personaId,
playerNetworkId: e.playerNetworkId,
inParty: !0,
firstPartyPlayerId: e.firstPartyPlayerId,
displayName: e.displayName,
crossplayDisabled: n
});
}
}));
const u = Cg([ r, a, d, s ]);
return {
...u,
data: u.hasData ? c : void 0
};
}
}), [, cw] = $s({
debugName: "friendPickerLayerFlowHelper",
create: nw
}), dw = vs({
debugName: "filteredPlayersPickerListState",
default: {
loading: !1,
uninitialized: !0
}
}), uw = vs({
debugName: "friendPickerSourceSnapshotState",
default: []
});
var pw = Ps({
debugName: "friendPickerListState",
get: ({get: e}) => {
const t = e(sw), n = e(uw), r = e(sE), i = r.data?.personaInfo.playerNetworkId, a = e(zI), o = e(dw), s = o.data, l = {
0: [],
1: [],
2: []
};
if (void 0 !== i && s) {
const e = [], r = [], o = [];
n.forEach((t => {
const n = s.get(t.photonPlayerId);
if (n) {
const i = Sh(t.playerNetworkId);
if (t.inParty) e.push({
photonPlayerId: t.photonPlayerId,
inclusion: n.inclusion
}); else {
const e = {
photonPlayerId: t.photonPlayerId,
inclusion: n.inclusion,
playerInfo: {
eaPlayerId: t.playerId,
playerNetworkId: i,
displayName: t.displayName,
photonPlayerId: t.photonPlayerId,
personaId: t.personaId,
firstPartyPlayerId: t.firstPartyPlayerId
},
presence: t.presence
};
UA(e) ? r.push(e) : o.push({
...e,
...a.get(t.playerId)
});
}
}
})), l[1] = (c = r, d = i, c.sort(((e, t) => {
const n = e.inclusion !== rw.Show;
return n !== (t.inclusion !== rw.Show) ? n ? 1 : -1 : BA(e, t, d);
}))).map(((e, t) => ({
telemetryInfo: {
pg_id: "overlay_friends_dialog",
destination_name: "online_friends",
index: {
item_index: t + 1,
total_items: r.length
}
},
inclusion: e.inclusion,
photonPlayerId: iI(e.photonPlayerId, e.presence.sessionId)
}))), t?.includePartyPlayers && (l[0] = e.map(((t, n) => ({
...t,
telemetryInfo: {
pg_id: "overlay_friends_dialog",
destination_name: "in_your_party",
index: {
item_index: n + 1,
total_items: e.length
}
}
})))), t?.includeOfflinePlayers && (l[2] = aw(o, i).map(((e, t) => ({
telemetryInfo: {
pg_id: "overlay_friends_dialog",
destination_name: "offline_friends",
index: {
item_index: t + 1,
total_items: o.length
}
},
photonPlayerId: e.photonPlayerId,
inclusion: e.inclusion
}))));
}
var c, d;
const u = Cg([ o, r ]);
var p;
return (p = l) && Object.values(p).every((e => !e?.length)), {
...u,
data: l
};
}
});
function fw(e, t) {
return e.getUntracked(VI).get(t);
}
function mw(e, t) {
return As((() => e.get(VI).get(t).data));
}
function yw(e, t) {
return aN(e, JI(), t);
}
function hw(e, t) {
return sN(e, JI(), t);
}
function gw(e, t) {
const n = JI(), r = n.get(e), i = r.data;
return oN(H.useMemo((() => {
const {eaPlayerId: t} = tI(e);
return t ? i ? As((() => n.findByEaPlayerId(t))) : [ r ] : [];
}), [ n, e, r, i ]), t);
}
function Iw(e) {
const t = GI(), {eaPlayerId: n} = tI(e);
return n ? t.get(n) : void 0;
}
function vw(e, t) {
const n = gw(e, t), r = n.data?.find((e => "EA" === e.playerNetworkId));
return {
...n,
data: r
};
}
var bw = Bh.optional(Bh.object({}));
async function _w(e, t, n, r) {
return Fh((() => e[t]({
entityId: {
playerId: {
id: r
}
},
targetEntityId: {
playerId: {
id: n
}
}
})), bw);
}
var Pw = {
AcceptReceivedFriendInvite: "invite_accepted",
DeclineReceivedFriendInvite: "invite_declined",
CancelSentFriendInvite: "invite_canceled"
};
function Sw(e, t) {
return `${e}-${t}`;
}
var Tw = (e, t, n, r, i, a, o, s, l) => {
const {showNotification: c, showErrorNotification: d} = r, {data: u} = lE(e);
let p;
switch (n) {
case "AcceptReceivedFriendInvite":
case "DeclineReceivedFriendInvite":
p = e.getUntracked(SC);
break;

case "CancelSentFriendInvite":
p = e.getUntracked(EC);
break;

default:
Ts("Unhandled method");
}
return async () => {
let r;
try {
const {data: d} = await wg(fw(e, i), 8e3);
pP(d && d.eaPlayerId && u);
const h = d.eaPlayerId, g = As((() => p?.get().data));
s?.getSuccessMessage && c(3, 3, {
icon: s.successIcon,
text: s.getSuccessMessage(Zk(RO(d, u), {
allowEllipsis: !0
}))
});
const I = As((() => g?.get(h)));
g?.delete(d.eaPlayerId), r = () => I && g?.set(h, I);
const v = await _w(t, n, d.eaPlayerId, u.tokenInfo.userId);
l && a.triggerFriends({
friend: d.eaPlayerId,
friend_invite_id: (f = u.tokenInfo.userId, m = d.eaPlayerId, y = n, "CancelSentFriendInvite" === y ? Sw(f, m) : Sw(m, f)),
action: Pw[n],
source: gO(l, o),
status_code: v.error ? v.error.message : void 0
}), "AcceptReceivedFriendInvite" === n && e.get(hh).addEvent({
eventType: "photon_friends",
action: "invite_accepted",
error: !!v.error,
error_code: v.error?.message
});
const b = ("DeclineReceivedFriendInvite" === n || "CancelSentFriendInvite" === n) && v.error?.message.includes("INVITATION_NOT_FOUND");
if (v.error && !b) throw v.error;
return v;
} catch (e) {
return r?.(), d(s?.getErrorMessage && {
text: s.getErrorMessage()
}, "friend request " + n, e), {
error: e,
loading: !1,
skipped: !1
};
}
var f, m, y;
};
}, Ew = (e, t, n, r) => {
const i = Rs(), {Invites: a} = lm(), o = SO(), s = WT(), l = dv("main");
return Tw(i, a, t, o, e, s, l.history.location, n, r);
}, kw = e => cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_FRIEND_INVITE-DECLINE", {
"%senderPrimaryID%": e
}), Nw = () => cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_DECLINE-FRIEND-REQUEST-FAIL"), Cw = e => cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_FRIENDS_INVITE-CANCEL", {
"%primaryID%": e
}), Ow = () => cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_CANCEL-FRIEND-REQUEST-FAIL"), Aw = () => cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_ACCEPT-FRIEND-REQUEST-FAIL"), ww = (e, t) => {
const n = Rs(), r = WT(), i = Ew(e, "AcceptReceivedFriendInvite", {
getErrorMessage: Aw
}, t);
return yO(n, r, e, i, t && {
...t,
status: "click",
option: "accept"
});
}, Lw = (e, t) => {
const n = Rs(), r = WT(), i = Ew(e, "DeclineReceivedFriendInvite", {
getSuccessMessage: kw,
getErrorMessage: Nw,
successIcon: Up.REMOVE
}, t);
return yO(n, r, e, i, t && {
...t,
status: "click",
option: "decline_friend_request"
});
}, Rw = (e, t) => {
const n = Rs(), r = WT(), i = Ew(e, "CancelSentFriendInvite", {
getSuccessMessage: Cw,
getErrorMessage: Ow,
successIcon: Up.REMOVE
}, t);
return yO(n, r, e, i, t && {
...t,
status: "click",
option: "cancel_friend_request"
});
}, xw = (e, t) => {
const n = Rs(), r = WT(), i = cv("main"), a = H.useCallback((() => {
i.navigate(Gy.link({
photonPlayerId: e
}));
}), [ e, i ]);
return yO(n, r, e, a, t && {
msg_id: t.destination_name,
option: "view_request",
context: {
rel: "pending_friend"
},
...t
});
}, Bw = Rc((e => ({
color: e
})), {
fontSize: bc(sd.TextSizeHeading.medium),
zOffset: 1,
textLetterSpacing: vc(2),
textEdgeOffset: .2,
wordWrap: "break-word"
}), Dw = ({text: e, useEllipsis: t = !1, color: n, style: r}) => H.createElement("surface", {
text: e,
style: [ Gd, Bw(n || sd.TextColorStandard.default), Bc("textEllipsis", t), Bc("wordWrap", t ? "normal" : "break-word"), r ]
}), Mw = Oc({
fontSize: bc(sd.TextSizeDisplay.medium),
textLetterSpacing: vc(3),
zOffset: 1,
wordWrap: "break-word"
}), Fw = ({text: e, color: t, style: n}) => H.createElement("surface", {
text: e,
style: [ Gd, Mw, Bc("color", t || sd.TextColorStandard.default), n ]
}), Uw = Oc({
marginBottom: vc(sd.DimensionSpace.large)
}), Hw = {
start: "flex-start",
center: "center",
end: "flex-end"
}, Vw = ({title: e, headline: t, body: n, bodyStyle: r, style: i, childrenStyle: a, align: o, children: s}) => {
const l = Bc("textAlign", o), c = o ? Hw[o] : void 0, d = Bc("justifyContent", c), u = Bc("alignItems", c);
return H.createElement("surface", {
style: [ d, i ]
}, !!e && H.createElement(Fw, {
text: e,
color: sd.TextColorStandard.emphasized,
style: [ Uw, l ]
}), !!t && H.createElement(Dw, {
text: t,
color: sd.TextColorStandard.emphasized,
style: [ Uw, l ]
}), !!n && H.createElement(Gk, {
text: n,
color: sd.TextColorStandard.default,
style: [ l, r ]
}), !!s && H.createElement("surface", {
style: [ u, a ]
}, s));
}, Jw = Oc({
flex: 1
}), zw = e => H.createElement(Vw, {
align: "center",
...e,
style: [ e.style, Jw ]
}), Gw = vc(60), jw = Oc({
spriteAnimation: {
fps: 60,
totalFrames: 85,
startFrame: 0,
looping: !0,
spriteSheet: _c({
1: Vc("/photon/quantum/sprites/Circular_Loader_60px-399b44b9.png"),
2: Vc("/photon/quantum/sprites/Circular_Loader_60px@2x-f2961637.png")
}),
frameWidth: Gw,
frameHeight: Gw
},
height: Gw,
width: Gw
}), qw = ({style: e}) => {
const t = Gu(), [n, r] = H.useState(null);
return H.useEffect((() => {
n && t.bindings.Layout.playSpriteAnimation({
surfaceId: n,
start: !0
});
}), [ n, t ]), H.createElement("surface", {
onSurfaceId: r,
style: [ jw, e ]
});
}, Ww = (e, t, n = !0) => {
const {actionKeyBindings: r} = rp();
return Vu(e ? {
callback: e.callback,
keyBinding: r[e.action],
label: e.label
} : void 0, t, n);
}, Yw = vc(1250), Kw = Oc({
width: Yw,
marginTop: vc(sd.DimensionLayout.medium),
marginBottom: vc(sd.DimensionLayout.medium)
}), Xw = Oc({
marginTop: vc(sd.DimensionSpace.largest),
alignItems: "center",
width: Yw
}), Qw = Oc({
maxWidth: vc(900),
alignSelf: "center"
}), $w = Oc({
marginBottom: vc(sd.DimensionSpace.medium),
width: vc(675)
}), Zw = Oc({
position: "absolute",
top: 0,
alignSelf: "center"
}), eL = ({actionConfig: e, closeModal: t, onFocus: n, onBlur: r, alignStart: i, style: a, narrationItem: o, narration: s}) => {
const l = sp(2), c = H.useMemo((() => {
const i = {
actionWithMaybeAutoClose: () => {
e.action(), e.autoClose && t();
}
};
return n && (i.onFocus = () => n(e)), r && (i.onBlur = () => r(e)), i;
}), [ t, n, r, e ]);
return H.createElement(Op, {
variant: e.buttonVariant,
style: a,
label: e.label,
alignStart: i,
onFocus: c.onFocus,
onBlur: c.onBlur,
id: "modal-" + e.id,
input: {
keyBinding: l,
callback: c.actionWithMaybeAutoClose
},
onClick: c.actionWithMaybeAutoClose,
narrationItem: o,
narration: s,
icon: e.icon
});
};
function tL(e) {
return "actions" in e;
}
var nL = H.memo((({actions: e, closeAction: t, onFocus: n, onBlur: r, alignStart: i, buttonStyle: a, buttonNarrationItem: o}) => {
const {closeModal: s} = dk();
let l = t ? 1 : 0, c = 0;
for (const t of e) tL(t) ? l += t.actions.length : l++;
return H.createElement(H.Fragment, null, e.map((e => tL(e) ? H.createElement(zw, {
key: e.id,
style: Kw,
childrenStyle: Xw,
headline: e.title,
body: e.body,
bodyStyle: Qw
}, e.actions.map((e => H.createElement(eL, {
key: e.id,
style: [ $w, a ],
actionConfig: e,
closeModal: s,
onFocus: n,
onBlur: r,
narrationItem: o,
narration: {
buttonNumber: ++c,
buttonTotal: l
}
})))) : H.createElement(eL, {
key: e.id,
style: [ $w, a ],
actionConfig: e,
closeModal: s,
onFocus: n,
onBlur: r,
alignStart: i,
narrationItem: o,
narration: {
buttonNumber: ++c,
buttonTotal: l
}
}))), !!t && H.createElement(eL, {
key: t.id,
style: [ $w, a, e.length > 1 ? Bc("marginTop", vc(sd.DimensionSpace.larger)) : void 0 ],
actionConfig: t,
closeModal: s,
onFocus: n,
onBlur: r,
alignStart: i,
narrationItem: o,
narration: {
buttonNumber: ++c,
buttonTotal: l
}
}));
})), rL = ({closeAction: e, withoutLabel: t, children: n}) => (Ww({
callback: e.action,
label: t ? void 0 : e.label,
action: 3
}), H.createElement(H.Fragment, null, n)), iL = ({title: e, headline: t, body: n, overlayTitleNarrationItem: r}) => {
pu((t => r({
title: e
}, t)), [ e, r ], 0), pu((() => [ t, n ]), [ n, t ], 3);
}, aL = ({title: e, headline: t, body: n, style: r, children: i, overlayTitleNarrationItem: a}) => (iL({
title: e,
headline: t,
body: n,
overlayTitleNarrationItem: a
}), H.createElement(zw, {
style: Kw,
title: e,
headline: t,
body: n,
bodyStyle: Qw
}, H.createElement("surface", {
style: [ Xw, r ]
}, i))), oL = ({title: e, headline: t, body: n, actions: r, closeAction: i, closeLabel: a, showLoading: o, withoutCloseButton: s = !1, withoutGlobalCloseInputLabel: l = !1, overlayTitleNarrationItem: c, buttonNarrationItem: d}) => {
const {closeModal: u} = dk(), p = H.useMemo((() => ({
id: "close",
action: i || u,
label: a || KN("CLOSE")
})), [ i, a, u ]);
return H.createElement(aL, {
title: e,
headline: t,
body: n,
overlayTitleNarrationItem: c
}, H.createElement(rL, {
closeAction: p,
withoutLabel: !s || l
}, H.createElement("surface", null, H.createElement("surface", {
style: [ Bc("opacity", o ? 0 : 1), Bc("alignItems", "center") ]
}, H.createElement(nL, {
actions: r,
closeAction: s ? void 0 : p,
buttonNarrationItem: d
})), o && H.createElement(qw, {
style: Zw
}))));
}, sL = ({title: e, headline: t, body: n, confirmLabel: r = KN("CONFIRM"), cancelLabel: i = KN("INPUT_LABEL_CANCEL"), onConfirm: a, onCancel: o, showLoadingOnConfirm: s, autoClose: l = !0, overlayTitleNarrationItem: c, buttonNarrationItem: d}) => {
const {closeModal: u} = dk(), [p, f] = H.useState(!1), m = H.useMemo((() => [ {
id: "confirm",
label: r,
action: async () => {
s && f(!0), await a(), s && l && u();
},
autoClose: !s && l,
buttonVariant: 0
} ]), [ l, u, r, a, s ]), y = H.useMemo((() => {
if (o) return () => {
o(), l && u();
};
}), [ l, u, o ]);
return H.createElement(oL, {
title: e,
headline: t,
body: n,
actions: m,
showLoading: p,
closeAction: y,
closeLabel: i,
overlayTitleNarrationItem: c,
buttonNarrationItem: d
});
}, lL = ({title: e}) => e ? cm("PHOTON-SOCIAL_NARRATION_OVERLAY-DISPLAYED", {
"%overlayLabel%": e
}) : void 0, cL = $f.InputBindings.Action, dL = fs.Input.DeviceType, uL = {
[cL.Primary]: oc(dL.MouseAndKeyboard, "buttonACrossDown"),
[cL.Secondary]: oc(dL.MouseAndKeyboard, "buttonXSquareLeft"),
[cL.Decline]: oc(dL.MouseAndKeyboard, "buttonBCircleRight"),
[cL.OpenActionList]: oc(dL.MouseAndKeyboard, "buttonYTriangleUp"),
[cL.GoUp]: oc(dL.MouseAndKeyboard, "up"),
[cL.GoDown]: oc(dL.MouseAndKeyboard, "down"),
[cL.GoLeft]: oc(dL.MouseAndKeyboard, "left"),
[cL.GoRight]: oc(dL.MouseAndKeyboard, "right"),
[cL.NextPage]: oc(dL.MouseAndKeyboard, "bumperRight"),
[cL.PreviousPage]: oc(dL.MouseAndKeyboard, "bumperLeft"),
[cL.Settings]: oc(dL.MouseAndKeyboard, "middleMenu"),
[cL.NotificationFocus]: oc(dL.MouseAndKeyboard, "middleOption"),
[cL.Reload]: oc(dL.MouseAndKeyboard, "rightJoystickPress"),
[cL.ToggleMode]: oc(dL.MouseAndKeyboard, "triggerRight"),
[cL.TogglePhoton]: oc(dL.MouseAndKeyboard, "buttonBCircleRight"),
[cL.LeaveParty]: oc(dL.MouseAndKeyboard, "leftJoystickPress")
};
function pL(e, t) {
const n = {
primaryButton: uL[t],
secondaryButtons: []
};
try {
const r = e.InputBindings.getActionBinding({
action: t
});
if (r) {
const {keyboardKeyLabel: e, keyboardKeycode: t, gamePadInput: n} = r.keyBinding.primaryButton;
if (t || e || n) return r.keyBinding;
}
return n;
} catch {
return n;
}
}
var [fL, mL] = Es("PhotonKeyBindings"), yL = e => mL()[e];
function hL(e) {
return {
[cL.Primary]: pL(e, cL.Primary),
[cL.Secondary]: pL(e, cL.Secondary),
[cL.Decline]: pL(e, cL.Decline),
[cL.OpenActionList]: pL(e, cL.OpenActionList),
[cL.GoUp]: pL(e, cL.GoUp),
[cL.GoDown]: pL(e, cL.GoDown),
[cL.GoLeft]: pL(e, cL.GoLeft),
[cL.GoRight]: pL(e, cL.GoRight),
[cL.NextPage]: pL(e, cL.NextPage),
[cL.PreviousPage]: pL(e, cL.PreviousPage),
[cL.Settings]: pL(e, cL.Settings),
[cL.NotificationFocus]: pL(e, cL.NotificationFocus),
[cL.Reload]: pL(e, cL.Reload),
[cL.ToggleMode]: pL(e, cL.ToggleMode),
[cL.TogglePhoton]: pL(e, cL.TogglePhoton),
[cL.LeaveParty]: pL(e, cL.LeaveParty)
};
}
function gL() {
return cN(yA().get(), (e => e));
}
function IL(e) {
return cN(yA().get(), (t => e(t.members)));
}
function vL(e) {
return yA().get().data?.members.has(e) ?? !1;
}
function bL() {
return IL((e => e.size));
}
var _L = Ss({
debugName: "playerCanJoinMyPartyState",
get: e => ({get: t, getItem: n}) => {
if (!By.isPartyEnabled) return {
loading: !1,
data: {
invitable: !1,
incompatible: !1
}
};
if (!rI(e)) return {
loading: !1,
data: {
invitable: !1,
incompatible: !1
},
error: new Error("INVALID_USER")
};
const r = t(mA).get(), i = t(sE), a = i.data?.personaInfo.playerNetworkId, o = Cg([ r, i ]);
if (o.loading || o.uninitialized || !a) return o;
const s = r.data;
if (!s) return {
data: {
invitable: !1,
incompatible: !1
},
loading: !1,
error: new Error("NO_PARTY")
};
if (!s.invitable) return {
data: {
invitable: !1,
incompatible: !1
},
loading: !1,
error: new Error("PARTY_UNINVITABLE")
};
const l = !!s.members.get(e);
if (!(s.members.size < s.maxSize)) return {
data: {
invitable: !1,
incompatible: !1
},
loading: !1,
error: new Error("PARTY_FULL")
};
if (l) return {
data: {
invitable: !1,
incompatible: !1
},
loading: !1,
error: new Error("USER_IN_PARTY")
};
const c = t(VA).get(e)?.uninvitable;
return _k(n(bA, e)) ? {
data: {
invitable: !1,
incompatible: !0
},
loading: !1,
error: new Error("CROSSPLAY_PREVENTED")
} : c ? {
data: {
invitable: !1,
incompatible: !0
},
loading: !1,
error: new Error("INVITE_PREVENTED")
} : {
data: {
invitable: !0,
incompatible: !1
},
loading: !1,
error: void 0
};
}
});
function PL(e) {
return Us(_L, e);
}
function SL(e, t) {
return !!e.get(mA).get().data?.members.get(t);
}
function TL(e) {
return e.getUntracked(mA).get();
}
function EL(e) {
return As((() => TL(e).data?.members.size));
}
var kL = Bh.object({
error: Bh.optional(Bh.string)
});
function NL(e) {
const {Voip: t} = lm(), {showNotification: n} = SO(), {data: r} = bL(), i = Yh((e => {
if (!e) throw Error("Invalid params used in useSetActiveVoipChannelQuery");
return t.setActiveVoipChannel(e);
}), [ t ], kL);
return H.useCallback((t => {
const a = () => {
let i = "";
t?.channel === $f.Voip.VoipChannel.Party ? i = cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_CHAT_IN-PARTY") : t?.channel === $f.Voip.VoipChannel.Game ? i = cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_CHAT_IN-TEAM") : t?.channel === $f.Voip.VoipChannel.None && (i = cm((r ?? 0) >= 2 ? "PHOTON-SOCIAL_NOTIFICATION_LOCAL_VOICE-DISABLED_IN-PARTY" : "PHOTON-SOCIAL_NOTIFICATION_LOCAL_VOICE-DISABLED")), 
!e && i && n(3, 3, {
icon: Up.VOIP,
text: i
});
};
i?.(t).then((e => {
e.error || a();
}));
}), [ r, i, n, e ]);
}
function CL() {
const e = NL();
return H.useCallback((async () => {
await (e?.({
channel: $f.Voip.VoipChannel.Party
}));
}), [ e ]);
}
var OL = e => {
const t = [];
for (let n = 0, r = e.length; n < r; n++) {
const r = e.charCodeAt(n);
t.push(r >>> 8, 255 & r);
}
return new Uint8Array(t);
}, AL = e => {
const t = [];
for (let n = 0, r = e.length; n < r; ) t.push((255 & e[n++]) << 8 | 255 & e[n++]);
return String.fromCharCode.apply(null, t);
}, wL = e => {
const t = {};
return Object.keys(e).forEach((n => {
t[n] = AL(e[n].token);
})), t;
};
async function LL(e, t) {
return new Promise((n => {
setTimeout((() => {
n(e());
}), t);
}));
}
async function RL(e, t, n = 1) {
const r = t?.maxAttempts ?? 3, i = t?.retryDelay ?? 2e3, a = await e();
return a.error && n < r ? LL((() => RL(e, t, n + 1)), i) : a;
}
function xL(e) {
return {
stringValue: Hm(OL(e))
};
}
function BL(e) {
const t = {};
return e.has("party") || e.forEach(((e, n) => {
t[n] = xL(e);
})), t;
}
function DL(e) {
const t = {};
return Object.values(EA).forEach((n => {
const r = e.properties[n];
r && (t[n] = {
token: Vm(r)
});
})), t;
}
var ML = 72e5, FL = Bh.object({
gameJoinTokens: Bh.map(Bh.object({
token: Bh.uint8Array
}))
});
function UL(e) {
return e?.properties.party || e?.properties.lobby ? wL(DL(e)) : {};
}
async function HL(e, t, n, r, i) {
const a = $C(e).get(), o = As((() => nO(a.data, r))), {data: s} = lE(e), l = s?.tokenInfo.userId;
let c;
if (i && l) c = i.properties.party || i.properties.lobby ? {
loading: !1,
skipped: !1,
data: {
gameJoinTokens: DL(i)
}
} : await RL((() => Fh((() => n.GetGameJoinTokens({
playerId: {
id: l
},
gameInviteId: i.gameInviteId
})), FL)), {
retryDelay: 1e3,
maxAttempts: 3
}); else {
if (!o?.sessionId) return {
skipped: !1,
loading: !1,
error: new Error("Missing necessary data"),
data: void 0
};
c = await RL((() => Fh((() => t.getDirectJoinTokens({
sessionId: o.sessionId
})), FL)), {
retryDelay: 1e3,
maxAttempts: 3
});
}
if (c.data?.gameJoinTokens) {
const e = wL(c.data.gameJoinTokens);
return {
...c,
data: e
};
}
return {
...c,
data: void 0
};
}
async function VL(e, t, n, r, i, a, o) {
const {data: s, error: l} = await HL(e, t, n, r, o), c = s?.[a];
return c ? {
loading: !1,
skipped: !1,
data: c
} : (i.showErrorNotification(void 0, "get game join token", l), {
loading: !1,
skipped: !1,
error: l || new Error("Could not retrieve lobbyId")
});
}
var JL = (e, t) => {
t({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_PARTY-EXPIRED")
}, "join party", e.error);
}, zL = (e, t) => {
t({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_LOBBY-EXPIRED")
}, "join lobby", e.error);
}, GL = (e, t, n) => {
e(0, 0, Up.VOIP, n, cm("PHOTON-SOCIAL_NOTIFICATION_PARTY-VOIP_BUTTON_OPEN"), t);
};
function jL(e, t, n, r, i, a) {
const {playerNetworkId: o, name: s} = BO(n, r), {showNotification: l, showCtaNotification: c, showErrorNotification: d} = i, u = aA(n)?.status === $f.Voip.VoipStatus.Disabled, p = Zk({
name: s,
playerNetworkId: o
}, {
allowEllipsis: !0
});
if (e && t) return e.error ? void JL(e, d) : t.error ? void zL(t, d) : u ? void GL(c, a, cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_COMBO-VOICE-DISABLED", {
"%primaryID%": p
})) : void l(3, 3, {
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_COMBO-VOICE-ENABLED", {
"%primaryID%": p
}),
icon: Up.PARTY
});
if (e) return e.error ? void JL(e, d) : u ? void GL(c, a, cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_PARTY-VOICE-DISABLED", {
"%primaryID%": p
})) : void l(3, 3, {
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_PARTY-VOICE-ENABLED", {
"%primaryID%": p
}),
icon: Up.PARTY
});
if (t) {
if (t.error) return void zL(t, d);
l(3, 3, {
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_LOBBY_INVITE-ACCEPT", {
"%primaryID%": p
}),
icon: Up.PARTY
});
}
}
function qL(e, t, n, r) {
const i = Rs(), {PresenceSession: a, GameInvite: o} = lm(), s = SO(), {data: l} = Us(t, e);
return H.useMemo((() => ({
...l,
getGameJoinToken: () => VL(i, a, o, e, s, n, r)
})), [ r, o, n, l, i, s, e, a ]);
}
var WL = Is({
debugName: "joiningPartyIdState",
default: void 0
});
function YL(e, t) {
e.set(WL, t);
}
var KL = Ps({
debugName: "isInPartyState",
get: ({get: e}) => {
const t = e(rE).get().data, n = t?.tokenInfo.userId, r = t?.personaInfo.playerNetworkId;
if (n && r) {
const t = $g({
eaPlayerId: n,
playerNetworkId: r
}), i = !!e(mA).get().data?.members.get(t), a = !!e(WL);
return i || a;
}
return !1;
}
}), XL = Ps({
debugName: "partyIdState",
get: ({get: e}) => e(mA).get().data?.partyId
}), QL = Ps({
debugName: "shouldRevokePartyGameInvites",
get: ({get: e}) => {
const t = e(rE).get().data;
if (t?.photonPlayerId) {
const n = t?.photonPlayerId, r = e(mA).get().data, i = !!r?.members.get(n), a = !!r && r.maxSize <= r.members.size;
return !i || a;
}
return !0;
}
});
function $L(e, t, n) {
e((() => H.createElement(zw, {
title: t,
bodyStyle: Qw
}, H.createElement(qw, null))), {
ignoreCloseAll: !0,
telemetryId: n
});
}
function ZL(e) {
const {action: t, DeepLink: n, notifications: r, modals: i, player: a, showLoading: o, loadingTelemetryId: s} = e, l = c => new Promise(((d, u) => {
o && $L(i.showModal, void 0, s), n.invokePlayerActionAsync({
playerActionId: t.playerActionId,
confirmed: c,
playerId: a.eaPlayerId ?? "",
playerNetworkId: a.playerNetworkId,
personaId: a.personaId ?? ""
}).then((t => {
if (t?.errorMessage) throw new Error(t.errorMessage);
if (o && i.closeModal(), t?.successMessage) r.showNotification(0, 3, {
icon: Up.INFORMATION,
text: t.successMessage
}); else if (!c && t?.confirmation) return e.confirmAction ? e.confirmAction(t.confirmation, (() => l(!0))) : (n = t.confirmation, 
a = i.showModal, s = () => l(!0), new Promise(((e, t) => {
const r = async () => {
try {
await s(), e(!0);
} catch (e) {
t(e);
}
};
a((() => H.createElement(sL, {
title: n.localizedTitle,
body: n.localizedDescription,
confirmLabel: cm("BUTTON_CONTINUE"),
onConfirm: () => r(),
onCancel: () => e(!1),
showLoadingOnConfirm: !0,
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
})));
})));
var n, a, s;
return !0;
})).then(d).catch((e => {
o && i.closeModal(), u(e);
}));
}));
return () => l().catch((e => (r.showErrorNotification({
text: e.message
}, `getPlayerActionCallback (${t.telemetryName}, ${t.playerActionId})`, e), Promise.reject(e))));
}
function eR(e, t, n) {
return new Promise((r => {
if ((gA(e) ?? 0) <= 1) return r(!0);
t((() => {
return H.createElement(sL, {
title: cm("PHOTON-SOCIAL_PARTY_OVERLAY_TITLE_JOIN-PARTY"),
body: (e = By.isTightlyCoupledParties, t = n.Notifications.getInGamePlay({})?.inGamePlay ?? !1, 
cm(e ? t ? "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_JOIN-PARTY-B" : "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_JOIN-PARTY-C" : "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_JOIN-PARTY-A")),
confirmLabel: cm("BUTTON_CONTINUE"),
onConfirm: () => r(!0),
onCancel: () => r(!1),
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
});
var e, t;
}));
}));
}
async function tR(e, t, n, r, i, a, o, s, l) {
let c = !0;
YL(e, l);
const [d] = (await t.isPartySupported({
partyIds: [ l ]
}))?.partySupport ?? [ {
isSupported: !0
} ];
return d.isSupported ? s && (c = await eR(e, i.showModal, r)) : d.enableSupportAction ? c = await ZL({
action: d.enableSupportAction,
DeepLink: n,
notifications: a,
modals: i,
player: o,
showLoading: !0,
loadingTelemetryId: "overlay_join_new_party_confirm"
})() : (a.showErrorNotification({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_JOIN-FAIL")
}, "no enable support action", void 0), c = !1), c || YL(e), c;
}
function nR(e) {
return {
partyId: e.party,
lobbyId: e.lobby
};
}
function rR(e, t) {
const n = {
partyId: void 0,
lobbyId: void 0
};
return t.includes("party") && (n.partyId = e?.party), t.includes("lobby") && (n.lobbyId = e?.lobby), 
n;
}
function iR(e, t, n, r, i) {
return new Promise((a => {
const {partyId: o, lobbyId: s} = nR(r), {playerNetworkId: l, name: c} = BO(e, n);
if (!o || !s) return a({
partyId: o,
lobbyId: s
});
const d = uO(t, (() => {
i.closeModal(), a({
partyId: void 0,
lobbyId: void 0
});
}), {
pg_id: "overlay_join_combo",
msg_id: "overlay_join_combo",
option: "cancel"
}), u = [ {
id: "party_and_lobby",
action: uO(t, (() => a({
partyId: o,
lobbyId: s
})), {
pg_id: "overlay_join_combo",
msg_id: "overlay_join_combo",
option: "join_combo_invite"
}),
autoClose: !0,
label: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-JOIN-COMBO")
}, {
id: "party",
action: uO(t, (() => a({
partyId: o,
lobbyId: void 0
})), {
pg_id: "overlay_join_combo",
msg_id: "overlay_join_combo",
option: "join_party_invite"
}),
autoClose: !0,
label: cm("PHOTON-SOCIAL_NOTIFICATION_BUTTON_JOIN-PARTY")
} ], p = Zk({
name: c,
playerNetworkId: l
}, {
allowEllipsis: !0
});
i.showModal((() => H.createElement(oL, {
title: cm("PHOTON-SOCIAL_PARTY_OVERLAY_TITLE_JOIN-COMBO", {
"%primaryID%": p
}),
body: cm("PHOTON-SOCIAL_PARTY_OVERLAY_DESC_JOIN-COMBO", {
"%primaryID%": p,
"%gameName%": By.appName
}),
actions: u,
closeAction: d,
closeLabel: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_CANCEL"),
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
})), {
telemetryId: "overlay_join_combo"
});
}));
}
var aR = {
PS4: "ps4",
PS5: "ps5",
XBOXONE: "xbox_one",
XBSX: "xbsx",
PC: "pc",
STADIA: "stadia",
NX: "switch",
UNKNOWN: "unknown"
}, oR = e => {
const t = aR[e];
return t || (console.error("Unknown PlatformModel: " + e), "unknown");
}, sR = "missing-group";
function lR(e, t, n, r, i) {
t.id === sR && (i = i ?? new Error("Missing Group")), e.triggerGroup({
class: t.class,
group_id: t.id,
members_list: t.members,
status: r,
status_code: i?.message,
members: n
});
}
function cR(e, t, n, r, i) {
return As((() => {
let a;
if (a = t ? {
class: n ? "combo" : "party",
id: t.partyId,
members: Array.from(t.members.values()).map((t => mw(e, t.photonPlayerId)?.personaId)).filter(Kh)
} : n ? {
class: "lobby",
id: n.lobbyId,
members: Array.from(n.members.values()).map((e => e.personaId))
} : {
class: void 0,
id: sR,
members: void 0
}, a.members && (r && !a.members.includes(r) && a.members.push(r), i)) {
const e = a.members.indexOf(i);
e > -1 && a.members?.splice(e, 1);
}
return a;
}));
}
function dR(e, t) {
return e ? t ? "combo" : "party" : t ? "lobby" : void 0;
}
function uR(e, t, n) {
let r = "unknown";
e && (r = t?.playerNetworkId === e ? "local" : "other");
const i = n ? oR(n) : "unknown";
return {
pidt: "persona",
pid: t?.personaId,
pidm: t?.eaPlayerId,
plat: i,
join_method: r
};
}
function pR(e, t, n) {
let r;
if (n === t) r = By.devicePlatformId; else {
r = nO(e.get(XC).get().data, t)?.devicePlatformId ?? "UNKNOWN";
}
return r;
}
function fR(e, t, n) {
return As((() => {
const r = lE(e).data, i = r?.personaInfo.playerNetworkId, a = r?.photonPlayerId, o = t?.members.values() ?? n?.members.values() ?? [];
return Array.from(o).map((t => {
const n = mw(e, t.photonPlayerId), r = pR(e, t.photonPlayerId, a);
return uR(i, n, r);
}));
}));
}
function mR(e, t) {
const n = lE(e).data, r = n?.personaInfo.playerNetworkId, i = n?.photonPlayerId;
return t.filter(Kh).map((t => {
const n = pR(e, t.photonPlayerId, i);
return uR(r, t, n);
}));
}
function yR(e, t) {
if (t) return e.find((e => e.pidm === t));
}
var hR = (e, t, n, r, i) => {
const a = mR(e, [ n ]);
return n => {
const o = cR(e, r, i, void 0, void 0);
lR(t, o, a, "invite_sent", n);
};
}, gR = (e, t, n, r, i, a, o, s) => {
const l = mR(e, [ mw(e, n) ]);
let c;
if (r || !i && !a) c = {
class: dR(o, s),
id: o ?? s ?? "",
members: void 0
}; else {
c = cR(e, i, a, lE(e).data?.personaInfo.personaId, void 0);
}
lR(t, c, l, "invite_accepted", r);
}, IR = (e, t, n, r, i) => {
const a = mw(e, n);
let o, s;
if (i?.gameJoinTokenTypes.includes("party") && i?.gameJoinTokenTypes.includes("lobby")) o = "combo"; else if (i?.gameJoinTokenTypes.includes("party")) o = "party"; else if (i?.gameJoinTokenTypes.includes("lobby")) {
o = "lobby";
s = rR(UL(i), [ "lobby" ]).lobbyId;
}
lR(t, {
class: o,
id: s ?? "",
members: void 0
}, mR(e, [ a ]), "invite_declined", r);
}, vR = (e, t, n, r, i, a, o) => {
let s;
const l = lE(e).data;
if (!l) return;
const c = mR(e, [ mw(e, l.photonPlayerId) ]);
s = n || !r && !i ? {
class: dR(a, o),
id: a ?? o ?? "",
members: void 0
} : cR(e, r, i, l?.personaInfo.personaId, void 0), lR(t, s, c, "join", n);
}, bR = (e, t, n, r, i) => {
const a = lE(e).data, o = cR(e, n, r, void 0, a?.personaInfo.personaId), s = yR(fR(e, n, r), a?.tokenInfo.userId);
s && (n || r) && lR(t, o, [ s ], "leave", i);
}, _R = (e, t, n, r, i, a) => {
const o = mw(e, r), s = cR(e, i, void 0, void 0, "kickPartyMember" === n ? o?.personaId : void 0), l = yR(fR(e, i, void 0), o?.eaPlayerId);
l && i && lR(t, s, [ l ], "setPartyLeader" === n ? "promote" : "remove_member", a);
}, PR = Ss({
debugName: "isPartyJoinableState",
get: e => ({get: t, getItem: n}) => {
if (!By.isPartyEnabled) return {
uninitialized: !1,
loading: !1,
data: {
joinable: !1,
crossplayPrevented: !1
}
};
const r = aI(e);
if (!rI(r)) return {
loading: !1,
data: {
joinable: !1,
crossplayPrevented: !1
}
};
const i = t(mA).get();
if (!!i.data?.members.get(r)) return {
...i.toProps(),
data: {
joinable: !1,
crossplayPrevented: !1
}
};
const a = t(XC).get(), o = nO(a.data, e);
if (!a.data || !o) return {
...a.toProps(),
data: void 0
};
const s = bk(n(bA, r)), l = NA(o);
return {
...Cg([ i, a ]),
data: {
joinable: l && !s,
crossplayPrevented: l && s
}
};
}
}), SR = Bh.object({});
async function TR(e, t) {
const n = await Fh((() => e.leaveParty({})), SR);
return n.error || t.updateParty(void 0), n;
}
function ER(e) {
return {
status: "click",
pg_id: "overlay_leave_current_party",
msg_id: "overlay_leave_current_party",
option: e
};
}
async function kR(e, t, n, r, i, a, o) {
const {showNotification: s, showErrorNotification: l} = r, c = await TR(t, n);
return c.error ? l({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_LEAVE-PARTY-FAIL")
}, "leave party", c.error) : s(3, 3, {
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_PARTY_LEFT"),
icon: Up.EXIT
}), bR(e, i, a, o, c.error), c;
}
function NR() {
const e = SO(), {showModal: t} = dk(), n = yA(), r = Rs(), i = lm(), {data: a} = bL(), o = WT(), s = void 0 !== a && a > 1;
return H.useMemo((() => {
if (s) {
return {
leaveParty: () => new Promise((a => {
const {data: s} = Dk(r), {data: l} = TL(r), c = async () => {
const t = await kR(r, i.Party, n, e, o, l, s);
a(t);
};
t((() => {
return H.createElement(sL, {
title: cm("PHOTON-SOCIAL_PARTY_OVERLAY_TITLE_LEAVE-PARTY"),
body: (e = !By.isTightlyCoupledParties, t = i.Notifications.getInGamePlay({})?.inGamePlay ?? !1, 
n = !!s, cm(t && e && n ? "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_LEAVE-PARTY-A" : t && e && !n ? "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_LEAVE-PARTY-B" : t && !e ? "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_LEAVE-PARTY-C" : !t && e && n ? "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_LEAVE-PARTY-D" : t || !e || n ? "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_LEAVE-PARTY-F" : "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_LEAVE-PARTY-E")),
confirmLabel: cm("BUTTON_CONTINUE"),
onConfirm: uO(o, c, ER("continue")),
onCancel: uO(o, (() => a(void 0)), ER("cancel")),
showLoadingOnConfirm: !0,
autoClose: !0,
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
});
var e, t, n;
}), {
telemetryId: "overlay_leave_current_party"
});
})),
isLeaveable: s
};
}
return {
leaveParty: void 0,
isLeaveable: s
};
}), [ s, r, t, n, e, o, i ]);
}
var CR = $f.Voip.VoipChannel, OR = Bh.object({
party: Jk
});
function AR(e) {
return YO(e.party);
}
async function wR(e, t, n) {
const r = await Fh((() => e.joinParty({
partyId: n
})), OR, {
transformResponse: AR
});
return r.error || t.updateParty(r.data), r;
}
function LR(e) {
$L(e, cm("PHOTON-SOCIAL_PARTY_OVERLAY_TITLE_JOINING"), "overlay_join_new_party");
}
async function RR(e, t, n, r) {
const i = hA(e), a = aA(e)?.status === $f.Voip.VoipStatus.Disabled;
YL(e, r), await TR(t, i);
const o = await wR(t, i, r);
return o.data && (a || await n.setActiveVoipChannel({
channel: CR.Party
})), YL(e, void 0), o;
}
function xR(e) {
const t = Rs(), n = WT(), r = SO(), i = dk(), a = lm(), o = aI(e), {data: s} = yw(o, 0), {joinable: l, crossplayPrevented: c, getGameJoinToken: d} = qL(e, PR, "party"), u = CL(), p = H.useCallback((async () => {
if (!s) return {
loading: !1,
skipped: !1
};
const {data: e, ...l} = await d();
if (!e) return l;
try {
if (!await tR(t, a.Party, a.DeepLink, a, i, r, s, !0, e)) return {
loading: !1,
skipped: !1
};
} catch (e) {
return {
loading: !1,
skipped: !1,
error: e
};
}
LR(i.showModal);
const c = await RR(t, a.Party, a.Voip, e);
return i.closeModal(), jL(c, void 0, t, o, r, u), vR(t, n, c.error, c.data, void 0, e, void 0), 
c;
}), [ d, t, i, a, o, r, u, n, s ]);
return {
joinable: l,
crossplayPrevented: c,
joinParty: l ? p : void 0
};
}
var BR = Ss({
debugName: "isLobbyJoinableState",
get: e => ({get: t, getItem: n}) => {
const r = aI(e);
if (!rI(r)) return {
loading: !1,
data: {
joinable: !1,
crossplayPrevented: !1
}
};
const i = t(xk).get();
if (!!i.data?.members.get(r)) return {
...i.toProps(),
data: {
joinable: !1,
crossplayPrevented: !1
}
};
const a = t(XC).get(), o = nO(a.data, e);
if (!a.data || !o) return {
...a.toProps(),
data: void 0
};
const s = bk(n(bA, r)), l = kA(o);
return {
...Cg([ i, a ]),
data: {
joinable: l && !s,
crossplayPrevented: l && s
}
};
}
});
async function DR(e, t, n) {
const r = await Fh((() => e.joinLobby({
lobbyId: n
})), Ck, {
transformResponse: Tk
});
return r.error || t.updateLobby(r.data), r;
}
async function MR(e, t, n) {
const r = Mk(e), i = await DR(t, r, n);
return i.data && tw(e).close(), i;
}
function FR(e) {
const t = Rs(), {Lobby: n} = lm(), r = WT(), i = SO(), a = dk(), o = CL(), {joinable: s, crossplayPrevented: l, getGameJoinToken: c} = qL(e, BR, "lobby"), d = H.useCallback((async () => {
const {data: s, ...l} = await c();
if (!s) return vR(t, r, l.error, void 0, void 0, void 0, s), l;
LR(a.showModal);
const d = await MR(t, n, s);
return a.closeModal(), jL(void 0, d, t, e, i, o), vR(t, r, d.error, void 0, d.data, void 0, s), 
d;
}), [ o, c, r, n, t, i, e, a ]);
return {
joinable: s,
crossplayPrevented: l,
joinLobby: s ? d : void 0
};
}
async function UR(e, t, n, r, i, a, o, s, l, c, d, u, p = !0, f) {
const {data: m} = await wg(e.get(VI).get(c), 1e4);
if (!m) return {
loading: !1,
skipped: !1,
error: new Error("No player")
};
const {partyId: y, lobbyId: h} = u;
if (!y && !h) return {
loading: !1,
skipped: !1
};
try {
if (y) {
if (!await tR(e, r, a, f, o, s, m, p, y)) return {
loading: !1,
skipped: !1
};
}
} catch (e) {
return {
loading: !1,
skipped: !1,
error: e
};
}
let g, I;
LR(o.showModal), y && (g = await RR(e, r, i, y)), h && (I = await MR(e, n, h)), 
o.closeModal();
const v = !!g?.data?.partyId || !!I?.data?.lobbyId;
return jL(g, I, e, c, s, l), d ? gR(e, t, c, v ? void 0 : g?.error ?? I?.error, g?.data, I?.data, y, h) : vR(e, t, v ? void 0 : g?.error ?? I?.error, g?.data, I?.data, y, h), 
{
loading: !1,
skipped: !1,
data: v
};
}
async function HR(e, t, n, r, i, a, o, s, l, c, d, u, p, f, m) {
const y = await HL(e, a, o, u, f);
if (!y.data || !Object.keys(y.data).length) return c.showErrorNotification({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_JOIN-FAIL")
}, "combo join", y.error), {
...y,
data: void 0,
error: y.error || new Error("Missing gamejointokens")
};
const {partyId: h, lobbyId: g} = m ? rR(y.data, m) : await iR(e, t, u, y.data, l);
return h || g ? UR(e, t, n, r, i, s, l, c, d, u, f, {
partyId: h,
lobbyId: g
}, !0, p) : {
loading: !1,
skipped: !1
};
}
function VR(e) {
const t = Rs(), n = WT(), r = dk(), i = SO(), a = CL(), o = lm();
return H.useCallback((async () => HR(t, n, o.Lobby, o.Party, o.Voip, o.PresenceSession, o.GameInvite, o.DeepLink, r, i, a, e, o)), [ o, a, n, t, r, i, e ]);
}
var JR = Bh.object({
response: Bh.optional(Bh.nullable(Bh.object({
displayName: Bh.string,
assets: Bh.array(Bh.object({
url: Bh.string,
type: Bh.string,
geometry: Bh.object({
width: Bh.number,
height: Bh.number
})
}))
}))),
productId: Bh.string
});
function zR(e) {
if (!e.response) return {
productId: e.productId
};
const t = e.response.assets.filter((e => "game-title-logo" === e.type)), n = new Map(t.map((e => [ `${e.geometry.width}x${e.geometry.height}`, e ])));
return {
productId: e.productId,
title: e.response.displayName,
gameTitleLogo: n
};
}
function GR(e) {
const t = e.toLowerCase();
switch (t) {
case "no-no":
return "nb-no";

case "zh-hk":
return "zh-tw";

default:
return t;
}
}
var jR = class extends vg {
async fetchWithRetries(e, t) {
const n = await RL((() => {
return this.updateFragments([ t ], {
loading: !0,
uninitialized: !1
}), n = e, r = t.id, i = By.locale, Fh((async () => ({
...await n.GetProduct({
productId: {
id: r
},
locale: GR(i)
}),
productId: r
})), JR, {
transformResponse: zR
});
var n, r, i;
}), {
maxAttempts: 3,
retryDelay: 2e3
});
this.updateFragments([ t ], n);
}
init(e) {
return new ig(this.fragmentsList, (async t => {
await this.fetchWithRetries(e, t);
})).dispose;
}
}, [qR, WR] = $s({
debugName: "productInfoFragmentStoreState",
create: () => new jR({
debugName: "ProductInfo"
})
}), YR = class extends Pg {
constructor() {
super(...arguments), this.removeInvite = e => {
const t = this.get();
return As((() => {
const n = t.data;
n && n.delete(e);
}));
};
}
}, [KR, XR] = $s({
debugName: "gameInvitesFragmentStore",
create: () => new YR({
debugName: "gameInvites"
})
});
function QR(e) {
return e.get(KR);
}
function $R(e) {
return e.createdTimestampMs;
}
var ZR = e => {
const t = (new Date).getTime(), n = e.purgeTimestampMs, r = e.expiryTimestampMs;
return {
purged: t >= n,
expired: t >= r,
expiredLongAgo: t >= r + ML
};
};
function ex(e) {
return $g({
eaPlayerId: e.senderPlayerId,
playerNetworkId: e.senderPlayerNetworkId
});
}
var tx = e => e.senderProductId === By.productId, nx = {
pg_id: "tab_party",
destination_name: {
2: "current_game_party_invites",
3: "other_game_party_invites",
4: "expired_game_party_invites"
}
}, rx = {
pg_id: "tab_game_invites",
destination_name: {
2: "current_game_invites",
3: "other_game_invites",
4: "expired_game_invites"
}
};
function ix(e, t, n) {
const r = n.length;
return n.map(((n, i) => ({
...n,
telemetryInfo: {
pg_id: e,
msg_id: t,
destination_name: t,
index: {
item_index: i + 1,
total_items: r
}
}
})));
}
var ax = (e, t, n) => {
const r = {
2: [],
3: [],
4: []
};
t.forEach((t => {
const {purged: n, expired: i, expiredLongAgo: a} = ZR(t), o = tx(t), s = ex(t);
n || a || !e.get(s) || (i ? r[4].push({
gameInvite: t,
photonPlayerId: s
}) : o ? r[2].push({
gameInvite: t,
photonPlayerId: s
}) : r[3].push({
gameInvite: t,
photonPlayerId: s
}));
}));
return {
2: ix(n ? nx.pg_id : rx.pg_id, n ? nx.destination_name[2] : rx.destination_name[2], r[2]),
3: ix(n ? nx.pg_id : rx.pg_id, n ? nx.destination_name[3] : rx.destination_name[3], r[3]),
4: ix(n ? nx.pg_id : rx.pg_id, n ? nx.destination_name[4] : rx.destination_name[4], r[4])
};
};
function ox(e, t) {
const n = [];
return e && n.push("party"), t && n.push("lobby"), n;
}
function sx() {
const e = Array.from(gE.crossplayCompatiblePlatforms).map((e => ({
id: e
}))), t = Object.values(_h).map((e => ({
id: e
})));
return {
compatibleDevicePlatformIds: e,
compatiblePlayerNetworkIds: t
};
}
function lx(e, t) {
const n = QR(e);
return As((() => n.get().data?.get(t)));
}
var cx = e => cN(XR().get(), (t => t.get(e))), dx = $f.InputBindings.Action, ux = Bh.object({});
function px(e, t, n) {
return Fh((() => e.AcceptGameInvite({
gameInviteId: t,
playerId: {
id: n
}
})), ux);
}
function fx(e, t, n) {
return Fh((() => e.RejectGameInvite({
gameInviteId: t,
playerId: {
id: n
}
})), ux);
}
var mx = e => {
const t = e.gameJoinTokenTypes.includes("party"), n = e.gameJoinTokenTypes.includes("lobby"), r = t && n;
return cm(t && !r ? "PHOTON-SOCIAL_FRIENDS_LIST_ACTIONS_PARTY-JOIN" : n && !r ? "PHOTON-SOCIAL_PARTY_LIST_ACTIONS_LOBBY-JOIN" : "PHOTON-SOCIAL_PARTY_LIST_ACTIONS_ACCEPT");
};
function yx(e, t, n, r, i, a, o, s, l, c, d, u, p) {
return async f => {
const m = QR(e), {data: y} = lE(e), h = y?.tokenInfo.userId, g = lx(e, u), I = await HR(e, t, n, r, i, a, o, s, l, c, d, u, p, g, f);
if (g && h && I.data) {
const e = await px(o, g.gameInviteId, h);
return m.removeInvite(u), e;
}
return I;
};
}
function hx(e, t, n, r, i, a, o, s, l, c, d, u, p, f = !0, m) {
return async () => {
const y = QR(e), {data: h} = lE(e), g = h?.tokenInfo.userId, I = lx(e, u), {data: v} = await HL(e, a, o, u, I), {partyId: b, lobbyId: _} = rR(v, p);
await UR(e, t, n, r, i, s, l, c, d, u, I, {
partyId: b,
lobbyId: _
}, f, m), I && g && (await px(o, I.gameInviteId, g), y.removeInvite(u));
};
}
function gx(e, t, n, r, i, a, o, s, l, c, d, u, p, f = !0, m, y, h, g) {
const I = u => hx(e, m, t, n, r, i, a, o, s, l, c, d, u, f, h), v = [], b = u?.gameJoinTokenTypes.includes("party"), _ = u?.gameJoinTokenTypes.includes("lobby");
let P = "tst_lobby_invite_received";
return b && _ ? P = "tst_combo_invite_received" : b && (P = "tst_party_invite_received"), 
u && !g && (b && _ ? (v.push({
id: "accept_combo",
callback: uO(m, I([ "party", "lobby" ]), {
...y,
pg_id: P,
msg_id: P,
option: "join_combo_invite"
}),
label: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-JOIN-COMBO"),
keyBinding: p
}), v.push({
id: "accept_party",
callback: uO(m, I([ "party" ]), {
...y,
pg_id: P,
msg_id: P,
option: "join_party_invite"
}),
label: cm("PHOTON-SOCIAL_NOTIFICATION_BUTTON_JOIN-PARTY"),
keyBinding: p
})) : b ? v.push({
id: "accept_party",
callback: uO(m, I([ "party" ]), {
...y,
pg_id: P,
msg_id: P,
option: "join_party_invite"
}),
label: cm("PHOTON-SOCIAL_NOTIFICATION_BUTTON_JOIN-PARTY"),
keyBinding: p
}) : _ && v.push({
id: "accept_lobby",
callback: uO(m, I([ "lobby" ]), {
...y,
pg_id: P,
msg_id: P,
option: "join_lobby_invite"
}),
label: cm("PHOTON-SOCIAL_PARTY_LIST_ACTIONS_LOBBY-JOIN"),
keyBinding: p
})), {
actions: v,
telemetryToasterId: P
};
}
var Ix = (e, t) => {
const n = (new Date).getTime() > e.expiryTimestampMs;
return e.gameJoinTokenTypes.includes("party") ? e.gameJoinTokenTypes.includes("lobby") ? n ? cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_COMBO_INVITE-REMOVED") : cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_COMBO_INVITE-DECLINE", {
"%primaryID%": t
}) : cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_PARTY_INVITE-DECLINE", {
"%senderPrimaryID%": t
}) : n ? cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_LOBBY_INVITE-REMOVED") : cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_LOBBY_INVITE-DECLINE", {
"%primaryID%": t
});
}, vx = (e, t, n, r, i, a, o, s) => async () => {
const n = QR(e), {showNotification: r, showErrorNotification: a} = o, {data: l} = lE(e), c = l?.tokenInfo.userId, d = lx(e, s);
try {
pP(d && c);
const a = await fx(i, d.gameInviteId, c);
if (a.error) throw a.error;
if (IR(e, t, s, void 0, d), a.data) {
const t = Zk(BO(e, s), {
allowEllipsis: !0
});
n.removeInvite(s), r(3, 3, {
icon: Up.REMOVE,
text: Ix(d, t)
});
}
} catch (n) {
IR(e, t, s, n, d), a({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_DECLINE-INVITE-FAIL")
}, "decline invite", n);
}
};
function bx(e, t) {
const n = Rs(), r = lm(), i = dk(), a = SO(), o = WT(), {data: s} = cx(e), l = CL(), c = lm(), d = !!s && ZR(s).expired, u = s?.senderProductId;
return H.useMemo((() => ({
acceptInvite: d => {
let p = "join_party_invite";
s?.gameJoinTokenTypes.includes("party") && s?.gameJoinTokenTypes.includes("lobby") ? p = "join_combo_invite" : s?.gameJoinTokenTypes.includes("lobby") && (p = "join_lobby_invite");
const f = yx(n, o, r.Lobby, r.Party, r.Voip, r.PresenceSession, r.GameInvite, r.DeepLink, i, a, l, e, c);
return yO(n, o, e, (() => f(d)), t && {
...t,
option: p,
context: {
tpid: u
}
})();
},
declineInvite: () => {
const s = vx(n, o, r.Party, r.PresenceSession, r.GameInvite, i.showModal, a, e);
return yO(n, o, e, s, t && {
...t,
option: d ? "remove" : "decline",
context: {
tpid: u
}
})();
}
})), [ c, l, i, a, r, d, s?.gameJoinTokenTypes, n, e, u, o, t ]);
}
function _x(e, t, n, r) {
return async () => {
try {
await t.DeepLink.openGameHubPage({
productId: {
id: e.senderProductId
}
}), r.closeModal();
} catch {
n.showErrorNotification(void 0, "switch game overlay", new Error("failed "));
}
};
}
function Px(e) {
return {
option: e,
status: "click",
msg_id: "overlay_switch_games",
pg_id: "overlay_switch_games"
};
}
function Sx(e, t, n, r, i, a) {
return async () => {
const {data: o} = await wg(t.get(e.senderProductId)), s = cm("PHOTON-SOCIAL_PARTY_OVERLAY_DESC_SWITCH-GAMES", {
"%gameName%": o?.title ?? cm("PHOTON-SOCIAL_GAME-NAME-FALLBACK")
});
n.showModal((() => H.createElement(sL, {
title: cm("PHOTON-SOCIAL_PARTY_OVERLAY_TITLE_SWITCH-GAMES"),
body: s,
confirmLabel: cm("BUTTON_VIEW-GAME"),
onConfirm: uO(r, _x(e, i, a, n), Px("view_game")),
onCancel: uO(r, (() => {
n.closeModal();
}), Px("cancel")),
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC,
autoClose: !1
})), {
telemetryId: "overlay_switch_games"
});
};
}
function Tx(e, t) {
const {data: n} = cx(e), {acceptInvite: r, declineInvite: i} = bx(e, t), a = PA(e), o = dk(), s = yL(dx.Primary), l = yL(dx.Secondary), c = WR(), d = WT(), u = lm(), p = SO();
return H.useMemo((() => {
if (n) {
const e = tx(n), {expired: f} = ZR(n);
if (!f) {
if (e && r && i) {
const e = {
keyBinding: l,
callback: i,
label: cm("PHOTON-SOCIAL_PARTY_LIST_ACTIONS_DECLINE")
};
return a ? {
primaryAction: e
} : {
primaryAction: {
keyBinding: s,
callback: () => r(),
label: mx(n)
},
secondaryAction: e
};
}
if (!e && i) {
const e = Sx(n, c, o, d, u, p);
return {
primaryAction: {
keyBinding: s,
callback: uO(d, e, t && {
...t,
option: "switch_games"
}),
label: cm("PHOTON-SOCIAL_PARTY_LIST_ACTIONS_SWITCH-GAMES")
},
secondaryAction: {
keyBinding: l,
callback: i,
label: cm("PHOTON-SOCIAL_PARTY_LIST_ACTIONS_DECLINE")
}
};
}
}
if (i) return {
primaryAction: {
keyBinding: s,
callback: i,
label: cm("PHOTON-SOCIAL_PARTY_LIST_ACTIONS_REMOVE")
}
};
}
return {};
}), [ n, i, r, l, a, s, c, o, d, u, p, t ]);
}
var Ex = Is({
debugName: "performedActionsState",
default: new Map
});
function kx(e) {
return new Map(e.getUntracked(Ex));
}
var Nx = new Map;
function Cx(e, t) {
if (t) {
const n = Nx.get(e)?.get(t);
if (void 0 !== n) {
clearTimeout(n);
Nx.get(e)?.delete(t);
}
} else {
const t = Nx.get(e);
t && (t.forEach((e => {
clearTimeout(e);
})), t.clear());
}
}
function Ox(e, t) {
const n = kx(t);
n.size && (n.clear(), t.set(Ex, n)), Cx(e, void 0);
}
function Ax(e, t, n) {
const r = kx(n), i = r.get(e);
i && i.has(t) && (i.delete(t), r.set(e, i), n.set(Ex, r)), Cx(e, t);
}
function wx(e, t, n, r) {
const i = setTimeout((() => {
Ax(e, t, n);
}), r), a = Nx.get(e) ?? new Map;
a.set(t, i), Nx.set(e, a);
}
function Lx(e, t, n) {
const r = kx(n), i = r.get(e) ?? new Set;
i.add(t), r.set(e, i), n.set(Ex, r);
}
function Rx(e, t, n, r) {
const i = Rs(), a = !!Fs(Ex).get(e)?.has(t), o = H.useCallback((() => {
Ax(e, t, i);
}), [ i, t, e ]), s = H.useCallback((s => {
if (!a) {
Lx(e, t, i);
const a = n?.(s);
return a?.then((e => {
e.error && o();
})), wx(e, t, i, r?.throttleTime ?? 3e4), a;
}
}), [ a, e, t, i, n, o, r?.throttleTime ]);
return H.useMemo((() => ({
performAction: s,
resetState: o,
isActionTaken: a
})), [ a, s, o ]);
}
var xx = Bh.object({});
function Bx(e, t, n, r, i, a) {
return Fh((async () => {
pP(r.eaPlayerId), pP(r.personaId);
const o = n.tokenInfo.userId, s = n.personaInfo.playerNetworkId, {eaPlayerId: l, playerNetworkId: c, firstPartyPlayerId: d, personaId: u} = r, {compatiblePlayerNetworkIds: p, compatibleDevicePlatformIds: f} = sx(), m = BL(a), y = () => e.SendGameInvite({
playerId: {
id: o
},
targetPlayerId: {
id: l
},
targetDevicePlatformId: f,
targetPlayerNetworkId: p,
senderPlayerNetworkId: {
id: s
},
senderDevicePlatformId: {
id: gc.devicePlatformId
},
senderProductId: {
id: i
},
gameJoinTokenTypes: Array.from(a.keys()),
properties: m
});
if (a.has("lobby")) {
const e = await t.prepareInvite({
invitedPlayerId: l,
invitedPlayerNetworkId: c,
invitedFirstPartyUid: d,
invitedPersonaId: u
}), {success: n, sendEaInvite: r, errorMessage: i} = e ?? {};
if (!n) throw new Error(i);
return r ? y() : {};
}
return y();
}), xx);
}
function Dx(e, t) {
const n = e.includes("party") && e.includes("lobby"), r = e.includes("party");
return cm(n ? "PHOTON-SOCIAL_NOTIFICATION_LOCAL_COMBO_INVITE-SENT" : r ? "PHOTON-SOCIAL_NOTIFICATION_LOCAL_PARTY_INVITE-SENT" : "PHOTON-SOCIAL_NOTIFICATION_LOCAL_LOBBY_INVITE-SENT", {
"%primaryID%": t
});
}
var Mx = (e, t, n) => {
const r = new Map, i = As((() => Dk(e).data)), a = As((() => TL(e).data)), o = As((() => (i?.members.size ?? 0) >= (i?.maxSize ?? 0))), s = As((() => (a?.members.size ?? 0) >= (a?.maxSize ?? 0))), l = n && As((() => a?.members.get(n))), c = n && As((() => i?.members.get(n)));
return a && s || (t.includes("party") && a && !l && r.set("party", a.partyId), t.includes("lobby") && i && !o && !c && r.set("lobby", i.lobbyId)), 
r;
};
function Fx(e, t, n, r, i, a) {
return async (o = [ "party", "lobby" ]) => {
const {showNotification: s, showErrorNotification: l} = i, {data: c} = lE(e), d = As((() => fw(e, a).data)), u = As((() => Dk(e).data)), p = As((() => TL(e).data)), f = By.productId, m = Mx(e, o, a), y = hR(e, r, d, o.includes("party") ? p : void 0, o.includes("lobby") ? u : void 0);
try {
if (pP(c && d), !m.size) throw new Error("Invalid game invite type");
d.playerNetworkId !== c.personaInfo.playerNetworkId && s(3, 3, {
icon: Up.PARTY,
text: Dx(Array.from(m.keys()), Zk(RO(d, c), {
allowEllipsis: !0
}))
});
const e = await Bx(t, n, c, d, f, m);
if (e.error) throw e.error;
return y(void 0), e;
} catch (e) {
return l({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_SEND-INVITE-FAIL")
}, "send game invite", e), y(e), {
error: e,
loading: !1,
skipped: !1
};
}
};
}
function Ux(e) {
const {GameInvite: t, Lobby: n} = lm(), r = Rs(), i = WT(), a = SO(), o = H.useMemo((() => Fx(r, t, n, i, a, e)), [ t, n, r, i, a, e ]);
return Rx(0, e, o);
}
var Hx = 1e3, Vx = 1e3, Jx = Ps({
debugName: "hasReachedFriendRequestCeiling",
get: ({get: e}) => (e(SC).get().data?.size || 0) >= Hx
}), zx = Ps({
debugName: "hasReachedSentFriendRequestCeiling",
get: ({get: e}) => (e(EC).get().data?.size || 0) >= Vx
}), Gx = Bh.object({
inviteStatus: Bh.map(Bh.object({
success: Bh.boolean
}))
});
function jx(e, t, n, r) {
return Fh((async () => {
const {data: i} = await As((() => wg(fw(e, r), 1e4)));
return pP(i), t.BatchSendFriendInvites({
entityId: {
playerId: {
id: n.tokenInfo.userId
}
},
invites: [ {
entityId: {
playerId: {
id: i.eaPlayerId
}
},
sourcePlayerNetworkId: {
id: n.personaInfo.playerNetworkId
},
targetPlayerNetworkId: {
id: i.playerNetworkId
}
} ]
});
}), Gx, {});
}
function qx(e, t, n, r, i, a, o) {
const {showNotification: s, showErrorNotification: l} = n, {data: c} = lE(e);
return async () => {
try {
pP(c);
if (e.getUntracked(zx)) {
const e = new Error("Invite ceiling reached");
return l({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_INVITE-FAIL")
}, "add ea friend", e), {
error: e,
loading: !1,
skipped: !1
};
}
if (!rI(r)) throw new Error("No EA photon player for " + r);
const {data: n} = await wg(e.getUntracked(VI).get(r), 8e3);
pP(n && c), s(3, 3, {
icon: Up.ADD_USER,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_FRIENDS_INVITE-SENT", {
"%primaryID%": Zk(RO(n, c), {
allowEllipsis: !0
})
})
});
const d = await jx(e, t, c, r);
if (o && n.eaPlayerId && (i.triggerFriends({
action: "invite_sent",
friend: n.eaPlayerId,
friend_invite_id: Sw(c.tokenInfo.userId, n.eaPlayerId),
source: gO(o, a),
status_code: d.error ? d.error.message : void 0
}), e.get(hh).addEvent({
eventType: "photon_friends",
action: "invite_sent",
error: !!d.error,
error_code: d.error?.message
})), d.error) throw d.error;
if (!n.eaPlayerId || d.data?.inviteStatus[n.eaPlayerId] && !d.data.inviteStatus[n.eaPlayerId].success) throw Error("Could not invite " + n.eaPlayerId);
return d;
} catch (e) {
return l({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_SEND-FRIEND-REQUEST-FAIL")
}, "add ea friend", e), {
error: e,
loading: !1,
skipped: !1
};
}
};
}
var Wx = (e, t) => {
const n = WT(), r = Rs(), {Invites: i} = lm(), a = SO(), o = dv("main");
return Rx(1, e, uO(n, qx(r, i, a, e, n, o.history.location, t), t && {
msg_id: t.destination_name,
option: "add_friend",
...t,
context: {
rel: "not_friend",
...t.context
}
}), {
throttleTime: 1e4
});
}, Yx = {
EA: () => cm("PLATFORMNAME_EA-APP"),
XBOX: () => cm("PLATFORMNAME_XBOX"),
PSN: () => cm("PLATFORMNAME_PLAYSTATION"),
STEAM: () => cm("PLATFORMNAME_STEAM"),
GOOGLE_STADIA: () => cm("PLATFORMNAME_STADIA"),
NINTENDO: () => cm("PLATFORMNAME_SWITCH"),
GOOGLE_PLAY: () => cm("PLATFORMNAME_GOOGLE-PLAY"),
APPLE_GAMECENTER: () => cm("PLATFORMNAME_APPLE-GAME-CENTER"),
EPIC: () => cm("PLATFORMNAME_EPIC")
}, Kx = e => Yx[e](), Xx = Bh.object({}), Qx = async (e, t, n) => {
const {data: r} = lE(e);
return pP(r), Fh((async () => t.DeleteFriend({
entityId: {
playerId: {
id: r.tokenInfo.userId
}
},
targetEntityId: {
playerId: {
id: n
}
}
})), Xx, {});
}, $x = (e, t, n, r, i, a, o, s) => {
const {showNotification: l, showErrorNotification: c} = r, {data: d} = lE(e), u = d?.personaInfo.playerNetworkId;
return async () => {
try {
const {data: r} = await wg(e.getUntracked(VI).get(i), 8e3);
pP(r && d && u);
const c = Zk(RO(r, d), {
allowEllipsis: !0
});
if (await new Promise((e => {
const n = () => e(!0), r = () => e(!1);
t((() => H.createElement(sL, {
title: cm("PHOTON-SOCIAL_FRIENDS_OVERLAY_TITLE_REMOVE-FRIEND", {
"%primaryID%": c
}),
body: cm("PHOTON-SOCIAL_FRIENDS_OVERLAY_DESC_REMOVE-FRIEND", {
"%localPlatform%": Kx(u)
}),
onConfirm: n,
onCancel: r,
autoClose: !0,
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
})));
})) && r.eaPlayerId) {
const t = e.getUntracked(zC), i = As((() => t.get().data?.get(r.photonPlayerId)));
t.removeFriend(r.eaPlayerId), l(3, 3, {
icon: Up.REMOVE,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_FRIENDS_REMOVED", {
"%primaryID%": c
})
});
const d = await Qx(e, n, r.eaPlayerId);
if (s && a.triggerFriends({
friend: r.eaPlayerId,
friend_invite_id: "",
action: "remove",
source: gO(s, o),
status_code: d.error ? d.error.message : void 0
}), d.error) throw i && t.addFriend(i), d.error;
return d;
}
return {
data: void 0,
loading: !1,
skipped: !1
};
} catch (e) {
return c({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_REMOVE-FRIEND-FAIL")
}, "remove ea friend", e), {
error: e,
loading: !1,
skipped: !1
};
}
};
}, Zx = (e, t) => {
const {Friends: n} = lm(), r = SO(), {showModal: i} = dk(), a = WT(), o = Rs(), s = dv("main");
return uO(a, $x(o, i, n, r, e, a, s.history.location, t), t && {
...t,
option: "remove_friend"
});
}, eB = ($f.InputBindings.Action, $f.InputBindings.Action), tB = (fs.Input.GamePadInput, 
fs.Input.DeviceType, fs.Input.ButtonState, eB.Primary, eB.Secondary, eB.Decline, 
eB.OpenActionList, eB.GoUp, eB.GoDown, eB.GoLeft, eB.GoRight, eB.NextPage, eB.PreviousPage, 
eB.Settings, eB.NotificationFocus, eB.Reload, eB.ToggleMode, eB.TogglePhoton, eB.LeaveParty, 
class {
constructor(e) {
this.id = e, this.itemsSeenInPreviousSession = new Set, this.seenItemState = new Cs({}), 
this.unseenItemCount = ht.box(0), this.addItems = An((e => {
e.forEach((e => this.addItem(e)));
})), this.addItem = An((e => {
if (this.seenItemState.has(e)) return void console.error(`The item '${e}' has already been added to ${this.id} before`);
const t = this.itemsSeenInPreviousSession.has(e);
this.seenItemState.set(e, t), t ? this.itemsSeenInPreviousSession.delete(e) : this.increaseUnseenCount();
})), this.removeItem = An((e => {
const t = this.seenItemState.get(e);
void 0 !== t && (this.seenItemState.delete(e), t || this.decreaseUnseenCount());
})), this.setSeenItem = e => {
const t = this.seenItemState.get(e);
return void 0 !== t && !t && (this.seenItemState.set(e, !0), this.decreaseUnseenCount(), 
!0);
}, this.addItemsSeenInPreviousSession = An((e => {
e.forEach((e => {
this.seenItemState.get(e) || (this.itemsSeenInPreviousSession.add(e), this.setSeenItem(e));
}));
})), this.isSeenItem = e => this.seenItemState.get(e), this.getSeenItems = () => As((() => {
const e = [];
return this.seenItemState.forEach(((t, n) => {
t && e.push(n);
})), e;
})), this.getUnseenCount = () => this.unseenItemCount.get();
}
increaseUnseenCount() {
this.unseenItemCount.set(this.unseenItemCount.get() + 1);
}
decreaseUnseenCount() {
this.unseenItemCount.set(this.unseenItemCount.get() - 1);
}
}), [nB, rB] = $s({
debugName: "seenStatesMapState",
create: () => new Map
});
function iB(e, t) {
let n = e.get(t);
return n || (n = new tB(t), e.set(t, n)), n;
}
function aB(e, t, n) {
const r = e.length;
if (0 === r || n(t, e[r - 1]) > 0) return void e.push(t);
if (n(t, e[0]) < 0) return void e.splice(0, 0, t);
let i = 0, a = r, o = 0, s = r;
for (;i < a; ) {
const r = i + a >>> 1, l = n(t, e[r]);
if (l > 0 ? i = r : l < 0 ? a = r : (a = r, i = r), o === i && s === a) break;
o = i, s = a;
}
e.splice(a, 0, t);
}
var oB = class {
constructor(e = [], t, n = 50) {
this.sortMethod = t, this.setMultiThreshold = n, this.listAtom = Ae("list");
const r = e.map((([, e]) => e));
r.sort(this.sortMethod), this.items = new Cs(e), this.list = r;
}
get(e) {
return this.items.get(e);
}
has(e) {
return this.items.has(e);
}
get size() {
return this.items.size;
}
keys() {
return Array.from(this.items.keys());
}
getSortedList() {
return this.listAtom.reportObserved(), this.list;
}
set(e, t) {
return mr((() => As((() => {
const n = this.list.slice();
this.addToList(n, e, t), this.updateList(n);
}))));
}
setMulti(e) {
return mr((() => As((() => {
const t = this.list.slice();
if (e.length < this.setMultiThreshold) for (const [n, r] of e) this.addToList(t, n, r); else {
for (const [n, r] of e) {
const e = this.items.get(n);
if (e) {
t[this.findIndexOrThrow(t, e, n)] = r;
} else t.push(r);
this.items.set(n, r);
}
t.sort(this.sortMethod);
}
this.updateList(t);
}))));
}
delete(e) {
return mr((() => As((() => {
const t = this.items.get(e);
if (t) {
const n = this.list.slice(), r = this.findIndexOrThrow(n, t, e);
return n.splice(r, 1), this.items.delete(e), this.updateList(n), !0;
}
return !1;
}))));
}
deleteMulti(e) {
return mr((() => As((() => {
const t = this.list.slice();
for (const n of e) {
const e = this.items.get(n);
if (e) {
const r = this.findIndexOrThrow(t, e, n);
t.splice(r, 1), this.items.delete(n);
}
}
this.updateList(t);
}))));
}
replace(e) {
return mr((() => {
const t = e.map((([, e]) => e));
t.sort(this.sortMethod), this.items.replace(e), this.updateList(t);
}));
}
forEach(e) {
this.getSortedList().forEach(e);
}
map(e) {
return this.getSortedList().map(e);
}
addToList(e, t, n) {
const r = this.items.get(t);
if (r) {
const n = this.findIndexOrThrow(e, r, t);
e.splice(n, 1);
}
aB(e, n, this.sortMethod), this.items.set(t, n);
}
updateList(e) {
this.list = e, this.listAtom.reportChanged();
}
findIndexOrThrow(e, t, n) {
const r = e.indexOf(t);
if (-1 === r) throw new Error("Entry for id " + n + " was not found in list");
return r;
}
}, sB = Oc({
zOffset: VE
}), lB = Oc({
zOffset: 1,
padding: vc(sd.DimensionSpace.large),
flex: 1,
justifyContent: "center",
alignItems: "center"
}), cB = Oc({
backgroundColor: sd.ColorNeutral._800
}), dB = ({children: e, style: t, opaque: n}) => {
const {fullscreenStyle: r} = qu();
return H.createElement("surface", {
style: [ sB, r, t, n ? cB : void 0 ]
}, H.createElement("surface", {
style: lB
}, e));
}, uB = {
duration: sd.AnimationTime.fastest,
easing: sd.AnimationEasing.ease
}, pB = Ii.observer((() => {
const e = Rs(), t = e.getUntracked(sk), n = TN(t ? 1 : 1.05), r = TN(t ? 1 : 0), [i, a] = H.useState((() => t));
H.useEffect((() => Mn((() => e.get(sk)), (e => {
const t = () => {
n.transition(1.05, 1, uB), r.transition(0, 1, uB), a(e);
};
i ? i !== e && (n.transition(1, .95, uB), r.transition(1, 0, {
...uB,
onFinished: t
})) : t();
}), {
fireImmediately: !0
})), [ i, e, r, n ]);
const o = [ n.propStyle("scaleX"), n.propStyle("scaleY"), r.propStyle("opacity") ];
return H.createElement(uf, {
id: "modal-overlay",
isolate: !!i,
disable: !i
}, i ? H.createElement(dB, {
style: o,
opaque: i.opaque
}, H.createElement("surface", {
key: i.id
}, i.component())) : null);
})), fB = () => !1, mB = ({children: e, router: t, shouldIsolate: n = fB}) => {
const r = Tm(t), [i, a] = H.useState((() => n(r.location)));
return H.useEffect((() => (a(n(r.location)), r.listen((e => {
a(n(e));
})))), [ r, n ]), H.createElement(Na, {
history: r
}, H.createElement(uf, {
id: "router:" + t,
isolate: i
}, e));
}, yB = Bh.custom((e => {
if (!Array.isArray(e)) return !1;
for (let t = 0; t < e.length; t++) {
const n = e[t];
if ("string" != typeof n && Number.isNaN(parseInt(n, 10))) return !1;
}
return !0;
}));
function hB(e, t, n) {
const r = Gu(), i = `SeenItems-${e}-${t}`, a = H.useCallback((async () => {
if (void 0 !== t) try {
const e = await r.localStorage.getItem(i);
if (e) {
const t = JSON.parse(e);
if (yB.validate(t)) return void n.addItemsSeenInPreviousSession(t);
0;
}
} catch (e) {}
}), [ t, i, e, n, r ]);
return {
loadSeenState: a,
saveSeenState: H.useCallback((async () => {
if (void 0 === t) return;
const e = n.getSeenItems();
if (yB.validate(e)) {
const t = JSON.stringify(e);
await r.localStorage.setItem(i, t);
}
}), [ t, i, n, r ])
};
}
function gB(e) {
const t = rB(), [n] = H.useState((() => iB(t, e))), {data: r} = cE(), {loadSeenState: i, saveSeenState: a} = hB(e, r, n);
H.useEffect((() => {
void 0 !== r && i();
}), [ r, i ]);
return H.useMemo((() => {
const e = eg((() => a()), {
wait: 2e3,
leading: !0
});
return {
setItems: n.addItems,
addNewItem: n.addItem,
removeItem: n.removeItem,
isItemSeen: n.isSeenItem,
setItemSeen: t => {
n.setSeenItem(t) && e();
},
getUnseenCount: n.getUnseenCount
};
}), [ a, n ]);
}
var [IB, vB] = Es("FriendRequestsSeenStatus");
function bB(e) {
return e.eaPlayerId;
}
var _B = ({children: e}) => {
const t = gB("FriendRequests");
return H.createElement(IB.Provider, {
value: t
}, e);
}, PB = Oc({
zOffset: zE,
position: "absolute",
start: vc(sd.DangerZone.width),
bottom: vc(sd.DangerZone.height)
});
function SB(e) {
return !!e.label;
}
var TB = Ps({
debugName: "bottomBarInputsState",
get: ({get: e}) => e(Lf).filter(SB).sort(((e, t) => e.priority && t.priority ? e.priority > t.priority ? 1 : -1 : e.priority ? -1 : t.priority ? 1 : 0))
}), EB = () => Fs(TB), kB = (Ii.observer((() => {
const e = EB();
return H.createElement(Fp, {
actions: e,
style: PB
});
})), 1), NB = 2, CB = 3, OB = 4, AB = (e, t, n = !0) => {
const r = mL();
return Vu(e ? {
...e,
keyBinding: r[e.action]
} : void 0, t, n);
}, wB = {
GlobalDismiss: "dismiss",
GlobalSettings: "social_settings",
GlobalChatParty: "chat_party",
GlobalLeaveParty: "leave_party"
}, LB = ({action: e}) => {
const {history: t} = cv("main"), n = wB[e.id], r = WT(), i = H.useMemo((() => {
if (n) return {
pg_id: rO(t.location),
destination_name: "bottom_bar",
msg_id: "bottom_bar",
option: n,
context: {
tpid: By.productId
}
};
}), [ t, n ]);
fO(i);
const a = H.useMemo((() => i ? {
...e,
callback: uO(r, e.callback, {
...i,
status: "click"
})
} : e), [ e, r, i ]);
return H.createElement(Dp, {
action: a
});
}, RB = Ii.observer((() => {
const e = EB();
return H.createElement(Mp, {
style: PB
}, e.map((e => H.createElement(LB, {
key: e.id,
action: e
}))));
})), xB = Oc({
flexDirection: "row",
flexWrap: "nowrap",
alignItems: "center",
height: vc(52)
}), BB = Oc({
minWidth: td.RB[0]
});
function DB() {
const e = ap(), t = e ? 1 : 0;
return {
previousKeyBinding: sp(e ? 0 : 1),
nextKeyBinding: sp(t)
};
}
var MB, FB = ({children: e, onNext: t, onPrev: n}) => {
const {previousKeyBinding: r, nextKeyBinding: i} = DB(), a = pc(r.primaryButton), o = pc(i.primaryButton), s = r.primaryButton.keyboardKeyLabel, l = i.primaryButton.keyboardKeyLabel;
return Vu({
keyBinding: r,
callback: n
}), Vu({
keyBinding: i,
callback: t
}), H.createElement("surface", {
style: xB
}, H.createElement(fd, {
type: a,
buttonLabel: s,
style: s ? BB : void 0,
color: sd.IconColorStandard.emphasized,
onClick: n
}), e, H.createElement(fd, {
type: o,
buttonLabel: l,
style: l ? BB : void 0,
color: sd.IconColorStandard.emphasized,
onClick: t
}));
}, UB = Pc({
singleDigitBadge: {
1: Vc("/photon/quantum/badges/Single_Digit_Badge-54006121.png"),
2: Vc("/photon/quantum/badges/Single_Digit_Badge_2x-de90746c.png")
},
doubleDigitBadge: {
1: Vc("/photon/quantum/badges/Double_Digit_Badge-0eb93931.png"),
2: Vc("/photon/quantum/badges/Double_Digit_Badge_2x-b76ffacb.png")
},
tripleDigitBadge: {
1: Vc("/photon/quantum/badges/Triple_Digit_Badge-6fba5c3e.png"),
2: Vc("/photon/quantum/badges/Triple_Digit_Badge_2x-0439d89b.png")
}
}), HB = 36, VB = Oc({
height: vc(HB),
justifyContent: "center"
}), JB = Oc({
width: vc(HB),
texture: UB.singleDigitBadge
}), zB = Oc({
width: vc(44),
texture: UB.doubleDigitBadge
}), GB = Oc({
width: vc(52),
texture: UB.tripleDigitBadge
}), jB = Oc({
color: sd.TextColorInverted.default,
fontSize: bc(sd.TextSizeLabel.small),
fontFamily: Vd.name,
textAlign: "center",
zOffset: 1
}), qB = {
easing: sd.AnimationEasing.ease,
duration: sd.AnimationTime.faster,
rebound: !0
}, WB = {
easing: sd.AnimationEasing.ease,
duration: sd.AnimationTime.average
}, YB = ({digit: e}) => {
const t = TN(1), n = TN(0), r = H.useRef(0);
H.useEffect((() => {
const i = r.current;
if (r.current = e, i !== e) return e > i ? (n.set(1), void t.transition(1, 1.3, qB)) : void (0 === e && (t.transition(1, .8, WB), 
n.transition(1, 0, WB)));
}), [ e, t, n ]);
let i, a = "" + Math.max(e, 1);
return e < 10 ? i = JB : e < 100 ? i = zB : (a = "99+", i = GB), H.createElement("surface", {
style: [ VB, i, t.propStyle("scaleX"), t.propStyle("scaleY"), n.propStyle("opacity") ]
}, H.createElement("surface", {
text: a,
style: jB
}));
}, KB = Oc({
padding: vc([ sd.DimensionSpace.smaller, sd.DimensionSpace.medium, sd.DimensionSpace.smaller, sd.DimensionSpace.medium ]),
marginLeft: vc(sd.DimensionSpace.large),
marginRight: vc(sd.DimensionSpace.large)
}), XB = Oc({
position: "absolute",
width: vc(HB),
height: vc(HB),
top: vc(-18),
right: vc(-18),
zOffset: 1
}), QB = Oc({
wordWrap: "normal",
maxWidth: (MB = 2, $u(MB) + Ku)
}), $B = Ii.observer((e => {
const {focusItem: t, isFocused: n, isPressed: r} = dp(e), i = Kp({
isFocused: n,
isPressed: r,
isActive: e.isActive
});
let a = sd.TextColorStandard.default;
e.isActive || r ? a = sd.TextColorInverted.default : n && (a = sd.TextColorStandard.emphasized);
const o = e.isActive || r ? sd.BackgroundColor.alt1 : void 0;
return H.createElement("surface", {
style: [ KB, Yp({
backgroundColor: o,
borderColor: i
}) ],
...t.hooks
}, H.createElement("surface", {
style: XB
}, H.createElement(YB, {
digit: e.counter || 0
})), H.createElement(Kd, {
text: e.label,
color: a,
style: [ QB ]
}));
}));
$f.UserExperience.SoundEffect;
function ZB() {
const e = lm();
return H.useCallback((t => {
e.isMethodAvailable("PhotonJsBindings.UserExperience.playSoundEffect") && e.UserExperience.playSoundEffect({
effect: t
}).catch((e => {}));
}), [ e ]);
}
var eD = $f.InputBindings.Action, tD = $f.UserExperience.SoundEffect, nD = vc(680), rD = Oc({
position: "relative",
marginTop: vc(36),
flex: 1
}), iD = Oc({
top: 0,
left: 0,
position: "absolute",
translateX: 0,
right: 0,
height: nD
}), aD = {
duration: sd.AnimationTime.fast,
easing: sd.AnimationEasing.ease
}, oD = "tab", sD = vc(48), lD = H.memo((e => {
const {isCurrent: t, path: n, exact: r, children: i} = e, a = H.useContext(ka), o = H.useRef(a), s = H.useMemo((() => t ? {
...a,
match: xa(a.location.pathname, {
path: n,
exact: r
}) ?? a.match
} : o.current), [ t, n, r, a ]);
return H.useEffect((() => {
o.current = s;
}), [ s ]), H.createElement(ka.Provider, {
value: s
}, i);
})), cD = ({tab: e, tabIndex: t, currentTabIndex: n, previousTabIndex: r, children: i}) => {
const {timeout: a, disposeTimeout: o} = ru(), s = t === r, l = t === n, [c, d] = H.useState(l), u = TN(0), p = TN(0);
return H.useEffect((() => {
if (l) {
const e = t < (r ?? 0) ? -sD : sD;
o(oD), d(!0), void 0 !== r && u.transition(e, 0, aD), p.to(1, aD);
} else if (s) {
const e = t > n ? sD : -sD;
u.transition(0, e, aD), p.to(0, aD), a(oD, (() => d(!1)), aD.duration);
} else o(oD), d(!1);
}), [ a, o, u, p, t, l, s, n, r ]), H.createElement("surface", {
style: [ iD, u.propStyle("translateX"), p.propStyle("opacity") ]
}, (l || s && c) && H.createElement(lD, {
isCurrent: l,
path: e.route.path,
exact: e.exact
}, i));
}, dD = Ii.observer((({tab: e, onSelect: t, isSelected: n}) => {
const r = H.useCallback((() => {
t(e.route);
}), [ t, e.route ]), i = e.getUnseenCount?.() ?? void 0;
return H.createElement($B, {
id: e.route.path,
isActive: n,
label: e.title,
onClick: r,
counter: i
});
}));
function uD(e, t) {
const n = xa(e, t.route.path);
return !!n && (!t.exact || n.isExact);
}
function pD(e, t) {
const n = e.findIndex((e => uD(t, e)));
return -1 !== n ? n : 0;
}
function fD(e) {
const t = pD(e, ja().pathname), n = H.useRef({
current: t
}).current, r = n.current === t ? n.previous : n.current;
return H.useEffect((() => {
n.current !== t && (n.previous = n.current, n.current = t);
}), [ n, t ]), {
currentTabIndex: t,
previousTabIndex: r
};
}
var mD = ({tabs: e}) => {
const {currentTabIndex: t, previousTabIndex: n} = fD(e), {history: r, navigate: i} = cv(), a = ZB(), {previousKeyBinding: o, nextKeyBinding: s} = DB(), l = yL(eD.Settings), c = yL(eD.TogglePhoton), d = yL(eD.ToggleMode);
pu((({getKeyBindingText: n}) => [ cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_TAB-MENU_NAME", {
"%tabLabel%": e[t].title
}), cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_TAB-MENU_TAB-NUMBER", {
"%tabNumber%": t + 1 + "",
"%tabTotal%": e.length + ""
}), cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_TAB-MENU_NAVIGATION", {
"%leftNavKey%": n(o),
"%rightNavKey%": n(s)
}) ]), [ e, t, o, s ], 0), pu((({getKeyBindingText: e}) => [ By.isPartyEnabled ? cm("PHOTON-SOCIAL_NARRATION_BOTTOM-BAR_PARTIES-ENABLED", {
"%backKey%": e(c),
"%settingsKey%": e(l),
"%voipKey%": e(d)
}) : cm("PHOTON-SOCIAL_NARRATION_BOTTOM-BAR_PARTIES-DISABLED", {
"%backKey%": e(c),
"%settingsKey%": e(l)
}) ]), [ t, c, l, d ], 3);
const {onTabSelect: u, onPrevTab: p, onNextTab: f} = H.useMemo((() => ({
onTabSelect(e) {
i(e.link());
},
onPrevTab() {
const t = pD(e, r.location.pathname), n = e[t <= 0 ? e.length - 1 : t - 1];
a(tD.PageLeft), i(n.route.link());
},
onNextTab() {
const t = pD(e, r.location.pathname), n = e[(t + 1) % e.length];
a(tD.PageRight), i(n.route.link());
}
})), [ i, e, r, a ]);
return H.createElement(H.Fragment, null, H.createElement(FB, {
onPrev: p,
onNext: f
}, H.createElement(uf, {
disableForControllerMode: !0
}, e.map(((e, n) => H.createElement(dD, {
key: e.route.path,
tab: e,
onSelect: u,
isSelected: n === t
}))))), H.createElement("surface", {
style: rD
}, e.map(((e, r) => H.createElement(cD, {
key: e.route.path,
tab: e,
tabIndex: r,
currentTabIndex: t,
previousTabIndex: n
}, H.createElement(uf, {
disable: r !== t
}, e.content))))));
}, yD = Pc({
dotBadge: {
1: Vc("/photon/quantum/badges/Dot_Badge-282ef68e.png"),
2: Vc("/photon/quantum/badges/Dot_Badge@2x-fc6ef56e.png")
}
}), hD = vc(sd.DimensionSpace.small), gD = Oc({
width: hD,
height: vc(sd.DimensionSpace.small),
texture: yD.dotBadge
}), ID = ({style: e}) => H.createElement("surface", {
style: [ gD, e ]
}), vD = vc(sd.DimensionSpace.large), bD = vc(sd.DimensionSpace.smaller), _D = 1, PD = 2, SD = 3, TD = {
container: Rc((e => ({
minHeight: vc(68) + (e ? 0 : 2 * bD)
})), {
flexDirection: "row",
alignItems: "center",
justifyContent: "space-between"
}),
content: Oc({
flex: 1,
flexDirection: "row",
alignItems: "center",
justifyContent: "space-between",
padding: [ 0, vD, 0, vD ],
zOffset: _D
}),
borderStyle: Rc((e => ({
top: e ? -bD : 0,
left: e ? -bD : 0,
right: e ? -bD : 0,
bottom: e ? -bD : 0
}))),
actionContainer: Oc({
flexDirection: "row",
flexShrink: 0
}),
action: Oc({
padding: vc([ sd.DimensionSpace.medium, sd.DimensionSpace.large, sd.DimensionSpace.medium, sd.DimensionSpace.large ]),
alignItems: "center",
zOffset: PD,
flexShrink: 0
}),
actionIdentifier: Bc("zOffset", SD),
actionColor: (e, t, n, r) => {
let i;
return i = n ? sd.BackgroundColor.alt2 : e ? r ? sd.InteractiveColor.selectedAlt : sd.InteractiveColor.selected : t ? r ? sd.ColorNeutral._400 : sd.ColorBrandPrimary._700 : r ? Zp(sd.ColorNeutral._300, .5) : sd.ColorBrandPrimary._500, 
Bc("color", i);
},
icon: Oc({
width: vc(32),
height: vc(32)
}),
dividerStyle: Oc({
marginLeft: vc(sd.DimensionSpace.small),
marginRight: vc(sd.DimensionSpace.small),
width: vc(sd.DimensionSpace.micro),
height: vc(sd.DimensionSpace.larger),
backgroundColor: sd.ColorNeutral._400
}),
textPadding: Oc({
padding: [ vc(sd.DimensionSpace.medium), 0, vc(sd.DimensionSpace.medium), 0 ]
})
}, ED = Oc({
padding: vc([ sd.DimensionSpace.medium, sd.DimensionSpace.large, sd.DimensionSpace.medium, sd.DimensionSpace.large ]),
flexDirection: "row",
justifyContent: "space-between",
alignItems: "center",
color: sd.BackgroundColor.base
}), kD = e => H.createElement("surface", {
style: [ ED, $p({
radius: sd.DimensionSpace.smaller
}), e.style ]
}, e.children), ND = Oc({
fontSize: bc(28),
zOffset: 1,
textLineSpacing: vc(0),
textLetterSpacing: vc(.5)
}), CD = e => H.createElement("surface", {
text: e.text,
style: [ qd, ND, e.style, Bc("color", e.color || sd.TextColorStandard.default) ]
}), OD = Oc({
flexDirection: "row",
flexShrink: 0
}), AD = Oc({
flexDirection: "row",
alignItems: "center",
zOffset: 1
}), wD = Oc({
width: vc(sd.DimensionSpace.micro),
height: vc(sd.DimensionSpace.larger),
backgroundColor: sd.ColorNeutral._400
}), LD = Oc({
rotateZ: 0
}), RD = Oc({
rotateZ: 180,
width: vc(sd.DimensionSpace.larger),
height: vc(sd.DimensionSpace.larger),
color: sd.ColorNeutral._0,
zOffset: 1,
texture: zp.down
}), xD = Oc({
marginStart: vc(sd.DimensionSpace.large)
}), BD = bs({
debugName: "collapsibleSectionsState",
default: () => {}
});
function DD() {
return sp(2);
}
var MD = Ii.observer((e => {
const {onToggle: t, isExpanded: n, showDot: r, children: i, ...a} = e, o = DD(), s = pc(o.primaryButton), l = o.primaryButton.keyboardKeyLabel, {focusItem: c, isFocused: d, isPressed: u} = dp({
...a,
onClick: t,
input: {
keyBinding: o,
callback: t
}
}), p = Np(u, "large"), f = sd.TextColorStandard.emphasized, m = !n && r, y = "string" == typeof e.title ? H.createElement(CD, {
text: e.title,
color: f
}) : e.title, h = m ? H.createElement("surface", {
style: AD
}, H.createElement(ID, {
style: Bc("marginEnd", vc(sd.DimensionSpace.small))
}), y) : y;
return H.createElement("surface", {
style: e.style,
...c.hooks
}, H.createElement(kD, {
style: p
}, d ? H.createElement("surface", {
style: [ gp, TD.borderStyle(!0) ]
}) : void 0, h, H.createElement("surface", {
style: OD
}, H.createElement("surface", {
style: wD
}), (s || l) && d ? H.createElement(Zd, {
buttonLabel: l,
icon: s,
style: xD
}) : null, H.createElement("surface", {
style: [ RD, n ? LD : void 0, xD ]
}))), n ? i : null);
}));
function FD({id: e, rememberExpandedState: t, isInitiallyExpanded: n, onToggleCallback: r}) {
const [i, a] = [ Us(o = BD, s = e), Js(o, s) ];
var o, s;
const l = qs(BD, e);
H.useEffect((() => t ? void 0 : l), [ l, t ]);
const c = H.useCallback((() => {
a((e => {
const t = !(e ?? n);
return r?.(t), t;
}));
}), [ a, r, n ]);
return {
isExpanded: i ?? n,
onToggle: c
};
}
Ii.observer((({children: e, ...t}) => {
const {isExpanded: n, onToggle: r} = FD(t);
return H.createElement(MD, {
title: t.title,
id: t.id,
isExpanded: n,
onToggle: r,
style: t.style,
showDot: t.showDot
}, e);
}));
var UD = Oc({
flexDirection: "row"
}), HD = Oc({
width: vc(32),
height: vc(32),
marginEnd: vc(sd.DimensionSpace.small)
}), VD = ({texture: e, text: t, iconColor: n, textColor: r, style: i}) => H.createElement("surface", {
style: [ UD, i ]
}, H.createElement("surface", {
style: [ HD, Bc("texture", e), Bc("color", n) ]
}), H.createElement(Kd, {
color: r,
text: t
})), JD = e => H.createElement(VD, {
...e,
texture: Up.CHECK_FILL,
iconColor: sd.ColorSystem.success
}), zD = ({style: e, height: t, width: n, delay: r = 0}) => {
const [i, a] = H.useState(0 === r), {timeout: o} = ru();
return H.useEffect((() => {
i || o("delay", (() => {
a(!0);
}), r);
}), [ r, o, i ]), i ? H.createElement("surface", {
style: [ e, Bc("height", t), n ? Bc("width", n) : void 0, Yp({
backgroundColor: sd.BackgroundColor.base,
borderColor: void 0
}) ]
}) : null;
}, GD = vc(30), jD = vc(600), qD = ({numSections: e, numRows: t}) => H.createElement(H.Fragment, null, Array.from({
length: e
}).map(((e, n) => H.createElement("surface", {
style: Bc("flexDirection", "column"),
key: n
}, H.createElement(zD, {
height: vc(60)
}), Array.from({
length: t
}).map(((e, t) => H.createElement(zD, {
key: t,
style: Bc("margin", vc([ sd.DimensionSpace.medium, 0, sd.DimensionSpace.medium, 0 ])),
height: GD,
width: jD
}))))))), WD = H.forwardRef((({children: e, interaction: t, transparent: n, style: r, borderOutside: i}, a) => {
const {isFocused: o, focusItem: s, isActive: l, isDisabled: c} = t;
let d;
return d = l ? sd.BackgroundColor.alt1 : c ? n ? void 0 : sd.BackgroundColor.body : n ? void 0 : sd.BackgroundColor.base, 
H.createElement(up.Provider, {
value: t
}, H.createElement("surface", {
ref: a,
...s.hooks,
style: [ TD.container(i), d ? $p({
radius: sd.DimensionSpace.smaller
}) : void 0, r, Bc("color", d) ]
}, o && !l ? H.createElement("surface", {
style: [ gp, TD.borderStyle(i) ]
}) : void 0, e));
})), YD = ({style: e, children: t}) => H.createElement("surface", {
style: [ TD.content, e ]
}, t), KD = Ii.observer((e => {
const {children: t, transparent: n, style: r, ...i} = e, a = dp(i);
return H.createElement(WD, {
style: r,
interaction: a,
transparent: n
}, H.createElement(YD, null, t));
})), XD = ({isActive: e, isDisabled: t, isFocused: n}, r) => e ? sd.TextColorInverted.default : t ? sd.ColorNeutral._300 : n ? sd.TextColorStandard.emphasized : r ? sd.TextColorStandard.default : sd.TextColorStandard.emphasized, QD = e => {
const t = pp(), {isPressed: n, isFocused: r} = t, i = n || r;
if (e.showOnPressedOrFocused && !i) return null;
if (e.hideOnPressedOrFocused && i) return null;
const a = XD(t, !0);
return H.createElement("surface", {
style: [ TD.textPadding, e.wrapperStyle ]
}, H.createElement(Gk, {
color: a,
...e
}));
}, $D = Oc({
flex: 1
}), ZD = Oc({
marginStart: vc(sd.DimensionSpace.large),
textEllipsis: !0
}), eM = Oc({
marginStart: vc(sd.DimensionSpace.large)
}), tM = ({style: e, ...t}) => {
const n = pp(), r = XD(n);
return H.createElement("surface", {
style: [ Bc("flex", 1), TD.textPadding ]
}, H.createElement(Kd, {
...t,
style: [ $D, e ],
color: r
}));
}, nM = e => {
const t = pp(), n = XD(t);
return H.createElement("surface", {
style: [ Yk.primaryId, $D, TD.textPadding, e.style ],
debugName: "ListControlPrimaryID:" + (e.name ?? "loading")
}, H.createElement(eN, {
platform: e.playerNetworkId,
style: Bc("color", n)
}), e.name ? H.createElement(Gk, {
style: [ ZD, Bc("color", n) ],
text: e.name,
key: "name"
}) : H.createElement(zD, {
key: "name",
style: eM,
height: vc(sd.DimensionSpace.medium),
width: vc(sd.DimensionLayout.macro)
}));
}, rM = Ii.observer((e => {
const {action: t, isSecondary: n, roundedSides: r} = e, i = Fl({
onClick: t.callback,
disabled: t.disabled
}), a = Ju({
keyBinding: t.keyBinding,
callback: t.callback
}, void 0, !t.disabled), o = Np(i.isPressed);
if (t.disabled && t.disabledContent) return H.createElement("surface", null, t.disabledContent);
const s = pc(t.keyBinding.primaryButton), l = i.isPressed || a, c = e.action?.keyBinding.primaryButton.keyboardKeyLabel;
let d;
return (s || c) && t.label ? d = H.createElement(eu, {
style: TD.actionIdentifier,
label: t.label,
icon: s,
buttonLabel: c
}) : s || c ? d = H.createElement(Zd, {
buttonLabel: c,
icon: s
}) : t.label && (d = H.createElement(Kd, {
style: TD.actionIdentifier,
text: t.label,
color: sd.TextColorStandard.emphasized
})), H.createElement("surface", {
style: [ TD.action, TD.actionColor(l, i.isHovered, t.disabled, n), $p({
radius: sd.BorderRadius.smaller,
applyRadiusTo: r
}), o ],
...i.hooks
}, d);
})), iM = ({primaryAction: e, secondaryAction: t}) => {
const n = ap();
return t ? H.createElement("surface", {
style: TD.actionContainer
}, H.createElement(rM, {
action: t,
isSecondary: !0,
roundedSides: n ? 1 : 0
}), H.createElement(rM, {
action: e,
roundedSides: n ? 0 : 1
})) : H.createElement(rM, {
action: e
});
}, aM = ({text: e}) => {
const t = pp(), n = XD(t);
return H.createElement(JD, {
style: TD.action,
textColor: n,
text: e
});
}, oM = ({texture: e, style: t}) => {
const n = pp(), r = XD(n);
return H.createElement("surface", {
style: [ TD.icon, Bc("texture", e), Bc("color", r), t ]
});
}, sM = ({type: e, showOnPressedOrFocused: t, style: n}) => {
const r = pp(), {isPressed: i, isFocused: a, isActive: o, isDisabled: s} = r, l = i || a, c = XD(r), d = t && !l || o || s ? Bc("opacity", 0) : void 0;
return H.createElement(fd, {
type: e,
color: c,
style: [ d, n ]
});
}, lM = () => H.createElement("surface", {
style: TD.dividerStyle
}), cM = ({showOnPressedOrFocused: e, hideOnPressedOrFocused: t, children: n}) => {
const r = pp(), {isPressed: i, isFocused: a} = r, o = i || a;
return e && !o || t && o ? null : H.createElement(H.Fragment, null, n);
}, dM = Oc({
position: "absolute",
marginStart: vc(sd.DimensionSpace.small),
zOffset: 1
}), uM = Oc({
paddingStart: vc(sd.DimensionSpace.smaller),
marginStart: hD + vc(sd.DimensionSpace.small)
}), pM = Ii.observer((e => {
const {children: t, primaryAction: n, secondaryAction: r, showDot: i, narrationItem: a, style: o, ...s} = e, l = dp(s), {isFocused: c, isPressed: d} = l, u = c || d;
return fu((e => a({
primaryAction: n,
secondaryAction: r
}, e)), [ a, n, r ], l.focusItem.focusId), H.createElement(WD, {
style: o,
transparent: !0,
interaction: l,
borderOutside: !0
}, i && H.createElement(ID, {
style: dM
}), H.createElement(YD, {
style: uM
}, t), n && u ? H.createElement(iM, {
primaryAction: n,
secondaryAction: r
}) : null);
}));
function fM({playerName: e, supplementaryText: t}) {
return H.useCallback((({primaryAction: n, secondaryAction: r}, {getKeyBindingText: i, getRegisteredTertiaryAction: a}) => {
const o = a();
return [ e, t, n || r || o ? cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-LIST-CONTROL_PRESS-BUTTON") : void 0, n?.label ? cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-LIST-CONTROL_CTA-1", {
"%buttonPrimary%": i(n.keyBinding),
"%actionPrimary%": n.label
}) : void 0, r?.label ? cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-LIST-CONTROL_CTA-2", {
"%buttonSecondary%": i(r.keyBinding),
"%actionSecondary%": r.label
}) : void 0, o ? cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-LIST-CONTROL_CTA-3", {
"%buttonTertiary%": i(o.keyBinding),
"%actionTertiary%": o.label
}) : void 0 ];
}), [ e, t ]);
}
var mM = 6e4, yM = 36e5, hM = 24 * yM, gM = 7 * hM;
function IM(e, t, n) {
const r = Math.abs(e - t) % n;
return t > e ? r || n : n - r;
}
var vM, bM = (e, t, n) => {
const r = Date.now(), i = Math.abs(r - n), a = n > r;
let o, s, l = {
singular: "",
plural: ""
};
if (i >= 25056e5) return {
str: t.months
};
if (i >= gM) o = Math.floor(i / gM), l = t.weeks; else if (i >= hM) {
o = Math.floor(i / hM), l = t.days;
s = IM(r, n, a && 1 === o ? yM : hM);
} else if (i >= yM) {
o = Math.floor(i / yM), l = t.hours;
s = IM(r, n, a && 1 === o ? mM : yM);
} else {
if (!(i >= mM)) return {
nextUpdateMs: IM(r, n, mM),
str: t.seconds
};
o = Math.floor(i / mM), l = t.minutes, s = IM(r, n, mM);
}
return {
nextUpdateMs: s,
str: o ? e.replace("[num]", String(o)).replace("[unit]", 1 === o ? l.singular : l.plural) : t.seconds
};
}, _M = (e, t, n) => {
const [r, i] = H.useState((() => bM(e, t, n)));
return H.useEffect((() => {
let r;
if (function a() {
const o = bM(e, t, n);
i((e => e.str !== o.str || e.nextUpdateMs !== o.nextUpdateMs ? o : e)), o.nextUpdateMs && (r = setTimeout(a, o.nextUpdateMs));
}(), r) return () => {
r && clearTimeout(r);
};
}), [ e, n, t ]), r.str;
}, PM = (e, t) => t === e.seconds || t === e.months, SM = (e, t, n) => {
const r = n || cm("TIME_AGO");
return PM(e, t) ? t : r.replace("%time%", t);
};
function TM(e, t) {
const n = vM || (vM = {
months: cm("MORE-THAN-4-WEEKS"),
weeks: {
singular: cm("WEEK_SINGULAR"),
plural: cm("WEEK_PLURAL")
},
days: {
singular: cm("DAY_SINGULAR"),
plural: cm("DAY_PLURAL")
},
hours: {
singular: cm("HOUR_SINGULAR"),
plural: cm("HOURS_PLURAL")
},
minutes: {
singular: cm("MINUTE_SINGULAR"),
plural: cm("MINUTE_PLURAL")
},
seconds: cm("LESS-THAN-A-MINUTE_1")
}), r = _M("[num] [unit]", n, e);
return SM(n, r, t);
}
var EM = Oc({
textEllipsis: !0,
marginStart: vc(sd.DimensionSpace.macro),
maxWidth: vc(525),
flexShrink: 0
}), kM = Ii.observer((({style: e, ...t}) => H.createElement(QD, {
...t,
style: [ EM, e ]
}))), NM = ({timeMs: e, hideOnPressedOrFocused: t, customText: n}) => {
const r = TM(e, n);
return H.createElement(kM, {
hideOnPressedOrFocused: t,
text: r
});
}, CM = e => (pu((() => [ e.title, e.headline, e.body ]), [ e.title, e.headline, e.body ], 1), 
H.createElement(zw, {
...e
})), OM = Jy("/player-search", "tab_search"), AM = ({telemetryInfo: e, onClick: t, onFocus: n, input: r, ...i}) => {
const a = WT(), o = H.useCallback(((n, r) => {
t && (t(n, r), dO(a, e));
}), [ t, a, e ]), s = H.useCallback((t => {
r && (r.callback(t), dO(a, e));
}), [ r, a, e ]), l = r && {
...r,
callback: s
}, c = H.useCallback((t => {
n?.(t), dO(a, {
status: "impression",
...e
});
}), [ n, a, e ]);
return H.createElement(Op, {
...i,
onFocus: c,
onClick: o,
input: l,
narrationItem: IC
});
}, wM = $f.InputBindings.Action, LM = Oc({
marginTop: vc(sd.DimensionSpace.larger)
}), RM = {
destination_name: "empty_state",
msg_id: "empty_state",
option: "start_adding_friends"
}, xM = ({headline: e, body: t, telemetryPageId: n}) => {
const {navigate: r} = cv(), i = yL(wM.Primary), a = H.useCallback((() => {
r(OM.link());
}), [ r ]), o = H.useMemo((() => ({
keyBinding: i,
callback: a
})), [ i, a ]), s = H.useMemo((() => ({
...RM,
pg_id: n
})), [ n ]);
return fO(s), H.createElement(CM, {
headline: e,
body: t
}, H.createElement("surface", {
style: [ Zu(4), LM ]
}, H.createElement(AM, {
onClick: a,
input: o,
label: cm("PHOTON-SOCIAL_FRIENDS_LIST_EMPTY_BUTTON"),
id: "friends-no-friends",
telemetryInfo: s
})));
}, BM = Jy("/player-actions/:photonPlayerId", "overlay_player_actions_other"), DM = Jy("/player-actions/:photonPlayerId", "overlay_player_actions_self");
function MM(e, t, n, r, i, a = "", o, s) {
const {data: l} = e.getItemUntracked(QA, r), c = {
friend: l ? "yes" : "no",
group_member: As((() => Fk(e, r) || SL(e, r))) ? "yes" : "no"
};
return o && (c.details = o), {
action: i,
target: a,
source: rO(n),
status_code: s,
context: c
};
}
function FM(e, t, n, r, i, a, o, s) {
t.triggerPlayerGrievance(MM(e, 0, n, r, i, a, o, s));
}
function UM(e, t, n, r, i, a, o, s) {
const l = MM(e, 0, n, r, i, a, o, s);
return e => {
t.triggerPlayerGrievance({
...l,
status_code: e
});
};
}
var HM = Bh.object({});
function VM() {
const e = Rs(), t = WT(), n = dv("main"), {BlockService: r} = lm(), {showNotification: i, showErrorNotification: a} = SO(), o = QC(), {showModal: s} = dk(), l = Ys((({get: e}) => t => {
const {eaPlayerId: n} = tI(t);
if (!n) return [];
const r = e(VI).findByEaPlayerId(n);
return As((() => Og(r).map((e => e.photonPlayerId))));
}), []), c = Ys((({get: e, getItem: t}) => n => As((() => {
const r = e(sE).data?.tokenInfo.userId, {eaPlayerId: i} = tI(n), {name: a, playerNetworkId: o} = t(xO, n);
return {
targetPlayerId: i,
name: a,
playerNetworkId: o,
isSelf: r === i,
ownPlayerId: r
};
}))), []), d = H.useCallback(((e, t) => {
const {name: n, playerNetworkId: r} = c(e);
l(e).forEach((e => {
o.removePresence(e);
})), i(3, 3, {
icon: Up.BLOCK,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_BLOCK", {
"%primaryID%": Zk({
name: n,
playerNetworkId: r
}, {
allowEllipsis: !0
})
})
}), t.onSuccess?.();
}), [ c, l, i, o ]), u = H.useCallback(((e, t) => {
a({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_BLOCK-PLAYER-FAIL")
}, "block player", e.error), t.onError?.(e.error?.message ?? "Unknown");
}), [ a ]), p = H.useCallback(((e, t) => {
const {name: n, playerNetworkId: r} = c(e);
i(3, 3, {
icon: Up.CHECK_CIRCLE,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_UNBLOCK", {
"%primaryID%": Zk({
name: n,
playerNetworkId: r
}, {
allowEllipsis: !0
})
})
}), t.onSuccess?.();
}), [ c, i ]), f = H.useCallback(((e, t) => {
a({
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_UNBLOCK-PLAYER-FAIL")
}, "unblock player", e.error), t.onError?.(e.error?.message ?? "Unknown");
}), [ a ]), m = H.useCallback(((e, t) => {
const {targetPlayerId: n, ownPlayerId: i} = c(e), a = Fh((() => r.BlockPlayer({
entityId: {
playerId: {
id: i
}
},
targetEntityId: {
playerId: {
id: n
}
}
})), HM);
return a.then((n => {
Uh(n, {
onSuccess: () => d(e, t),
onError: () => u(n, t)
});
})), a;
}), [ r, c, u, d ]), y = Ys((({get: e}) => (t, n) => {
const {targetPlayerId: r} = c(t), i = As((() => e(mN).get().data));
if (r && i) {
As((() => i.has(r))) || (i.set(r, {
eaPlayerId: r,
createTimeMs: Date.now(),
photonPlayerId: $g({
eaPlayerId: r,
playerNetworkId: "EA"
})
}), m(t, n).then((e => {
e.error && mr((() => {
i.delete(r);
}));
})));
}
}), [ c, m ]), h = H.useCallback(((e, t) => {
const {targetPlayerId: n, ownPlayerId: i} = c(e), a = Fh((() => r.UnblockPlayer({
entityId: {
playerId: {
id: i
}
},
targetEntityId: {
playerId: {
id: n
}
}
})), HM);
return a.then((n => {
Uh(n, {
onSuccess: () => p(e, t),
onError: () => f(n, t)
});
})), a;
}), [ r, c, f, p ]), g = Ys((({get: e}) => (t, n) => {
const {targetPlayerId: r} = c(t), i = As((() => e(mN).get().data));
if (r && i) {
const e = As((() => i.get(r)));
e && (i.delete(r), h(t, n).then((t => {
t.error && i.set(r, e);
})));
}
}), [ c, h ]), I = H.useCallback(((r, i = {}) => {
if (!rI(r)) return void u({
loading: !1,
skipped: !1,
error: new Error("Invalid player, not an EA account")
}, {});
const {name: a, playerNetworkId: o, targetPlayerId: l} = c(r), d = i.onSuccess, p = i.onError, f = UM(e, t, n.history.location, r, "block", l), m = t => {
e.get(hh).addEvent({
eventType: "photon_player_grievance",
action: "block",
source: rO(n.history.location),
error: !!t,
error_code: t
});
};
i.onSuccess = () => {
f(), m(), d?.();
}, i.onError = e => {
f(e), m(e), p?.(e);
}, s((() => H.createElement(sL, {
title: cm("PHOTON-SOCIAL_BLOCK_AFFIRM_TITLE", {
"%playerID%": Zk({
name: a,
playerNetworkId: o
}, {
allowEllipsis: !0
})
}),
body: cm("PHOTON-SOCIAL_BLOCK_AFFIRM_DESC"),
onConfirm: () => y(r, i),
autoClose: i.autoClose,
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
})), {
sequenceId: i.modalSequenceId
});
}), [ e, t, n, c, s, u, y ]), v = H.useCallback((r => {
if (!rI(r)) return void f({
loading: !1,
skipped: !1,
error: new Error("Invalid player, not an EA account")
}, {});
const {name: i, playerNetworkId: a, targetPlayerId: o} = c(r), l = UM(e, t, n.history.location, r, "unblock", o), d = {
onSuccess: () => {
l();
},
onError: e => {
l(e);
}
};
s((() => H.createElement(sL, {
title: cm("PHOTON-SOCIAL_UNBLOCK_AFFIRM_TITLE", {
"%playerID%": Zk({
name: i,
playerNetworkId: a
}, {
allowEllipsis: !0
})
}),
body: cm("PHOTON-SOCIAL_UNBLOCK_AFFIRM_DESC"),
onConfirm: () => g(r, d),
autoClose: !0,
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
})));
}), [ e, t, n, c, s, f, g ]);
return H.useMemo((() => ({
block: I,
unblock: v
})), [ I, v ]);
}
var [JM, zM] = Es("BlockPlayerControlsContext"), GM = ({children: e}) => {
const t = VM();
return H.createElement(JM.Provider, {
value: t
}, e);
}, jM = class extends Pg {}, [qM, WM] = $s({
debugName: "mutedPlayersFragmentStoreState",
create: () => new jM({
debugName: "MutedPlayers"
})
});
function YM(e) {
const {eaPlayerId: t} = tI(e);
return cN(WM().get(), (e => t ? e.get(t) : void 0));
}
function KM(e) {
return cN(rA().get(), (t => e ? t.players.get(e) : void 0));
}
function XM() {
return cN(cA().get(), (e => e));
}
var QM = Bh.object({
error: Bh.optional(Bh.string)
});
function $M() {
const {Voip: e} = lm();
return Yh((t => (pP(t, "Couldn't mute player, params were missing."), e.mutePlayer(t))), [ e ], QM);
}
function ZM() {
const {Voip: e} = lm();
return Yh((t => (pP(t, "Couldn't unmute player, params were missing."), e.unmutePlayer(t))), [ e ], QM);
}
function eF() {
const {Voip: e} = lm();
return Yh((t => (pP(t, "Couldn't set muted players, params were missing."), e.setMutedPlayers(t))), [ e ], QM);
}
function tF() {
const e = $M(), t = ZM(), n = eF(), r = H.useCallback((async e => {
if (n) return n({
playerIds: e
});
}), [ n ]);
return {
mutePlayer: H.useCallback((async t => {
if (e) return e({
playerId: t
});
}), [ e ]),
unmutePlayer: H.useCallback((async e => {
if (t) return t({
playerId: e
});
}), [ t ]),
setMutedPlayers: r
};
}
function nF() {
const {data: e} = lN(WM()), {data: t} = cN(rA().get(), (e => e)), {mutePlayer: n, unmutePlayer: r, setMutedPlayers: i} = tF();
H.useEffect((() => {
As((() => {
if (e && (e?.size ?? 0) > 0) {
const t = Array.from(e.keys());
i(t);
}
}));
}), [ n, e, i ]), H.useEffect((() => {
As((() => {
if (e && t) return e?.observe_((({type: e, name: t}) => {
t && ("add" === e ? n(t) : "delete" === e && r(t));
}));
}));
}), [ n, e, r, t ]);
}
var rF = Bh.object({});
function iF() {
const e = Rs(), t = WT(), n = dv("main"), {MuteService: r} = lm(), {showNotification: i, showErrorNotification: a} = SO(), o = WT(), {mutePlayer: s, unmutePlayer: l} = tF(), c = Ys((({get: e, getItem: t}) => n => As((() => {
const r = e(sE).data?.tokenInfo.userId, {eaPlayerId: i} = tI(n), {name: a, playerNetworkId: o} = t(xO, n);
return {
targetPlayerId: i,
name: a,
playerNetworkId: o,
isSelf: r === i,
ownPlayerId: r
};
}))), []), d = H.useCallback((r => {
const {name: a, playerNetworkId: o, isSelf: s, targetPlayerId: l} = c(r);
s ? i(3, 3, {
icon: Up.MICROPHONE_MUTE,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_VOICE_SELF-MUTE")
}) : (i(3, 3, {
icon: Up.MUTE,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_VOICE_MUTE", {
"%primaryID%": Zk({
name: a,
playerNetworkId: o
}, {
allowEllipsis: !0
})
})
}), FM(e, t, n.history.location, r, "mute", l));
}), [ e, t, n, c, i ]), u = H.useCallback(((r, i, o, s) => {
if (a({
text: i
}, r + " player", o.error), s) {
const {targetPlayerId: i} = c(s);
FM(e, t, n.history.location, s, r, i, void 0, o.error?.message ?? "");
}
}), [ c, n, e, t, a ]), p = H.useCallback(((e, t) => {
u("mute", cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_MUTE-FAIL"), e, t);
}), [ u ]), f = H.useCallback(((e, t) => {
u("unmute", cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_UNMUTE-FAIL"), e, t);
}), [ u ]), m = H.useCallback((r => {
const {name: a, playerNetworkId: o, isSelf: s, targetPlayerId: l} = c(r);
s ? i(3, 3, {
icon: Up.MICROPHONE,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_VOICE_SELF-UNMUTE")
}) : (i(3, 3, {
icon: Up.VOLUME_UP,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_VOICE_UNMUTE", {
"%primaryID%": Zk({
name: a,
playerNetworkId: o
}, {
allowEllipsis: !0
})
})
}), FM(e, t, n.history.location, r, "unmute", l));
}), [ e, t, n, c, i ]), y = H.useCallback((e => {
const {targetPlayerId: t, ownPlayerId: n} = c(e), i = Fh((() => r.MutePlayer({
entityId: {
playerId: {
id: n
}
},
targetEntityId: {
playerId: {
id: t
}
}
})), rF);
return i.then((t => {
Uh(t, {
onSuccess: () => d(e),
onError: () => p(t, e)
});
})), i;
}), [ c, r, p, d ]), h = Ys((({get: e}) => (t, n) => {
if (!rI(t)) return void p({
loading: !1,
skipped: !1,
error: new Error("Invalid player, not an EA account")
});
const {isSelf: r, targetPlayerId: i} = c(t), a = As((() => e(qM).get().data));
r && i ? s(i).then((e => {
e?.error ? p(e, t) : d(t);
})) : i && a && (a.set(i, {
eaPlayerId: i,
photonPlayerId: $g({
eaPlayerId: i,
playerNetworkId: "EA"
})
}), y(t).then((e => {
e.error && a.delete(i);
}))), n && dO(o, {
...n,
option: "mute"
});
}), [ o, c, s, y, p, d ]), g = H.useCallback((e => {
const {targetPlayerId: t, ownPlayerId: n} = c(e), i = Fh((() => r.UnmutePlayer({
entityId: {
playerId: {
id: n
}
},
targetEntityId: {
playerId: {
id: t
}
}
})), rF);
return i.then((t => {
Uh(t, {
onSuccess: () => m(e),
onError: () => f(t, e)
});
})), i;
}), [ c, r, f, m ]), I = Ys((({get: e}) => (t, n) => {
if (!rI(t)) return void f({
loading: !1,
skipped: !1,
error: new Error("Invalid player, not an EA account")
});
const {targetPlayerId: r, isSelf: i} = c(t), a = As((() => e(qM).get().data));
if (i && r) l(r).then((e => {
e?.error ? f(e) : m(t);
})); else if (r && g && a) {
const e = As((() => a.get(r)));
e && (a.delete(r), g(t).then((t => {
t.error && a.set(r, e);
})));
}
n && dO(o, {
...n,
option: "unmute"
});
}), [ c, f, m, l, g, o ]);
return H.useMemo((() => ({
mute: h,
muteQuery: y,
unmute: I,
unmuteQuery: g
})), [ y, h, g, I ]);
}
var [aF, oF] = Es("MutePlayerControlsContext"), sF = ({children: e}) => {
const t = iF();
return H.createElement(aF.Provider, {
value: t
}, e);
}, lF = [ $p({
radius: sd.BorderRadius.medium
}), Oc({
color: sd.BackgroundColor.base,
padding: vc(sd.DimensionSpace.largest)
}) ], cF = ({children: e, style: t}) => H.createElement("surface", {
style: [ lF, t ]
}, e), dF = Oc({
marginBottom: vc(sd.DimensionSpace.smaller)
}), uF = ({headline: e, body: t}) => H.createElement(cF, null, H.createElement(Dw, {
text: e,
color: sd.TextColorStandard.emphasized,
style: dF
}), H.createElement(Gk, {
text: t,
color: sd.TextColorStandard.emphasized
}));
function pF() {
const [e, t] = H.useState((() => !1));
return {
isHovered: e,
hoverHooks: H.useMemo((() => ({
onMouseEnter: () => {
t(!0);
},
onMouseLeave: () => {
t(!1);
}
})), [])
};
}
var fF = vc(sd.DimensionSpace.smaller), mF = vc(200), yF = vc(sd.DimensionSpace.smallest), hF = Oc({
width: fF,
position: "absolute",
top: 0,
right: 0,
bottom: 0,
backgroundColor: "#00000001"
}), gF = Oc({
width: fF,
borderRadius: vc(sd.BorderRadius.smallest)
}), IF = sd.ColorNeutral._400, vF = sd.ColorNeutral._300;
function bF(e, t, n, r, i) {
return e / (n - t) * (i - r);
}
function _F(e, t, n) {
const r = Gu(), i = tl(), [a, o] = H.useState(!1), s = H.useRef({
isCapturing: !1
}).current, l = H.useRef(), c = H.useRef();
H.useEffect((() => () => {
s.isCapturing && (s.isCapturing = !1, r.inputHandler.stopCapture());
}), [ r, s ]);
const d = H.useMemo((() => {
const a = r => {
const i = l.current, a = c.current;
i && n && a && n(bF(r - i.bounds.absY, a.bounds.absHeight, i.bounds.absHeight, e, t));
};
return {
onScrollbarMouseDown: e => {
const t = c.current, n = t?.bounds, l = e.surfaces.find((e => e.surfaceId === t?.surfaceId));
if (!n || !l) return;
i.setMouseMode(!0);
const d = l.y + n.y - n.absY, u = lf(i);
o(!0), s.isCapturing = !0, r.inputHandler.captureMouse(((e, t) => {
a(t - d);
}), (() => {
u(), o(!1), s.isCapturing = !1;
})), e.stopPropagation();
},
onScrollbarContainerMouseDown: e => {
i.setMouseMode(!0);
const t = l.current, n = c.current?.bounds, r = t?.bounds, o = e.surfaces.find((e => e.surfaceId === t?.surfaceId));
if (!o || !r || !n) return;
const s = o.y + r.y;
a(s - n.absHeight / 2);
},
onScrollbarContainerBounds: (e, t) => {
l.current = {
bounds: e,
surfaceId: t
};
},
onScrollbarBounds: (e, t) => {
c.current = {
bounds: e,
surfaceId: t
};
}
};
}), [ r, i, e, t, n, s ]);
return {
...d,
isScrolling: a
};
}
var PF = ({scrollPercent: e, containerHeight: t, contentHeight: n, visible: r = !0, setContentScrollPosition: i}) => {
const a = Math.max(Math.floor(t / n * t), mF) + 2 * yF, o = Math.max(Math.min(e, 1), 0), s = Math.floor(o * (t - a)), l = Dc((() => ({
height: a - 2 * yF,
translateY: s + yF
})), [ a, s ]), {onScrollbarMouseDown: c, onScrollbarContainerMouseDown: d, onScrollbarContainerBounds: u, onScrollbarBounds: p, isScrolling: f} = _F(t, n, i), m = TN(f || r ? 1 : 0);
H.useEffect((() => {
m.to(f || r ? 1 : 0, {
duration: sd.AnimationTime.fast
});
}), [ m, r, f ]);
const {isHovered: y, hoverHooks: h} = pF();
return n <= t || a >= t ? null : H.createElement("surface", {
style: hF,
onBounds: u,
onMouseDown: d
}, H.createElement("surface", {
style: [ gF, l, m.propStyle("opacity"), Bc("backgroundColor", f || y ? vF : IF) ],
onBounds: p,
onMouseDown: c,
...h
}));
}, SF = vc(1084), TF = SF - fF - 2 * bD, EF = Oc({
width: TF
}), kF = Oc({
marginBottom: vc(sd.DimensionSpace.small),
width: SF
}), NF = ({children: e, noScrollbar: t}) => H.createElement("surface", {
style: [ kF, t ? EF : void 0 ]
}, e), CF = Oc({
flexDirection: "row"
}), OF = ({children: e, justifyContent: t = "space-between"}) => H.createElement("surface", {
style: [ CF, Bc("justifyContent", t) ]
}, e), AF = Oc({
width: vc(570)
}), wF = ({children: e}) => H.createElement("surface", {
style: AF
}, e), LF = $f.InputBindings.Action, RF = Oc({
width: tp.width,
height: tp.height
}), xF = Oc({
height: vc(314),
marginTop: vc(sd.DimensionLayout.smallest)
}), BF = Oc({
textEllipsis: !0,
marginBottom: vc(sd.DimensionSpace.large)
}), DF = Oc({
width: TF
}), MF = Oc({
width: TF
}), FF = ({title: e, body: t, actions: n, closeAction: r, closeLabel: i, buttonNarrationItem: a}) => {
const {closeModal: o} = dk(), [s, l] = H.useState();
iL({
title: e,
body: t,
overlayTitleNarrationItem: lL
}), AB({
callback: r || o,
label: i,
action: LF.Decline
});
const c = l, d = H.useCallback((e => {
l((t => t?.id === e.id ? void 0 : t));
}), [ l ]);
return H.createElement("surface", {
style: RF
}, H.createElement("surface", {
style: xF
}, H.createElement(Fw, {
text: e,
color: sd.TextColorStandard.emphasized,
style: BF
}), !!t && H.createElement(Gk, {
text: t,
color: sd.TextColorStandard.default,
style: DF
})), H.createElement(OF, null, H.createElement(NF, {
noScrollbar: !0
}, H.createElement(nL, {
actions: n,
onFocus: c,
onBlur: d,
alignStart: !0,
buttonStyle: MF,
buttonNarrationItem: a
})), H.createElement(wF, null, s?.title && s?.description ? H.createElement(uF, {
headline: s.title,
body: s.description
}) : void 0)));
};
function UF(e) {
const {data: t} = cE(), {eaPlayerId: n} = tI(e), {data: r} = KM(e), {data: i} = YM(e);
if (!rI(e)) return !1;
const a = t === n, o = r?.status === $f.Voip.VoipStatus.SelfMuted;
return a ? o : !!i;
}
function HF(e, t) {
const {data: n} = oE(), {mute: r, unmute: i} = oF(), a = UF(e);
return H.useMemo((() => {
if ((By.isPartyEnabled || n?.photonPlayerId !== e) && rI(e)) return {
id: "mute_ea_friend",
text: cm(a ? "PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_UNMUTE" : "PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_MUTE"),
action: () => {
a ? i(e, t) : r(e, t);
}
};
}), [ n?.photonPlayerId, e, a, i, t, r ]);
}
var VF = class {
constructor(e, t, n, r) {
this.photon = e, this.config = t, this.pinClient = n, this.onDone = r, this.current = {
state: 0
}, this.categoryPath = [], this.sendReport = e => {
const t = this.currentCategory;
if (t && 2 === this.current.state) {
this.current = {
state: 3
};
const n = this.getCurrentCategoryChain();
this.photon.Moderation.reportPlayer({
categoryId: t.categoryId,
targetPlayerId: this.config.targetPlayerId,
targetPlayerNetworkId: this.config.targetPlayerNetworkId,
targetPersonaId: this.config.targetPersonaId,
targetPersonaName: this.config.targetPersonaName
}).then((t => {
t?.success ? e(n) : (e(n, t?.errorMessage ?? "Unknown"), this.current = {
state: 4,
errorMessage: t?.errorMessage ?? cm("PHOTON-SOCIAL_NOTIFICATION_GLOBAL_ERROR_ACTION-FAIL")
});
})).catch((() => {
this.current = {
state: 4,
errorMessage: cm("PHOTON-SOCIAL_NOTIFICATION_GLOBAL_ERROR_ACTION-FAIL")
};
}));
} else this.current = {
state: 4,
errorMessage: cm("PHOTON-SOCIAL_NOTIFICATION_GLOBAL_ERROR_ACTION-FAIL")
};
}, this.abortConfirmation = () => {
this.categoryPath.pop(), this.current = {
state: 0
};
}, Nr(this, {
current: ht,
categoryPath: ht,
currentCategory: bt
}), this.photonPlayerId = $g({
eaPlayerId: this.config.targetPlayerId,
playerNetworkId: Sh(this.config.targetPlayerNetworkId)
});
}
getCurrentCategoryChain() {
const e = [];
let t = this.config.categories;
return this.categoryPath.forEach((n => {
const r = t.find((e => e.categoryId === n));
r && (e.push(r), t = r.subCategories);
})), e;
}
get currentCategory() {
const e = this.getCurrentCategoryChain();
return e.length ? e[e.length - 1] : void 0;
}
currentCategories() {
return this.currentCategory?.subCategories ?? this.config.categories;
}
get title() {
return this.currentCategory?.title ?? this.config.title;
}
get description() {
return this.currentCategory?.description ?? cm("PHOTON-SOCIAL_REPORT_INTRO_DESC");
}
get telemetryPageId() {
const e = this.currentCategory;
return e ? `overlay_report_${e.telemetryName}` : "overlay_report";
}
abort() {
this.onDone(!0);
}
complete() {
this.onDone(!1);
}
goBack() {
dO(this.pinClient, {
pg_id: this.telemetryPageId,
msg_id: this.telemetryPageId,
option: "back"
}), 0 === this.current.state ? this.categoryPath.length > 0 ? this.categoryPath.pop() : this.abort() : this.complete();
}
selectCategory(e) {
if (0 !== this.current.state) return;
const t = this.currentCategories();
this.categoryPath.push(e.categoryId), 0 === e.subCategories.length && (this.current = {
state: 2
});
const n = 1 + t.findIndex((t => t.categoryId === e.categoryId));
dO(this.pinClient, {
pg_id: this.telemetryPageId,
msg_id: this.telemetryPageId,
option: "sub_category",
index: {
item_index: n,
total_items: t.length
}
});
}
}, JF = ({reportPlayer: e}) => {
const t = e.current, n = 4 === t.state ? t.errorMessage : void 0, {showErrorNotification: r} = SO();
return H.useEffect((() => {
r({
text: n
}, "report player error modal", new Error(n)), e.complete();
}), [ r, e, n ]), null;
}, zF = Ii.observer((({reportPlayer: e}) => {
const t = Rs(), n = WT(), r = dv("main"), i = e.photonPlayerId, {name: a, playerNetworkId: o} = DO(i);
if (2 !== e.current.state) return null;
const s = e.telemetryPageId, l = H.useCallback((() => {
dO(n, {
pg_id: s,
msg_id: s,
option: "back"
}), e.abortConfirmation();
}), [ n, s, e ]), c = H.useCallback((() => {
dO(n, {
pg_id: s,
msg_id: s,
option: "confirm"
}), e.sendReport(((i, a) => {
const o = i.map((e => ({
id: e.telemetryName,
name: e.title
})));
FM(t, n, r.history.location, e.photonPlayerId, "report", e.config.targetPlayerId, o, a), 
t.get(hh).addEvent({
eventType: "photon_player_grievance",
action: "report",
source: rO(r.history.location),
error: !!a,
error_code: a
});
}));
}), [ n, s, e, t, r ]);
return H.createElement(sL, {
title: cm("PHOTON-SOCIAL_REPORT_INTRO_TITLE", {
"%primaryID%": Zk({
name: a,
playerNetworkId: o
}, {
allowEllipsis: !0
})
}),
body: cm("PHOTON-SOCIAL_REPORT_OVERLAY_DESC_CONFIRM", {
"%selectedCategory%": e.title
}),
cancelLabel: cm("BUTTON_BACK"),
onConfirm: c,
onCancel: l,
autoClose: !1,
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
});
})), GF = Ii.observer((({reportPlayer: e}) => {
const t = e.photonPlayerId, {name: n, playerNetworkId: r} = DO(t), i = WT(), {showNotification: a} = SO(), o = UF(t), {mute: s} = oF(), {data: l} = hN(t), {block: c} = zM(), d = e.telemetryPageId;
H.useEffect((() => {
a(3, 3, {
icon: Up.CHECK_CIRCLE,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_REPORT_CONFIRM", {
"%primaryID%": Zk({
name: n,
playerNetworkId: r
}, {
allowEllipsis: !0
})
})
});
}), [ n, r, a ]);
const {actions: u, closeAction: p} = H.useMemo((() => {
const n = {
id: "done",
action: uO(i, (() => e.complete()), {
pg_id: d,
msg_id: d,
option: "done"
}),
label: cm("BUTTON_DONE")
}, r = [ n ], a = [];
return !o && s && a.push({
id: "mute_ea_friend",
label: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_MUTE"),
action: uO(i, (() => {
s(t), e.complete();
}), {
pg_id: d,
msg_id: d,
option: "mute"
})
}), l || a.push({
id: "block_ea_friend",
label: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_BLOCK"),
action: uO(i, (() => {
c(t), e.complete();
}), {
pg_id: d,
msg_id: d,
option: "block"
})
}), a.length && r.push({
id: "more_actions",
title: cm("PHOTON-SOCIAL_REPORT_PAGE-CONFIRM_SUBTITLE"),
body: cm("PHOTON-SOCIAL_REPORT_PAGE-CONFIRM_ADDITIONAL_DESC"),
actions: a
}), {
closeAction: n.action,
actions: r
};
}), [ o, s, l, e, d, i, t, c ]);
return H.createElement(oL, {
title: cm("PHOTON-SOCIAL_REPORT_PAGE-CONFIRM_TITLE"),
body: cm("PHOTON-SOCIAL_REPORT_PAGE-CONFIRM_DESC"),
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC,
actions: u,
closeAction: p,
closeLabel: cm("BUTTON_DONE"),
withoutCloseButton: !0,
withoutGlobalCloseInputLabel: !0
});
})), jF = Ii.observer((({reportPlayer: e}) => {
const t = H.useCallback((() => {
e.goBack();
}), [ e ]), n = e.current, r = e.currentCategories(), i = e.telemetryPageId, a = H.useMemo((() => r.map((t => ({
id: t.categoryId,
label: t.title,
title: t.title,
description: t.description,
action: () => e.selectCategory(t)
})))), [ r, e ]);
return uk(i), 4 === n.state ? H.createElement(JF, {
reportPlayer: e
}) : 2 === n.state ? H.createElement(zF, {
reportPlayer: e
}) : 3 === n.state ? H.createElement(GF, {
reportPlayer: e
}) : H.createElement(FF, {
closeAction: t,
closeLabel: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_BACK"),
title: e.title,
body: e.description,
actions: a,
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
});
})), qF = () => {
const e = lm(), {showModal: t, closeModal: n} = dk(), r = Rs(), {showErrorNotification: i} = SO(), a = WT(), o = H.useCallback((async o => {
const {name: s, playerNetworkId: l} = BO(r, o), c = As((() => fw(r, o).data));
if (c && c.eaPlayerId && c.personaId) try {
const r = await e.Moderation.getReportCategories({
targetPlayerId: c.eaPlayerId,
targetPlayerNetworkId: c.playerNetworkId,
targetPersonaId: c.personaId,
targetPersonaName: c.displayName
});
if (!r?.categories || 0 === r.categories.length) return void i(void 0, "open report player modal", new Error("Empty report player categories"));
const o = {
targetPlayerId: c.eaPlayerId,
targetPlayerNetworkId: c.playerNetworkId,
targetPersonaId: c.personaId,
targetPersonaName: c.displayName,
title: cm("PHOTON-SOCIAL_REPORT_INTRO_TITLE", {
"%primaryID%": Zk({
name: s,
playerNetworkId: l
})
}),
categories: r.categories
}, d = new VF(e, o, a, (() => {
n();
}));
return t((() => H.createElement(jF, {
reportPlayer: d
})), {
telemetryId: "overlay_report"
}), () => d.abort();
} catch (e) {
i(void 0, "open report player modal", e);
}
}), [ a, n, r, e, i, t ]);
return {
openReportPlayerModal: o
};
};
function WF(e, t) {
const {isCurrentEaUser: n} = uE(e), {openReportPlayerModal: r} = qF(), i = WT(), a = Rs();
return H.useMemo((() => {
if (rI(e)) return n ? void 0 : {
id: "report_ea_friend",
text: cm("BUTTON_REPORT"),
action: yO(a, i, e, (() => r(e)), t && {
msg_id: t.destination_name,
option: "report",
...t
})
};
}), [ a, n, r, e, i, t ]);
}
function YF({title: e, body: t, actions: n, overlayTitleNarrationItem: r, buttonNarrationItem: i}, a) {
const {showModal: o} = dk();
return H.useCallback((() => {
o((() => H.createElement(oL, {
title: e,
body: t,
actions: n,
overlayTitleNarrationItem: r,
buttonNarrationItem: i,
withoutCloseButton: !0,
withoutGlobalCloseInputLabel: !0
})), {
sequenceId: a
});
}), [ o, a, e, t, n, r, i ]);
}
function KF(e, t) {
const n = Rs(), {closeModal: r} = dk(), i = "block_ea_friend", a = WT(), o = UF(e), {mute: s} = oF(), {openReportPlayerModal: l} = qF(), c = H.useMemo((() => {
const t = [];
return !o && s && t.push({
id: "mute",
action: () => {
s(e), r();
},
label: cm("BUTTON_MUTE")
}), t.push({
id: "report",
action: () => {
l(e), r();
},
label: cm("BUTTON_REPORT")
}), [ {
id: "close",
action: () => {
r();
},
label: cm("BUTTON_DONE")
}, {
id: "additionalSteps",
title: cm("PHOTON-SOCIAL_BLOCK_CONFIRM_SUBTITLE"),
body: cm("PHOTON-SOCIAL_BLOCK_CONFIRM_DESC"),
actions: t
} ];
}), [ o, s, r, l, e ]), d = YF({
title: cm("PHOTON-SOCIAL_BLOCK_CONFIRM_TITLE"),
actions: c,
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
}, i), {block: u, unblock: p} = zM(), {data: f} = hN(e), {isCurrentEaUser: m} = uE(e);
return H.useMemo((() => {
if (rI(e) && !m) {
const r = () => {
f ? p(e) : u(e, {
onSuccess: d,
modalSequenceId: i,
autoClose: !1
});
};
return {
id: "block_ea_friend",
text: cm(f ? "PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_UNBLOCK" : "PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_BLOCK"),
action: yO(n, a, e, r, t && {
msg_id: t.destination_name,
...t,
option: f ? "unblock" : "block"
})
};
}
}), [ d, m, f, a, t, p, e, u, n ]);
}
var XF = Ss({
debugName: "eaFriendActionsState",
get: e => ({get: t}) => {
const {isCurrentEaUser: n} = pE(t, e);
if (n) return [];
const r = e ? tI(e).eaPlayerId : void 0;
if (!r || !e) return [];
const {data: i} = t(VI).get(e), {data: a} = t(mN).get(), {data: o} = t(zC).get();
if (!i || !o || !a || a.has(r)) return [];
if (o.has(e)) return [ "remove_ea_friend" ];
const {data: s} = t(EC).get();
if (s?.get(r)) return [ "cancel_ea_friend_request" ];
const {data: l} = t(SC).get();
return l?.get(r) ? [ "accept_ea_friend_request", "decline_ea_friend_request" ] : [ "add_ea_friend" ];
}
}), QF = (e, t) => {
const n = Wx(e, t), r = Zx(e, t), i = ww(e, t), a = Lw(e, t), o = Rw(e, t), s = Us(XF, e);
return H.useMemo((() => s.map((e => "add_ea_friend" === e && n ? {
id: "add_ea_friend",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_FRIEND-ADD"),
action: n.performAction
} : "remove_ea_friend" === e && r ? {
id: "remove_ea_friend",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_FRIEND-REMOVE"),
action: r
} : "accept_ea_friend_request" === e && i ? {
id: "accept_ea_friend_request",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_FRIEND-ACCEPT"),
action: i
} : "cancel_ea_friend_request" === e && o ? {
id: "cancel_ea_friend_request",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_FRIEND-RESCIND"),
action: o
} : "decline_ea_friend_request" === e && a ? {
id: "decline_ea_friend_request",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-EA_FRIEND-DECLINE"),
action: a
} : void 0))), [ s, n, r, i, o, a ]);
};
function $F(e, t, n, r, i, a) {
return uO(t, (() => {
a.DeepLink.invokePlayerAction({
playerId: n.eaPlayerId,
playerNetworkId: n.playerNetworkId,
personaId: n.personaId,
playerActionId: e.playerActionId
}), i.close();
}), r && {
...r,
option: "game_action",
context: {
game_action: e.telemetryName
}
});
}
function ZF(e, t, n, r, i, a, o) {
return uO(t, ZL({
action: e,
DeepLink: i.DeepLink,
notifications: a,
modals: o,
player: n,
showLoading: !1
}), r && {
...r,
option: "game_action",
context: {
game_action: e.telemetryName
}
});
}
var eU = (e, t) => {
const n = lm(), r = ew(), i = WT(), a = dk(), o = SO(), {data: s} = yw(e);
return H.useMemo((() => {
const {eaPlayerId: e, playerNetworkId: l, personaId: c} = s ?? {};
if (!(e && l && c && n.isMethodAvailable("PhotonJsBindings.DeepLink.getPlayerActions"))) return [];
const d = n.DeepLink.getPlayerActions({
playerId: e,
playerNetworkId: l,
personaId: c
});
if (!d) return [];
const u = n.isMethodAvailable("PhotonJsBindings.DeepLink.invokePlayerActionAsync");
return d.actions.map((s => ({
id: `game_${s.playerActionId}`,
text: s.localizedName,
icon: u ? void 0 : Up.OPEN_EXTERNAL,
action: u ? ZF(s, i, {
eaPlayerId: e,
playerNetworkId: l,
personaId: c
}, t, n, o, a) : $F(s, i, {
eaPlayerId: e,
playerNetworkId: l,
personaId: c
}, t, r, n)
})));
}), [ s, n, i, t, r, o, a ]);
}, tU = Bh.object({}), nU = {
setPartyLeader: "overlay_promote_player",
kickPartyMember: "overlay_kick_player"
}, rU = (e, t) => ({
pg_id: nU[e],
msg_id: nU[e],
option: t
}), iU = ({method: e, getSuccessMessage: t, icon: n, getConfirmTitle: r, getConfirmBody: i, getErrorMessage: a, telemetryId: o}) => function(s) {
const l = Rs(), {Party: c} = lm(), {showNotification: d, showErrorNotification: u} = SO(), p = tI(s), f = DO(s), {data: m} = oE(), {data: y} = gL(), {showModal: h} = dk(), g = WT(), I = p.eaPlayerId || "", v = p.playerNetworkId, b = y?.partyLeader, _ = m?.tokenInfo.userId, P = m?.personaInfo.playerNetworkId, S = H.useCallback((t => {
const {data: n} = TL(l);
_R(l, g, e, s, n, t);
}), [ l, s, g ]), T = H.useCallback((() => {
d(3, 3, {
icon: n,
text: t(Zk(f, {
allowEllipsis: !0
}))
}), S();
}), [ f, S, d ]), E = H.useCallback((t => {
u(a && {
text: a(Zk(f, {
allowEllipsis: !0
}))
}, "party leader " + e, t.error), S(t.error);
}), [ f, S, u ]), k = Yh((() => c[e]({
playerId: I,
playerNetworkId: v
})), [ c, I, v ], tU, {
queryIsReady: !!I,
onSuccess: T,
onError: E
});
return H.useCallback((() => {
const t = uO(g, k, rU(e, "confirm")), n = () => dO(g, rU(e, "cancel"));
if (!HO(b, _, P) || !t) return void u({}, "party leader" + e, new Error("not party leader"));
const a = Zk(f, {
allowEllipsis: !0
});
h((() => H.createElement(sL, {
title: r(a),
body: i(a),
onConfirm: t,
onCancel: n,
showLoadingOnConfirm: !0,
autoClose: !0,
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
})), {
telemetryId: o
});
}), [ b, _, P, f, k, g, h, u ]);
}, aU = iU({
method: "kickPartyMember",
getSuccessMessage: e => cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_PARTY_REMOVE", {
"%primaryID%": e
}),
icon: Up.REMOVE,
getConfirmTitle: e => cm("PHOTON-SOCIAL_PARTY_OVERLAY_TITLE_KICK", {
"%primaryID%": e
}),
getConfirmBody: () => cm("PHOTON-SOCIAL_PARTY_OVERLAY_DESC_KICK"),
getErrorMessage: () => cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_KICK-PLAYER-FAIL"),
telemetryId: "overlay_kick_player"
}), oU = iU({
method: "setPartyLeader",
getSuccessMessage: e => cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_PARTY_PROMOTE", {
"%primaryID%": e
}),
icon: Up.PARTY_LEADER,
getConfirmTitle: e => cm("PHOTON-SOCIAL_PARTY_OVERLAY_TITLE_PROMOTE", {
"%primaryID%": e
}),
getConfirmBody: e => cm("PHOTON-SOCIAL_PARTY_OVERLAY_DESC_PROMOTE", {
"%primaryID%": e
}),
getErrorMessage: () => cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_PROMOTE-PLAYER-FAIL"),
telemetryId: "overlay_promote_player"
}), sU = Ss({
debugName: "playerCanJoinMyLobbyState",
get: e => ({get: t, getItem: n}) => {
if (!rI(e)) return {
loading: !1,
data: {
invitable: !1,
incompatible: !1
},
error: new Error("INVALID_USER")
};
const r = t(xk).get(), i = t(mA).get(), a = t(VI).get(e), o = t(sE), s = o.data?.personaInfo.playerNetworkId, l = Cg([ r, a, o ]), c = i.data;
if (l.loading || l.uninitialized || !s) return l;
const d = r.data;
if (!d) return {
loading: !1,
data: {
invitable: !1,
incompatible: !1
},
error: new Error("NO_LOBBY")
};
if (!a.data) return {
loading: !1,
data: {
invitable: !1,
incompatible: !1
},
error: new Error("NO_PLAYER_INFO")
};
if (!d.invitable) return {
data: {
invitable: !1,
incompatible: !1
},
loading: !1,
error: new Error("LOBBY_UNINVITABLE")
};
const u = !!d.members.get(e);
if (!(d.members.size < d.maxSize)) return {
data: {
invitable: !1,
incompatible: !1
},
loading: !1,
error: new Error("LOBBY_FULL")
};
if (u) return {
data: {
invitable: !1,
incompatible: !1
},
loading: !1,
error: new Error("USER_IN_LOBBY")
};
if (c) {
if (!c.invitable) return {
data: {
invitable: !1,
incompatible: !1
},
loading: !1,
error: new Error("PARTY_NOT_INVITABLE")
};
if (c.members.size >= c.maxSize) return {
data: {
invitable: !1,
incompatible: !1
},
loading: !1,
error: new Error("PARTY_FULL")
};
}
const p = t(VA).get(e)?.uninvitable;
return _k(n(bA, e)) ? {
data: {
invitable: !1,
incompatible: !0
},
loading: !1,
error: new Error("CROSSPLAY_PREVENTED")
} : p ? {
data: {
invitable: !1,
incompatible: !0
},
loading: !1,
error: new Error("INVITE_PREVENTED")
} : {
data: {
invitable: !0,
incompatible: !1
},
loading: !1,
error: void 0
};
}
});
function lU(e) {
return Us(sU, e);
}
function cU(e) {
const t = aI(e), n = PL(t), r = lU(t), i = n.data?.incompatible || r.data?.incompatible, a = !!n.data?.invitable, o = !!r.data?.invitable, s = ox(a, o), l = Cg([ r, n ]);
return {
...l,
data: l.hasData ? {
canInvite: !!o || !!a,
isMyPartyJoinable: !!a,
isMyLobbyJoinable: !!o,
isIncompatible: !!i,
gameInviteTypes: s
} : void 0
};
}
var dU = e => {
const {data: t} = cx(e), n = By.isPartyEnabled && t?.gameJoinTokenTypes.includes("party"), r = t?.gameJoinTokenTypes.includes("lobby"), i = t && t.senderProductId === By.productId, a = t && !ZR(t).expired, {acceptInvite: o} = bx(e), {joinable: s, crossplayPrevented: l, joinParty: c} = xR(e), {joinable: d, crossplayPrevented: u, joinLobby: p} = FR(e), f = l || u, m = VR(e), y = !f && (i && a || s || d), h = H.useCallback((async () => {
if (i && a) {
const e = [];
n && e.push("party"), r && e.push("lobby"), await o(e);
} else s && d && c && p ? await m() : s && c ? await c() : d && p && await p();
}), [ o, a, i, r, d, n, s, p, c, m ]);
return H.useMemo((() => ({
canJoin: y,
joinAction: h,
gameInvite: t,
isCrossplayPrevented: f,
isGameInviteForSameGame: i,
isPartyGameInvite: n,
isLobbyGameInvite: r,
isPartyJoinable: s,
isLobbyJoinable: d
})), [ y, t, f, i, r, d, n, s, h ]);
};
function uU(e) {
return As((() => {
const t = new Set;
let n = 0;
const r = e.get(KA).data?.[0];
if (r) for (const {photonPlayerId: i} of r) {
const {eaPlayerId: r} = tI(i);
if (!r) continue;
const a = aI(i);
(e.getItem(BR, i).data?.joinable || e.getItem(PR, i).data?.joinable || e.getItem(sU, a).data?.invitable || e.getItem(_L, a).data?.invitable) && (t.add(r), 
n++);
}
return {
frnds_on_act: t.size,
pop_on_act: n
};
}));
}
var pU = (e, t, n, r, i) => () => yO(e, t, n, r, i && {
...i,
context: {
...uU(e),
...i.context
}
})(), fU = (e, t) => {
const n = Rs(), r = WT(), i = aU(e), a = oU(e), {data: o} = oE(), {data: s} = gL(), {data: l} = cU(e), {isActionTaken: c, performAction: d} = Ux(e), u = vL(e), {gameInvite: p, isGameInviteForSameGame: f, isPartyGameInvite: m, isLobbyGameInvite: y, isPartyJoinable: h, isLobbyJoinable: g, joinAction: I, canJoin: v} = dU(e), b = p?.senderProductId ?? By.productId, {declineInvite: _} = bx(e, t), {isLeaveable: P, leaveParty: S} = NR(), {isCurrentPhotonUser: T} = uE(e);
return H.useMemo((() => {
const E = [];
if (!o) return [];
if (T) P && S && E.push({
id: "party_leave",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_PARTY_LEAVE"),
action: uO(r, S, {
pg_id: "overlay_player_actions_self",
msg_id: "overlay_player_actions_self",
option: "leave_party"
})
}); else {
if (p) {
f && v && (m ? E.push({
id: "party_join",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_PARTY_JOIN"),
action: pU(n, r, e, I, t && {
...t,
option: "join_party_invite",
context: {
tpid: b
}
})
}) : y && !m && E.push({
id: "lobby_join",
text: cm("PHOTON-SOCIAL_PARTY_LIST_ACTIONS_LOBBY-JOIN"),
action: pU(n, r, e, I, t && {
...t,
option: "join_lobby_invite",
context: {
tpid: b
}
})
}), m && y && E.push({
id: "combo_join",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-JOIN-COMBO"),
action: pU(n, r, e, I, t && {
...t,
option: "join_combo_invite",
context: {
tpid: b
}
})
}));
const {expired: i} = ZR(p);
if (!i) {
let i = "not_set";
m && y ? i = "decline_combo_invite" : m && !y ? i = "decline_party_invite" : !m && y && (i = "decline_lobby_invite"), 
E.push({
id: "invite_decline",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-INVITE-DECLINE"),
action: yO(n, r, e, _, t && {
...t,
option: i,
context: {
tpid: b
}
})
});
}
} else h && g && v ? E.push({
id: "combo_join",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-JOIN-COMBO"),
action: pU(n, r, e, I, t && {
...t,
option: "join_combo_hot_join",
context: {
tpid: b
}
})
}) : h ? E.push({
id: "party_join",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_PARTY_JOIN"),
action: pU(n, r, e, I, t && {
...t,
option: "join_party_hot_join",
context: {
tpid: b
}
})
}) : g && E.push({
id: "lobby_join",
text: cm("PHOTON-SOCIAL_PARTY_LIST_ACTIONS_LOBBY-JOIN"),
action: pU(n, r, e, I, t && {
...t,
option: "join_lobby_hot_join",
context: {
tpid: b
}
})
});
if (l?.canInvite) {
let i, a, o;
l.isMyLobbyJoinable && l.isMyPartyJoinable ? (a = "combo_invite", i = cm("PHOTON-SOCIAL_PLAYER-ACTIONS_PARTY_INVITE-LOBBY"), 
o = "invite_to_combo") : l.isMyPartyJoinable ? (a = "party_invite", i = cm("PHOTON-SOCIAL_PLAYER-ACTIONS_PARTY_INVITE-PARTY"), 
o = "invite_to_party") : (a = "lobby_invite", i = cm("PHOTON-SOCIAL_PLAYER-ACTIONS_PARTY_INVITE-LOBBY"), 
o = "invite_to_lobby"), E.push({
id: a,
isDisabled: c,
text: i,
disabledContent: H.createElement(JD, {
textColor: sd.TextColorStandard.emphasized,
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_INVITE-SENT")
}),
action: pU(n, r, e, (() => d(l.gameInviteTypes)), t && {
...t,
context: {
tpid: b
},
option: o
})
});
}
s && u && HO(s.partyLeader, o.tokenInfo.userId, o.personaInfo.playerNetworkId) && (s.promotionEnabled && E.push({
id: "party_promote_leader",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_PARTY_PROMOTE"),
action: uO(r, a, t && {
...t,
option: "promote_to_party_leader"
})
}), E.push({
id: "party_kick_player",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_PARTY_REMOVE"),
action: uO(r, i, t && {
...t,
option: "remove_from_party"
})
}));
}
return E;
}), [ b, n, e, o, T, P, S, p, h, g, v, l, s, u, f, m, y, r, I, t, _, c, d, a, i ]);
};
function mU(e, t, n) {
const {data: r} = oE(), i = gw(e, n);
return H.useMemo((() => {
if (!r) return {
data: [],
hasData: !1,
loading: !0,
uninitialized: !1,
error: void 0
};
const n = r.personas.map((e => e.playerNetworkId)), a = i.data.filter((r => {
const i = r.photonPlayerId !== e, a = "EA" === r.playerNetworkId || n.includes(r.playerNetworkId);
return t ? i && a : i;
})).sort((e => "EA" === e.playerNetworkId ? -1 : 1));
return {
...i,
data: a
};
}), [ r, i, e, t ]);
}
var yU = (e, t) => {
const {playerNetworkId: n} = TO(), r = lm(), i = ew(), a = WT(), {showNotification: o} = SO(), {navigate: s} = cv(), l = H.useCallback((() => s(uv.link())), [ s ]), {data: c} = mU(e, !0), {data: d} = yw(e), u = d?.playerNetworkId === n ? d : c.find((e => e.playerNetworkId === n));
return H.useMemo((() => {
const e = [];
if (!u || u.playerNetworkId !== n) return e;
const s = "EA" === u.playerNetworkId ? u.eaPlayerId : u.firstPartyPlayerId;
return s ? (e.push({
id: "platform_view_profile",
text: cm("PHOTON-SOCIAL_PLAYER-ACTIONS_ACTIONS-PLATFORM_VIEW", {
"%localPlatform%": Kx(n)
}),
action: uO(a, (async () => {
try {
if (r.isMethodAvailable("PhotonJsBindings.DeepLink.openFirstPartyProfileAsync")) {
const e = await r.DeepLink.openFirstPartyProfileAsync({
playerId: s
});
e?.errorMessage && o(0, 0, {
text: e.errorMessage,
icon: Up.WARNING,
iconColor: sd.ColorSystem.warning
});
} else r.DeepLink.openFirstPartyProfile({
playerId: s
});
l(), i.close();
} catch (e) {
By.isPC && o(0, 0, {
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_ERROR_VIEW-PROFILE-FAIL"),
icon: Up.WARNING,
iconColor: sd.ColorSystem.warning
});
}
}), t && {
...t,
option: "view_local_platform_profile"
}),
icon: Up.OPEN_EXTERNAL,
keepOverlay: !0
}), e) : e;
}), [ u, n, a, t, r, l, i, o ]);
};
function hU(e, t) {
const {navigate: n} = cv("overlay"), r = aI(e), {isCurrentEaUser: i} = uE(r), a = H.useCallback((() => {
n(i ? DM.link({
photonPlayerId: e
}) : BM.link({
photonPlayerId: e
}));
}), [ i, n, e ]);
return hO(e, a, t && {
option: "see_player_actions",
msg_id: t.destination_name,
...t
});
}
var gU = [ "party_join", "lobby_join", "combo_join", "party_invite", "lobby_invite", "combo_invite", "add_ea_friend", "accept_ea_friend_request" ], IU = (e, t, n) => {
const r = [];
return e.forEach((e => {
if (e) {
if (n && gU.includes(e.id)) return;
r.push({
...e,
action: () => {
e.action(), e.keepOverlay || t();
}
});
}
})), r;
}, vU = {
pg_id: "overlay_player_actions_other",
msg_id: "overlay_player_actions_other"
}, bU = (e, t) => {
const n = aI(e), {isCurrentEaUser: r} = uE(n), i = !!hN(n).data, a = fU(n, vU), o = QF(n, vU), s = yU(n, vU), l = eU(n, vU), c = HF(n, H.useMemo((() => {
const e = r ? "overlay_player_actions_self" : "overlay_player_actions_other";
return {
pg_id: e,
msg_id: e
};
}), [ r ])), d = KF(n, vU), u = WF(n, vU);
return H.useMemo((() => {
const e = [];
return a && e.push({
id: By.isPartyEnabled ? "party_actions" : "lobby_actions",
actions: IU(a, t, i)
}), e.push({
id: "ea_actions",
actions: IU([ c, ...o, d, u ], t, i)
}), s && e.push({
id: "platform_actions",
actions: IU(s, t, i)
}), e.push({
id: "game_actions",
actions: IU(l, t, i)
}), e;
}), [ a, d, c, o, u, t, i, s, l ]);
}, _U = ({children: e, navigate: t}) => {
const n = gu(), r = H.useCallback(((e, r) => {
const i = t(e, r);
return i !== bu ? i : n(e, r);
}), [ t, n ]);
return H.createElement(hu.Provider, {
value: r
}, e);
}, PU = Oc({
position: "relative",
layer: !0,
layerClip: !0
});
function SU({rows: e, height: t, width: n, scrollPosition: r, style: i, prefetchRows: a}) {
const o = e[e.length - 1]?.bottom ?? 0, s = Math.max(0, Math.min(o - t, r)), l = Dc((() => ({
height: t,
width: n
})), [ t, n ]), c = s, d = c + t, u = [], p = [], f = [];
let m;
for (let t = 0; t < e.length; t++) {
const n = e[t];
if (n.bottom > c && n.top < d) 0 === u.length && t > 0 && p.push(e[t - 1]), u.push(n); else if (u.length > 0) {
f.push(e[t]), a && (m = e.slice(t + 1, t + 1 + a));
break;
}
}
const y = [ ...p, ...u, ...f ];
return H.useEffect((() => {
a && m && (y.forEach((e => e.prefetch?.())), m.forEach((e => e.prefetch?.())));
})), H.createElement("surface", {
style: [ PU, l, i ]
}, y.map((e => e.render(e.top - s))));
}
var TU = Oc({
layer: !0,
layerClip: !0
}), EU = (e, t, n = vc(64)) => {
const r = e ? Bc("layerSoftClipTop", n) : void 0, i = t ? Bc("layerSoftClipBottom", n) : void 0;
return [ TU, r, i ];
}, kU = ({fadeTop: e, fadeBottom: t, fadeHeight: n = vc(64), style: r, children: i}) => {
const a = EU(e, t, n);
return H.createElement("surface", {
style: [ a, r ]
}, i);
}, NU = class {
constructor() {
this.height = 0, this.rows = [];
}
addRow(e, t, n) {
n?.top && this.addSpace(n.top), this.rows.push({
...t,
top: this.height,
bottom: this.addSpace(e)
}), n?.bottom && this.addSpace(n.bottom);
}
addSpace(e) {
return this.height += e, this.height;
}
}, CU = Ii.observer((e => {
const {onMouseScroll: t, height: n, contentHeight: r, scrollPosition: i, children: a, style: o} = e, s = cf(), l = df(s), {isHovered: c, hoverHooks: d} = pF(), u = Math.max(0, r - n), p = r > n;
return H.createElement(uf, {
id: s
}, H.createElement("surface", {
onMouseScroll: t,
...d,
style: [ Bc("backgroundColor", "#00000001"), o ]
}, a, p && H.createElement(PF, {
setContentScrollPosition: e.setContentScrollPosition,
visible: l || c,
scrollPercent: u > 0 ? i / u : 0,
containerHeight: n,
contentHeight: r
})));
}));
function OU({rows: e, height: t, width: n, style: r, prefetchRows: i}) {
const [a, o] = H.useState(0), s = H.useRef(a), l = e.findIndex((e => e.focused)), c = e[l - 1]?.top, d = e[l]?.top, u = Hs(sl), p = e[l]?.focusId;
H.useLayoutEffect((() => {
d && (o(c ?? d), p && u({
focusId: p,
source: 2
}));
}), [ d, p, c, u ]), H.useEffect((() => {
s.current = a;
}), [ a ]);
const f = e[e.length - 1]?.bottom ?? 0, m = Math.max(0, f - t);
H.useEffect((() => {
o((e => Math.min(m, e)));
}), [ m ]);
const y = H.useCallback((n => {
const r = s.current, i = e[n];
if (!i) return;
if (0 === n) return void o(0);
const a = e[n - 1], l = e[n + 1], c = (l ? l.bottom : i.bottom) - t, d = a ? a.top : i.top;
c > r ? o(c) : d < r && o(d);
}), [ e, o, t ]), h = H.useCallback(((t, n) => {
if (3 === n || 2 === n) {
const r = e.findIndex((e => e.focusId === t));
if (-1 !== r) {
const t = r + (3 === n ? 1 : -1), i = e[t];
if (i) return y(t), i.focusId;
}
}
return bu;
}), [ e, y ]), g = n - fF, I = a > 0, v = m > a;
return H.createElement(_U, {
navigate: h
}, H.createElement(CU, {
setContentScrollPosition: o,
onMouseScroll: e => {
const t = e.scrollDelta * vc(sd.ScrollFactor.fast);
o((e => Math.min(m, Math.max(0, e - t))));
},
height: t,
contentHeight: f,
scrollPosition: a,
style: Bc("width", n)
}, H.createElement(SU, {
height: t,
rows: e,
width: g,
scrollPosition: a,
prefetchRows: i,
style: [ EU(I, v), r ]
})));
}
var AU = ({headline: e = cm("PHOTON-SOCIAL_PAGE-ERROR_TITLE_GENERIC"), body: t = cm("PHOTON-SOCIAL_PAGE-ERROR_DESC_GENERIC"), buttonLabel: n = cm("PHOTON-SOCIAL_PAGE-ERROR_BUTTON_GENERIC"), buttonAction: r}) => H.createElement(CM, {
headline: e,
body: t
}, r && H.createElement(Op, {
variant: 0,
id: "error-content-button",
label: n,
onClick: r,
narrationItem: IC
})), wU = {
duration: sd.AnimationTime.rapid,
easing: sd.AnimationEasing.ease
}, LU = ({children: e, style: t}) => {
const n = TN(1), [r, i] = H.useState(void 0), a = H.Children.toArray(e);
let o;
return a.forEach(((e, t) => {
if (void 0 !== o || !H.isValidElement(e)) return;
e.props.visible && (o = t);
})), H.useEffect((() => {
if (void 0 === r) return i(o), void n.set(1);
r !== o && n.to(0, {
...wU,
onFinished: () => {
i(o), n.to(1, wU);
}
});
}), [ r, n, o ]), void 0 !== r ? H.createElement("surface", {
style: [ n.propStyle("opacity"), t ]
}, a[r]) : null;
}, RU = ({children: e}) => H.createElement(H.Fragment, null, e), xU = nD, BU = SF, [DU, MU] = Es("PlayerDetailsPage"), FU = Is({
debugName: "selectedItemState",
default: void 0
}), UU = e => H.createElement(OU, {
...e,
height: e.height ?? xU,
width: BU,
style: Bc("margin", -bD)
}), HU = Ii.observer((({fallbackContent: e}) => {
const t = Fs(FU);
let n;
if (t) {
const {photonPlayerId: e, PlayerDetailsComponent: r, telemetryInfo: i} = t;
n = H.createElement(r, {
photonPlayerId: e,
telemetryInfo: i
});
} else n = e;
return H.createElement(wF, null, n);
})), VU = ({children: e, contentHasNoScrollbar: t, fallbackContent: n}) => {
const r = Hs(FU), i = H.useMemo((() => ({
setSelectedItem: r
})), [ r ]);
return H.createElement(DU.Provider, {
value: i
}, H.createElement(OF, null, H.createElement(NF, {
noScrollbar: t
}, e), H.createElement(HU, {
fallbackContent: n
})));
}, JU = Ii.observer((({loading: e, error: t, empty: n, emptyContent: r, rows: i, prefetchRows: a, beforeContent: o, scrollHeight: s}) => t ? H.createElement(AU, null) : H.createElement(LU, {
style: Bc("flex", 1)
}, H.createElement(RU, {
visible: e
}, H.createElement(NF, {
noScrollbar: !0
}, H.createElement(qD, {
numSections: 2,
numRows: 1
}))), r ? H.createElement(RU, {
visible: n
}, r) : null, H.createElement(RU, {
visible: !n
}, H.createElement(VU, null, o, H.createElement(UU, {
height: s,
rows: i,
prefetchRows: a
})))))), zU = {
container: Oc({
marginBottom: vc(sd.DimensionSpace.larger)
}),
header: Oc({
flexDirection: "row",
alignItems: "center"
}),
title: Oc({
marginBottom: vc(sd.DimensionSpace.smallest)
}),
iconStyle: Oc({
width: vc(sd.DimensionSpace.largest),
height: vc(sd.DimensionSpace.larger),
marginEnd: vc(sd.DimensionSpace.medium)
})
}, GU = ({sectionTitle: e, icon: t, style: n, textColor: r, children: i}) => H.createElement("surface", {
style: [ zU.container, n ]
}, H.createElement("surface", {
style: zU.header
}, t && H.createElement("surface", {
style: [ zU.iconStyle, Bc("color", t.color), Bc("texture", t.type) ]
}), H.createElement(Gk, {
text: e,
color: r ?? sd.TextColorStandard.default,
style: zU.title
})), i), jU = (e, t, n) => {
if (1 !== e) {
if (32 == (32 & e)) return cm("PHOTON-SOCIAL_PLAYER-DETAIL_INCOMPATIBLE-PLAYER-CROSS-GEN_DESC");
if (t ? hk(e) : yk(e)) return cm("PHOTON-SOCIAL_PLAYER-DETAIL_INCOMPATIBLE-PLAYER-GAME_DESC");
if (gk(e)) return cm("PHOTON-SOCIAL_PLAYER-DETAIL_INCOMPATIBLE-PLAYER-SELF_DESC");
if (Ik(e)) return cm("PHOTON-SOCIAL_PLAYER-DETAIL_INCOMPATIBLE-PLAYER-OTHER_DESC");
}
if (n && n.uninvitable) return n.reason ?? cm("PHOTON-SOCIAL_PLAYER-DETAIL_INCOMPATIBLE-PLAYER-GENERIC_DESC");
}, qU = Ii.observer((({isReceivedGameInvite: e, photonPlayerId: t, style: n, bodyTextStyle: r}) => {
const i = _A(t), a = JA(t), o = jU(i, e, a);
return o ? H.createElement(GU, {
sectionTitle: cm("PHOTON-SOCIAL_PLAYER-DETAIL_INCOMPATIBLE-PLAYER_TITLE"),
icon: {
type: Up.INCOMPATIBLE_WHITE
},
style: n,
textColor: sd.TextColorStandard.emphasized
}, H.createElement(Gk, {
style: r,
text: o,
color: sd.TextColorStandard.default
})) : null;
}));
function WU(e) {
const {data: t} = cU(e), n = dU(e), r = n.isCrossplayPrevented || t?.isIncompatible;
return !(n.canJoin || t?.canInvite || !r);
}
var YU = $f.PresenceSession.InputType, KU = fs.Input.DeviceType, XU = (Bh.object({
presenceSessionId: Bh.optional(Bh.nullable(Bh.string)),
presenceSessionToken: Bh.optional(Bh.nullable(Bh.object({
token: Bh.optional(Bh.anyObject)
})))
}), Bh.object({})), QU = Bh.object({
playerNetworkId: Bh.optional(zg),
productId: Bh.optional(Bh.nullable(Bh.object({
id: Bh.nullable(Bh.string)
}))),
devicePlatformId: Bh.optional(Gg),
locale: Bh.optional(Bh.string)
}), $U = Bh.object({
integerValue: Bh.number
}), ZU = Bh.custom((e => "number" == typeof e && e in YU && e !== YU.INPUT_TYPE_UNSPECIFIED)), eH = Bh.object({
presenceSessionId: Bh.string,
online: Bh.boolean,
joinable: Bh.optional(Bh.boolean),
updateTimestamp: Bh.nullable(Dg),
client: Bh.optional(QU),
inputTypes: Bh.optional(Bh.nullable(Bh.array(ZU))),
activityDescription: Bh.optional(Bh.string),
activityDetails: Bh.optional(Bh.string),
properties: Bh.optional(Bh.object({}, {
photon_maxPartySize: $U,
photon_currentPartySize: $U,
photon_partyJoinable: $U,
photon_partyCrossplayEnabled: $U,
photon_maxLobbySize: $U,
photon_currentLobbySize: $U,
photon_lobbyJoinable: $U,
photon_lobbyCrossplayEnabled: $U,
photon_crossplayEnabled: $U
})),
gameJoinTokenTypes: Bh.optional(Bh.array(Bh.string)),
updated: Bh.boolean
}), tH = Bh.object({
playerId: Hg,
playerOnline: Bh.optional(Bh.nullable(Bh.boolean)),
lastSeenOnline: Bh.optional(Bh.nullable(Dg)),
sessionNotification: eH
}), nH = Bh.object({
presenceNotification: tH
}), rH = Bh.object({}), iH = Bh.object({
stream: Bh.custom(Yg()),
response: rH
});
function aH(e) {
if (e) {
if (e.includes(YU.INPUT_TYPE_MOUSE)) return YU.INPUT_TYPE_MOUSE;
if (e.includes(YU.INPUT_TYPE_KEYBOARD)) return YU.INPUT_TYPE_MOUSE;
if (e.includes(YU.INPUT_TYPE_CONTROLLER)) return YU.INPUT_TYPE_CONTROLLER;
}
}
function oH(e) {
return e === KU.MouseAndKeyboard ? YU.INPUT_TYPE_MOUSE : YU.INPUT_TYPE_CONTROLLER;
}
function sH(e) {
return !(e.locale && By.locale && NC.preTranslatedRichPresence) || Dd(By.locale, e.locale);
}
function lH(e) {
const t = QC().get();
return {
...t.toProps(),
data: nO(t.data, e)
};
}
function cH(e, t) {
return {
addedItems: new Set(Array.from(e).filter((e => !t.has(e)))),
removedItems: new Set(Array.from(t.values()).filter((t => !e.has(t))))
};
}
function dH() {
const e = H.useRef(new Set), t = H.useCallback((t => {
t.forEach((t => {
e.current.add(t);
}));
}), []), n = H.useCallback((t => {
t.forEach((t => {
e.current.delete(t);
}));
}), []);
return H.useCallback(((r, i) => {
const {addedItems: a, removedItems: o} = cH(r, e.current);
(a.size || o.size) && (t(a), n(o), i({
addedItems: a,
removedItems: o
}));
}), [ t, n ]);
}
var uH = $f.PlayerList.PlayerSortOrder, pH = $f.PlayerList.SectionFilter;
function fH(e, t) {
return e && !t ? -1 : t && !e ? 1 : 0;
}
function mH(e, t) {
return e.playerNetworkId === t?.personaInfo.playerNetworkId && e.playerId === t.tokenInfo.userId;
}
var yH = {
[uH.Self]: (e, t, n, r) => fH(mH(e, r), mH(t, r)),
[uH.Online]: (e, t, n, r) => {
const i = nO(n, e.photonPlayerId), a = nO(n, t.photonPlayerId);
return fH(mH(e, r) || !!i?.isOnline, mH(t, r) || !!a?.isOnline);
},
[uH.InCurrentGame]: (e, t, n, r) => {
const i = nO(n, e.photonPlayerId), a = nO(n, t.photonPlayerId);
return fH(mH(e, r) || i?.productId === By.productId, mH(t, r) || a?.productId === By.productId);
},
[uH.LastOnline]: (e, t, n, r, i) => {
const a = i?.get(e.photonPlayerId).data?.lastAuthDate ?? 0;
return (i?.get(t.photonPlayerId).data?.lastAuthDate ?? 0) - a;
},
[uH.Alphabetic]: (e, t, n, r, i) => {
const a = i?.get(e.photonPlayerId).data?.displayName?.toLowerCase() ?? "", o = i?.get(t.photonPlayerId).data?.displayName?.toLowerCase() ?? "";
return a < o ? -1 : a > o ? 1 : 0;
},
[uH.PlayerCustom1]: (e, t) => e.customValue1 - t.customValue1,
[uH.PlayerCustom2]: (e, t) => e.customValue2 - t.customValue2
}, hH = (e, t) => e.index - t.index;
function gH(e, t, n, r) {
return e.personas.slice().sort(((i, a) => {
for (const o of [ ...e.playerSortOrders.map((e => yH[e])), hH ]) {
const e = o(i, a, t, n, r);
if (0 !== e) return e;
}
return 0;
}));
}
function IH(e, t, n) {
n.push(e), t.delete(e);
}
function vH(e, t, n, r) {
const i = [];
return t.sectionFilter === pH.All ? e.forEach((t => {
IH(t, e, i);
})) : t.sectionFilter === pH.Online ? e.forEach((t => {
const a = nO(r, t.photonPlayerId);
(mH(t, n) || a?.isOnline) && IH(t, e, i);
})) : t.sectionFilter === pH.Offline ? e.forEach((t => {
const a = nO(r, t.photonPlayerId);
mH(t, n) || a?.isOnline || IH(t, e, i);
})) : t.sectionFilter === pH.PlayerCustom1 ? e.forEach((t => {
t.customValue1 && IH(t, e, i);
})) : t.sectionFilter === pH.PlayerCustom2 && e.forEach((t => {
t.customValue2 && IH(t, e, i);
})), i;
}
var bH = Is({
debugName: "playerListConfig",
default: void 0
}), [_H] = $s({
debugName: "playerListMap",
create: () => new Cs([], "OptimizedObservableMap<playerListMap>")
}), PH = bs({
debugName: "playerListPersonas",
default: () => ({
uninitialized: !0,
loading: !1
})
}), SH = Ps({
debugName: "playerListsOrder",
get: ({get: e}) => {
const t = Array.from(e(_H).values()).sort(((e, t) => e.index - t.index));
return t.map((e => e.id));
}
}), TH = Is({
debugName: "activePlayerListId",
default: void 0
}), EH = Ss({
debugName: "playerListSectionsFiltered",
get: e => ({get: t, getItem: n}) => {
const r = t(XC).get(), i = t(sE), a = Cg([ r, i ]);
if (!a.hasData) return a;
const o = t(_H).get(e);
if (o) {
const t = n(PH, e);
if (t.data) {
const e = new Set(t.data.values());
return {
loading: !1,
data: o.sections.map((t => {
const n = vH(e, t, i.data, r.data);
return {
...t,
personas: n
};
}))
};
}
return {
...t,
data: void 0
};
}
return {
loading: !1,
error: new Error("No such playerlist (1): " + e)
};
}
}), kH = Ss({
debugName: "playerListSections",
get: e => ({get: t, getItem: n}) => {
const r = n(EH, e), i = r.data;
if (!i) return r;
const a = t(XC).get().data, o = t(sE).data, s = t(VI);
return {
...r,
data: i.map((e => {
const t = gH(e, a, o, s);
return {
...e,
personas: t
};
}))
};
}
}), NH = Ss({
debugName: "playerListState",
get: e => ({get: t, getItem: n}) => {
const r = t(_H).get(e);
if (r) {
const t = n(kH, e), i = t.data;
return i ? {
loading: !1,
data: {
...r,
sections: i
}
} : {
...t,
data: void 0
};
}
return {
loading: !1,
error: new Error("No such playerlist (2): " + e)
};
}
}), CH = bs({
debugName: "playerListSectionExpanded",
default: () => !0
}), OH = [], AH = Ss({
debugName: "playerListSectionsExpandedState",
get: e => ({getItem: t}) => t(NH, e)?.data?.sections.map((e => t(CH, e.id))) ?? OH
}), wH = Ss({
debugName: "playerListSectionRows",
get: e => ({getItem: t}) => {
const n = t(NH, e);
let r;
return n.data && (r = Object.fromEntries(n.data.sections.map(((e, t) => [ t, e.personas.map(((t, n) => ({
photonPlayerId: t.photonPlayerId,
telemetryInfo: {
pg_id: "tab_player_list",
destination_name: e.id,
msg_id: e.id,
index: {
item_index: n + 1,
total_items: e.personas.length
},
context: {
tpid: By.productId
}
}
}))) ])))), {
...n,
data: r
};
}
}), LH = Ps({
debugName: "playerIdsInPlayerLists",
get: ({get: e, getItem: t}) => {
const n = Array.from(e(_H).values()), r = new Set;
return n.forEach((e => {
Array.from(t(PH, e.id).data?.values() ?? []).forEach((e => {
r.add(e.playerId);
}));
})), Array.from(r);
}
}), RH = Ss({
debugName: "personaInPlayerListWithPresenceNotifications",
get: e => ({get: t, getItem: n}) => !!Array.from(t(_H).values()).filter((e => e.showPresenceNotifications)).find((t => n(PH, t.id).data?.has(e)))
});
function xH(e) {
return e.map((e => tI(e).eaPlayerId)).filter(Kh);
}
var BH = Ps({
debugName: "eaFriendEaPlayerIdsState",
get: ({get: e}) => new Set(xH(Array.from(e(zC).get().data?.keys() ?? [])))
}), DH = Ps({
debugName: "extraPresenceEaPlayerIdsState",
get: ({get: e}) => {
const t = e(sE), n = t.data && tI(t.data?.photonPlayerId).eaPlayerId, r = e(zC).get(), i = e(UC).get(), a = e(xk).get(), o = e(mA).get(), s = e(mN).get(), l = [ t, r, i, a, s ];
By.isPartyEnabled && l.push(o);
const c = Cg(l);
if (c.loading || c.uninitialized || c.error || !n) return {
...c,
data: void 0
};
const d = new Set(s.data?.keys()), u = e(BH), p = [ ...xH(Array.from(i.data?.values() ?? []).map((e => e.photonPlayerId))), ...xH(Array.from(a.data?.members.keys() ?? [])), ...xH(Array.from(o.data?.members.keys() ?? [])), ...By.playerListsEnabled ? e(LH) : [] ].filter((e => !d.has(e) && !u.has(e) && e !== n));
return {
...c,
data: new Set(p)
};
}
}), MH = Bh.object({});
function FH(e) {
const t = dH(), n = Ys((({get: e}) => t => !e(BH).has(t)), []), {PresenceSession: r} = lm(), i = H.useCallback((e => Fh((() => r.subscribeToPlayersPresence({
targetPlayerIds: e.map((e => ({
id: e
})))
})), MH)), [ r ]), a = Ys((({get: e}) => async t => {
await Fh((() => r.unsubscribeFromPlayersPresence({
targetPlayerIds: t.map((e => ({
id: e
})))
})), MH), t.forEach((t => {
const n = As((() => e(VI).findByEaPlayerId(t).map((e => e?.data?.photonPlayerId)).filter(Kh)));
n.forEach((async t => {
await e(XC).removeSelectPointsOfPresence(t, (e => e.isEAPresence));
}));
}));
}), [ r ]);
Ws((({get: r}) => {
if (!e) return;
const o = r(DH);
t(o.data ?? new Set, (async ({addedItems: e, removedItems: t}) => {
const r = Array.from(t).filter(n);
if (r.length && await a(r), e.size) {
const t = Array.from(e);
await i(t);
}
}));
}), [ e, n, i, a, t ]);
}
var UH = $f.DeepLink.Setting, HH = () => gE.availableSettings.includes(UH.AppearOffline), VH = (e, t) => 2 === e || 0 === e && t, JH = e => {
const t = e(PE), n = e(vE);
return VH(t, n);
}, zH = () => {
const e = Fs(PE), t = Fs(vE);
return VH(e, t);
}, GH = (e, t, n, r) => {
const i = VH(e, t), a = Kx(n), o = cm(i ? "PHOTON-SOCIAL_PRESENCE_OFFLINE" : "PHOTON-SOCIAL_PRESENCE_ONLINE");
return r ? 0 === e ? cm("PHOTON-SOCIAL_TOAST_STATUS_FIRST-UPDATE_BODY_CASCADING", {
"%onlineOrOffline%": o,
"%platformName%": a
}) : cm("PHOTON-SOCIAL_TOAST_STATUS_FIRST-UPDATE_BODY", {
"%onlineOrOffline%": o
}) : 0 === e ? cm("PHOTON-SOCIAL_TOAST_STATUS_UPDATE_BODY_CASCADING", {
"%onlineOrOffline%": o,
"%platform%": a
}) : cm("PHOTON-SOCIAL_TOAST_STATUS_UPDATE_BODY", {
"%onlineOrOffline%": o
});
}, jH = $f.PresenceSession.InputType, qH = $f.PresenceSession.Operation, WH = $f.DeepLink.Setting, YH = Is({
debugName: "throttledDeviceTypeState",
default: void 0
});
Object.values(jH).filter((e => "string" != typeof e));
function KH() {
const e = Rs();
H.useEffect((() => Mn((() => e.get(Mu)), (t => {
e.set(YH, t);
}), {
delay: 1e4,
fireImmediately: !0
})), [ e ]);
}
var XH = class {
constructor(e, t) {
this.gameJoinTokenType = e, this.customFields = t;
}
clearCachedState() {
this.gameJoinToken = void 0, this.maxSize = void 0, this.currentSize = void 0, this.joinable = void 0, 
this.crossplayEnabled = void 0;
}
setGameJoinToken(e, t) {
this.gameJoinToken !== t && (e.gameJoinTokens[this.gameJoinTokenType] = {
operation: qH.OPERATION_UPDATE,
value: {
token: OL(t)
}
}, this.gameJoinToken = t);
}
removeGameJoinToken(e) {
void 0 !== this.gameJoinToken && (e.gameJoinTokens[this.gameJoinTokenType] = {
operation: qH.OPERATION_REMOVE
}, this.gameJoinToken = void 0);
}
setMaxSize(e, t) {
this.maxSize !== t && (e.properties[this.customFields.maxSize] = {
operation: qH.OPERATION_UPDATE,
value: {
integerValue: t
}
}, this.maxSize = t);
}
removeMaxSize(e) {
void 0 !== this.maxSize && (e.properties[this.customFields.maxSize] = {
operation: qH.OPERATION_REMOVE
}, this.maxSize = void 0);
}
setCurrentSize(e, t) {
this.currentSize !== t && (e.properties[this.customFields.currentSize] = {
operation: qH.OPERATION_UPDATE,
value: {
integerValue: t
}
}, this.currentSize = t);
}
removeCurrentSize(e) {
void 0 !== this.currentSize && (e.properties[this.customFields.currentSize] = {
operation: qH.OPERATION_REMOVE
}, this.currentSize = void 0);
}
setJoinable(e, t) {
this.joinable !== t && (e.properties[this.customFields.joinable] = {
operation: qH.OPERATION_UPDATE,
value: {
integerValue: t ? 1 : 0
}
}, this.joinable = t);
}
removeJoinable(e) {
void 0 !== this.joinable && (e.properties[this.customFields.joinable] = {
operation: qH.OPERATION_REMOVE
}, this.joinable = void 0);
}
setCrossplayEnabled(e, t) {
this.crossplayEnabled !== t && this.customFields.crossplayEnabled && (e.properties[this.customFields.crossplayEnabled] = {
operation: qH.OPERATION_UPDATE,
value: {
integerValue: t ? 1 : 0
}
}, this.crossplayEnabled = t);
}
removeCrossplayEnabled(e) {
void 0 !== this.crossplayEnabled && this.customFields.crossplayEnabled && (e.properties[this.customFields.crossplayEnabled] = {
operation: qH.OPERATION_REMOVE
}, this.crossplayEnabled = void 0);
}
getJoinable() {
return this.joinable;
}
get() {
return {
joinable: this.joinable,
currentSize: this.currentSize,
maxSize: this.maxSize,
crossPlayEnabled: this.crossplayEnabled
};
}
}, QH = class {
constructor() {
this.party = new XH("party", {
maxSize: "photon_maxPartySize",
currentSize: "photon_currentPartySize",
joinable: "photon_partyJoinable",
crossplayEnabled: "photon_partyCrossplayEnabled"
}), this.lobby = new XH("lobby", {
maxSize: "photon_maxLobbySize",
currentSize: "photon_currentLobbySize",
joinable: "photon_lobbyJoinable",
crossplayEnabled: "photon_lobbyCrossplayEnabled"
});
}
clearCachedState() {
this.inputType = void 0, this.appearOffline = void 0, this.joinable = void 0, this.crossplayEnabled = void 0, 
this.party.clearCachedState(), this.lobby.clearCachedState();
}
setInputType(e, t) {
this.inputType !== t && (e.inputTypes = {
operation: qH.OPERATION_UPDATE,
values: [ oH(t) ]
}, this.inputType = t);
}
setAppearOffline(e, t) {
this.appearOffline !== t && (e.appearOffline = {
operation: qH.OPERATION_UPDATE,
value: t
}, this.appearOffline = t);
}
removeInputType(e) {
void 0 !== this.inputType && (e.inputTypes = {
operation: qH.OPERATION_REMOVE,
values: []
}, this.inputType = void 0);
}
updateJoinable(e) {
const t = !!this.lobby.getJoinable() || !!this.party.getJoinable();
this.joinable !== t && (e.joinable = {
operation: qH.OPERATION_UPDATE,
value: !!t
}, this.joinable = t);
}
updateCrossplayEnabled(e, t) {
this.crossplayEnabled !== t && (e.properties.photon_crossplayEnabled = {
operation: qH.OPERATION_UPDATE,
value: {
integerValue: t ? 1 : 0
}
}, this.crossplayEnabled = t);
}
getCurrent() {
const e = this.party.get(), t = this.lobby.get();
return {
joinable: this.joinable,
inputType: void 0 !== this.inputType ? oH(this.inputType) : void 0,
appearOffline: this.appearOffline,
properties: {
maxPartySize: e.maxSize,
currentPartySize: e.currentSize,
partyJoinable: e.joinable,
maxLobbySize: t.maxSize,
currentLobbySize: t.currentSize,
lobbyJoinable: t.joinable,
crossplayEnabled: this.crossplayEnabled
}
};
}
}, [, $H] = $s({
debugName: "presenceStateCacheState",
create: () => new QH
}), ZH = Is({
debugName: "userPresenceState",
default: {
properties: {}
}
}), eV = e => {
const {PresenceSession: t} = lm(), n = SN(), r = gE.availableSettings.includes(WH.Party);
KH();
const i = $H(), a = Hs(ZH);
Ws((({get: o}) => {
if (e) {
const e = o(YH), s = JH(o), l = o(mA).get().data, c = o(xk).get().data, d = o(rk);
let u = !0;
(!By.isPartyEnabled && r || By.isPartyEnabled) && (u = n.getSetting(1, 0));
const p = {
properties: {},
gameJoinTokens: {}
};
if (void 0 !== e ? i.setInputType(p, e) : i.removeInputType(p), l) {
const e = l.joinable && l.members.size < l.maxSize;
i.party.setJoinable(p, e && u), i.party.setGameJoinToken(p, l.partyId), i.party.setMaxSize(p, l.maxSize), 
i.party.setCurrentSize(p, l.members.size), i.party.setCrossplayEnabled(p, l.crossPlayEnabled);
} else i.party.removeJoinable(p), i.party.removeGameJoinToken(p), i.party.removeMaxSize(p), 
i.party.removeCurrentSize(p), i.party.removeCrossplayEnabled(p);
if (c) {
const e = c.joinable && c.members.size < c.maxSize;
i.lobby.setJoinable(p, e && u), i.lobby.setGameJoinToken(p, c.lobbyId), i.lobby.setMaxSize(p, c.maxSize), 
i.lobby.setCurrentSize(p, c.members.size), i.lobby.setCrossplayEnabled(p, c.crossPlayEnabled);
} else i.lobby.removeJoinable(p), i.lobby.removeGameJoinToken(p), i.lobby.removeMaxSize(p), 
i.lobby.removeCurrentSize(p), i.lobby.removeCrossplayEnabled(p);
i.updateCrossplayEnabled(p, d), i.updateJoinable(p), HH() && i.setAppearOffline(p, s), 
t.partialUpdatePresence({
presenceUpdate: p
}), a(i.getCurrent());
}
}), [ e, t, i, r, a, n ]), H.useEffect((() => {
if (e) return () => {
i.clearCachedState();
};
}), [ e, i ]);
}, tV = {
small: Bc("marginBottom", vc(sd.DimensionSpace.small))
}, nV = Oc({
width: vc(128),
height: vc(128),
borderCenter: !0,
texture2Border: vc(sd.BorderRadius.smaller),
flexShrink: 0,
texture2: Qp({
radius: sd.BorderRadius.smaller
}),
marginEnd: vc(sd.DimensionSpace.larger)
}), rV = ({texture: e, title: t, body1: n, body2: r, expired: i, style: a}) => {
const o = Dc((() => ({
texture: e,
opacity: i ? sd.FillAlpha._50 : 1
})), [ e, i ]), s = i ? sd.TextColorStandard.error : sd.TextColorStandard.default;
if (!(e || t || n || r)) return null;
let l = null;
return n && r ? l = H.createElement(H.Fragment, null, H.createElement(Gk, {
useEllipsis: !0,
text: n,
color: s,
style: tV.small
}), H.createElement(Gk, {
useEllipsis: !0,
text: r,
color: s
})) : n ? l = H.createElement(Gk, {
text: $k(n, 72),
color: s,
style: tV.small
}) : r && (l = H.createElement(Gk, {
text: $k(r, 72),
color: s,
style: tV.small
})), H.createElement("surface", {
style: [ Bc("flexDirection", "row"), a ]
}, e ? H.createElement("surface", {
style: [ o, nV ]
}) : null, H.createElement("surface", {
style: Bc("flex", 1)
}, t ? H.createElement(Gk, {
useEllipsis: !0,
text: t,
color: sd.TextColorStandard.emphasized,
style: tV.small
}) : null, l));
};
function iV(e) {
const t = WR();
return e ? t.get(e) : {
loading: !1,
data: void 0
};
}
function aV(e, t) {
const n = vc(t);
return e?.get(`${n}x${n}`);
}
function oV(e) {
return 1 === e.gameJoinTokenTypes.length && e.gameJoinTokenTypes.includes("lobby");
}
var sV = Ii.observer((({body1: e, body2: t, productId: n, expired: r, gameInvite: i}) => {
const {data: a} = iV(n);
let o = a?.title;
i && o && oV(i) && (o = cm("PHOTON-SOCIAL_INVITE-DETAILS-CARD_GAME-LOBBY", {
"%gameName%": o
}));
const s = (l = a?.gameTitleLogo, aV(l, 128))?.url;
var l;
return H.createElement(rV, {
texture: s,
title: o,
body1: e,
body2: t,
expired: r,
style: Bc("marginBottom", vc(sd.DimensionSpace.larger))
});
})), lV = ({input: e, ...t}) => {
Vu(e);
const n = pc(e.keyBinding.primaryButton);
return H.createElement(eu, {
buttonLabel: e.keyBinding.primaryButton.keyboardKeyLabel,
icon: n,
...t
});
}, cV = $f.InputBindings.Action, dV = ({photonPlayerId: e, telemetryInfo: t, ...n}) => {
const r = hU(e, t), i = yL(cV.OpenActionList);
return yu({
keyBinding: i,
label: cm("PHOTON-SOCIAL_INVITE-DETAILS-CARD_SENDER-ACTIONS")
}), H.createElement(lV, {
label: cm("PHOTON-SOCIAL_INVITE-DETAILS-CARD_SENDER-ACTIONS"),
input: {
keyBinding: i,
callback: r
},
...n
});
};
function uV(e) {
return Bk().get().data?.members.has(e) ?? !1;
}
var pV = Ii.observer((({photonPlayerId: e}) => {
const t = e, n = aI(t), {data: r} = lH(t), {data: i} = Us(BR, t), a = r?.properties?.currentLobbySize, o = r?.properties?.maxLobbySize, s = uV(n);
if (void 0 === i || void 0 === a || void 0 === o) return null;
let l;
return l = s ? cm("PHOTON-SOCIAL_LOBBY_YOUR") : i.joinable ? cm("PHOTON-SOCIAL_LOBBY_JOINABLE", {
"%currentLobbySize%": "" + a,
"%maxLobbySize%": "" + o
}) : cm("PHOTON-SOCIAL_LOBBY_NOT-JOINABLE", {
"%currentLobbySize%": "" + a,
"%maxLobbySize%": "" + o
}), H.createElement(GU, {
sectionTitle: cm("PHOTON-SOCIAL_LOBBY_TITLE")
}, H.createElement(Gk, {
text: l,
color: sd.TextColorStandard.emphasized
}));
})), fV = Ii.observer((() => {
const e = Fs(ZH), {currentLobbySize: t, maxLobbySize: n, lobbyJoinable: r} = e.properties;
if (void 0 === r || void 0 === t || void 0 === n) return null;
const i = cm(r ? "PHOTON-SOCIAL_LOBBY_JOINABLE" : "PHOTON-SOCIAL_LOBBY_NOT-JOINABLE", {
"%currentLobbySize%": "" + t,
"%maxLobbySize%": "" + n
});
return H.createElement(GU, {
sectionTitle: cm("PHOTON-SOCIAL_LOBBY_TITLE")
}, H.createElement(Gk, {
text: i,
color: sd.TextColorStandard.emphasized
}));
}));
function mV(e, t) {
return iN(pN(PR, e), t);
}
var yV = Ii.observer((({photonPlayerId: e}) => {
const t = e, n = aI(t), {data: r} = lH(t), {data: i} = mV(t, 0), a = r?.properties?.currentPartySize, o = r?.properties?.maxPartySize, s = vL(n);
if (void 0 === i?.joinable || void 0 === a || void 0 === o) return null;
let l;
return s ? l = cm("PHOTON-SOCIAL_PARTY_PARTY-YOUR") : a > 1 ? l = i.joinable ? cm("PHOTON-SOCIAL_PARTY_PARTY-JOINABLE", {
"%currentPartySize%": "" + a,
"%maxPartySize%": "" + o
}) : cm("PHOTON-SOCIAL_PARTY_PARTY-NOT-JOINABLE", {
"%currentPartySize%": "" + a,
"%maxPartySize%": "" + o
}) : i.joinable && 1 === a && (l = cm("PHOTON-SOCIAL_PARTY_SOLO-JOINABLE")), l ? H.createElement(GU, {
sectionTitle: cm("PHOTON-SOCIAL_PARTY_TITLE")
}, H.createElement(Gk, {
text: l,
color: sd.TextColorStandard.emphasized
})) : null;
})), hV = Ii.observer((() => {
const e = Fs(ZH), {currentPartySize: t, maxPartySize: n, partyJoinable: r} = e.properties;
if (void 0 === r || void 0 === t || void 0 === n) return null;
let i;
return t > 1 ? i = cm(r ? "PHOTON-SOCIAL_PARTY_PARTY-JOINABLE" : "PHOTON-SOCIAL_PARTY_PARTY-NOT-JOINABLE", {
"%currentPartySize%": "" + t,
"%maxPartySize%": "" + n
}) : r && 1 === t && (i = cm("PHOTON-SOCIAL_PARTY_SOLO-JOINABLE")), i ? H.createElement(GU, {
sectionTitle: cm("PHOTON-SOCIAL_PARTY_TITLE")
}, H.createElement(Gk, {
text: i,
color: sd.TextColorStandard.emphasized
})) : null;
})), gV = $f.PresenceSession.InputType, IV = {
description: Oc({
position: "relative",
flexDirection: "row",
flexWrap: "nowrap"
}),
icon: Oc({
color: sd.IconColorStandard.emphasized,
position: "absolute",
alignSelf: "center"
})
}, vV = {
[gV.INPUT_TYPE_CONTROLLER]: {
width: vc(48),
style: [ IV.icon, Oc({
texture: Up.CONTROLLER,
width: vc(48),
height: vc(48)
}) ]
},
[gV.INPUT_TYPE_MOUSE]: {
width: vc(24),
style: [ IV.icon, Oc({
texture: Up.MOUSE,
width: vc(24),
height: vc(48)
}) ]
}
}, bV = ({inputDevice: e}) => {
const t = vV[e];
if (!t) return null;
const n = e === gV.INPUT_TYPE_CONTROLLER ? cm("PHOTON-SOCIAL_PLAYER-DETAIL_INPUT_CONTROLLER") : cm("PHOTON-SOCIAL_PLAYER-DETAIL_INPUT_MOUSE-KEYBOARD");
return H.createElement(GU, {
sectionTitle: cm("PHOTON-SOCIAL_PLAYER-DETAIL_INPUT_TITLE")
}, H.createElement("surface", {
style: IV.description
}, H.createElement("surface", {
style: t.style
}), H.createElement(Gk, {
text: n,
color: sd.TextColorStandard.emphasized,
style: Bc("marginStart", t.width + vc(sd.DimensionSpace.small))
})));
}, _V = $f.Voip.VoipChannel;
function PV(e, t) {
if (e?.status !== $f.Voip.VoipStatus.Disabled && t?.status !== $f.Voip.VoipStatus.Disabled) switch (t?.channel) {
case _V.Party:
return cm("PHOTON-SOCIAL_PARTY_LIST_PRESENCE_PARTY-CHAT");

case _V.Game:
return cm("PHOTON-SOCIAL_PARTY_LIST_PRESENCE_TEAM-CHAT");
}
}
var SV = Ii.observer((({photonPlayerId: e}) => {
const {data: t} = oE(), {data: n} = KM(t?.photonPlayerId), {data: r} = KM(e), i = PV(n, r);
return i ? H.createElement(H.Fragment, null, H.createElement(Gk, {
text: cm("PHOTON-SOCIAL_VOICE_TITLE"),
color: sd.TextColorStandard.default,
style: Bc("marginBottom", vc(sd.DimensionSpace.smallest))
}), H.createElement(Gk, {
text: i,
color: sd.TextColorStandard.emphasized,
style: Bc("marginBottom", vc(sd.DimensionSpace.larger))
})) : null;
})), TV = Ii.observer((e => {
const {photonPlayerId: t} = e, {eaPlayerId: n} = tI(t), r = aI(t), {data: i} = mU(r, !0), {data: a} = lH(t), {data: o} = oE();
if (!o || a?.isOnline || o.tokenInfo.userId === n || 0 === i.length) return null;
const s = i.slice(0, 2);
return H.createElement(H.Fragment, null, H.createElement(CD, {
text: cm("PHOTON-SOCIAL_IDENTITIES_TITLE"),
style: [ Bc("marginBottom", vc(sd.DimensionSpace.smallest)), jd ]
}), s.map((e => H.createElement(FO, {
key: e.photonPlayerId,
player: e,
style: Bc("marginBottom", vc(sd.DimensionSpace.smallest))
}))), H.createElement("surface", {
style: Bc("marginBottom", vc(sd.DimensionSpace.larger - sd.DimensionSpace.smallest))
}));
})), EV = Ii.observer((({photonPlayerIdWithMaybePresence: e}) => {
const t = Rs(), {data: n} = lH(e), {data: r} = oE(), i = aI(e), {playerNetworkId: a, eaPlayerId: o} = tI(e), {data: s} = yw(i, 0);
if (!r || !s) return null;
if (r.photonPlayerId === i) return r.tokenInfo.productId ? H.createElement(sV, {
productId: r.tokenInfo.productId
}) : null;
if (n?.isOnline) return n.productId ? H.createElement(sV, {
productId: n.productId,
body1: sH(n) ? n.activityDescription : void 0,
body2: sH(n) ? n.activityDetails : void 0
}) : n.productTitle ? H.createElement(GU, {
sectionTitle: n.productTitle,
textColor: sd.TextColorStandard.emphasized
}) : H.createElement(GU, {
sectionTitle: "EA" === a ? cm("PHOTON-SOCIAL_FRIENDS_LIST_PRESENCE_EA-APP") : cm("PHOTON-SOCIAL_FRIENDS_LIST_PRESENCE_LOCAL-PLATFORM", {
"%localPlatform%": Kx(a)
}),
textColor: sd.TextColorStandard.emphasized
});
return t.getItem(QA, i).data || o && t.get(DH).data?.has(o) ? H.createElement(GU, {
sectionTitle: cm("PHOTON-SOCIAL_PRESENCE_OFFLINE"),
textColor: sd.TextColorStandard.emphasized
}) : null;
})), kV = Ii.observer((({photonPlayerIdWithMaybePresence: e}) => {
const t = aI(e), {data: n} = oE(), {data: r} = lH(e);
return !n || n.photonPlayerId !== t && !r?.productId ? null : By.isPartyEnabled ? H.createElement(H.Fragment, null, n.photonPlayerId === t ? H.createElement(hV, null) : H.createElement(yV, {
photonPlayerId: e
}), H.createElement(SV, {
photonPlayerId: t
})) : n.photonPlayerId === t ? H.createElement(fV, null) : H.createElement(pV, {
photonPlayerId: t
});
})), NV = Ii.observer((({photonPlayerIdWithMaybePresence: e}) => {
const {data: t} = oE(), n = aI(e), r = Fs(ZH), {data: i} = lH(e), a = WU(n);
if (!t) return null;
if (t.photonPlayerId === n) {
if (r.inputType) return H.createElement(bV, {
inputDevice: r.inputType,
key: "presence-input"
});
} else if (i?.isOnline && !a && void 0 !== i.inputType) return H.createElement(bV, {
inputDevice: i.inputType,
key: "presence-input"
});
return null;
})), CV = Ii.observer((({photonPlayerId: e}) => WU(e) ? H.createElement(qU, {
photonPlayerId: e
}) : null)), OV = Ii.observer((e => {
const t = e.photonPlayerId, n = aI(t), {playerNetworkId: r, name: i} = DO(t), {data: a} = yw(n, 0), {data: o} = oE();
return a && o ? H.createElement(cF, null, H.createElement(tN, {
name: i,
playerNetworkId: r,
style: Bc("marginBottom", vc(sd.DimensionSpace.larger))
}), H.createElement(H.Fragment, null, e.children), H.createElement(dV, {
photonPlayerId: n,
telemetryInfo: e.telemetryInfo
})) : null;
})), AV = Ii.observer((e => {
const t = e.photonPlayerId, n = aI(t);
return H.createElement(OV, {
...e
}, H.createElement(EV, {
photonPlayerIdWithMaybePresence: t,
key: "product-player-details"
}), H.createElement(NV, {
photonPlayerIdWithMaybePresence: t,
key: "input-player-details"
}), H.createElement(kV, {
photonPlayerIdWithMaybePresence: t,
key: "party-lobby-status"
}), H.createElement(TV, {
photonPlayerId: n,
key: "other-identities"
}), H.createElement(CV, {
photonPlayerId: n,
key: "compatibility-warnings"
}));
})), wV = ({photonPlayerId: e, PlayerDetailsComponent: t = AV, telemetryInfo: n}) => {
const r = MU();
return H.useMemo((() => ({
handleFocus: () => {
r.setSelectedItem({
photonPlayerId: e,
PlayerDetailsComponent: t,
telemetryInfo: n
});
},
handleBlur: () => {
r.setSelectedItem((t => {
if (e !== t?.photonPlayerId) return t;
}));
}
})), [ r, e, t, n ]);
}, LV = Oc({
position: "absolute",
left: bD,
right: bD
}), RV = class {
constructor() {
this.sections = [];
}
addSection(e) {
this.sections.push(e);
}
getSections() {
return this.sections;
}
isEmpty(e) {
return !e || this.sections.every((t => !e[t.id]?.length));
}
static createMergedSection(e, t) {
const n = new RV;
return n.sections.push(...e.getSections(), ...t.getSections()), n;
}
}, xV = Ii.observer((({focusId: e, title: t, narrationTitle: n, top: r, isExpanded: i, getShowDot: a, onToggle: o, itemsInSection: s, telemetryInfo: l}) => {
const c = Dc((() => ({
top: r
})), [ r ]), d = a?.(), u = DD(), p = H.useRef(i);
return fO(l), fu((({getKeyBindingText: e}) => {
const r = p.current !== i;
if (p.current = i, r) return cm(i ? "PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-HEADER-EXPAND-ACTION" : "PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-HEADER-COLLAPSE-ACTION", {
"%primaryKey%": e(u)
});
const a = "string" == typeof t ? t : n ?? "";
return cm(i ? "PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-HEADER-EXPANDED" : "PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-HEADER-COLLAPSED", {
"%headerLabel%": a,
"%sectionCount%": s + "",
"%primaryKey%": e(u)
});
}), [ i, t, n, s, u ], e), H.createElement(MD, {
title: t,
id: e,
focusId: e,
style: [ LV, c ],
isExpanded: i,
showDot: d,
onToggle: o
});
})), BV = ({top: e, forwardFocusId: t, children: n}) => {
const r = Dc((() => ({
top: e
})), [ e ]);
return H.createElement("surface", {
style: [ LV, r ],
key: t
}, H.createElement(vu, {
id: t
}, n));
}, DV = {
headingHeight: vc(76),
itemHeight: vc(84),
defaultWidth: SF,
scrollbarWidth: fF + vc(sd.DimensionSpace.large)
};
function MV(e, t) {
return e + "[" + t + "]";
}
function FV(e, t, n, r) {
const i = r?.itemHeight ?? DV.itemHeight, a = r?.width ?? DV.defaultWidth, o = r?.prefetch, {history: s} = cv(), {photonPlayerId: l} = qa(), c = Rs(), d = H.useMemo((() => {
if (l) return e => e.photonPlayerId === l;
}), [ l ]);
return H.useEffect((() => {
if (!d || !t || !l) return;
const r = e.getSections();
for (let e = 0; e < r.length; e++) {
const {id: i, isExpanded: a, onToggle: o, focusId: u} = r[e];
if ((t[i] ?? []).some(d)) return !1 === a && o(), yr((() => c.get(ll) === MV(u, l)), (() => s.replace(n.link())));
}
}), [ d, s, t, n, e, c, l ]), H.useMemo((() => {
if (!t) return {
rows: [],
height: 0
};
const n = new NU, s = a - DV.scrollbarWidth, l = e.getSections();
if (n.addSpace(bD), r?.beforeListContent) {
const e = r.beforeListContent.component, t = r.beforeListContent.focusId;
n.addRow(DV.headingHeight, {
focusId: t,
render: n => H.createElement(BV, {
top: n,
forwardFocusId: t,
key: t
}, H.createElement(e))
}, {
bottom: vc(sd.DimensionSpace.large)
});
}
for (let e = 0; e < l.length; e++) {
const {id: r, title: a, isExpanded: c, getShowDot: u, onToggle: p, component: f, afterItemsComponent: m, focusId: y, telemetryInfo: h, narrationTitle: g} = l[e], I = t[r] ?? [];
if (0 === I.length) continue;
const v = "function" == typeof a ? a(I) : a, b = "function" == typeof h ? h(I) : h;
if (n.addRow(DV.headingHeight, {
focusId: y,
render: e => H.createElement(xV, {
key: y,
top: e,
width: s,
focusId: y,
title: v,
isExpanded: c,
getShowDot: u,
onToggle: p,
itemsInSection: I.length,
telemetryInfo: b,
narrationTitle: g
})
}, {
bottom: vc(sd.DimensionSpace.medium)
}), c || d && I.some(d)) {
const e = I.length;
for (let t = 0; t < e; t++) {
const r = I[t], a = r.photonPlayerId, s = MV(y, a), l = e === t + 1 && !m, c = d?.(r);
n.addRow(i, {
focusId: s,
focused: c,
render: e => H.createElement(BV, {
top: e,
forwardFocusId: s,
key: s
}, H.createElement(f, r)),
prefetch: o ? () => {
o(r.photonPlayerId);
} : void 0
}, {
bottom: l ? vc(sd.DimensionSpace.large) : 0
});
}
if (m) {
const e = y + "[afterContent]";
n.addRow(DV.headingHeight, {
focusId: e,
render: t => H.createElement(BV, {
top: t,
forwardFocusId: e,
key: e
}, H.createElement(m))
}, {
bottom: vc(sd.DimensionSpace.large)
});
}
}
}
return {
rowFactory: n,
rows: n.rows,
height: n.height
};
}), [ t, a, e, r?.beforeListContent, d, i, o ]);
}
function UV(e, t, n) {
const {delay: r = 1e3} = n || {}, [i, a] = H.useState(e.data);
H.useEffect((() => {
if (t.isEmpty(e.data)) {
const t = setTimeout((() => {
a(e.data);
}), r);
return () => {
clearTimeout(t);
};
}
a(e.data);
}), [ r, e.data, t ]);
const o = !e.data && (e.loading || !!e.uninitialized), s = !o && t.isEmpty(e.data);
return {
...e,
loading: o,
empty: s,
data: i,
sectionsState: t
};
}
var HV = (e, t, n) => {
const r = e.size;
return e.map(((e, i) => ({
telemetryInfo: {
pg_id: "tab_friend_requests",
msg_id: n,
destination_name: n,
index: {
item_index: i + 1,
total_items: r
}
},
friendRequest: e,
photonPlayerId: $g({
eaPlayerId: e.eaPlayerId,
playerNetworkId: e[t]
})
})));
}, VV = Ps({
debugName: "friendRequestsListState",
get: ({get: e}) => {
const t = e(sE), n = e(SC).get(), r = e(EC).get(), i = e(VI), a = n.data, o = r.data, s = a?.getSortedList().slice(0, 20) ?? [];
s.length < 20 && s.push(...o?.getSortedList().slice(0, 20 - s.length) ?? []);
const l = Cg([ t, n, r, {
...Cg(s.map((e => i.get($g({
eaPlayerId: e.eaPlayerId,
playerNetworkId: "EA"
}))))),
error: void 0
} ]), c = !l.loading && !l.uninitialized;
return {
...l,
data: c && a && o ? {
0: HV(a, "sourcePlayerNetworkId", "received_requests"),
1: HV(o, "targetPlayerNetworkId", "sent_requests")
} : void 0
};
}
}), JV = $f.InputBindings.Action, zV = {
0: Pu(),
1: Pu()
}, GV = Ii.observer((e => {
const {id: t, photonPlayerId: n, friendRequest: r, primaryAction: i, secondaryAction: a, onFocus: o, showDot: s} = e, {name: l, playerNetworkId: c} = DO(n), d = hU(n, e.telemetryInfo), {handleFocus: u, handleBlur: p} = wV({
photonPlayerId: n,
telemetryInfo: e.telemetryInfo
}), f = H.useCallback((() => {
o?.(), u();
}), [ o, u ]), m = fM({
playerName: l
});
return H.createElement(pM, {
id: t,
narrationItem: m,
onFocus: f,
onBlur: p,
onClick: d,
primaryAction: i,
secondaryAction: a,
showDot: s
}, H.createElement(nM, {
playerNetworkId: c,
name: l
}), !!r.createTimeMs && H.createElement(NM, {
hideOnPressedOrFocused: !0,
timeMs: r.createTimeMs
}));
})), jV = Ii.observer((e => {
const {friendRequest: t, photonPlayerId: n} = e, r = bB(t), {setItemSeen: i, isItemSeen: a} = vB(), o = ww(n, e.telemetryInfo), s = Lw(n, e.telemetryInfo), l = yL(JV.Primary), c = yL(JV.Secondary), d = H.useCallback((() => {
i(r);
}), [ i, r ]);
let u = {
primaryAction: {
label: cm("PHOTON-SOCIAL_FRIEND-REQUESTS_LIST_ACTIONS_ACCEPT"),
keyBinding: l,
callback: o
},
secondaryAction: {
label: cm("PHOTON-SOCIAL_FRIEND-REQUESTS_LIST_ACTIONS_DECLINE"),
keyBinding: c,
callback: s
}
};
return yw(n).error && (u = {
primaryAction: {
label: cm("PHOTON-SOCIAL_FRIEND-REQUESTS_LIST_ACTIONS_DECLINE"),
keyBinding: l,
callback: s
}
}), o && s ? H.createElement(GV, {
id: "received-" + n,
photonPlayerId: n,
friendRequest: t,
...u,
onFocus: d,
showDot: !a(r),
telemetryInfo: e.telemetryInfo
}) : null;
})), qV = H.memo((e => {
const t = e.photonPlayerId, n = Rw(t, e.telemetryInfo), r = yL(JV.Primary);
return n ? H.createElement(GV, {
friendRequest: e.friendRequest,
id: "sent-" + t,
photonPlayerId: t,
primaryAction: {
label: cm("PHOTON-SOCIAL_FRIEND-REQUESTS_LIST_ACTIONS_CANCEL"),
keyBinding: r,
callback: n
},
telemetryInfo: e.telemetryInfo
}) : null;
}));
function WV() {
const {isExpanded: e, onToggle: t} = FD({
id: "friend-requests-section-received",
isInitiallyExpanded: !0,
rememberExpandedState: !0,
onToggleCallback: pO("tab_friend_requests", "received_requests")
}), {isExpanded: n, onToggle: r} = FD({
id: "friend-requests-section-sent",
isInitiallyExpanded: !0,
rememberExpandedState: !0,
onToggleCallback: pO("tab_friend_requests", "sent_requests")
}), {getUnseenCount: i} = vB();
return H.useMemo((() => {
const a = new RV;
return a.addSection({
id: 0,
isExpanded: e,
getShowDot: () => i() > 0,
onToggle: t,
title: cm("PHOTON-SOCIAL_FRIEND-REQUESTS_LIST_SECTION-HEAD_RECEIVED"),
component: jV,
focusId: zV[0],
telemetryInfo: {
pg_id: "tab_friend_requests",
destination_name: "received_requests",
msg_id: "received_requests"
}
}), a.addSection({
id: 1,
isExpanded: n,
onToggle: r,
title: cm("PHOTON-SOCIAL_FRIEND-REQUESTS_LIST_SECTION-HEAD_SENT"),
component: qV,
focusId: zV[1],
telemetryInfo: {
pg_id: "tab_friend_requests",
destination_name: "sent_requests",
msg_id: "sent_requests"
}
}), a;
}), [ e, n, i, t, r ]);
}
var YV = Ii.observer((() => {
const e = UV(Fs(VV), WV()), t = JI(), n = H.useCallback((e => {
const n = aI(e);
t.get(n);
}), [ t ]), {rows: r} = FV(e.sectionsState, e.data, Gy, {
prefetch: n
});
return H.createElement(JU, {
loading: e.loading,
empty: e.empty,
emptyContent: H.createElement(xM, {
headline: cm("PHOTON-SOCIAL_FRIEND-REQUESTS_EMPTY-TITLE"),
body: cm("PHOTON-SOCIAL_FRIEND-REQUESTS_EMPTY-DESC"),
telemetryPageId: "tab_friend_requests"
}),
error: e.error,
rows: r,
prefetchRows: 20
});
})), KV = () => {
const {showNotification: e} = SO();
Bs((t => {
t && e(0, 0, {
text: cm("PHOTON-SOCIAL_NOTIFICATION_GLOBAL_FRIENDS_MAX-REQUEST"),
icon: Up.WARNING,
iconColor: sd.IconColorStandard.alert
}, {
telemetryInfo: {
pg_id: "tst_friend_max"
}
});
}), [ e ], Jx, !0);
}, XV = $f.InputBindings.Action, [QV, $V] = $s({
debugName: "friendRequestsListUpdateEventState",
create: () => new as
}), ZV = () => {
const e = Rs(), t = cv("main"), n = $V(), {showNotification: r} = SO(), {data: i} = oE(), {Invites: a} = lm(), o = SO(), s = WT(), l = yL(XV.Primary), c = dv("main");
H.useEffect((() => {
if (i) return n.subscribe((t => {
r(1, 2, {
icon: Up.ADD_USER,
text: cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_FRIENDS_INVITE-RECEIVE", {
"%senderPrimaryID%": Zk(RO(t, i), {
allowEllipsis: !0
})
}),
actions: [ {
id: "accept",
callback: () => {
const n = Tw(e, a, "AcceptReceivedFriendInvite", o, t.photonPlayerId, s, c.history.location);
uO(s, n, {
pg_id: "tst_friendreq_received",
msg_id: "tst_friendreq_received",
destination_name: "actions",
option: "accept"
})();
},
label: cm("PHOTON-SOCIAL_NOTIFICATION_BUTTON_ACCEPT"),
keyBinding: l
}, {
id: "decline",
callback: () => {
const n = Tw(e, a, "DeclineReceivedFriendInvite", o, t.photonPlayerId, s, c.history.location, {
getSuccessMessage: kw,
successIcon: Up.REMOVE
});
uO(s, n, {
pg_id: "tst_friendreq_received",
msg_id: "tst_friendreq_received",
destination_name: "actions",
option: "decline"
})();
},
label: cm("PHOTON-SOCIAL_NOTIFICATION_BUTTON_DECLINE"),
keyBinding: l
} ]
}, {
telemetryInfo: {
pg_id: "tst_friendreq_received"
},
setting: 2
});
}));
}), [ c, r, i, l, t, n, e, a, o, s ]);
}, eJ = class {
constructor() {
this.gates = new Cs({}), this.teleport = (e, t) => {
this.gates.set(e, t);
}, this.clear = e => {
this.gates.delete(e);
};
}
}, [tJ, nJ] = $s({
debugName: "portalState",
create: () => new eJ
}), rJ = Bh.custom((e => null !== e && "object" == typeof e && (!!e && Object.values(e).every((e => "boolean" == typeof e))))), iJ = class {
constructor(e, t, n) {
this.storage = e, this.notificationManager = t, this.skipFTUEFlow = n, this.completedState = void 0, 
this.showingToast = !1, this.seenState = {}, Nr(this, {
completedState: ht,
showingToast: ht,
setShowingToast: An,
isLoaded: bt
});
}
init(e) {
return this.storageKey = "ftue_" + e, this.loadStoredSettings();
}
setShowingToast(e) {
this.showingToast = e;
}
getCompletedState() {
return As((() => this.completedState));
}
seenThisSession(e) {
this.seenState[e] = !0;
}
get isInGamePlay() {
return this.notificationManager.isInGamePlay;
}
shouldShowFTUE(e) {
return As((() => !(void 0 === this.completedState || this.isInGamePlay || this.completedState[e] || this.seenState[e] || this.skipFTUEFlow)));
}
get isLoaded() {
return !!this.completedState;
}
isDone(e) {
return this.completedState?.[e];
}
async setAsDone(e) {
return As((async () => {
this.completedState && (this.completedState[e] = !0, await this.saveSettings());
}));
}
async loadStoredSettings() {
if (this.storageKey) try {
const e = await this.storage.getItem(this.storageKey);
if (e) {
const t = JSON.parse(e);
rJ.validate(t) ? this.completedState = t : this.completedState = {};
} else this.completedState = {};
} catch (e) {}
}
getSetting(e) {
return As((() => this.completedState?.[e] ?? !1));
}
async saveSettings() {
if (this.storageKey) return this.storage.setItem(this.storageKey, JSON.stringify(ur(this.completedState)));
}
}, aJ = vc(52), oJ = vc(30), sJ = Oc({
width: aJ,
height: vc(27),
texture: Vc("/photon/quantum/misc/Bird_Beak-a49d6f3c.png"),
zOffset: 1,
flex: 1,
alignSelf: "flex-start",
justifyContent: "flex-start",
marginStart: oJ
}), lJ = Pc({
GRADIENT: {
1: Vc("/photon/quantum/misc/Gradient_Primary-bd6f1a2d.png"),
2: Vc("/photon/quantum/misc/Gradient_Primary@2x-a247e5f9.png")
}
}), cJ = ({id: e, onDismiss: t, onAction: n, dismiss: r, message: i, holdTimeMs: a, isActivated: o, buttonLabel: s, onMount: l, showArrow: c}) => {
const d = H.useCallback((() => {
r(), n();
}), [ r, n ]);
return H.useEffect((() => (l?.(), () => {
t();
})), [ t, l ]), H.createElement(BN, null, H.createElement(LN, {
key: e,
style: Bc("color", sd.ColorNeutral._0)
}, H.createElement(xN, {
style: s ? EN : void 0
}, H.createElement(JN, {
texture: Up.LIGHT_BULB,
backgroundTexture: lJ.GRADIENT,
color: sd.TextColorStandard.emphasized
}), H.createElement(GN, {
text: i,
color: sd.TextColorInverted.default
})), !!s && H.createElement(hC, {
isActivated: o,
onActivated: d,
activateText: "",
holdActivateText: s,
holdRequired: !0,
holdTime: a
})), c && H.createElement("surface", {
style: sJ
}));
}, [dJ, uJ] = $s({
debugName: "FTUEManager",
create: e => {
const t = e.get(km), n = e.get(PO), r = !CE.UseFTUE(t.bindings.Utilities);
return {
ftueManager: new iJ(t.localStorage, n.notificationManager, r),
showFTUENotification: (e, r, i, a, o, s) => {
const {telemetryInfo: l, showAsToast: c, buttonLabel: d, attachToSurface: u} = s ?? {}, p = 1e3 * (t.bindings.Input.getFocusNotificationConfig({})?.holdTimeSeconds ?? 1), f = c ? i : () => {
t.bindings.Input.setFocusNotificationRequireHold({
holdRequired: !0
}), i();
}, m = c ? r : () => {
t.bindings.Input.setFocusNotificationRequireHold({
holdRequired: !1
}), r();
}, y = {
telemetryInfo: l,
screenTimeInSec: 8
};
c && (y.appearance = {
attachToSurface: u,
animation: 1,
animationOffset: vc(sd.DimensionSpace.small),
portalId: "InsideContent"
}), n.showNotificationComponent(0, 1, (t => H.createElement(cJ, {
...t,
type: e,
message: o,
buttonLabel: d,
holdTimeMs: p,
onDismiss: m,
onAction: a,
onMount: f,
showArrow: !!c
})), y, {
text: o
});
}
};
}
}), pJ = Ps({
debugName: "hasOnlineFriendState",
get: ({get: e}) => {
const t = e(KA), n = (t.data?.[0].length ?? -1) > 0;
return {
...t,
data: t.data ? n : void 0
};
}
}), fJ = () => {
const {ftueManager: e, showFTUENotification: t} = uJ(), {data: n} = Fs(pJ), r = H.useMemo((() => !!e.shouldShowFTUE("ftue_lobby_intro") && n), [ e, n ]);
H.useEffect((() => {
if (r) {
t("ftue_lobby_intro", (async () => {
await e.setAsDone("ftue_lobby_intro");
}), (() => {}), (() => {}), cm("PHOTON-SOCIAL_FTUE_INVITE-TO-LOBBY_TOAST"), {
telemetryInfo: {
pg_id: "tst_ftue_lobby"
}
});
}
}), [ e, r, t ]);
}, mJ = ({children: e, delay: t}) => {
const [n, r] = H.useState(!1);
return H.useEffect((() => {
let e = setTimeout((() => {
e = 0, r(!0);
}), t);
return () => {
e && clearTimeout(e);
};
}), [ r, t ]), n ? H.createElement(H.Fragment, null, e) : null;
}, yJ = e => {
const {data: t} = iV(e?.productId);
return t?.title ?? e?.productTitle;
}, hJ = e => {
const t = yJ(e), n = Rs();
if (e) {
if (Fk(n, e.photonPlayerId)) return cm("PHOTON-SOCIAL_LOBBY_YOUR");
if (SL(n, e.photonPlayerId)) return cm("PHOTON-SOCIAL_PARTY_PARTY-YOUR");
}
return t;
}, gJ = Oc({
width: vc(sd.DimensionSpace.largest),
height: vc(sd.DimensionSpace.larger),
marginStart: vc(sd.DimensionSpace.small)
}), IJ = Ii.observer((() => {
const {isFocused: e} = pp();
return H.createElement("surface", {
style: [ gJ, Bc("texture", e ? Up.INCOMPATIBLE_WHITE : Up.INCOMPATIBLE_NEUTRAL) ]
});
})), vJ = Jy("/party/:photonPlayerId?", "tab_party"), bJ = $f.InputBindings.Action;
function _J(e, t) {
const n = Rs(), r = WT();
return H.useCallback(((i, a, o) => {
const s = !t && a?.isPartyJoinable || a?.isPartyGameInvite, l = !t && a?.isLobbyJoinable || a?.isLobbyGameInvite;
if (!s && !l) return;
let c = {};
return s && l ? c = {
label: cm("PHOTON-SOCIAL_FRIENDS_LIST_ACTIONS_JOIN"),
telemetryOption: "join_party_and_lobby"
} : s ? c = {
label: cm("PHOTON-SOCIAL_FRIENDS_LIST_ACTIONS_PARTY-JOIN"),
telemetryOption: "join_party"
} : l && (c = {
label: cm("PHOTON-SOCIAL_FRIENDS_LIST_ACTIONS_LOBBY-JOIN"),
telemetryOption: "join_lobby"
}), {
label: c.label,
keyBinding: i,
callback: () => yO(n, r, e, a?.joinAction, {
...o(),
status: "click",
option: c.telemetryOption
})()
};
}), [ t, n, e, r ]);
}
function PJ(e) {
const {data: t} = yw(e), {isActionTaken: n, performAction: r} = Ux(e), i = WT(), a = Rs();
return H.useCallback(((o, s, l) => {
let c = "invite_to_combo";
s.data?.isMyPartyJoinable && !s.data?.isMyLobbyJoinable ? c = "invite_to_party" : !s.data?.isMyPartyJoinable && s.data?.isMyLobbyJoinable && (c = "invite_to_lobby");
const d = async () => {
t && t.eaPlayerId && t.personaId && await r();
};
return {
label: (u = s.data?.gameInviteTypes ?? [], u.includes("lobby") ? cm("PHOTON-SOCIAL_PLAYER-ACTIONS_PARTY_INVITE-LOBBY") : cm("PHOTON-SOCIAL_PLAYER-ACTIONS_PARTY_INVITE-PARTY")),
keyBinding: o,
callback: () => yO(a, i, e, d, {
...l(),
status: "click",
option: c
})(),
disabled: n,
disabledContent: H.createElement(aM, {
text: cm("PHOTON-SOCIAL_FRIENDS_LIST_ACTIONS_INVITE-SENT")
})
};
var u;
}), [ n, a, e, i, t, r ]);
}
function SJ(e, t) {
const n = aI(e), {navigate: r} = cv("main"), i = cU(n), a = vL(n), o = dU(n), s = yL(bJ.Primary), l = yL(bJ.Secondary), c = _J(n)(s, o, t), d = PJ(n);
return H.useMemo((() => {
const e = e => a ? {
label: cm("PHOTON-SOCIAL_FRIENDS_LIST_ACTIONS_VIEW-PARTY"),
keyBinding: e,
callback: () => {
r(vJ.link());
}
} : void 0;
return o?.canJoin ? i.data?.canInvite ? {
primaryAction: c,
secondaryAction: d(l, i, t)
} : {
primaryAction: c
} : i.data?.canInvite ? {
primaryAction: d(s, i, t),
secondaryAction: e(l)
} : {
primaryAction: e(l)
};
}), [ o, i, l, a, r, c, d, t, s ]);
}
var TJ = $f.InputBindings.Action;
function EJ(e, t) {
const n = Rs();
return SJ(e, H.useCallback((() => ({
...t,
context: {
...t.context,
...uU(n)
}
})), [ n, t ]));
}
var kJ = Ii.observer((({photonPlayerId: e, setFriendActions: t, telemetryInfo: n}) => {
const r = EJ(e, n);
return H.useEffect((() => {
t(r);
}), [ t, r ]), null;
})), NJ = ({photonPlayerId: e, setHandlers: t, telemetryInfo: n}) => {
const r = wV({
photonPlayerId: e,
telemetryInfo: n
});
return H.useEffect((() => {
t(r);
}), [ t, r ]), null;
}, CJ = {
pg_id: "tab_friends",
destination_name: "online_friends",
option: "see_player_actions"
}, OJ = Ii.observer((({photonPlayerId: e, telemetryInfo: t}) => {
const n = aI(e), [r, i] = H.useState(void 0), [a, o] = H.useState(void 0), {data: s} = yw(n), {data: l} = lH(e), c = hU(e, CJ), d = WU(n), {name: u, playerNetworkId: p} = DO(e), f = hJ(l), m = fM({
playerName: u,
supplementaryText: f
});
if (!s) return null;
const y = !(!r?.primaryAction && !r?.secondaryAction);
return H.createElement(pM, {
id: "onlineFriend-" + e,
narrationItem: m,
onFocus: a?.handleFocus,
onBlur: a?.handleBlur,
onClick: c,
...r
}, H.createElement(mJ, {
delay: 500
}, H.createElement(kJ, {
photonPlayerId: e,
setFriendActions: i,
telemetryInfo: t
}), H.createElement(NJ, {
photonPlayerId: e,
setHandlers: o,
telemetryInfo: t
})), H.createElement(nM, {
playerNetworkId: p,
name: u
}), !!f && H.createElement(kM, {
hideOnPressedOrFocused: y,
text: f
}), d && H.createElement(IJ, null));
})), AJ = {
pg_id: "tab_friends",
destination_name: "offline_friends",
option: "see_player_actions"
}, wJ = Ii.observer((({photonPlayerId: e, telemetryInfo: t}) => {
const [n, r] = H.useState(void 0), [i, a] = H.useState(void 0), {data: o} = oE(), {playerNetworkId: s} = tI(e), {data: l} = yw(e), {data: c} = vw(e), d = Iw(e), u = c?.photonPlayerId || e;
let p;
p = s !== o?.personaInfo.playerNetworkId ? u : e;
const f = hU(p, AJ), m = DO(p), y = fM({
playerName: m.name
});
if (!l) return null;
const h = !(!i?.primaryAction && !i?.secondaryAction);
return H.createElement(pM, {
id: "offlineFriend-" + e,
narrationItem: y,
onFocus: n?.handleFocus,
onBlur: n?.handleBlur,
onClick: f,
...i
}, H.createElement(mJ, {
delay: 500
}, H.createElement(kJ, {
photonPlayerId: p,
setFriendActions: a,
telemetryInfo: t
}), H.createElement(NJ, {
photonPlayerId: p,
setHandlers: r,
telemetryInfo: t
})), H.createElement(nM, {
playerNetworkId: m.playerNetworkId,
name: m.name
}), d?.mostRecentlyLoggedInPersonaDate ? H.createElement(NM, {
hideOnPressedOrFocused: h,
timeMs: 1e3 * d.mostRecentlyLoggedInPersonaDate
}) : null);
})), LJ = {
pg_id: "tab_friends",
destination_name: "blocked",
option: "see_player_actions"
}, RJ = Ii.observer((({photonPlayerId: e, telemetryInfo: t}) => {
const [n, r] = H.useState(void 0), i = Rs(), a = WT(), {data: o} = hN(e), s = hU(e, LJ), {name: l, playerNetworkId: c} = DO(e), {unblock: d} = zM(), u = yL(TJ.Primary), p = H.useMemo((() => ({
keyBinding: u,
label: cm("PHOTON-SOCIAL_FRIENDS_LIST_ACTIONS_UNBLOCK"),
callback: yO(i, a, e, (() => d(e)), t && {
...t,
msg_id: t.destination_name,
option: "unblock"
})
})), [ e, u, t, d, i, a ]), f = fM({
playerName: l
});
return o ? H.createElement(pM, {
id: "blockedPlayer-" + e,
narrationItem: f,
onFocus: n?.handleFocus,
onBlur: n?.handleBlur,
onClick: s,
primaryAction: p
}, H.createElement(mJ, {
delay: 500
}, H.createElement(NJ, {
photonPlayerId: e,
setHandlers: r,
telemetryInfo: t
})), H.createElement(nM, {
playerNetworkId: c,
name: l
}), !!o.createTimeMs && H.createElement(NM, {
hideOnPressedOrFocused: !0,
timeMs: o.createTimeMs
})) : null;
}));
function xJ(e) {
const [t, n] = Gs(XA), r = iN(QC().get(), e);
return H.useEffect((() => {
!t || r.loading || r.uninitialized || n(!1);
}), [ r.loading, r.uninitialized, n, t ]), {
...r,
loading: t
};
}
function BJ(e) {
const t = xJ(e), n = iN(uN(KA), e), r = Cg([ n, t ]);
return {
...r,
data: r.loading ? void 0 : n.data
};
}
var DJ = {
0: Pu(),
1: Pu(),
2: Pu()
};
function MJ() {
const {isExpanded: e, onToggle: t} = FD({
id: "friend-section-online",
onToggleCallback: pO("tab_friends", "online_friends"),
isInitiallyExpanded: !0,
rememberExpandedState: !0
}), {isExpanded: n, onToggle: r} = FD({
id: "friend-section-offline",
onToggleCallback: pO("tab_friends", "offline_friends"),
isInitiallyExpanded: !0,
rememberExpandedState: !0
}), {isExpanded: i, onToggle: a} = FD({
id: "friend-section-blocked",
onToggleCallback: pO("tab_friends", "blocked"),
isInitiallyExpanded: !1,
rememberExpandedState: !0
});
return H.useMemo((() => {
const o = new RV;
return o.addSection({
id: 0,
isExpanded: e,
onToggle: t,
title: cm("PHOTON-SOCIAL_FRIENDS_LIST_SECTION-HEAD_ONLINE-ALL"),
component: OJ,
focusId: DJ[0],
telemetryInfo: {
pg_id: "tab_friends",
destination_name: "online_friends",
msg_id: "online_friends"
}
}), o.addSection({
id: 1,
isExpanded: n,
onToggle: r,
title: cm("PHOTON-SOCIAL_FRIENDS_LIST_SECTION-HEAD_OFFLINE"),
component: wJ,
focusId: DJ[1],
telemetryInfo: {
pg_id: "tab_friends",
destination_name: "offline_friends",
msg_id: "offline_friends"
}
}), o.addSection({
id: 2,
isExpanded: i,
onToggle: a,
title: cm("PHOTON-SOCIAL_FRIENDS_LIST_SECTION-HEAD_BLOCKED"),
component: RJ,
focusId: DJ[2],
telemetryInfo: {
pg_id: "tab_friends",
destination_name: "blocked",
msg_id: "blocked"
}
}), o;
}), [ i, e, n, a, t, r ]);
}
var FJ = Is({
debugName: "metricSentThisGameSession",
default: !1
}), UJ = e => {
const t = Rs(), n = H.useRef(Date.now());
H.useEffect((() => {
As((() => {
if (!t.get(FJ) && !e) {
const e = (() => {
const e = t.get(KA);
return e.data ? e.data[0].length + e.data[1].length : -1;
})();
t.get(hh).addEvent({
eventType: "photon_page_view",
num_of_friends: e,
ldur_ms: Date.now() - n.current
}), t.set(FJ, !0);
}
}));
}), [ e, t ]);
}, HJ = Ii.observer((() => {
const e = UV(BJ(8e3), MJ()), {rows: t} = FV(e.sectionsState, e.data, zy);
return fJ(), UJ(e.loading), H.createElement(JU, {
loading: e.loading,
empty: e.empty,
emptyContent: H.createElement(xM, {
headline: cm("PHOTON-SOCIAL_FRIENDS_EMPTY_TITLE"),
body: cm("PHOTON-SOCIAL_FRIENDS_LIST_EMPTY_DESC"),
telemetryPageId: "tab_friends"
}),
error: e.error,
rows: t
});
})), [VJ, JJ] = $s({
debugName: "friendListUpdateEventState",
create: () => new as
}), zJ = () => {
const e = JJ(), {showNotification: t} = SO(), {data: n} = oE();
H.useEffect((() => {
if (n) return e.subscribe((e => {
t(2, 2, {
icon: Up.AVATAR,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_FRIENDS_ADD-CONFIRM", {
"%primaryID%": Zk(RO(e, n), {
allowEllipsis: !0
})
})
}, {
setting: 3,
telemetryInfo: {
pg_id: "tst_friendreq_accepted"
}
});
}));
}), [ e, n, t ]);
}, GJ = () => {
const e = WT();
return H.useEffect((() => {
dO(e, {
pg_id: "tab_game_invites",
status: "impression",
destination_name: "empty_state",
msg_id: "empty_state"
});
}), [ e ]), H.createElement(CM, {
headline: cm("PHOTON-SOCIAL_INVITES_EMPTY_TITLE"),
body: cm("PHOTON-SOCIAL_INVITES_EMPTY_DESC")
});
}, jJ = Ii.observer((({productId: e, productTitle: t, ...n}) => {
const {data: r} = iV(e), i = r?.title ?? t;
return i ? H.createElement(kM, {
...n,
text: i
}) : null;
}));
function qJ(e, t) {
const {playerNetworkId: n} = TO();
return {
name: e || "",
playerNetworkId: AO(n, t || "EA")
};
}
var WJ = ({gameInvite: e, presence: t}) => {
const n = (new Date).getTime() < e.expiryTimestampMs, r = TM(e.createdTimestampMs), i = cm("PHOTON-SOCIAL_INVITE-DETAILS-CARD_TIME-RECEIVED", {
"%time%": r.toLowerCase()
}), a = TM(e.expiryTimestampMs), o = cm("PHOTON-SOCIAL_INVITE-DETAILS-CARD_TIME-EXPIRED", {
"%time%": a.toLowerCase()
}), s = t?.properties?.currentPartySize, l = t?.properties?.maxPartySize;
let c;
n ? void 0 !== s && void 0 !== l && (c = cm("PHOTON-SOCIAL_INVITE-DETAILS-CARD_PARTY-SIZE", {
"%currentPartySize%": "" + s,
"%maxPartySize%": "" + l
})) : c = o;
const d = n ? i : void 0;
return H.createElement(sV, {
productId: e.senderProductId,
body1: c,
body2: d,
expired: !n,
gameInvite: e
});
};
function YJ(e) {
const t = e.gameJoinTokenTypes.includes("party"), n = e.gameJoinTokenTypes.includes("lobby"), r = t && n;
return cm(t && !r ? "PHOTON-SOCIAL_INVITE-DETAILS-CARD_TITLE" : n && !r ? "PHOTON-SOCIAL_LOBBY-INVITE-DETAILS-CARD_TITLE" : "PHOTON-SOCIAL_COMBO-INVITE-DETAILS-CARD_TITLE");
}
var KJ = Ii.observer((e => {
const t = e.photonPlayerId, n = aI(t), {data: r} = lH(t), {data: i} = yw(n), {data: a} = cx(n), {name: o, playerNetworkId: s} = qJ(i?.displayName, a?.senderPlayerNetworkId), l = PA(n);
if (!i || !a) return null;
let c, d;
if (r?.isOnline) {
const e = sH(r);
c = e ? r.activityDescription : void 0, d = e ? r.activityDetails : void 0;
} else c = cm("PHOTON-SOCIAL_PRESENCE_OFFLINE");
return H.createElement(cF, null, H.createElement(Dw, {
text: YJ(a),
color: sd.TextColorStandard.emphasized,
style: Bc("marginBottom", vc(sd.DimensionSpace.larger))
}), H.createElement(WJ, {
gameInvite: a,
presence: r
}), H.createElement(Gk, {
text: cm("PHOTON-SOCIAL_INVITE-DETAILS-CARD_SENDER-INFO", {
"%senderPrimaryID%": Zk({
name: o,
playerNetworkId: s
}, {
allowEllipsis: !0
})
}),
color: sd.TextColorStandard.emphasized,
style: Bc("marginBottom", vc(sd.DimensionSpace.smaller))
}), c ? H.createElement(Gk, {
text: c,
color: sd.TextColorStandard.default,
style: d ? Bc("marginBottom", vc(sd.DimensionSpace.smallest)) : void 0
}) : null, d ? H.createElement(Gk, {
text: d,
color: sd.TextColorStandard.default
}) : null, l && H.createElement(qU, {
isReceivedGameInvite: !0,
photonPlayerId: n,
style: Bc("marginTop", vc(sd.DimensionSpace.larger))
}), H.createElement(dV, {
photonPlayerId: n,
telemetryInfo: e.telemetryInfo,
style: Bc("marginTop", vc(sd.DimensionSpace.larger))
}));
})), [XJ, QJ] = Es("GameInvitesSeenStatus");
function $J(e, t) {
e.length && e.push(H.createElement(lM, {
key: "divider" + e.length
})), e.push(t);
}
var ZJ = Ii.observer((({photonPlayerId: e, expired: t, forAnotherGame: n, gameInvite: r, setItemSeen: i, isItemSeen: a, telemetryInfo: o}) => {
const s = r?.senderProductId ?? By.productId, l = H.useMemo((() => ({
...o,
context: {
tpid: s
}
})), [ s, o ]), c = yw(e).data, d = hU(e, l), u = Tx(e, l), {name: p, playerNetworkId: f} = qJ(c?.displayName, r?.senderPlayerNetworkId), m = PA(e), {handleFocus: y, handleBlur: h} = wV({
photonPlayerId: e,
PlayerDetailsComponent: KJ,
telemetryInfo: l
}), g = $R(r), I = H.useCallback((() => {
i(g), y();
}), [ y, g, i ]), v = [];
(t || n) && $J(v, H.createElement(jJ, {
hideOnPressedOrFocused: !0,
productId: r.senderProductId,
key: "productTitle"
})), t || $J(v, H.createElement(NM, {
timeMs: r.createdTimestampMs,
key: "fromNow"
}));
const b = fM({
playerName: p
});
return H.createElement(pM, {
id: e,
narrationItem: b,
onFocus: I,
onBlur: h,
onClick: d,
showDot: !a(g),
...u
}, H.createElement(nM, {
playerNetworkId: f,
name: p
}), H.createElement(cM, {
hideOnPressedOrFocused: !0
}, H.createElement(H.Fragment, null, v, m && H.createElement(IJ, null))));
})), ez = H.memo((({photonPlayerId: e, gameInvite: t, telemetryInfo: n}) => {
const {gameInvites: {setItemSeen: r, isItemSeen: i}} = QJ();
return H.createElement(ZJ, {
photonPlayerId: e,
gameInvite: t,
setItemSeen: r,
isItemSeen: i,
telemetryInfo: n
});
})), tz = H.memo((({photonPlayerId: e, gameInvite: t, telemetryInfo: n}) => {
const {crossGameInvites: {setItemSeen: r, isItemSeen: i}} = QJ();
return H.createElement(ZJ, {
photonPlayerId: e,
gameInvite: t,
setItemSeen: r,
isItemSeen: i,
telemetryInfo: n,
forAnotherGame: !0
});
})), nz = H.memo((({photonPlayerId: e, gameInvite: t, telemetryInfo: n}) => {
const {expiredInvites: {setItemSeen: r, isItemSeen: i}} = QJ();
return H.createElement(ZJ, {
photonPlayerId: e,
gameInvite: t,
setItemSeen: r,
isItemSeen: i,
telemetryInfo: n,
expired: !0
});
})), rz = Ps({
debugName: "PlayersByGameInviteSection",
get: ({get: e}) => {
const t = e(rE).get(), n = e(KR).get(), r = e(VI);
let i;
t.data && n.data && (i = ax(r, n.data, !1));
const a = Cg([ t, n ]);
return {
...a,
data: a.hasData ? i : void 0
};
}
}), iz = e => e.photonPlayerId, az = e => {
const t = iN(uN(rz), e), n = hw(H.useMemo((() => {
return t.data ? [ ...(e = t.data)[2].map(iz), ...e[3].map(iz), ...e[4].map(iz) ] : [];
var e;
}), [ t.data ]), e);
return {
...Cg([ t, n ]),
data: t.data
};
}, oz = Jy("/game-invite/:photonPlayerId?", "tab_game_invites"), sz = {
2: Pu(),
3: Pu(),
4: Pu()
};
function lz(e = "tab_game_invites") {
const {isExpanded: t, onToggle: n} = FD({
id: "game-invite-section-current-game-invites",
isInitiallyExpanded: !0,
rememberExpandedState: !0,
onToggleCallback: pO(e, "current_game_invites")
}), {isExpanded: r, onToggle: i} = FD({
id: "game-invite-section-ea-game-invites",
isInitiallyExpanded: !0,
rememberExpandedState: !0,
onToggleCallback: pO(e, "other_game_invites")
}), {isExpanded: a, onToggle: o} = FD({
id: "game-invite-section-expired-invites",
isInitiallyExpanded: !0,
rememberExpandedState: !0,
onToggleCallback: pO(e, "expired_game_invites")
}), {gameInvites: s, crossGameInvites: l, expiredInvites: c} = QJ(), {data: d} = iV(By.productId), u = cm("PHOTON-SOCIAL_PARTY_LIST_SECTION-HEAD_INVITES_GAME-CURRENT", {
"%currentGame%": d?.title ?? cm("PHOTON-SOCIAL_GAME-NAME-FALLBACK")
});
return H.useMemo((() => {
const d = new RV;
return d.addSection({
id: 2,
isExpanded: t,
getShowDot: () => s.getUnseenCount() > 0,
onToggle: n,
title: u,
component: ez,
focusId: sz[2],
telemetryInfo: {
pg_id: e,
destination_name: "current_game_invites",
msg_id: "current_game_invites"
}
}), d.addSection({
id: 3,
isExpanded: r,
getShowDot: () => l.getUnseenCount() > 0,
onToggle: i,
title: cm("PHOTON-SOCIAL_PARTY_LIST_SECTION-HEAD_INVITES_GAME-OTHER"),
component: tz,
focusId: sz[3],
telemetryInfo: {
pg_id: e,
destination_name: "other_game_invites",
msg_id: "other_game_invites"
}
}), d.addSection({
id: 4,
isExpanded: a,
getShowDot: () => c.getUnseenCount() > 0,
onToggle: o,
title: cm("PHOTON-SOCIAL_PARTY_LIST_SECTION-HEAD_INVITES_EXPIRED"),
component: nz,
focusId: sz[4],
telemetryInfo: {
pg_id: e,
destination_name: "expired_game_invites",
msg_id: "expired_game_invites"
}
}), d;
}), [ e, t, n, u, r, i, a, o, s, l, c ]);
}
var cz = Ii.observer((() => {
const e = UV(az(8e3), lz()), {rows: t} = FV(e.sectionsState, e.data, oz);
return H.createElement(JU, {
loading: e.loading,
empty: e.empty,
emptyContent: H.createElement(GJ, null),
error: e.error,
rows: t
});
})), [dz, uz] = Es("NotificationStepsContext"), pz = ({children: e, initialStep: t}) => {
const [n, r] = H.useState(t), i = H.useMemo((() => ({
currentStep: n,
setCurrentStepCallback: e => () => r(e)
})), [ n ]);
return H.createElement(dz.Provider, {
value: i
}, e);
}, fz = ({children: e, id: t}) => {
const {currentStep: n} = uz(), [r, i] = H.useState(n === t), {timeout: a} = ru(), o = TN(r ? 1 : 0);
return H.useEffect((() => {
n !== t ? (o.to(0, wN), a("opacityOutDone", (() => {
i(!1);
}), wN.duration)) : (a("showContent", (() => {
i(!0);
}), wN.duration), a("opacityInStart", (() => {
o.to(1, wN);
}), 1.75 * wN.duration));
}), [ n, t, o, a ]), H.createElement("surface", {
style: o.propStyle("opacity")
}, r ? e : void 0);
}, mz = ({confirmAction: e, dismiss: t, narrationItem: n}) => H.createElement(H.Fragment, null, H.createElement(xN, {
style: EN
}, H.createElement(FN, {
texture: Up.EXIT
}), H.createElement(GN, {
text: e.title ?? cm("PHOTON-SOCIAL_NOTIFICATION_INVITE_CONFIRM-LEAVE-PARTY")
})), H.createElement(qN, {
style: EN
}, H.createElement(FN, {
texture: Up.INFORMATION
}), H.createElement(GN, {
text: e.description ?? cm("PHOTON-SOCIAL_NOTIFICATION_INVITE-DESC_LEAVE-PARTY")
})), H.createElement(uf, {
id: "notificationConfirmStep",
isolate: !0
}, H.createElement(WN, null, H.createElement(YN, {
variant: 0,
id: "confirm",
text: cm("BUTTON_CONFIRM"),
callback: e.callback,
narration: {
buttonNumber: 1,
buttonTotal: 2
},
narrationItem: n
}), H.createElement(YN, {
style: kN,
id: "cancel",
text: cm("BUTTON_CANCEL"),
callback: t,
narration: {
buttonNumber: 2,
buttonTotal: 2
},
narrationItem: n
})))), yz = ({actions: e, onDecline: t, narrationItem: n}) => H.createElement(WN, null, e.map(((t, r) => H.createElement(YN, {
key: t.id,
narration: {
buttonNumber: r + 1,
buttonTotal: e.length + 1
},
narrationItem: n,
variant: 0 === r ? 0 : void 0,
id: t.id,
style: 0 !== r ? kN : void 0,
text: t.label,
callback: t.callback
}))), H.createElement(YN, {
id: "decline",
text: cm("PHOTON-SOCIAL_NOTIFICATION_BUTTON_DECLINE"),
callback: t,
style: kN,
narration: {
buttonNumber: e.length + 1,
buttonTotal: e.length + 1
},
narrationItem: n,
variant: 0 === e.length ? 0 : 1
})), hz = Oc({
justifyContent: "center",
alignItems: "center",
padding: vc(sd.DimensionSpace.smallest)
}), gz = (e, t, n) => {
const r = e.gameJoinTokenTypes.includes("party"), i = e.gameJoinTokenTypes.includes("lobby");
return r && !i ? cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_GAME_INVITE-RECEIVE", {
"%senderPrimaryID%": t
}) : i && !r ? cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_LOBBY_INVITE-RECEIVE", {
"%senderPrimaryID%": t
}) : cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_COMBO_INVITE-RECEIVE", {
"%senderPrimaryID%": t,
"%gameName%": n
});
}, Iz = Ii.observer((({declineAction: e, dismiss: t, onClose: n, isActivated: r, stayActive: i, holdOptions: a, disclaimer: o, actions: s, gameImage: l, gameName: c, invite: d, primaryId: u, player: p, partySupport: f, showConfirm: m}) => {
const {DeepLink: y} = lm(), h = SO(), g = dk(), [I, v] = H.useState(), [b, _] = H.useState(!1), {activateText: P, holdActivateText: S} = bC(), {setCurrentStepCallback: T} = uz(), E = H.useCallback((() => {
e(), t();
}), [ e, t ]), k = H.useMemo((() => s.map((e => ({
...e,
callback: async () => {
!f?.isSupported && f?.enableSupportAction ? (_(!0), await ZL({
action: f?.enableSupportAction,
DeepLink: y,
notifications: h,
modals: g,
player: p,
confirmAction: (n, r) => new Promise((() => {
v({
callback: async () => {
t(), await r(), e.callback();
},
title: n.localizedTitle,
description: n.localizedDescription
}), T("Confirm")();
}))
})()) : m ? (v({
callback: async () => {
e.callback(), t();
}
}), T("Confirm")()) : (e.callback(), t());
}
})))), [ s, y, t, g, h, f?.enableSupportAction, f?.isSupported, p, T, m ]);
return H.createElement(H.Fragment, null, H.createElement(fz, {
id: "Actions"
}, H.createElement(xN, {
style: EN
}, l ? H.createElement(HN, {
texture: l
}) : void 0, H.createElement(GN, {
text: gz(d, u, c)
})), H.createElement(hC, {
onDismiss: t,
onClose: n,
isActivated: r,
onActivated: i,
activateText: P,
holdActivateText: S,
holdRequired: a?.holdRequired,
holdTime: a?.holdTimeMs
}, o ? H.createElement(qN, {
style: EN
}, H.createElement(FN, {
texture: o.icon
}), H.createElement(GN, {
text: o.text
})) : void 0, b ? H.createElement("surface", {
style: hz
}, H.createElement(qw, null)) : H.createElement(yz, {
actions: k,
onDecline: E,
narrationItem: vC
}))), I ? H.createElement(fz, {
id: "Confirm"
}, H.createElement(mz, {
confirmAction: I,
dismiss: t,
narrationItem: vC
})) : void 0);
})), vz = ({id: e, ...t}) => H.createElement(LN, {
key: e
}, H.createElement(pz, {
initialStep: "Actions"
}, H.createElement(Iz, {
...t
}))), bz = $f.InputBindings.Action, [_z, Pz] = $s({
debugName: "gameInviteAddedEventState",
create: () => new as
}), Sz = () => {
const e = Pz(), t = cv("main"), {data: n} = oE(), r = yL(bz.Primary), i = Rs(), a = dk(), o = SO(), s = WT(), l = CL(), c = lm();
H.useEffect((() => {
if (n) {
const {Lobby: t, Party: d, PresenceSession: u, GameInvite: p, Voip: f, DeepLink: m} = c, {showNotification: y, showNotificationComponent: h} = o;
return e.subscribe((async (e, g, I) => {
const {senderProductId: v, senderPlayerNetworkId: b} = e;
if (n.personaInfo.playerNetworkId === b) return;
const _ = By.productId === v, P = I?.title ?? cm("PHOTON-SOCIAL_GAME-NAME-FALLBACK"), S = Zk(RO(g, n), {
allowEllipsis: !0
}), T = (E = I?.gameTitleLogo, aV(E, 80))?.url;
var E;
const k = i.getItem(bA, g.photonPlayerId), N = bk(k), C = jU(k, !0), O = C ? {
text: C,
icon: Up.INCOMPATIBLE_WHITE
} : void 0;
if (_) {
const {actions: n, telemetryToasterId: y} = gx(i, t, d, f, u, p, m, a, o, l, g.photonPlayerId, e, r, !1, s, {
pg_id: "tst_combo_invite_received",
destination_name: "actions",
context: {
tpid: I?.productId
}
}, c, N), v = uO(s, vx(i, s, 0, 0, p, a.showModal, o, g.photonPlayerId), {
pg_id: y,
msg_id: y,
destination_name: "actions",
option: "decline",
context: {
tpid: I?.productId
}
});
let b;
if (By.isPartyEnabled) {
const {data: t} = await HL(i, u, p, g.photonPlayerId, e), {partyId: n} = rR(t, [ "party" ]);
n && (b = (await d.isPartySupported({
partyIds: [ n ]
}))?.partySupport[0] ?? {
isSupported: !0
});
}
const _ = !!Dk(i).data, E = (EL(i) ?? 0) > 1 || _;
h(1, 4, (t => H.createElement(vz, {
gameName: P,
gameImage: T,
primaryId: S,
invite: e,
showConfirm: E,
actions: n,
declineAction: v,
disclaimer: O,
partySupport: b,
player: g,
...t
})), {
setting: 4,
telemetryInfo: {
pg_id: y,
msg_id: y,
context: {
tpid: I?.productId
}
}
}, {
hasActions: !0
});
} else y(1, 4, {
icon: T,
iconSize: 1,
text: cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_GAME_INVITE-RECEIVE", {
"%senderPrimaryID%": S
}),
infoArea: {
icon: Up.INFORMATION,
text: cm("PHOTON-SOCIAL_NOTIFICATION_INVITE-DESC_SWITCH-GAMES", {
"%gameName%": P
})
},
actions: [ {
id: "switch-game",
callback: () => {
_x(e, c, o, a)();
},
label: cm("PHOTON-SOCIAL_NOTIFICATION_BUTTON_VIEW-GAME"),
keyBinding: r
}, {
id: "decline",
callback: () => {
vx(i, s, 0, 0, p, a.showModal, o, g.photonPlayerId)();
},
label: cm("PHOTON-SOCIAL_NOTIFICATION_BUTTON_DECLINE"),
keyBinding: r
} ]
}, {
setting: 4
});
}));
}
}), [ l, s, e, n, r, t, i, a, o, c ]);
}, Tz = fs.Input.DeviceType, Ez = () => {
const {showNotification: e} = SO(), [t, n] = H.useState(new Set);
Bs((e => {
e !== Tz.NotSet && n((t => new Set(t).add(e)));
}), [], Mu, !0), H.useEffect((() => {
t.size > 1 && e(3, 3, {
icon: Up.INFORMATION,
text: cm("PHOTON-SOCIAL_NOTIFICATION_GLOBAL_INPUT_CONFIRM-NEW")
});
}), [ e, t.size ]);
};
function kz(e, t) {
const n = gh();
H.useEffect((() => {
n.addSessionEvent(e, t);
}), [ n, e, t ]);
}
var Nz = $f.InputBindings.Action, Cz = Oc({
marginEnd: vc(sd.DimensionSpace.large)
}), Oz = Oc({
marginStart: 0
}), Az = Oc({
flexDirection: "row",
alignItems: "center"
}), wz = ({primaryAction: e}, {getKeyBindingText: t}) => [ cm("PHOTON-SOCIAL_PARTY_LIST_ACTIONS_ADD-PLAYERS"), e ? cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-LIST-CONTROL_PRESS-ACTION", {
"%key%": t(e.keyBinding)
}) : void 0 ], Lz = Ii.observer((() => {
const {navigate: e} = cv(), t = WT(), n = yL(Nz.Primary), {data: r} = BJ(8e3), i = r?.[0][0]?.photonPlayerId, a = H.useCallback((() => {
dO(t, {
pg_id: "tab_party",
destination_name: "party_members",
msg_id: "party_members",
option: "add_players_to_voice_party",
context: {
tpid: By.productId
}
}), e(zy.link({
photonPlayerId: i
}));
}), [ i, e, t ]);
return H.createElement(pM, {
onClick: a,
id: "addPartyMembersLink",
primaryAction: {
callback: a,
keyBinding: n
},
narrationItem: wz
}, H.createElement("surface", {
style: Az
}, H.createElement(oM, {
texture: Up.PLUS,
style: Cz
}), H.createElement(kM, {
style: Oz,
color: sd.TextColorStandard.emphasized,
text: cm("PHOTON-SOCIAL_PARTY_LIST_ACTIONS_ADD-PLAYERS")
})));
})), [Rz, xz] = $s({
debugName: "sessionPlayersStore",
create: () => new Pg({
debugName: "sessionPlayers"
})
}), [Bz, Dz] = $s({
debugName: "recentlyMetPlayersStore",
create: () => new Pg({
debugName: "recentlyMetPlayers"
})
}), Mz = Ps({
debugName: "sessionPlayersState",
get: ({get: e}) => {
const t = e(rE).get().data?.tokenInfo.userId, n = e(Rz).get();
let r;
if (t && n.data) {
const e = n.data.getSortedList(), i = [];
let a = [];
const o = e.find((e => e.playerId === t));
o ? e.forEach((e => {
e.playerId !== t && (e.teamId === o.teamId ? i.push(e) : a.push(e));
})) : a = e, r = {
teammates: i,
opponents: a
};
}
return {
...n.toProps(),
data: r
};
}
}), Fz = Ps({
debugName: "recentlyMetListState",
get: ({get: e}) => {
const t = e(rE).get(), n = t.data?.tokenInfo.userId, r = e(zC).get(), i = e(EC).get(), a = e(Bz).get(), o = e(Mz);
let s;
if (n && o.data && a.data && r.data && i.data) {
let e = a.data.getSortedList();
const t = new Set(i.data.keys()), l = new Set(r.data.keys());
e = e.filter((e => e.playerId !== n && !l.has(e.photonPlayerId) && !t.has(e.playerId))), 
s = {
0: cO(o.data.teammates),
1: cO(o.data.opponents),
2: cO(e)
};
}
const l = Cg([ t, r, i, o, a ]);
return {
...l,
data: l.hasData ? s : void 0
};
}
}), Uz = e => cN(Dz().get(), (t => t.get(e))), Hz = (e, t, n) => {
const r = n.sort(((n, r) => n.photonPlayerId === e ? -1 : r.photonPlayerId === e ? 1 : HO(t, n.eaPlayerId, n.playerNetworkId) ? -1 : HO(t, r.eaPlayerId, r.playerNetworkId) ? 1 : n.joinTimestampMs - r.joinTimestampMs)), i = r.length;
return r.map(((e, t) => ({
...e,
telemetryInfo: {
pg_id: "tab_party",
msg_id: "party_members",
destination_name: "party_members",
index: {
item_index: t + 1,
total_items: i
},
context: {
tpid: By.productId
}
}
})));
}, Vz = (e, t) => {
const n = {};
t.forEach((e => {
n[e.photonPlayerId] = !0;
}));
const r = e.teammates.filter((e => !n[e.photonPlayerId])), i = r.length;
return r.map(((e, t) => ({
encounter: e,
photonPlayerId: e.photonPlayerId,
telemetryInfo: {
pg_id: "tab_party",
msg_id: "other_team_members",
destination_name: "other_team_members",
index: {
item_index: t + 1,
total_items: i
},
context: {
tpid: By.productId
}
}
})));
}, Jz = Ps({
debugName: "playersBySectionState",
get: ({get: e}) => {
const t = e(rE).get(), n = e(mA).get(), r = e(KR).get(), i = e(VI), a = e(Mz);
let o;
if (r.data) {
let e = [], s = [];
if (t.data && n.data && a.data) {
const r = Array.from(n.data.members.values());
e = Hz(t.data.photonPlayerId, n.data.partyLeader, r), s = Vz(a.data, r);
}
o = {
0: e,
1: s,
...ax(i, r.data, !0)
};
}
const s = Cg([ t, r, a ]);
return {
...s,
loading: n.loading || s.loading,
data: s.hasData ? o : void 0
};
}
}), zz = e => e.photonPlayerId, Gz = e => {
const t = iN(uN(Jz), e), n = hw(H.useMemo((() => {
return t.data ? [ ...(e = t.data)[0].map(zz), ...e[1].map(zz), ...e[2].map(zz), ...e[3].map(zz), ...e[4].map(zz) ] : [];
var e;
}), [ t.data ]), e);
return {
...Cg([ t, n ]),
data: t.data
};
}, jz = $f.InputBindings.Action, qz = (e, t) => {
const n = WT(), r = yL(jz.Primary), i = yL(jz.Secondary), {data: a} = oE(), {eaPlayerId: o, playerNetworkId: s} = tI(e), {data: l} = KM(e), {data: c} = KM(a?.photonPlayerId), d = o === a?.tokenInfo.userId, u = HF(e, t), {data: p} = cU(e), f = p?.isMyLobbyJoinable, {isActionTaken: m, performAction: y} = Ux(e), h = H.useCallback((() => {
y([ "lobby" ]);
}), [ y ]);
if (d && o && s) return c && dA(c, c) && u ? {
primaryAction: {
keyBinding: r,
label: u.text,
callback: u.action
}
} : {};
const g = f ? {
keyBinding: r,
label: cm("PHOTON-SOCIAL_PARTY_LIST_ACTIONS_LOBBY-INVITE"),
disabled: m,
disabledContent: H.createElement(aM, {
text: cm("PHOTON-SOCIAL_FRIENDS_LIST_ACTIONS_INVITE-SENT")
}),
callback: uO(n, h, t && {
...t,
status: "click",
option: "invite_to_lobby",
pg_id: "tab_party"
})
} : void 0, I = e => dA(c, l) && u ? {
keyBinding: e,
label: u.text,
callback: u.action
} : void 0;
return g ? {
primaryAction: g,
secondaryAction: I(i)
} : {
primaryAction: I(r)
};
}, Wz = e => yw(e), Yz = $f.Voip.VoipStatus, Kz = Oc({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
}), Xz = {
speakerStroke: Oc({
texture: Up.SPEAKER_STROKE
}),
speakerFill: Oc({
texture: Up.SPEAKER_FILL
}),
speakerMuteLine: Oc({
texture: Up.SPEAKER_MUTE_LINE
}),
speakingLines: Oc({
texture: Up.SPEAKING_LINES
}),
microphone: Oc({
texture: Up.MICROPHONE
}),
microphoneMute: Oc({
texture: Up.MICROPHONE_MUTE_LINE
})
}, Qz = sd.TextColorStandard.emphasized, $z = sd.IconColorStandard.error, Zz = sd.IconColorStandard.success, eG = H.memo((({status: e, style: t}) => {
if (e === Yz.None || e === Yz.Disabled) return null;
let n;
return e === Yz.Muted ? n = H.createElement(H.Fragment, null, H.createElement("surface", {
style: [ Kz, Xz.speakerStroke, Bc("color", Qz) ]
}), H.createElement("surface", {
style: [ Kz, Xz.speakerMuteLine, Bc("color", $z) ]
})) : e === Yz.Speaking ? n = H.createElement(H.Fragment, null, H.createElement("surface", {
style: [ Kz, Xz.speakerFill, Bc("color", Qz) ]
}), H.createElement("surface", {
style: [ Kz, Xz.speakingLines, Bc("color", Zz) ]
})) : e === Yz.Silent ? n = H.createElement("surface", {
style: [ Kz, Xz.speakerStroke, Bc("color", Qz) ]
}) : e === Yz.SelfMuted && (n = H.createElement(H.Fragment, null, H.createElement("surface", {
style: [ Kz, Xz.microphone, Bc("color", Qz) ]
}), H.createElement("surface", {
style: [ Kz, Xz.microphoneMute, Bc("color", $z) ]
}))), H.createElement("surface", {
style: [ TD.icon, t ]
}, n);
})), tG = $f.Voip.VoipStatus;
function nG(e, t) {
return e && e.status !== tG.Disabled && void 0 !== t && t.status !== tG.None && t.status !== tG.Disabled && e.channel === t.channel;
}
var rG = Oc({
marginLeft: vc(sd.DimensionSpace.small),
marginRight: vc(sd.DimensionSpace.small)
}), iG = Ii.observer((e => {
const {photonPlayerId: t, isMemberPartyLeader: n} = e, {data: r} = KM(t), {data: i} = oE(), {data: a} = KM(i?.photonPlayerId), o = n, s = nG(a, r), l = s || o, c = PV(a, r);
return l || c ? H.createElement(H.Fragment, null, l ? H.createElement(lM, null) : null, n && H.createElement(oM, {
texture: Up.PARTY_LEADER
}), s && r && H.createElement(eG, {
style: n ? rG : void 0,
status: r.status
}), H.createElement("surface", {
style: Bc("flex", 1)
}), c ? H.createElement(kM, {
hideOnPressedOrFocused: !0,
text: c
}) : null) : null;
})), aG = Ii.observer((({photonPlayerId: e, telemetryInfo: t}) => {
const {name: n, playerNetworkId: r} = DO(e), i = hU(e, t), a = qz(e, t), {handleFocus: o, handleBlur: s} = wV({
photonPlayerId: e,
telemetryInfo: t
}), {data: l} = Wz(e), {data: c} = gL(), d = fM({
playerName: n
});
if (!l || !c) return null;
const u = HO(c.partyLeader, l.eaPlayerId, l.playerNetworkId);
return H.createElement(pM, {
id: e,
narrationItem: d,
onFocus: o,
onBlur: s,
onClick: i,
...a
}, H.createElement(nM, {
playerNetworkId: r,
name: n,
style: Bc("flex", 0)
}), H.createElement(iG, {
isMemberPartyLeader: u,
photonPlayerId: e
}));
})), oG = Ii.observer((({encounter: e, telemetryInfo: t}) => {
const n = e.photonPlayerId, r = hU(n, t), i = qz(n, t), {handleFocus: a, handleBlur: o} = wV({
photonPlayerId: n,
telemetryInfo: t
}), {playerNetworkId: s} = TO(), l = e.displayName, c = AO(s, e.playerNetworkId), d = fM({
playerName: l
});
return H.createElement(pM, {
id: n,
narrationItem: d,
onFocus: a,
onBlur: o,
onClick: r,
...i
}, H.createElement(nM, {
playerNetworkId: c,
name: l,
style: Bc("flex", 0)
}), H.createElement(iG, {
photonPlayerId: n
}));
})), sG = Is({
debugName: "canCreatePartyState",
default: void 0
}), lG = Ps({
debugName: "canCreatePartyOnLeave",
get: ({get: e}) => !e(KL) && !!e(sG)?.isSupported
}), cG = () => {
const {Party: e} = lm(), t = Hs(sG), n = yA(), r = Rs(), i = SO(), a = WT();
Bs((e => {
e && n.reseed();
}), [ n ], lG), H.useEffect((() => {
const o = e.isCreatePartySupported({});
return t(o?.partySupport), e.onCreatePartySupportedChanged.subscribe((({partySupport: o}) => {
t(o), !o.isSupported && n.get().data && (n.updateParty(void 0), kR(r, e, n, i, a));
}));
}), [ r, i, e, n, a, t ]);
}, dG = () => Fs(sG), uG = $f.InputBindings.Action, pG = {
destination_name: "empty_state",
msg_id: "empty_state",
pg_id: "tab_party"
}, fG = () => {
const e = dG(), {data: t} = oE(), n = dk(), r = SO(), i = WT(), a = yL(uG.Primary), {DeepLink: o} = lm(), s = H.useMemo((() => {
const s = e?.enableSupportAction;
if (!s || !t) return;
return {
callback: () => (dO(i, {
pg_id: "tab_party",
destination_name: "empty_state",
msg_id: "empty_state",
option: s.telemetryName
}), ZL({
action: s,
DeepLink: o,
notifications: r,
modals: n,
player: {
eaPlayerId: t.tokenInfo.userId,
playerNetworkId: t.personaInfo.playerNetworkId,
personaId: t.personaInfo.personaId
},
showLoading: !0,
loadingTelemetryId: "overlay_enable_party"
})()),
keyBinding: a
};
}), [ e?.enableSupportAction, o, r, i, a, n, t ]);
fO(pG);
const l = e?.enableSupportAction?.localizedName;
return s && l ? {
action: s,
label: l
} : void 0;
}, mG = Oc({
marginTop: vc(sd.DimensionSpace.larger)
}), yG = Ii.observer((({action: e, label: t}) => H.createElement("surface", {
style: [ Zu(4), mG ]
}, H.createElement(Op, {
onClick: e?.callback,
input: e,
label: t,
id: "no-party-cta"
})))), hG = Ii.observer((() => {
const e = dG(), t = fG();
return H.createElement(CM, {
headline: e?.localizedTitle,
body: e?.localizedReason
}, t && H.createElement(yG, {
action: t.action,
label: t.label
}));
})), gG = $g({
eaPlayerId: "1",
playerNetworkId: "EA"
}), IG = Oc({
marginEnd: vc(sd.DimensionSpace.large)
}), vG = Oc({
marginStart: 0
}), bG = Oc({
flexDirection: "row",
alignItems: "center"
}), _G = Ii.observer((() => {
const e = dG();
return e?.localizedTitle && e?.localizedReason ? H.createElement(cF, null, H.createElement(Dw, {
text: e.localizedTitle,
color: sd.TextColorStandard.emphasized,
style: Bc("marginBottom", vc(sd.DimensionSpace.larger))
}), H.createElement(Gk, {
text: e.localizedReason
})) : null;
})), PG = Ii.observer((() => {
const e = fG();
let t = cm("PHOTON-SOCIAL_PARTY_EMPTY_NO-PARTY"), n = Up.PARTY;
e && (t = e.label, n = Up.EXIT);
const {handleBlur: r, handleFocus: i} = wV({
photonPlayerId: gG,
PlayerDetailsComponent: _G
}), a = H.useMemo((() => ({primaryAction: e}, {getKeyBindingText: n}) => [ t, e ? cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_FOCUSED-LIST-CONTROL_PRESS-ACTION", {
"%key%": n(e.keyBinding)
}) : void 0 ]), [ t ]);
return H.createElement(pM, {
onClick: e?.action.callback,
id: "partiesUnavailable",
primaryAction: e?.action,
narrationItem: a,
onFocus: i,
onBlur: r
}, H.createElement("surface", {
style: bG
}, H.createElement(oM, {
texture: n,
style: IG
}), H.createElement(kM, {
style: vG,
color: sd.TextColorStandard.emphasized,
text: t
})));
})), SG = {
0: Pu(),
1: Pu(),
2: Pu(),
3: Pu(),
4: Pu()
}, TG = Oc({
flexDirection: "row"
}), EG = Oc({
marginEnd: vc(8),
flexShrink: 1
}), kG = Oc({
flexShrink: 0,
marginEnd: vc(sd.DimensionSpace.large)
}), NG = ({title: e, partyMaxSize: t, partySize: n}) => H.createElement("surface", {
style: TG
}, H.createElement("surface", {
style: EG
}, H.createElement(CD, {
color: sd.TextColorStandard.emphasized,
style: Bc("textEllipsis", !0),
text: e
})), H.createElement(CD, {
color: sd.TextColorStandard.emphasized,
style: kG,
text: cm("PHOTON-SOCIAL_PARTY_LIST_SECTION-HEAD_PARTY-SIZE", {
"%currentPartySize%": String(n),
"%maxPartySize%": String(t)
})
}));
function CG() {
const e = lz("tab_party"), {isExpanded: t, onToggle: n} = FD({
id: "party-section-party-members",
isInitiallyExpanded: !0,
rememberExpandedState: !0,
onToggleCallback: pO("tab_party", "party_members")
}), {isExpanded: r, onToggle: i} = FD({
id: "party-section-other-team-members",
isInitiallyExpanded: !0,
rememberExpandedState: !0,
onToggleCallback: pO("tab_party", "other_team_members")
}), {data: a} = gL(), {data: o = 0} = IL((e => e.size)), s = a?.maxSize ?? 0, l = o >= s;
let c, d;
return a?.localizedPartyTitle ? (c = H.createElement(NG, {
partyMaxSize: s,
partySize: o,
title: a.localizedPartyTitle
}), d = cm("PHOTON-SOCIAL_PARTY_LIST_SECTION-HEAD_MEMBERS_OPTIONAL", {
"%partyName%": a.localizedPartyTitle,
"%currentPartySize%": String(o),
"%maxPartySize%": String(s)
})) : c = By.isTightlyCoupledParties ? cm("PHOTON-SOCIAL_PARTY_LIST_SECTION-HEAD_MEMBERS_TIGHTLY-COUPLED", {
"%gameName%": By.appName,
"%currentPartySize%": String(o),
"%maxPartySize%": String(s)
}) : cm("PHOTON-SOCIAL_PARTY_LIST_SECTION-HEAD_MEMBERS_LOOSELY-COUPLED", {
"%gameName%": By.appName,
"%currentPartySize%": String(o),
"%maxPartySize%": String(s)
}), H.useMemo((() => {
const a = new RV;
return a.addSection({
id: 0,
isExpanded: t,
onToggle: n,
title: c,
component: aG,
focusId: SG[0],
afterItemsComponent: l ? void 0 : Lz,
telemetryInfo: {
pg_id: "tab_party",
destination_name: "party_members",
msg_id: "party_members"
},
narrationTitle: d
}), a.addSection({
id: 1,
isExpanded: r,
onToggle: i,
title: cm("PHOTON-SOCIAL_PARTY_LIST_SECTION-HEAD_MEMBERS_TEAM-CURRENT"),
component: oG,
focusId: SG[1],
telemetryInfo: {
pg_id: "tab_party",
destination_name: "other_team_members",
msg_id: "other_team_members"
}
}), RV.createMergedSection(a, e);
}), [ t, n, c, l, d, r, i, e ]);
}
var OG = Ii.observer((() => {
const e = UV(Gz(8e3), CG()), t = e.data?.[0].length, n = H.useMemo((() => t ? void 0 : {
component: PG,
focusId: "partyEmptyListControl"
}), [ t ]), {rows: r} = FV(e.sectionsState, e.data, vJ, {
beforeListContent: n
});
return H.createElement(JU, {
loading: e.loading,
empty: e.empty,
emptyContent: H.createElement(hG, null),
error: e.error,
rows: r
});
})), AG = () => {
const e = Hs(Fu);
return H.useCallback((() => (e((e => e + 1)), () => e((e => Math.max(e - 1, 0))))), [ e ]);
}, wG = fs.Input.ButtonState, LG = fs.Input.DeviceType, RG = /[\u0020-\u007E\u00A0-\u017F\u0192\u01FA-\u01FF\u20AC\u2122\u2012\u2013\u2014\u2018\u2019\u201C\u201D\u0410-\u042F\u0490\u0406\u0402\u0452\u0403\u0453\u0456\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\u040B\u045B\u040C\u045C\u0455\u040E\u045E\u040F\u045F\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E]/, xG = class {
constructor(e, t, n, {value: r = "", onEnter: i, onChange: a, onActivate: o, onDeactivate: s, onButtonDown: l, onClear: c, maxTextLength: d, clearButton: u}) {
this.twinkle = e, this.disableInputHandler = t, this.resetPressedButtonEvent = n, 
this.state = {
text: "",
cursor: 0,
active: !1
}, this.shouldUseVirtualKeyboard = !0, this.inputAreaRef = H.createRef(), this.setText = An((e => {
this.state.text = e || "", this.onChange?.(this.state.text, "");
})), this._onButtonDown = An((e => {
const {text: t, cursor: n} = this.state;
switch (e.keyboardKeycode) {
case 13:
this.onEnter?.(t);
break;

case 27:
this.deactivate();
break;

case 37:
this.state.cursor = Math.max(0, n - 1);
break;

case 39:
this.state.cursor = Math.min(t.length, n + 1);
break;

case 8:
this.state.text = t.substring(0, n - 1) + t.substring(n), this.state.cursor = Math.max(0, n - 1), 
this.onChange?.(this.state.text, "");
break;

case 46:
this.state.text = t.substring(0, n) + t.substring(n + 1), this.state.cursor = Math.min(this.state.text.length, n), 
this.onChange?.(this.state.text, "");
}
this.clearButton && (this.clearButton.keyboardKeycode === e.keyboardKeycode || e.gamePadInput && this.clearButton.gamePadInput === e.gamePadInput) && (this.state.text = "", 
this.state.cursor = 0, this.onClear?.(), this.onChange?.("", "")), this.onButtonDown?.({
button: e,
state: this.state,
deactivate: this.deactivate
});
})), this.onTypingInput = An(((e, t) => {
e || "" !== t || (t = this.getTextFromClipboard());
let n = t.split("").filter((e => RG.test(e))).join("").substr(0, this.maxTextLength);
if (e) this.state = {
text: n,
cursor: n.length,
active: !1
}, this.onEnter?.(n), this.onDeactivate?.(); else {
if (!n) return;
const {text: e, cursor: t} = this.state;
if (e.length >= this.maxTextLength) return;
n = n.substr(0, this.maxTextLength - e.length), this.state = {
text: e.substring(0, t) + n + e.substring(t),
cursor: t + n.length,
active: !0
};
}
this.onChange?.(this.state.text, n);
})), this.deactivate = An((() => {
this.state.active && (this.state.active = !1, this.onDeactivate?.());
})), this.activate = An((() => {
if (this.state.active) return;
this.state.active = !0, this.onActivate?.(), this.resetPressedButtonEvent.trigger();
const e = this.shouldUseVirtualKeyboard;
e && this.twinkle.bindings.Input.showVirtualKeyboard({
characterType: fs.Input.KeyboardCharType.LatinFull,
defaultText: this.state.text,
title: "",
description: "",
maxTextLength: this.maxTextLength
});
const t = [ () => {
e && this.twinkle.bindings.Input.hideVirtualKeyboard({});
}, this.twinkle.bindings.Input.onButtonStateChanged.subscribe((e => {
e.state === wG.Down && this._onButtonDown(e.button);
})), this.twinkle.bindings.Input.onTypingInput.subscribe((e => {
const t = e.fromVirtualKeyboard, n = e.virtualKeyboardSuccess, r = e.typedInput;
t && !n ? this.deactivate() : this.onTypingInput(t, r);
})), this.twinkle.inputHandler.onMouseEventHandled.subscribe((e => {
if (e.event === fs.Input.MouseEventType.Click && (e.button === fs.Input.MouseButton.Left || e.button === fs.Input.MouseButton.Right)) {
const t = this.inputAreaRef.current?.getSurfaceId();
e.surfaces.every((e => e.surfaceId !== t)) && this.deactivate();
}
})), this.disableInputHandler() ];
yr((() => !this.state.active), (() => {
t.forEach((e => e()));
}));
})), this.state.text = r, this.state.cursor = r.length, this.clearButton = u, this.onEnter = i, 
this.onChange = a, this.onActivate = o, this.onDeactivate = s, this.onButtonDown = l, 
this.onClear = c, this.maxTextLength = d, Nr(this, {
state: ht,
shouldUseVirtualKeyboard: ht,
setShouldUseVirtualKeyboard: An
});
}
getState() {
return {
...this.state
};
}
setOnEnter(e) {
this.onEnter = e;
}
setOnChange(e) {
this.onChange = e;
}
setOnActivate(e) {
this.onActivate = e;
}
setOnDeactivate(e) {
this.onDeactivate = e;
}
setOnButtonDown(e) {
this.onButtonDown = e;
}
setOnClear(e) {
this.onClear = e;
}
setClearKeyButton(e) {
this.clearButton = e;
}
setShouldUseVirtualKeyboard(e) {
this.shouldUseVirtualKeyboard = e;
}
getTextFromClipboard() {
const e = 100 * this.maxTextLength;
try {
return this.twinkle.bindings.Clipboard.getText({
maxSizeBytes: e
})?.text || "";
} catch (e) {
return "";
}
}
}, BG = ({value: e, onEnter: t, onChange: n, onActivate: r, onDeactivate: i, onButtonDown: a, onClear: o, maxTextLength: s, clearButton: l}) => {
const c = Gu(), d = AG(), u = wf(), [p] = H.useState((() => new xG(c, d, u, {
value: e,
onEnter: t,
onChange: n,
onActivate: r,
onDeactivate: i,
onButtonDown: a,
maxTextLength: s,
clearButton: l,
onClear: o
})));
return Bs((e => {
const t = p.shouldUseVirtualKeyboard, n = !gc.isPC && e !== LG.MouseAndKeyboard;
p.setShouldUseVirtualKeyboard(n), t !== n && p.deactivate();
}), [ p ], Mu, !0), H.useEffect((() => {
p.setOnChange(n), p.setOnEnter(t), p.setOnActivate(r), p.setOnDeactivate(i), p.setOnButtonDown(a), 
p.setOnClear(o), p.setClearKeyButton(l);
}), [ p, n, t, r, i, a, e, o, l ]), H.useEffect((() => p.deactivate), [ p ]), {
setText: p.setText,
state: p.getState(),
activate: p.activate,
deactivate: p.deactivate,
inputAreaRef: p.inputAreaRef,
shouldUseVirtualKeyboard: p.shouldUseVirtualKeyboard
};
}, DG = vc(35), MG = Oc({
position: "absolute",
top: 0,
left: 0,
flexDirection: "row"
}), FG = Oc({
width: vc(2),
height: DG,
backgroundColor: sd.TextColorStandard.emphasized
}), UG = Oc({
flex: 1,
flexDirection: "row"
}), HG = Oc({
layer: !0,
layerClip: !0,
flex: 1,
position: "relative",
height: DG
}), VG = Rc((e => ({
textAlign: e ? "end" : "start"
})), {
color: sd.TextColorStandard.emphasized,
whiteSpace: "nowrap"
}), JG = Oc({
position: "absolute"
}), zG = "cursorTimeout", GG = ({text: e, cursor: t, active: n, shouldUseVirtualKeyboard: r}) => {
const i = TN(0), {timeout: a, disposeTimeout: o} = ru();
return H.useEffect((() => {
r || (n ? (i.set(1), a(zG, (() => {
i.to(0, {
duration: 500,
rebound: !0,
loopDelay: 500,
loopCount: -1
});
}), 1e3)) : (o(zG), i.set(0)));
}), [ n, i, e, t, o, a, r ]), i;
};
function jG(e, t) {
if (e.gamePadInput) return e.gamePadInput === t.primaryButton.gamePadInput || t.secondaryButtons.some((t => t.gamePadInput === e.gamePadInput));
}
var qG = Ii.observer((e => {
const {navigate: t} = tl(), {id: n, focusId: r, value: i, onChange: a, onEnter: o, onClear: s, onActivate: l, onDeactivate: c, primaryAction: d, secondaryAction: u, clearActionInfo: p, icon: f, openButtonLabel: m, placeholder: y, style: h, assistiveText: g, maxTextLength: I} = e, v = sp(5), b = sp(6), _ = sp(2), P = H.useCallback((({button: e, deactivate: n, state: r}) => {
switch (e.keyboardKeycode) {
case 27:
return void n();

case 38:
return n(), void t(2);

case 40:
return n(), void t(3);
}
jG(e, v) && (n(), t(2)), jG(e, b) && (n(), t(3)), jG(e, _) && o?.(r.text);
}), [ b, v, t, o, _ ]), S = ap(), {activate: T, deactivate: E, state: k, inputAreaRef: N, shouldUseVirtualKeyboard: C, setText: O} = BG({
value: i,
onChange: a,
onEnter: o,
onActivate: l,
onDeactivate: c,
onClear: s,
maxTextLength: I,
onButtonDown: P,
clearButton: p?.keyBinding.primaryButton
}), A = GG(k), [w, L] = H.useState({
outerBounds: 1,
innerBounds: 0
}), R = dp({
id: n,
focusId: r,
isFocused: e => e || k.active
}), {isFocused: x, isPressed: B} = R;
Ws((({get: e}) => {
if (k.active) {
const t = e(ll);
t && t !== R.focusItem.focusId && E();
}
}), [ E, R.focusItem.focusId, k.active ]), Ww(C || !x || k.active ? void 0 : {
callback: T,
action: 2
});
const D = (x || B) && (!!C || k.active), M = k.active && w.innerBounds > w.outerBounds ? w.innerBounds - w.outerBounds : 0, F = Dc((() => ({
left: -M
})), [ M ]), {onOuterBounds: U, onInnerBounds: V} = H.useMemo((() => ({
onOuterBounds: e => L((t => t.outerBounds === e.width ? t : {
...t,
outerBounds: e.width
})),
onInnerBounds: e => L((t => t.innerBounds === e.width ? t : {
...t,
innerBounds: e.width
}))
})), []), J = H.useMemo((() => {
if (p?.label && p?.keyBinding) return {
label: p.label,
keyBinding: p.keyBinding,
callback: () => {
O(""), s?.();
}
};
}), [ p?.keyBinding, p?.label, s, O ]);
let z;
D && (C ? z = H.createElement(iM, {
primaryAction: {
callback: T,
keyBinding: _,
label: m
}
}) : d && (z = H.createElement(iM, {
primaryAction: d,
secondaryAction: u || (k.text ? J : void 0)
})));
const {text: G, cursor: j} = k, q = S ? G.substring(j) : G.substring(0, j);
return H.createElement("surface", {
style: h
}, H.createElement(WD, {
borderOutside: !0,
interaction: R,
ref: N
}, H.createElement("surface", {
style: Bc("flex", 1),
onClick: T
}, H.createElement(YD, null, H.createElement("surface", {
style: UG
}, void 0 !== f && H.createElement(oM, {
style: Bc("marginEnd", vc(sd.DimensionSpace.medium)),
texture: f
}), H.createElement("surface", {
style: HG,
onBounds: U
}, H.createElement("surface", {
style: [ JG, F ]
}, !C && k.active && H.createElement("surface", {
style: MG,
onBounds: V
}, H.createElement(Gk, {
style: [ Bc("opacity", 0), VG(S) ],
text: q
}), H.createElement("surface", {
style: [ FG, A.propStyle("opacity") ]
})), G ? H.createElement(QD, {
style: VG(S),
wrapperStyle: Bc("padding", 0),
text: G
}) : H.createElement(Gk, {
text: y
})))))), z), !!g && H.createElement(Gk, {
style: Bc("marginTop", vc(sd.DimensionSpace.smallest)),
text: g
}));
})), WG = e => {
const t = sd.TextColorStandard.emphasized;
return H.createElement(kD, {
style: e.style
}, e.primaryTitle ? H.createElement(CD, {
text: e.primaryTitle,
color: t
}) : null, e.secondaryTitle ? H.createElement(CD, {
text: e.secondaryTitle,
color: t
}) : null);
}, YG = ({text: e, children: t}) => (pu((() => e), [ e ], 1), H.createElement(H.Fragment, null, t)), KG = $f.InputBindings.Action, XG = (e, t = WC, n) => {
const r = Us(t, e), i = KF(e, n), a = Wx(e, n), o = xw(e, n), s = WF(e, n), l = yL(KG.Primary), c = yL(KG.Secondary), d = {
keyBinding: l
};
switch (r) {
case 3:
return {};

case 0:
case 1:
if (i) return {
primaryAction: {
...d,
label: i.text,
callback: i.action
}
};
break;

case 2:
case 4:
if (2 === r && s && !a.isActionTaken) return {
primaryAction: {
...d,
label: cm("PHOTON-SOCIAL_PLAYER-SEARCH_LIST_ACTIONS_VIEW-REQUEST"),
callback: o
},
secondaryAction: {
keyBinding: c,
label: cm("PHOTON-SOCIAL_PLAYER-SEARCH_LIST_ACTIONS_REPORT"),
callback: s.action
}
};
if (a && s) return {
primaryAction: {
...d,
label: cm("PHOTON-SOCIAL_PLAYER-SEARCH_LIST_ACTIONS_ADD-FRIEND"),
callback: a.performAction,
disabled: a.isActionTaken,
disabledContent: H.createElement(aM, {
text: cm("PHOTON-SOCIAL_PLAYER-SEARCH_LIST_ACTIONS_REQUEST-SENT")
})
},
secondaryAction: {
keyBinding: c,
label: cm("PHOTON-SOCIAL_PLAYER-SEARCH_LIST_ACTIONS_REPORT"),
callback: s.action
}
};
break;

case void 0:
return {};

default:
Ts("Unhandled case");
}
return {};
}, QG = Bh.object({}, {
value: Bh.string
}), $G = Bh.object({
personaId: QG,
pidId: QG,
displayName: QG,
nameSpaceName: QG
}), ZG = Bh.object({
personas: Bh.array($G),
searchPhrase: Bh.string
}), ej = {
cem_ea_id: "EA",
ps3: "PSN",
steam: "STEAM",
nx: "NINTENDO",
xbox: "XBOX",
stadia: "GOOGLE_STADIA"
};
function tj(e) {
return ej[e] || "EA";
}
var nj = Is({
debugName: "playerSearchCache",
default: {
loading: !1,
skipped: !0
}
}), rj = Is({
debugName: "inputFieldValueState",
default: ""
});
function ij(e, t) {
return "EA" === e.playerNetworkId && e.displayName.toLowerCase() === t.toLowerCase();
}
var aj = Ps({
debugName: "playerSearchList",
get: ({get: e}) => {
const t = e(rE).get(), n = t.data?.personaInfo.playerNetworkId;
if (void 0 === n) return {
...t.toProps(),
data: void 0
};
const r = (i = e(nj), {
...i,
uninitialized: i.skipped
});
var i;
if (void 0 === r.data) return r;
const {searchPhrase: a, players: o} = r.data, s = e(VI), l = Cg(o.map((e => s.get(e.photonPlayerId)))), c = o.filter((e => s.getMaybeUntracked(e.photonPlayerId)?.data));
return {
...Cg([ r, {
...l,
error: void 0
} ]),
data: {
searchPhrase: a,
players: c.sort(((e, t) => e.playerNetworkId === n ? -1 : t.playerNetworkId === n ? 1 : ij(e, a) ? -1 : ij(t, a) ? 1 : 0))
}
};
}
});
function oj(e) {
const t = [];
return e.personas.forEach((e => {
if (!(e.pidId.value && e.personaId.value && e.displayName.value && e.nameSpaceName.value)) return;
const n = tj(e.nameSpaceName.value), r = e.pidId.value;
t.push({
playerNetworkId: n,
personaId: e.personaId.value,
photonPlayerId: $g({
eaPlayerId: r,
playerNetworkId: n
}),
eaPlayerId: r,
displayName: e.displayName.value
});
})), {
searchPhrase: e.searchPhrase,
players: t
};
}
var sj = new Set(Object.keys(ej));
function lj(e) {
const {PlayerSearch: t} = lm(), n = JI(), r = Bg(), i = gh();
return Wh((async e => {
if (e = e?.trim(), !e) return {
personas: [],
searchPhrase: e
};
const a = Date.now(), o = () => {
i.addEvent({
eventType: "photon_search",
duration_ms: Date.now() - a
});
}, s = await t.SearchPlayers({
query: {
value: `displayName="${Ff(e, '"', '\\"')}"`
},
namespaces: []
});
if (!s?.personas?.length) return o(), {
personas: [],
searchPhrase: e
};
const l = [], c = [];
return s.personas.forEach((e => {
e.pidId?.value && e.nameSpaceName?.value && sj.has(e.nameSpaceName.value) && (l.push($g({
eaPlayerId: e.pidId.value,
playerNetworkId: tj(e.nameSpaceName.value)
})), c.push(e));
})), await r(n.getByIds(l)), o(), {
personas: c,
searchPhrase: e
};
}), [ r, t, n, i ], ZG, {
cache: nj,
transformResponse: oj,
skipQueryOnMount: !0,
debugName: "playerSearch",
onError: e?.onError,
onSuccess: e?.onSuccess
});
}
function cj(e, t, n, r) {
e.triggerSearch({
term: t.searchPhrase,
type: "friend_search",
duration_ms: r ?? 0,
status: n,
result_count: t.players.length,
result: t.players.map((e => e.eaPlayerId + "_" + e.playerNetworkId))
});
}
function dj() {
const e = WT(), {showErrorNotification: t} = SO(), n = H.useCallback(((n, r) => {
r && cj(e, {
searchPhrase: r,
players: []
}, "error", 0), t({}, "search player", n.error);
}), [ e, t ]), r = lj({
onSuccess: H.useCallback((t => {
t.data && cj(e, t.data, "success", t.duration);
}), [ e ]),
onError: n
}), i = Fs(aj);
return {
fetch: r.fetch,
...i
};
}
var uj = $f.InputBindings.Action, pj = "narrate-search-action", fj = Oc({
marginBottom: vc(sd.DimensionSpace.larger),
flexDirection: "row",
flexWrap: "wrap"
}), mj = Oc({
marginEnd: vc(sd.DimensionSpace.medium)
}), yj = Ii.observer((() => {
const {data: e} = cE(), t = yw($g({
eaPlayerId: e,
playerNetworkId: "EA"
})).data;
return e && t ? H.createElement(cF, null, H.createElement(Dw, {
color: sd.TextColorStandard.emphasized,
text: cm("PHOTON-SOCIAL_PLAYER-SEARCH_INFO-CARD_TITLE_ADDING-FRIENDS"),
style: Bc("marginBottom", vc(sd.DimensionSpace.larger))
}), H.createElement("surface", {
style: fj
}, H.createElement(Kd, {
text: cm("PHOTON-SOCIAL_PLAYER-SEARCH_INFO-CARD_YOUR-ID"),
color: sd.TextColorStandard.emphasized,
style: mj
}), H.createElement(tN, {
name: t.displayName,
playerNetworkId: t.playerNetworkId
})), H.createElement(Gk, {
text: cm("PHOTON-SOCIAL_PLAYER-SEARCH_INFO-CARD_DESC")
})) : H.createElement("surface", null);
})), hj = Oc({
marginBottom: vc(sd.DimensionSpace.medium)
}), gj = Ii.observer((({id: e, photonPlayerId: t, telemetryInfo: n}) => {
const {name: r, playerNetworkId: i} = DO(t), a = {
pg_id: "tab_search",
destination_name: "search_results",
...n
}, o = hU(t, a), s = XG(t, void 0, a), {handleFocus: l, handleBlur: c} = wV({
photonPlayerId: t
}), d = fM({
playerName: r
});
return H.createElement(pM, {
id: e,
narrationItem: d,
onFocus: l,
onBlur: c,
onClick: o,
style: hj,
...s
}, H.createElement(nM, {
playerNetworkId: i,
name: r
}));
})), Ij = H.memo((({data: e, searchStr: t}) => (fO({
pg_id: "tab_search",
msg_id: "search_results",
destination_name: "search_results"
}), H.createElement(H.Fragment, null, H.createElement(WG, {
style: Bc("marginBottom", vc(sd.DimensionSpace.larger)),
primaryTitle: cm("PHOTON-SOCIAL_PLAYER-SEARCH_SEARCH-RESULTS_TITLE", {
"%numberSearchResults%": String(e.length),
"%playerSearchID%": t
})
}), e.map(((t, n) => H.createElement(gj, {
key: t.photonPlayerId,
id: t.photonPlayerId,
photonPlayerId: t.photonPlayerId,
telemetryInfo: {
index: {
total_items: e.length,
item_index: n + 1
}
}
}))))))), vj = Ii.observer((e => {
const {assistiveText: t, onSearch: n} = e, [r, i] = Gs(rj), a = yL(uj.Primary), o = yL(uj.Secondary), s = WT(), l = uu(), c = Cu(), [d, u] = H.useState(!1), {timeout: p, disposeTimeout: f} = ru();
fO({
pg_id: "tab_search",
msg_id: "search_input",
destination_name: "search_input"
}), fu((({getKeyBindingText: e}) => cm("PHOTON-SOCIAL_NARRATION_PLAYER-SEARCH_INPUT-FIELD-FOCUSED", {
"%primaryKey%": e(a)
})), [ a ], c);
const m = H.useCallback((e => {
n?.(e), f(pj), dO(s, {
destination_name: "search_input",
msg_id: "search_input",
option: "search",
pg_id: "tab_search"
});
}), [ f, n, s ]), y = Ys((({get: e}) => () => {
m(e(rj));
}), [ m ]), h = H.useCallback((() => {
u(!0), gc.isPC || dO(s, {
destination_name: "search_input",
msg_id: "search_input",
option: "open",
pg_id: "tab_search"
});
}), [ s ]), g = H.useCallback((() => {
u(!1);
}), []);
H.useEffect((() => {
f(pj), d && r.length && p(pj, (() => {
l.narrate(cm("PHOTON-SOCIAL_NARRATION_PLAYER-SEARCH_SEARCH-ACTION", {
"%primaryKey%": l.getKeyBindingText(a)
}));
}), 2e3);
}), [ f, r, d, l, a, p ]);
const I = H.useCallback(((e, t) => {
i(e), t.length && l.narrateNow(t);
}), [ l, i ]), v = n && r ? {
label: cm("PHOTON-SOCIAL_PLAYER-SEARCH_ACTIONS_SEARCH"),
keyBinding: a,
callback: y
} : void 0, b = {
label: cm("PHOTON-SOCIAL_PLAYER-SEARCH_ACTIONS_CLEAR"),
keyBinding: o
}, _ = H.useCallback((() => {
dO(s, {
destination_name: "search_input",
msg_id: "search_input",
pg_id: "tab_search",
option: "clear"
});
}), [ s ]);
return H.createElement(qG, {
id: "search-field",
focusId: c,
icon: Up.SEARCH,
style: Bc("marginBottom", vc(sd.DimensionSpace.larger)),
placeholder: cm("PHOTON-SOCIAL_PLAYER-SEARCH_SEARCH-BAR_PLACEHOLDER"),
onEnter: m,
onChange: I,
onClear: _,
onActivate: h,
onDeactivate: g,
value: r,
primaryAction: v,
clearActionInfo: b,
maxTextLength: 50,
openButtonLabel: cm("PHOTON-SOCIAL_PLAYER-SEARCH_ACTIONS_OPEN"),
assistiveText: t
});
})), bj = Ii.observer((() => {
const {data: e, loading: t, error: n, fetch: r} = dj();
if (oE().error) return H.createElement(AU, null);
let i;
return t ? i = H.createElement(qD, {
numSections: 1,
numRows: 1
}) : !n && e && (i = e.players.length ? H.createElement(YG, {
text: cm("PHOTON-SOCIAL_NARRATION_PLAYER-SEARCH_VIEW-RESULTS")
}, H.createElement(Ij, {
data: e.players,
searchStr: e.searchPhrase
})) : H.createElement(YG, {
text: cm("PHOTON-SOCIAL_PLAYER-SEARCH_NO-SEARCH-RESULTS")
}, H.createElement(zw, {
style: Bc("marginTop", vc(sd.DimensionSpace.larger)),
headline: cm("PHOTON-SOCIAL_PLAYER-SEARCH_NO-SEARCH-RESULTS")
}))), H.createElement(VU, {
contentHasNoScrollbar: !0,
fallbackContent: H.createElement(yj, null)
}, H.createElement(vj, {
onSearch: r
}), i);
})), _j = vc(64), Pj = Oc({
backgroundColor: "#00000001",
flex: 1
}), Sj = Oc({
flex: 1,
position: "relative"
}), Tj = Oc({
position: "absolute",
left: 0,
right: 0
}), Ej = Ii.observer((e => {
const {id: t, height: n, children: r, style: i, scrollbarAlwaysVisible: a} = e, o = cf(), [s, l] = H.useState(0), [c, d] = H.useState(n), u = H.useRef(0), p = s < 0, f = 0 === c || c + s - n > 0, m = c > n, y = m ? -s / (c - n) : 0, h = Dc((() => ({
height: n
})), [ n ]), g = Dc((() => ({
translateY: s
})), [ s ]), I = -(c - n), v = H.useCallback((e => {
if (!m) return void l(0);
const t = e.scrollDelta * vc(sd.ScrollFactor.fast);
l((e => Math.max(I, Math.min(0, e + t))));
}), [ m, I, 0 ]), b = H.useCallback((e => {
l(m ? Math.max(I, Math.min(0, -e)) : 0);
}), [ m, I, 0 ]), _ = H.useCallback((e => {
const t = e.height;
u.current = e.y, l((e => n >= t ? 0 : t - n < Math.abs(e) ? -t + n : e)), d(t);
}), [ n ]);
Ws((({get: e, getItem: t}) => {
if (e(pl)) return;
if (c <= n) return void l(0);
const r = t(xl, o), i = t(al, r);
if (!r || !i) return;
const a = (s = t(bl, o), Object.keys(s).sort(((e, t) => (s[e]?.y || 0) - (s[t]?.y || 0))));
var s;
const d = a[0], p = a[a.length - 1];
l(d !== r ? p !== r ? e => {
const t = Math.floor(i.y - u.current);
if (-t + _j > e) return -t + _j;
const r = i.height;
return -t - r + n - _j < e ? -t - r + n - _j : e;
} : -c + n : 0);
}), [ o, n, c ]);
const P = df(o), {isHovered: S, hoverHooks: T} = pF();
return H.createElement(uf, {
id: o
}, H.createElement("surface", {
onMouseScroll: v,
...T,
style: [ Bc("paddingRight", vc(sd.DimensionSpace.large) + fF), h, Pj, i ]
}, H.createElement(kU, {
fadeTop: p,
fadeBottom: f,
fadeHeight: _j,
style: [ h, Sj, i ]
}, H.createElement("surface", {
style: [ Tj, g ],
onBounds: _
}, r)), m && H.createElement(PF, {
setContentScrollPosition: b,
visible: a || P || S,
scrollPercent: y,
containerHeight: n,
contentHeight: c
})));
})), kj = ({children: e}) => {
const [t, n] = H.useState(0);
return H.createElement("surface", {
onBounds: e => n(e.height),
style: Bc("flex", 1)
}, e(t));
}, Nj = ({children: e, ...t}) => H.createElement(kj, null, (n => H.createElement(Ej, {
...t,
height: n,
style: 0 === n ? Bc("flex", 1) : void 0
}, e))), Cj = class {
constructor(e) {
this.moby = e, this.focusIds = ht.box([], {
deep: !1
}), this.hasFocus = bt((() => {
const e = this.moby.get(ll);
return !!e && this.focusIds.get().includes(e);
}));
}
addFocusId(e) {
return As((() => {
this.focusIds.set(this.focusIds.get().concat(e));
})), () => {
As((() => {
const t = this.focusIds.get(), n = t.indexOf(e);
if (n > -1) {
const e = t.slice();
e.splice(n, 1), this.focusIds.set(e);
}
}));
};
}
setMetadata(e, t) {
As((() => {
this.metadata || (this.metadata = ht.box({}, {
deep: !1
})), this.metadata.set({
...this.metadata.get(),
[e]: t
});
}));
}
getMetadata(e) {
return this.metadata || (this.metadata = ht.box({}, {
deep: !1
})), this.metadata.get()[e];
}
}, [Oj, Aj] = Es("NarrationGroupContext"), wj = () => {
const e = Rs();
return H.useState((() => new Cj(e)))[0];
}, Lj = KD, Rj = Oc({
padding: vD,
marginBottom: vc(sd.DimensionSpace.smaller)
}), xj = e => {
const {item: t, narrationItem: n, style: r} = e, i = Cu(e.focusId), a = sp(2), o = pc(a.primaryButton), s = Aj(), l = {
keyBinding: a,
callback: t.action
};
return fu((e => t.isDisabled ? void 0 : n({
keyBinding: a,
label: t.text,
group: s,
icon: t.icon
}, e)), [ n, a, t.text, t.icon, t.isDisabled, s ], i), H.useEffect((() => s.addFocusId(i)), [ s, i ]), 
t.isDisabled && t.disabledContent ? H.createElement("surface", {
style: Rj
}, t.disabledContent) : H.createElement(Lj, {
key: t.id,
id: t.id,
onClick: t.isDisabled ? void 0 : t.action,
input: t.isDisabled ? void 0 : l,
isActive: t.isActive,
isDisabled: t.isDisabled,
focusId: i,
transparent: !0,
style: [ r, Bc("marginBottom", vc(sd.DimensionSpace.smaller)) ]
}, void 0 !== t.inputIconOverride && H.createElement(oM, {
texture: t.inputIconOverride,
style: Bc("marginEnd", vc(sd.DimensionSpace.small))
}), !t.inputIconOverride && o ? H.createElement(sM, {
type: o,
showOnPressedOrFocused: !0,
style: Bc("marginEnd", vc(sd.DimensionSpace.small))
}) : null, H.createElement(tM, {
text: t.text
}), t.icon ? H.createElement(oM, {
texture: t.icon,
style: Bc("marginStart", vc(sd.DimensionSpace.small))
}) : null);
}, Bj = Oc({
flexDirection: "column"
}), Dj = ({items: e, narrationItem: t}) => {
const n = wj();
return H.createElement(Oj.Provider, {
value: n
}, e.filter((e => e.actions.length)).map(((e, n) => H.createElement("surface", {
style: Bj,
key: e.id
}, !!e.title && H.createElement(CD, {
color: sd.ColorNeutral._0,
style: [ Bc("marginBottom", vc(sd.DimensionSpace.small)), 0 !== n ? Bc("marginTop", vc(sd.DimensionSpace.larger)) : void 0 ],
text: e.title
}), e.actions.map((e => H.createElement(xj, {
key: e.id,
item: e,
narrationItem: t
})))))));
}, Mj = (Oc({
marginBottom: vc(sd.DimensionSpace.larger)
}), Bc("marginBottom", vc(sd.DimensionSpace.largest))), Fj = Oc({
color: sd.TextColorStandard.emphasized
}), Uj = [ Oc({
marginBottom: vc(53)
}), Fj ];
function Hj(e, t) {
const n = e?.params[t], r = !!e, i = H.useRef(n);
return H.useEffect((() => {
r && (i.current = n);
}), [ r, t, n ]), n ?? i.current;
}
var Vj = 755, Jj = vc(60), zj = vc(66), Gj = {
portal: HE,
background: 1,
contextualMenu: 2,
menu: 3
}, jj = Oc({
zOffset: Gj.portal,
flexDirection: "row"
}), qj = Oc({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
width: vc(Vj),
paddingRight: vc(sd.DangerZone.width),
backgroundColor: sd.BackgroundColor.base,
flexDirection: "column",
zOffset: Gj.menu
}), Wj = Oc({
zOffset: Gj.background,
flex: 1
}), Yj = Oc({
zOffset: Gj.contextualMenu,
position: "absolute",
left: vc(Vj),
top: 0,
bottom: 0,
width: vc(731),
flexDirection: "row"
}), Kj = Oc({
width: vc(2),
backgroundColor: sd.BackgroundColor.alt2
}), Xj = Oc({
position: "absolute",
right: ep.width,
bottom: ep.height,
color: Zp(sd.TextColorStandard.emphasized, .2)
}), Qj = Oc({
flex: 1,
backgroundColor: sd.BackgroundColor.base,
paddingLeft: vc(sd.DimensionSpace.largest),
paddingRight: vc(sd.DimensionSpace.largest)
}), $j = {
duration: sd.AnimationTime.faster,
easing: sd.AnimationEasing.accelerate
}, Zj = H.memo((e => {
const {children: t, isVisible: n} = e, r = TN(-Jj), i = TN(0), [a, o] = H.useState(n), {fullScreenHorizontalMargin: s, fullScreenVerticalMargin: l} = qu(), c = Dc((() => ({
left: s + vc(Vj)
})), [ s ]), d = Dc((() => ({
paddingTop: l + vc(sd.DangerZone.height),
paddingBottom: l + vc(sd.DangerZone.height) + zj
})), [ l ]);
return H.useEffect((() => {
if (!n) {
r.to(-Jj, $j), i.to(0, $j);
const e = setTimeout((() => {
o(!1);
}), $j.duration);
return () => {
clearTimeout(e);
};
}
o(!0), r.to(0, $j), i.to(1, $j);
}), [ n, i, r ]), H.createElement(uf, {
disable: !n
}, a || n ? H.createElement("surface", {
style: [ Yj, c, r.propStyle("translateX"), i.propStyle("opacity") ]
}, H.createElement(H.Fragment, null, H.createElement("surface", {
style: Kj
}), H.createElement("surface", {
style: [ Qj, d ]
}, t))) : null);
}));
var eq = ({children: e, isVisible: t, contextualSheet: n, onDimmerClick: r}) => {
const i = TN(-Jj), a = TN(0), o = TN(0), [s, l] = H.useState(t), {fullscreenStyle: c, fullScreenHorizontalMargin: d, fullScreenVerticalMargin: u} = qu(), p = Dc((() => ({
paddingTop: u + vc(sd.DangerZone.height),
paddingBottom: u + vc(sd.DangerZone.height) + zj,
paddingLeft: d + vc(sd.DangerZone.width),
width: d + vc(Vj)
})), [ d, u ]);
return H.useEffect((() => {
if (!t) {
i.to(-Jj, $j), a.to(0, $j), o.to(0, $j);
const e = setTimeout((() => {
l(!1);
}), $j.duration);
return () => {
clearTimeout(e);
};
}
l(!0), i.to(0, $j), a.to(1, $j), o.to(1, $j);
}), [ o, t, a, i ]), s || t ? H.createElement("surface", {
style: [ jj, c ]
}, H.createElement("surface", {
style: [ qj, p, i.propStyle("translateX"), a.propStyle("opacity") ]
}, e), n, H.createElement("surface", {
text: (f = "main_41713", f.split("_").pop() || ""),
style: [ Xj, a.propStyle("opacity"), jd ]
}), H.createElement("surface", {
style: [ Wj, o.propStyle("opacity") ],
onClick: r
})) : null;
var f;
};
function tq() {
const {navigate: e} = cv();
return H.useCallback((() => e(uv.link())), [ e ]);
}
var nq = Ii.observer((e => {
const {isVisible: t, ...n} = e, {addZoom: r, removeZoom: i} = rm();
return H.useEffect((() => {
if (t) return r(), () => {
setTimeout((() => i()), 100);
};
}), [ r, t, i ]), H.createElement(eq, {
isVisible: t,
...n
});
})), rq = $f.InputBindings.Action, iq = Oc({
padding: vc(24),
marginBottom: vc(sd.DimensionSpace.larger)
}), aq = ({label: e, group: t, keyBinding: n}, {getKeyBindingText: r}) => [ cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_PLAYER-ACTIONS_ACTION-FOCUSED", {
"%actionName%": e,
"%primaryKey%": r(n)
}), t.getMetadata(0) ], oq = Ii.observer((({photonPlayerId: e, onClose: t}) => {
const n = bU(e, t);
return H.createElement(Dj, {
items: n,
narrationItem: aq
});
})), sq = Ii.observer((({photonPlayerId: e}) => {
const {navigate: t} = cv(), n = H.useCallback((() => t(uv.link())), [ t ]), {data: r, loading: i} = yw(e, 8e3), {data: a} = mU(e, !0), {name: o} = DO(e), s = WU(e);
return pu((() => o ? cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_PLAYER-ACTIONS_MENU-OPEN", {
"%primaryID%": o
}) : void 0), [ o ], 0), H.useEffect((() => {
i || r || n();
}), [ n, e, r, i ]), H.createElement(H.Fragment, null, H.createElement(Dw, {
text: cm("PHOTON-SOCIAL_ACTIONS-PLAYER_TITLE"),
style: [ Fj, Bc("marginBottom", vc(sd.DimensionSpace.largest)) ]
}), H.createElement(MO, {
photonPlayerId: e,
style: Bc("marginBottom", vc(sd.DimensionSpace.large)),
textStyle: Bc("fontSize", bc(sd.TextSizeHeading.smaller)),
useEllipsis: !1
}), a.length ? H.createElement("surface", {
style: [ iq, Yp({
backgroundColor: sd.BackgroundColor.body,
borderColor: void 0
}) ]
}, a.map(((e, t) => H.createElement(FO, {
key: e.photonPlayerId,
player: e,
style: 0 !== t ? Bc("marginTop", vc(sd.DimensionSpace.small)) : void 0
})))) : null, s && H.createElement(qU, {
photonPlayerId: e,
bodyTextStyle: Bc("marginStart", vc(sd.DimensionSpace.macro))
}), H.createElement(Nj, {
id: "player_actions"
}, r && H.createElement(oq, {
photonPlayerId: e,
onClose: n
})));
})), lq = {
pg_id: "overlay_player_actions_self",
msg_id: "overlay_player_actions_self"
}, cq = {
pg_id: "overlay_player_actions_other",
msg_id: "overlay_player_actions_other"
}, dq = Ii.observer((({match: e}) => {
const {navigate: t} = cv(), n = WT(), {data: r} = oE(), i = Hj(e, "photonPlayerId"), {isCurrentPhotonUser: a} = i ? dE(aI(i), r) : {
isCurrentPhotonUser: !1
}, o = a ? lq : cq, s = !!e;
fO(s ? o : void 0);
const l = H.useCallback((() => {
t(uv.link()), dO(n, {
...o,
option: "back"
});
}), [ t, n, o ]), c = rq.Decline, d = yL(c);
return AB(s ? {
action: c,
callback: l,
label: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_BACK")
} : void 0), pu((({getKeyBindingText: e}) => cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_SETTINGS_MENU-EXIT", {
"%backKey%": e(d)
})), [ d ], 2, s), i ? H.createElement(nq, {
onDimmerClick: l,
isVisible: s
}, H.createElement(uf, {
disable: !s
}, H.createElement(sq, {
photonPlayerId: aI(i)
}))) : null;
})), uq = $f.InputBindings.Action, pq = {
destination_name: "empty_state",
msg_id: "empty_state",
option: "player_list_empty"
}, fq = Ii.observer((({emptyState: e}) => {
const t = yL(uq.Primary), {DeepLink: n} = lm(), r = SO(), i = dk(), {data: a} = oE();
if (fO({
...pq,
pg_id: "tab_player_list",
option: void 0
}), !a) return null;
const o = e.playerActions.map((e => {
const o = ZL({
action: e,
DeepLink: n,
notifications: r,
modals: i,
player: {
eaPlayerId: a.tokenInfo.userId,
personaId: a.personaInfo.personaId,
playerNetworkId: a.personaInfo.playerNetworkId
},
loadingTelemetryId: "overlay_player_list_action"
});
return H.createElement(AM, {
onClick: o,
input: {
keyBinding: t,
callback: o
},
label: e.localizedName,
id: "player_list_empty_action-" + e.playerActionId,
telemetryInfo: {
pg_id: "tab_player_list",
...pq,
option: e.telemetryName
},
key: "action-" + e.playerActionId
});
}));
return H.createElement(CM, {
headline: e.localizedTitle,
body: e.localizedReason
}, H.createElement("surface", {
style: [ Zu(4), Bc("marginTop", vc(sd.DimensionSpace.larger)) ]
}, o));
})), mq = $f.PlayerList.Icon, yq = Pc({
[mq.Star]: {
1: Vc("/photon/quantum/icons/playerlist/Star_48px-cc2c4df6.png"),
2: Vc("/photon/quantum/icons/playerlist/Star_48px@2x-94aa5a32.png")
},
[mq.Shield]: {
1: Vc("/photon/quantum/icons/playerlist/Shield_48px-2c5c6c35.png"),
2: Vc("/photon/quantum/icons/playerlist/Shield_48px@2x-27477021.png")
},
[mq.Hexagon]: {
1: Vc("/photon/quantum/icons/playerlist/Hexagon_48px-c6ff4787.png"),
2: Vc("/photon/quantum/icons/playerlist/Hexagon_48px@2x-fbd9a547.png")
},
[mq.Tie]: {
1: Vc("/photon/quantum/icons/playerlist/Tie_48px-ff9e6c9d.png"),
2: Vc("/photon/quantum/icons/playerlist/Tie_48px@2x-53c1999b.png")
},
[mq.StarShield]: {
1: Vc("/photon/quantum/icons/playerlist/Shield_with_star_48px-3c7b0a48.png"),
2: Vc("/photon/quantum/icons/playerlist/Shield_with_star_48px@2x-35133720.png")
},
[mq.Flag]: {
1: Vc("/photon/quantum/icons/playerlist/Flag_48px-8d9e77b9.png"),
2: Vc("/photon/quantum/icons/playerlist/Flag_48px@2x-2f51557a.png")
}
}), hq = Pc({
[mq.Star]: {
1: Vc("/photon/quantum/icons/playerlist/Star_32px-903d224a.png"),
2: Vc("/photon/quantum/icons/playerlist/Star_32px@2x-8c9c4d67.png")
},
[mq.Shield]: {
1: Vc("/photon/quantum/icons/playerlist/Shield_32px-308b7e5c.png"),
2: Vc("/photon/quantum/icons/playerlist/Shield_32px@2x-cac135f6.png")
},
[mq.Hexagon]: {
1: Vc("/photon/quantum/icons/playerlist/Hexagon_32px-7fd6f41b.png"),
2: Vc("/photon/quantum/icons/playerlist/Hexagon_32px@2x-4127c97b.png")
},
[mq.Tie]: {
1: Vc("/photon/quantum/icons/playerlist/Tie_32px-649ef3a4.png"),
2: Vc("/photon/quantum/icons/playerlist/Tie_32px@2x-7c61de02.png")
},
[mq.StarShield]: {
1: Vc("/photon/quantum/icons/playerlist/Shield_with_star_32px-1ff0a8e6.png"),
2: Vc("/photon/quantum/icons/playerlist/Shield_with_star_32px@2x-fda712a3.png")
},
[mq.Flag]: {
1: Vc("/photon/quantum/icons/playerlist/Flag_32px-2aa77ec1.png"),
2: Vc("/photon/quantum/icons/playerlist/Flag_32px@2x-55c74680.png")
}
});
function gq(e) {
const t = Rs();
return e ? t.getItem(NH, e) : {
data: void 0,
loading: !1,
uninitialized: !1,
error: new Error("No playerlists")
};
}
var [Iq, vq] = Es("PlayerListIdContext");
function bq(e) {
const {playerListId: t} = vq(), n = Rs();
if (t) return n.getItem(PH, t).data?.get(e);
}
var _q = $f.PlayerList.Icon, Pq = vc(32), Sq = {
iconRow: Oc({
position: "relative",
flexDirection: "row",
flexWrap: "nowrap"
}),
icon: Oc({
width: Pq,
height: Pq,
color: sd.IconColorStandard.emphasized,
position: "absolute",
alignSelf: "center"
})
};
function Tq(e, t) {
return t?.[e] ?? _q[e];
}
function Eq(e) {
return yq[e];
}
var kq = Ii.observer((({photonPlayerId: e}) => {
const t = bq(e), {playerListId: n} = vq(), r = gq(n);
if (!t?.icons.size) return null;
const i = Array.from(t.icons).map((e => H.createElement("surface", {
style: Sq.iconRow,
key: "icon-" + e
}, H.createElement("surface", {
style: [ Sq.icon, Bc("texture", Eq(e)) ]
}), H.createElement(Gk, {
text: Tq(e, r.data?.localizedIconLegend),
color: sd.TextColorStandard.emphasized,
style: Bc("marginStart", Pq + vc(sd.DimensionSpace.small))
}))));
return H.createElement(GU, {
sectionTitle: r.data?.localizedLegendTitle ?? cm("PHOTON-SOCIAL_LEGEND_TITLE")
}, i);
})), Nq = Ii.observer((({photonPlayerId: e, telemetryInfo: t}) => {
const n = aI(e);
let r;
return rI(n) && (r = H.createElement(kq, {
photonPlayerId: n,
key: "icon-legend"
})), H.createElement(OV, {
photonPlayerId: e,
telemetryInfo: t
}, H.createElement(EV, {
photonPlayerIdWithMaybePresence: e,
key: "product-player-details"
}), r, H.createElement(NV, {
photonPlayerIdWithMaybePresence: e,
key: "input-player-details"
}), H.createElement(kV, {
photonPlayerIdWithMaybePresence: e,
key: "party-lobby-status"
}), H.createElement(TV, {
photonPlayerId: e,
key: "other-identities"
}), H.createElement(CV, {
photonPlayerId: n,
key: "compatibility-warnings"
}));
})), Cq = $f.PlayerList.Purpose, Oq = $f.InputBindings.Action;
function Aq(e, t) {
return e.data?.title ? e.data.title : t.data?.productTitle ? t.data.productTitle : t.data?.isOnline ? cm("PHOTON-SOCIAL_PRESENCE_ONLINE") : cm("PHOTON-SOCIAL_PRESENCE_OFFLINE");
}
var wq = ({icons: e}) => e.size ? H.createElement(H.Fragment, null, H.createElement(lM, null), Array.from(e.keys()).map((e => H.createElement(oM, {
texture: hq[e],
key: "icon-" + e,
style: Bc("marginRight", vc(sd.DimensionSpace.smallest))
})))) : null, Lq = Ii.observer((({photonPlayerId: e, hideTitleOnFocus: t}) => {
const n = bq(e), r = lH(e), i = iV(r.data?.productId), {data: a} = oE();
if (!n || !a) return null;
const o = n.playerId === a.tokenInfo.userId ? void 0 : Aq(i, r);
return H.createElement(H.Fragment, null, H.createElement(wq, {
icons: n.icons
}), H.createElement("surface", {
style: Bc("flex", 1)
}), !!o && H.createElement(kM, {
hideOnPressedOrFocused: t,
text: o
}));
}));
function Rq(e, t) {
H.useEffect((() => t(e)), [ t, e ]);
}
function xq(e, t, n, r, i) {
const a = dE(e, n.get(sE).data).isCurrentEaUser;
if (!!n.get(zC).get().data?.get(e) || a) return;
const {eaPlayerId: o} = tI(e), s = o ? n.get(EC).get().data?.get(o) : void 0, l = o ? n.get(SC).get().data?.get(o) : void 0;
return r.isActionTaken || !s && !l ? {
keyBinding: t,
label: cm("PHOTON-SOCIAL_PLAYER-SEARCH_LIST_ACTIONS_ADD-FRIEND"),
callback: r.performAction,
disabled: r.isActionTaken,
disabledContent: H.createElement(aM, {
text: cm("PHOTON-SOCIAL_PLAYER-SEARCH_LIST_ACTIONS_REQUEST-SENT")
})
} : {
keyBinding: t,
label: cm("PHOTON-SOCIAL_PLAYER-SEARCH_LIST_ACTIONS_VIEW-REQUEST"),
callback: i
};
}
var Bq = Ii.observer((({photonPlayerId: e, telemetryInfo: t, setActions: n}) => {
const r = dU(e), i = _J(e, !0), a = cU(e), o = PJ(e), s = yL(Oq.Primary), l = yL(Oq.Secondary), c = H.useCallback((() => t), [ t ]), d = Rs(), u = Wx(e, t), p = xw(e, t);
return Rq(H.useMemo((() => r.canJoin && r.gameInvite && a.data?.canInvite ? {
primaryAction: i(s, r, c),
secondaryAction: o(l, a, c)
} : a.data?.canInvite ? {
primaryAction: o(s, a, c),
secondaryAction: xq(e, l, d, u, p)
} : {
primaryAction: xq(e, s, d, u, p)
}), [ u, o, i, c, a, r, d, e, s, l, p ]), n), null;
})), Dq = Ii.observer((({photonPlayerId: e, telemetryInfo: t, setActions: n}) => {
const r = Wx(e, t), i = xw(e, t), a = yL(Oq.Primary), o = Rs(), s = !!o.get(zC).get().data?.get(e);
return Rq(H.useMemo((() => s ? {} : {
primaryAction: xq(e, a, o, r, i)
}), [ r, s, a, o, e, i ]), n), null;
})), Mq = {
[Cq.PlayTogether]: Bq,
[Cq.MakeFriends]: Dq,
[Cq.None]: void 0
}, Fq = Ii.observer((({playerListId: e, ...t}) => {
const {data: n} = gq(e);
if (void 0 !== n?.purpose && n.purpose !== Cq.None) {
const e = Mq[n.purpose];
if (e) return H.createElement(e, {
...t
});
}
return null;
})), Uq = Ii.observer((({photonPlayerId: e, PlayerDetailsComponent: t, setHandlers: n, telemetryInfo: r}) => (Rq(wV({
photonPlayerId: e,
PlayerDetailsComponent: t,
telemetryInfo: r
}), n), null))), Hq = Ii.observer((({photonPlayerId: e, telemetryInfo: t}) => {
const {name: n, playerNetworkId: r} = DO(e), i = hU(e, t), [a, o] = H.useState(), [s, l] = H.useState(), {playerListId: c} = vq(), d = H.useMemo((() => e => H.createElement(Iq.Provider, {
value: {
playerListId: c
}
}, H.createElement(Nq, {
...e
}))), [ c ]), u = fM({
playerName: n
}), p = !(!a?.primaryAction && !a?.secondaryAction);
return H.createElement(pM, {
id: "playerList-" + e,
narrationItem: u,
onClick: i,
onFocus: s?.handleFocus,
onBlur: s?.handleBlur,
...a
}, !!c && H.createElement(mJ, {
delay: 500
}, H.createElement(Uq, {
photonPlayerId: e,
PlayerDetailsComponent: d,
setHandlers: l,
telemetryInfo: t,
key: "handlers-loader"
}), H.createElement(Fq, {
photonPlayerId: e,
setActions: o,
playerListId: c,
telemetryInfo: t,
key: "actions-loader"
})), H.createElement(nM, {
playerNetworkId: r,
name: n,
style: Bc("flex", 0)
}), H.createElement(Lq, {
photonPlayerId: e,
hideTitleOnFocus: p
}));
})), Vq = Jy("/playerList/:photonPlayerId?", "tab_player_list");
function Jq(e) {
const {data: t} = e, n = Rs();
return t ? n.getItem(wH, t.id) : {
...e,
data: void 0
};
}
function zq(e, t, n) {
return () => {
const r = e.getItemUntracked(CH, t);
e.setItem(CH, t, !r), dO(n, {
pg_id: "tab_player_list",
destination_name: t,
msg_id: t,
option: r ? "collapse" : "expand"
});
};
}
function Gq(e) {
const {data: t} = e, n = Rs(), r = WT(), i = t?.id ? n.getItem(AH, t.id) : OH;
return H.useMemo((() => {
const e = new RV;
return t ? (t.sections.forEach(((a, o) => {
var s, l;
e.addSection({
id: o,
isExpanded: i[o],
onToggle: zq(n, a.id, r),
title: a.localizedTitle,
component: Hq,
focusId: (s = t.id, l = a.id, `playerlist-${s}-section-${l}`),
telemetryInfo: {
pg_id: "tab_player_list",
msg_id: a.id,
index: {
total_items: t.sections.length,
item_index: 1 + o
},
context: {
p_cnt: a.personas.length
}
}
});
})), e) : e;
}), [ i, n, t, r ]);
}
function jq() {
const e = Rs();
return Bs((() => {
const t = e.getUntracked(TH), n = e.getUntracked(SH);
void 0 !== t && n.includes(t) || e.set(TH, n[0]);
}), [ e ], SH, !0), [ e.get(TH), Hs(TH) ];
}
var qq = vc(sd.DimensionSpace.larger), Wq = vc(sd.TextSizeHeading.medium) + qq, Yq = Ii.observer((() => {
const [e] = jq(), t = gq(e), n = Rs().get(bH), r = UV(Jq(t), Gq(t)), {rows: i} = FV(r.sectionsState, r.data, Vq);
return n?.emptyState && t.error ? H.createElement(fq, {
emptyState: n.emptyState
}) : H.createElement(Iq.Provider, {
value: {
playerListId: t.data?.id
}
}, H.createElement(JU, {
loading: r.loading,
empty: r.empty,
error: r.error,
beforeContent: H.createElement(Dw, {
text: t.data?.localizedTitle ?? "",
color: sd.TextColorStandard.emphasized,
style: Bc("marginBottom", qq),
useEllipsis: !0
}),
scrollHeight: xU - Wq,
rows: i,
emptyContent: t.data?.emptyState ? H.createElement(fq, {
emptyState: t.data?.emptyState
}) : void 0
}));
})), Kq = Ii.observer((({portalId: e}) => nJ().gates.get(e) ?? null)), [Xq, Qq] = $s({
debugName: "presenceUpdateEventState",
create: () => new as
}), $q = () => {
const e = Qq(), {showNotification: t} = SO(), {data: n} = oE();
H.useEffect((() => {
if (n) return e.subscribe(((e, r, i) => {
const a = Zk(RO(r, n), {
allowEllipsis: !0
}), o = i.isFriend ? cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_FRIENDS_FRIEND-ONLINE", {
"%primaryID%": a
}) : cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_PLAYER_LIST-ONLINE", {
"%primaryID%": a
});
t(2, 2, {
text: o
}, {
setting: 1,
telemetryInfo: {
pg_id: "tst_friend_online"
}
});
}));
}), [ e, n, t ]);
}, Zq = () => (fO({
pg_id: "tab_recently_met",
destination_name: "empty_state",
msg_id: "empty_state"
}), H.createElement(CM, {
headline: cm("PHOTON-SOCIAL_RECENT-MET_EMPTY-TITLE"),
body: cm("PHOTON-SOCIAL_RECENT-MET_EMPTY-DESC")
})), eW = Oc({
maxHeight: vc(150),
layer: !0
}), tW = Ii.observer((e => {
const t = e.photonPlayerId, n = aI(t), {data: r} = Uz(n), i = r?.primaryContext, a = r?.secondaryContext, o = !!i || !!a;
return H.createElement(OV, {
...e
}, o && H.createElement("surface", {
style: Bc("marginBottom", vc(sd.DimensionSpace.larger))
}, H.createElement(CD, {
text: cm("PHOTON-SOCIAL_DETAILS_TITLE"),
style: [ Bc("marginBottom", vc(sd.DimensionSpace.smallest)), jd ]
}), i ? H.createElement(Gk, {
text: i,
useEllipsis: !!a,
color: sd.TextColorStandard.emphasized,
style: a ? Bc("marginBottom", vc(sd.DimensionSpace.smallest)) : eW
}) : null, a ? H.createElement(Gk, {
text: a,
useEllipsis: !!i,
color: sd.TextColorStandard.emphasized
}) : null), H.createElement(TV, {
photonPlayerId: n
}));
})), nW = Jy("/recently-met", "tab_recently_met"), rW = {
0: Pu(),
1: Pu(),
2: Pu()
}, iW = Ii.observer((({type: e, photonPlayerId: t, setActions: n, telemetryInfo: r, source: i}) => {
const a = wV({
photonPlayerId: t,
PlayerDetailsComponent: 1 === e ? tW : AV
}), o = XG(t, void 0, r && {
pg_id: "tab_recently_met",
destination_name: i,
...r
});
return H.useEffect((() => {
n({
...a,
...o
});
}), [ n, a, o ]), null;
})), aW = Ii.observer((e => {
const t = e.photonPlayerId, n = yw(t), [r, i] = H.useState(), {name: a, playerNetworkId: o} = LO(n.data), s = hU(t, H.useMemo((() => ({
...e.telemetryInfo,
pg_id: "tab_recently_met",
destination_name: "played_together",
option: "see_player_actions"
})), [ e ])), l = fM({
playerName: a
});
return H.createElement(pM, {
id: "player" + t,
narrationItem: l,
onFocus: r?.handleFocus,
onBlur: r?.handleBlur,
onClick: s,
primaryAction: r?.primaryAction,
secondaryAction: r?.secondaryAction
}, n.data ? H.createElement(H.Fragment, null, H.createElement(mJ, {
delay: 500
}, H.createElement(iW, {
type: 1,
photonPlayerId: t,
setActions: i,
telemetryInfo: e.telemetryInfo,
source: "played_together"
})), H.createElement(nM, {
playerNetworkId: o,
name: a
})) : H.createElement(H.Fragment, null, H.createElement(zD, {
height: GD,
width: jD
}), H.createElement("surface", {
style: Bc("flex", 1)
})), !!e.timestamp && H.createElement(NM, {
hideOnPressedOrFocused: !!r?.primaryAction,
timeMs: 1e3 * e.timestamp
}));
})), oW = Ii.observer((e => {
const t = e.photonPlayerId, [n, r] = H.useState(), i = hU(t, H.useMemo((() => ({
...e.telemetryInfo,
pg_id: "tab_recently_met",
destination_name: e.source,
option: "see_player_actions"
})), [ e ])), {playerNetworkId: a} = TO(), o = e.displayName, s = AO(a, e.playerNetworkId), l = fM({
playerName: o
});
return H.createElement(pM, {
id: "player" + t,
narrationItem: l,
onFocus: n?.handleFocus,
onBlur: n?.handleBlur,
onClick: i,
primaryAction: n?.primaryAction,
secondaryAction: n?.secondaryAction
}, H.createElement(mJ, {
delay: 500
}, H.createElement(iW, {
type: 0,
photonPlayerId: t,
setActions: r,
telemetryInfo: e.telemetryInfo,
source: e.source
})), H.createElement(nM, {
playerNetworkId: s,
name: o
}));
}));
function sW() {
const {isExpanded: e, onToggle: t} = FD({
id: "recently-met-section-teammates",
onToggleCallback: pO("tab_recently_met", "playing_together_teammates"),
isInitiallyExpanded: !0,
rememberExpandedState: !0
}), {isExpanded: n, onToggle: r} = FD({
id: "recently-met-section-opponents",
onToggleCallback: pO("tab_recently_met", "playing_together_opponents"),
isInitiallyExpanded: !0,
rememberExpandedState: !0
}), {isExpanded: i, onToggle: a} = FD({
id: "recently-met-section-played-together",
onToggleCallback: pO("tab_recently_met", "played_together"),
isInitiallyExpanded: !0,
rememberExpandedState: !0
}), o = Ys((({get: e}) => t => {
const n = e(zC).get();
if (!n.data) return t.length;
const r = new Set(n.data.keys());
return t.filter((e => !r.has(e.photonPlayerId))).length;
}), []);
return H.useMemo((() => {
const s = new RV;
return s.addSection({
id: 0,
isExpanded: e,
onToggle: t,
title: e => cm("PHOTON-SOCIAL_RECENT-MET_LIST_SECTION-HEAD_TEAMMATES", {
"%numberTeammates%": e.length + ""
}),
component: e => H.createElement(oW, {
source: "playing_together_teammates",
...e
}),
focusId: rW[0],
telemetryInfo: e => ({
pg_id: "tab_recently_met",
destination_name: "playing_together_teammates",
msg_id: "playing_together_teammates",
context: {
rel: "not_friend",
p_cnt: o(e)
}
})
}), s.addSection({
id: 1,
isExpanded: n,
onToggle: r,
title: e => cm("PHOTON-SOCIAL_RECENT-MET_LIST_SECTION-HEAD_OPPONENTS", {
"%numberOpponents%": e.length + ""
}),
component: e => H.createElement(oW, {
source: "playing_together_opponents",
...e
}),
focusId: rW[1],
telemetryInfo: e => ({
pg_id: "tab_recently_met",
destination_name: "playing_together_opponents",
msg_id: "playing_together_opponents",
context: {
rel: "not_friend",
p_cnt: o(e)
}
})
}), s.addSection({
id: 2,
isExpanded: i,
onToggle: a,
title: e => cm("PHOTON-SOCIAL_RECENT-MET_LIST_SECTION-HEAD_PAST-PLAYERS", {
"%numberPlayedTogether%": e.length + ""
}),
component: aW,
focusId: rW[2],
telemetryInfo: {
pg_id: "tab_recently_met",
destination_name: "played_together",
msg_id: "played_together"
}
}), s;
}), [ e, t, n, r, i, a, o ]);
}
var lW = Ii.observer((() => {
const e = UV(iN(uN(Fz)), sW()), {rows: t} = FV(e.sectionsState, e.data, nW);
return H.createElement(JU, {
loading: e.loading,
empty: e.empty,
emptyContent: H.createElement(Zq, null),
error: e.error,
rows: t
});
})), cW = Oc({
justifyContent: "center"
}), dW = Oc({
marginBottom: vc(sd.DimensionSpace.smaller)
}), uW = Oc({
marginBottom: vc(sd.DimensionSpace.larger)
}), pW = ({title: e, body: t, style: n}) => H.createElement("surface", {
style: [ cW, n ]
}, !!e && H.createElement(CD, {
text: e,
color: sd.TextColorStandard.emphasized,
style: dW
}), !!t && H.createElement(Gk, {
text: t,
color: sd.TextColorStandard.default
})), fW = ({title: e, body: t, children: n}) => {
const r = wj();
return mu((() => e), [ e ], 1, r), H.useEffect((() => {
r.setMetadata(0, t);
}), [ r, t ]), H.createElement(H.Fragment, null, H.createElement(pW, {
title: e,
body: t,
style: uW
}), H.createElement(Oj.Provider, {
value: r
}, n));
}, mW = class {
constructor(e) {
this.settings = ht.box([], {
deep: !1
});
const t = e.DeepLink.getSettingsAvailability({});
t && this.updateSettings(t.temporaryDisabled), e.DeepLink.onTemporaryDisabledSettingsChanged.subscribe((e => {
this.updateSettings(e.temporaryDisabled);
})), Nr(this, {
updateSettings: An
});
}
updateSettings(e) {
e && this.settings.set(e);
}
getSettingDisabled(e) {
return this.settings.get().includes(e);
}
}, [yW, hW] = $s({
debugName: "disabledSettingsState",
create: e => {
const t = e.get(Ih);
return new mW(t);
}
}), gW = e => ({
disabled: hW().getSettingDisabled(e)
}), IW = ({label: e, group: t, keyBinding: n, icon: r}, {getKeyBindingText: i}) => [ r === Up.OPEN_EXTERNAL ? cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_SETTINGS_EXTERNAL-LINK-FOCUSED", {
"%linkLabel%": e,
"%primaryKey%": i(n)
}) : cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_SETTINGS_CATEGORY-FOCUSED", {
"%settingCategory%": e,
"%primaryKey%": i(n)
}), t.getMetadata(0) ], vW = Ii.observer((({setting: e, item: t, telemetryMessage: n, style: r, alwaysAvailable: i}) => {
const a = lm(), o = ew(), s = tq(), {disabled: l} = gW(e), c = gE.availableSettings.includes(e), d = WT(), u = H.useCallback((() => {
dO(d, n), a.DeepLink.openSetting({
setting: e
}), o.close(), s();
}), [ o, s, a.DeepLink, d, e, n ]);
return i || c ? H.createElement(xj, {
style: r,
item: {
isDisabled: l,
action: u,
...t
},
narrationItem: IW
}) : null;
})), bW = ({text: e}) => (pu((() => cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_SETTINGS_CATEGORY-SELECTED", {
"%settingCategory%": e
})), [ e ], 0), H.createElement(Dw, {
text: e,
style: Uj
})), _W = $f.DeepLink.Setting, PW = {
pg_id: "overlay_settings_accessibility",
destination_name: "general_accessibility",
msg_id: "general_accessibility"
}, SW = {
...PW,
option: "accessibility_settings"
}, TW = () => (fO(PW), H.createElement(H.Fragment, null, H.createElement(bW, {
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_ACCESSIBILITY")
}), H.createElement(fW, {
title: cm("PHOTON-SOCIAL_SETTINGS_ACCESSIBILITY_SECTION-TITLE"),
body: cm("PHOTON-SOCIAL_SETTINGS_ACCESSIBILITY_GENERAL_DESC")
}, H.createElement(vW, {
setting: _W.Accessibility,
telemetryMessage: SW,
item: {
id: "setting-accessibility",
text: cm("PHOTON-SOCIAL_SETTINGS_ACCESSIBILITY_GENERAL_EXT-LINK"),
icon: Up.OPEN_EXTERNAL
}
})))), EW = $f.DeepLink.Setting, kW = {
pg_id: "overlay_settings_cross_play",
destination_name: "cross_play",
msg_id: "cross_play"
}, NW = {
...kW,
option: "cross_play_settings"
}, CW = () => (fO(kW), H.createElement(H.Fragment, null, H.createElement(bW, {
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_CROSSPLAY")
}), H.createElement(fW, {
title: cm("PHOTON-SOCIAL_SETTINGS_CROSSPLAY_SECTION-TITLE"),
body: cm("PHOTON-SOCIAL_SETTINGS_CROSSPLAY_GENERAL_DESC")
}, H.createElement(vW, {
setting: EW.CrossPlay,
item: {
id: "setting-crossplay",
text: cm("PHOTON-SOCIAL_SETTINGS_CROSSPLAY_GENERAL_EXT-LINK"),
icon: Up.OPEN_EXTERNAL
},
telemetryMessage: NW
})))), OW = Oc({
zOffset: 1,
marginTop: vc(2),
marginStart: vc(sd.DimensionSpace.large),
flexShrink: 0
}), AW = Oc({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0
}), wW = {
background: Oc({
texture: Up.RADIO_INPUT_BACKGROUND
}),
stroke: Oc({
texture: Up.RADIO_INPUT_STROKE
}),
bullet: Oc({
texture: Up.RADIO_INPUT_BULLET
})
}, LW = Oc({
width: vc(32),
height: vc(32),
alignItems: "center",
justifyContent: "center"
}), RW = Oc({
width: vc(12),
height: vc(12),
color: sd.IconColorStandard.emphasized
}), xW = H.memo((({isSelected: e, isDisabled: t}) => {
let n;
return n = t ? sd.ColorNeutral._400 : e ? sd.InteractiveColor.focusHover : sd.IconColorStandard.default, 
H.createElement("surface", {
style: [ OW, TD.icon ]
}, H.createElement("surface", {
style: [ AW, wW.background, Bc("color", sd.BackgroundColor.body) ]
}), H.createElement("surface", {
style: [ AW, wW.stroke, Bc("color", n) ]
}), e && H.createElement("surface", {
style: [ AW, LW ]
}, H.createElement("surface", {
style: [ wW.bullet, RW ]
})));
})), BW = {
onPress: 4
}, DW = () => sp(2), MW = Ii.observer((e => {
const t = DW(), n = dp({
...e,
soundEffectOverride: BW,
onClick: e.onSelect,
input: {
keyBinding: t,
callback: e.onSelect
}
}), r = pc(t.primaryButton);
let i;
return r && (i = H.createElement(sM, {
type: r,
showOnPressedOrFocused: !0,
style: Bc("marginEnd", vc(sd.DimensionSpace.small))
})), H.createElement(WD, {
transparent: e.transparent,
interaction: n
}, H.createElement(YD, null, i, H.createElement(tM, {
text: e.label
}), H.createElement(xW, {
isSelected: e.isSelected,
isDisabled: e.isDisabled
})));
})), FW = e => "string" == typeof e ? e : e();
function UW(e) {
const {option: t, isSelected: n, index: r, onChange: i, narrationItem: a} = e, o = DW(), s = Cu(e.focusId), l = Aj();
fu((e => a({
label: FW(t.label),
index: r,
isSelected: n,
keyBinding: o,
group: l
}, e)), [ a, t.label, n, r, l, o ], s), H.useEffect((() => l.addFocusId(s)), [ l, s ]);
const c = H.useCallback((() => {
i?.(t.value);
}), [ i, t.value ]);
return H.createElement(MW, {
label: FW(t.label),
id: t.id,
onSelect: c,
isSelected: n,
focusId: s,
transparent: !0
});
}
function HW({value: e, items: t, onChange: n, narrationItem: r, style: i}) {
const a = Aj();
return H.useEffect((() => {
a.setMetadata(1, t.length);
}), [ a, t.length ]), H.createElement("surface", {
style: i
}, t.map(((t, i) => H.createElement(UW, {
key: t.id,
isSelected: e === t.value,
option: t,
index: i,
onChange: n,
narrationItem: r
}))));
}
var VW = ({label: e, group: t, isSelected: n, index: r, keyBinding: i}, {getKeyBindingText: a}) => [ n ? cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_SETTINGS_ACTIVE-RADIO-BUTTON-FOCUSED", {
"%radioName%": e,
"%radioNumber%": r + 1 + "",
"%radioTotal%": (t.getMetadata(1) ?? "") + ""
}) : cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_SETTINGS_INACTIVE-RADIO-BUTTON-FOCUSED", {
"%radioName%": e,
"%radioNumber%": r + 1 + "",
"%radioTotal%": (t.getMetadata(1) ?? "") + "",
"%primaryKey%": a(i)
}), t.getMetadata(0) ], JW = [ {
id: "toggleMute",
label: () => cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_TOGGLE_MUTE"),
value: 2
}, {
id: "toggleUnmute",
label: () => cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_TOGGLE_UNMUTE"),
value: 0
} ], zW = [ {
id: "always",
label: () => cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_RADIO-BUTTON_ALWAYS"),
value: 0
}, {
id: "notGameplay",
label: () => cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_RADIO-BUTTON_NOT-GAMEPLAY"),
value: 1
}, {
id: "never",
label: () => cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_RADIO-BUTTON_NEVER"),
value: 2
} ], GW = {
0: "always",
1: "not_during_gameplay",
2: "never"
}, jW = {
0: "unmuted",
1: "mutedGameplay",
2: "muted"
}, qW = Ii.observer((({id: e, title: t, body: n, setting: r, onSuccess: i, destinationName: a}) => {
const o = SN(), s = WT();
fO({
pg_id: "overlay_settings_notifications",
destination_name: a,
msg_id: a
});
const l = H.useCallback((e => (dO(s, {
pg_id: "overlay_settings_notifications",
destination_name: a,
msg_id: a,
status: "click",
option: GW[e],
index: {
item_index: 0,
total_items: 0
}
}), i(), o.setSetting(0, r, e))), [ a, o, i, s, r ]);
return H.createElement(fW, {
title: t,
body: n
}, H.createElement(HW, {
style: Mj,
id: e,
items: zW,
value: o.getSetting(0, r),
onChange: l,
narrationItem: VW
}));
})), WW = Ii.observer((({onSuccess: e}) => {
const t = SN(), n = WT();
fO({
pg_id: "overlay_settings_notifications",
destination_name: "mute_all_social_notifications",
msg_id: "mute_all_social_notifications"
});
const r = H.useCallback((r => (e(), dO(n, {
pg_id: "overlay_settings_notifications",
destination_name: "mute_all_social_notifications",
msg_id: "mute_all_social_notifications",
option: jW[r]
}), t.setSetting(0, 0, r))), [ t, e, n ]);
return H.createElement(fW, {
title: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_MUTE_HEADING"),
body: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_MUTE_DESC")
}, H.createElement(HW, {
style: Mj,
id: "notification-settings-mute",
items: JW,
value: t.getSetting(0, 0),
onChange: r,
narrationItem: VW
}));
})), YW = Ii.observer((({onSuccess: e}) => {
const {showModal: t} = dk(), n = tq(), r = WT(), i = SN();
fO({
pg_id: "overlay_settings_notifications",
destination_name: "restore_defaults",
msg_id: "restore_defaults"
});
const a = H.useCallback((() => {
t((() => H.createElement(sL, {
title: cm("PHOTON-SOCIAL_SETTINGS_OVERLAY_TITLE_RESTORE-NOTIFICATIONS"),
body: cm("PHOTON-SOCIAL_SETTINGS_OVERLAY_DESC_RESTORE-NOTIFICATIONS"),
onConfirm: () => (dO(r, {
pg_id: "overlay_settings_notifications_restore",
msg_id: "overlay_settings_notifications_restore",
option: "confirm"
}), e(), i.restoreSettings(0)),
onCancel: () => {
dO(r, {
pg_id: "overlay_settings_notifications_restore",
msg_id: "overlay_settings_notifications_restore",
option: "cancel"
});
},
autoClose: !0,
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC
})), {
telemetryId: "overlay_settings_notifications_restore"
}), n(), dO(r, {
pg_id: "overlay_settings_notifications",
destination_name: "restore_defaults",
msg_id: "restore_defaults",
option: "restore"
});
}), [ t, n, r, e, i ]);
return H.createElement(fW, {
title: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_RESTORE-ALL_HEADING"),
body: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_RESTORE-ALL_DESC")
}, H.createElement(xj, {
item: {
id: "setting-notifications-restore",
action: a,
text: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_BUTTON_RESTORE")
},
narrationItem: IW
}));
})), KW = Ii.observer((() => {
const e = SN(), {showNotification: t} = SO(), n = 0 !== e.getSetting(0, 0), r = H.useCallback((() => {
t(3, 3, {
icon: Up.INFORMATION,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_SETTINGS-UPDATED")
});
}), [ t ]);
return H.createElement(Nj, {
id: "settings-notifications",
scrollbarAlwaysVisible: By.isPC
}, H.createElement(bW, {
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_NOTIFICATIONS")
}), H.createElement(WW, {
onSuccess: r
}), !n && H.createElement(H.Fragment, null, H.createElement(qW, {
id: "notification-settings-online-friend",
title: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_ONLINE-FRIEND_HEADING"),
body: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_ONLINE-FRIEND_DESC"),
setting: 1,
onSuccess: r,
destinationName: "friend_logged_online"
}), H.createElement(qW, {
id: "notification-settings-friend-request-received",
title: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_FRIEND-REQUEST-RECEIVED_HEADING"),
body: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_FRIEND-REQUEST-RECEIVED_DESC"),
setting: 2,
onSuccess: r,
destinationName: "friend_request_received"
}), H.createElement(qW, {
id: "notification-settings-friend-request-accepted",
title: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_FRIEND-REQUEST-ACCEPTED_HEADING"),
body: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_FRIEND-REQUEST-ACCEPTED_DESC"),
setting: 3,
onSuccess: r,
destinationName: "friend_request_accepted"
}), H.createElement(qW, {
id: "notification-settings-party-invite-received",
title: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_PARTY-INVITE-RECEIVED_HEADING"),
body: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_PARTY-INVITE-RECEIVED_DESC"),
setting: 4,
onSuccess: r,
destinationName: "party_lobby_invite_received"
}), By.isPartyEnabled && H.createElement(qW, {
id: "notification-settings-player-promoted",
title: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_PLAYER-PROMOTED_HEADING"),
body: cm("PHOTON-SOCIAL_SETTINGS_NOTIFICATIONS_PLAYER-PROMOTED_DESC"),
setting: 5,
onSuccess: r,
destinationName: "party_player_promoted"
})), !e.isDefaultSettings(0) && 0 === e.getSetting(0, 0) && H.createElement(YW, {
onSuccess: r
}));
})), XW = {
0: "use_platform_status",
1: "online",
2: "offline"
}, QW = Ii.observer((() => {
const {playerNetworkId: e} = TO(), t = WT(), n = Gu(), r = Rs(), i = gE.isAppearOfflineSupported, a = r.get(vE), o = Fs(PE), {showNotification: s} = SO(), l = cE().data, c = Kx(e);
fO({
pg_id: "overlay_settings_online_status",
msg_id: "overlay_settings_online_status"
});
const d = H.useMemo((() => {
const t = [];
return i && t.push({
id: "sync",
label: () => cm("PHOTON-SOCIAL_SETTINGS_STATUS_AUTO-SYNC_RADIAL", {
"%platformName%": Kx(e),
"%onlineOrOffline%": cm(a ? "PHOTON-SOCIAL_PRESENCE_OFFLINE" : "PHOTON-SOCIAL_PRESENCE_ONLINE")
}),
value: 0
}), [ ...t, {
id: "online",
label: () => cm("PHOTON-SOCIAL_SETTINGS_STATUS_ONLINE_RADIAL"),
value: 1
}, {
id: "offline",
label: () => cm("PHOTON-SOCIAL_SETTINGS_STATUS_OFFLINE_RADIAL"),
value: 2
} ];
}), [ e, a, i ]), u = H.useCallback((i => {
VH(i, a) || s(3, 3, {
icon: Up.INFORMATION,
text: GH(i, a, e)
}), dO(t, {
pg_id: "overlay_settings_online_status",
msg_id: "overlay_settings_online_status",
option: XW[i]
}), l && SE(r, n, l, i);
}), [ e, a, r, t, s, n, l ]);
return H.createElement(fW, {
title: cm("PHOTON-SOCIAL_SETTINGS_STATUS_HEADLINE"),
body: cm(i ? "PHOTON-SOCIAL_SETTINGS_STATUS_DESC_CASCADING" : "PHOTON-SOCIAL_SETTINGS_STATUS_DESC_PARTITIONED", {
"%platformName%": c
})
}, H.createElement(HW, {
style: Mj,
id: "notification-settings-mute",
items: d,
value: o,
onChange: u,
narrationItem: VW
}));
})), $W = Ii.observer((() => H.createElement(Nj, {
id: "settings-notifications",
scrollbarAlwaysVisible: By.isPC
}, H.createElement(bW, {
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_STATUS")
}), H.createElement(QW, null)))), ZW = $f.DeepLink.Setting, eY = $f.InputBindings.Action, tY = Oc({
marginTop: vc(sd.DimensionSpace.largest),
padding: vc(sd.DimensionSpace.small),
alignSelf: "flex-start"
}), nY = Oc({
texture: Vc("/photon/ElectronicArtsSignInQR-76b8ba05.png"),
width: vc(248),
height: vc(248),
borderRadius: vc(sd.BorderRadius.smallest)
}), rY = Oc({
width: vc(500),
height: vc(500)
}), iY = [ {
id: "private",
label: () => cm("PHOTON-SOCIAL_SETTINGS_PRIVACY_PARTY-PRIVACY_BUTTON_PRIVATE"),
value: !1
}, {
id: "public",
label: () => cm("PHOTON-SOCIAL_SETTINGS_PRIVACY_PARTY-PRIVACY_BUTTON_PUBLIC"),
value: !0
} ], aY = () => {
const {closeModal: e} = dk();
return AB({
action: eY.Decline,
callback: e,
label: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_BACK")
}), H.createElement(zw, null, H.createElement("surface", {
style: [ nY, rY ]
}));
}, oY = Ii.observer((() => {
const {showModal: e} = dk(), t = yL(eY.Primary), n = H.useCallback((() => {
e((() => H.createElement(aY, null)), {
opaque: !0
});
}), [ e ]), {focusItem: r, isFocused: i, isPressed: a} = dp({
id: "qrOpen",
onClick: n,
input: {
callback: n,
keyBinding: t
}
}), o = Yp({
borderColor: Kp({
isFocused: i,
isPressed: a
}),
backgroundColor: void 0
});
return H.createElement("surface", {
style: [ tY, o ],
...r.hooks
}, H.createElement("surface", {
style: nY
}));
})), sY = Ii.observer((() => {
const e = SN(), {showNotification: t, showErrorNotification: n} = SO(), r = Gu(), i = ew(), a = tq(), o = WT(), s = cm("PHOTON-SOCIAL_SETTINGS_PRIVACY_EA-ACCOUNT-PRIVACY_EXT-LINK"), l = "https://" + s, c = gE.availableSettings.includes(ZW.Party), d = By.isPartyEnabled || c;
fO({
pg_id: "overlay_settings_privacy",
destination_name: "party_and_lobby_privacy",
msg_id: "party_and_lobby_privacy"
});
const u = H.useCallback((n => (dO(o, {
pg_id: "overlay_settings_privacy",
destination_name: "party_and_lobby_privacy",
msg_id: "party_and_lobby_privacy",
option: n ? "joinable" : "invite_only"
}), t(3, 3, {
icon: Up.INFORMATION,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_SETTINGS-UPDATED")
}), e.setSetting(1, 0, n))), [ o, e, t ]), p = H.useCallback((() => {
r.bindings.Utilities.openUrl({
url: l
}) ? (i.close(), a()) : n({}, "open ea account portal url", void 0);
}), [ r.bindings.Utilities, l, i, a, n ]);
return H.createElement(Nj, {
id: "settings-privacy",
scrollbarAlwaysVisible: By.isPC
}, H.createElement(bW, {
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_PRIVACY")
}), d && H.createElement(fW, {
title: cm("PHOTON-SOCIAL_SETTINGS_PRIVACY_PARTY-PRIVACY_HEADING"),
body: cm("PHOTON-SOCIAL_SETTINGS_PRIVACY_PARTY-PRIVACY_DESC")
}, H.createElement(HW, {
style: Mj,
id: "setting-ea-privacy-radio",
items: iY,
value: e.getSetting(1, 0),
onChange: u,
narrationItem: VW
})), H.createElement(fW, {
title: cm("PHOTON-SOCIAL_SETTINGS_PRIVACY_EA-ACCOUNT-PRIVACY_HEADING"),
body: cm("PHOTON-SOCIAL_SETTINGS_PRIVACY_EA-ACCOUNT-PRIVACY_DESC")
}, By.isPC ? H.createElement(xj, {
item: {
id: "setting-ea-account-link",
action: p,
text: s,
icon: Up.OPEN_EXTERNAL
},
narrationItem: IW
}) : H.createElement(Gk, {
text: s
})), H.createElement(oY, null));
})), lY = Jy("/settings", "overlay_settings"), cY = lY.createSubRoute("/notifications", "overlay_settings_notifications"), dY = lY.createSubRoute("/privacy", "overlay_settings_privacy"), uY = lY.createSubRoute("/voice", "overlay_settings_voice"), pY = lY.createSubRoute("/accessibility", "overlay_settings_accessibility"), fY = lY.createSubRoute("/crossplay", "overlay_settings_cross_play"), mY = lY.createSubRoute("/online-status", "overlay_settings_online_status"), [yY, hY] = $s({
debugName: "parentalControlState",
create: ({getUntracked: e}) => {
const t = e(Ih);
if (!t.isMethodAvailable("PhotonJsBindings.DeepLink.getDisabledByParentalControl")) return () => !1;
const n = ht.box([], {
deep: !1
}), r = An((() => {
n.set(t.DeepLink.getDisabledByParentalControl({})?.disabled ?? []);
}));
return r(), t.DeepLink.onDisabledByParentalControlChanged.subscribe((() => {
r();
})), e => n.get().includes(e);
}
}), gY = $f.DeepLink.Setting, IY = $f.DeepLink.ParentalControlSettings, vY = {
pg_id: "overlay_settings_voice",
destination_name: "general_voice",
msg_id: "general_voice"
}, bY = {
...vY,
option: "voice_settings"
}, _Y = {
...vY,
option: "voice_xbox_parental_settings"
}, PY = Ii.observer((() => {
fO(vY);
const e = hY()(IY.Voip);
return H.createElement(Nj, {
id: "settings-voice",
scrollbarAlwaysVisible: By.isPC
}, H.createElement(bW, {
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_VOICE")
}), H.createElement(fW, {
title: cm("PHOTON-SOCIAL_SETTINGS_VOICE_VOICE-CHAT_HEADING"),
body: cm("PHOTON-SOCIAL_SETTINGS_VOICE_VOICE-CHAT_DESC")
}, H.createElement(vW, {
style: Mj,
setting: gY.Audio,
item: {
id: "setting-voice",
text: cm("PHOTON-SOCIAL_SETTINGS_VOICE_VOICE-CHAT_EXT-LINK"),
icon: Up.OPEN_EXTERNAL
},
telemetryMessage: bY
})), "XBSX" === gc.devicePlatformId || "XBOXONE" === gc.devicePlatformId ? H.createElement(fW, {
title: cm("PHOTON-SOCIAL_SETTINGS_VOICE_XBOX-VOICE_HEADING"),
body: cm(e ? "PHOTON-SOCIAL_SETTINGS_VOICE_XBOX-VOICE_DISABLED_DESC" : "PHOTON-SOCIAL_SETTINGS_VOICE_XBOX-VOICE_ENABLED_DESC")
}, H.createElement(vW, {
alwaysAvailable: !0,
setting: gY.FirstPartyParentalVoip,
item: {
id: "setting-parental-control",
text: cm("PHOTON-SOCIAL_SETTINGS_VOICE_XBOX-VOICE_EXT-LINK"),
icon: Up.OPEN_EXTERNAL
},
telemetryMessage: _Y
})) : void 0);
})), SY = $f.InputBindings.Action, TY = $f.DeepLink.Setting, EY = e => ({match: t}) => H.createElement(Zj, {
isVisible: !!t
}, e), kY = H.memo((() => H.createElement(H.Fragment, null, H.createElement(Da, {
path: mY.path
}, EY(H.createElement($W, null))), H.createElement(Da, {
path: cY.path
}, EY(H.createElement(KW, null))), H.createElement(Da, {
path: dY.path
}, EY(H.createElement(sY, null))), H.createElement(Da, {
path: uY.path
}, EY(H.createElement(PY, null))), H.createElement(Da, {
path: pY.path
}, EY(H.createElement(TW, null))), H.createElement(Da, {
path: fY.path
}, EY(H.createElement(CW, null)))))), NY = ({navigate: e}) => {
const t = ja();
pu((() => cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_SETTINGS_SETTINGS-OPENED")), [], 0);
const n = H.useMemo((() => {
const n = gE.availableSettings.includes(TY.Accessibility), r = [];
return gE.availableSettings.includes(TY.AppearOffline) && r.push({
id: "onlineStatus",
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_STATUS"),
action: () => e(mY.link()),
isActive: !!xa(t.pathname, mY.path)
}), r.push({
id: "notifications",
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_NOTIFICATIONS"),
action: () => e(cY.link()),
isActive: !!xa(t.pathname, cY.path)
}), r.push({
id: "privacy",
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_PRIVACY"),
action: () => e(dY.link()),
isActive: !!xa(t.pathname, dY.path)
}), By.isPartyEnabled && r.push({
id: "voice",
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_VOICE"),
action: () => e(uY.link()),
isActive: !!xa(t.pathname, uY.path)
}), n && r.push({
id: "accessibility",
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_ACCESSIBILITY"),
action: () => e(pY.link()),
isActive: !!xa(t.pathname, pY.path)
}), r.push({
id: "crossplay",
text: cm("PHOTON-SOCIAL_SETTINGS_SECTION-TITLE_CROSSPLAY"),
action: () => e(fY.link()),
isActive: !!xa(t.pathname, fY.path)
}), [ {
id: "settings",
actions: r
} ];
}), [ t.pathname, e ]);
return H.createElement(H.Fragment, null, H.createElement(Dw, {
text: cm("PHOTON-SOCIAL_SETTINGS_ACTION-SHEET_HEAD"),
style: [ Fj, Bc("marginBottom", vc(sd.DimensionSpace.larger)) ]
}), H.createElement(Nj, {
id: "settings"
}, H.createElement(Dj, {
items: n,
narrationItem: IW
})));
}, CY = Ii.observer((({match: e}) => {
const t = Rs(), {history: n, navigate: r} = cv(), i = WT(), a = !!e, o = !!e?.isExact;
H.useEffect((() => {
o && dO(i, {
pg_id: "overlay_settings",
status: "impression",
msg_id: "overlay_settings"
});
}), [ o, i ]);
const s = H.useCallback((() => {
o || t.getUntracked(pl) ? (dO(i, {
pg_id: "overlay_settings",
option: "back"
}), r(uv.link())) : r(lY.link());
}), [ t, r, i, o ]), l = SY.Decline, c = yL(l);
AB(a ? {
action: l,
callback: s,
label: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_BACK")
} : void 0), pu((({getKeyBindingText: e}) => a || o ? cm("PHOTON-SOCIAL_NARRATION_NAVIGATION_SETTINGS_MENU-EXIT", {
"%backKey%": e(c)
}) : void 0), [ c, a, o ], 2, a);
const d = H.useCallback((e => {
xa(n.location.pathname, lY.path)?.isExact ? r(e) : n.replace(e);
}), [ n, r ]), u = H.useMemo((() => H.createElement(kY, null)), []);
return H.createElement(nq, {
isVisible: a,
onDimmerClick: s,
contextualSheet: u
}, H.createElement(uf, {
disableForControllerMode: !o,
disable: !a
}, H.createElement(NY, {
navigate: d
})));
}));
function OY(e) {
return function(t, n, r) {
let i;
const a = xn((r => {
const a = t();
e(a) || (r.dispose(), i && clearTimeout(i), As((() => {
n(a);
})));
}), r ? {
onError: r.onError
} : void 0);
return "number" == typeof r?.timeout ? (i = setTimeout((() => {
a(), r.onError(new Error("WHEN_TIMEOUT"));
}), r.timeout), () => {
a(), i && clearTimeout(i);
}) : a;
};
}
var AY = OY((e => void 0 === e)), wY = OY((e => null === e)), LY = Is({
debugName: "settingButtonSurfaceId",
default: null
}), RY = () => {
const {ftueManager: e} = uJ(), t = Hs(LY);
return gi.useObserver((() => e.isLoaded && e.isDone("ftue_settings_notification"))) ? void 0 : t;
}, xY = () => {
const {notificationManager: e} = SO(), t = Rs(), n = WT(), {ftueManager: r, showFTUENotification: i} = uJ(), a = ew(), o = gi.useObserver((() => r.isLoaded && r.isDone("ftue_settings_notification"))), [s, l] = H.useState(!1), [c, d] = H.useState(0);
H.useEffect((() => {
if (s) return wY((() => t.get(LY)), (e => {
i("ftue_settings_button", (async () => {
await r.setAsDone("ftue_settings_notification"), d(0), r.setShowingToast(!1);
}), (() => {
l(!1), d(1), r.setShowingToast(!0);
}), (() => {}), cm("PHOTON-SOCIAL_FTUE_NOTIFICATIONS_ACTIONABLE-TOOLTIP"), {
attachToSurface: {
surfaceId: e,
offsetX: -oJ - aJ / 2
},
showAsToast: !0,
telemetryInfo: {
pg_id: "ttip_adjust_notif_pref"
}
});
}));
}), [ t, r, i, s ]), H.useEffect((() => {
if (!o && 0 === c) return e.onComplete.subscribe(((e, t) => {
if (r.shouldShowFTUE("ftue_settings_notification") && 2 === t) if (a.isRevealed) l(!0); else {
i("ftue_settings_notification", (() => {}), (() => {
r.seenThisSession("ftue_settings_notification"), d(2);
}), (() => {
a.open(), d(0), l(!0), dO(n, {
msg_id: "tst_set_notif",
pg_id: "tst_set_notif",
destination_name: "main",
option: "open"
});
}), cm("PHOTON-SOCIAL_FTUE_NOTIFICATIONS_ACTIONABLE-TOAST"), {
buttonLabel: cm("PHOTON-SOCIAL_FTUE_ACTIONABLE-TOAST_BUTTON"),
telemetryInfo: {
pg_id: "tst_set_notif"
}
});
}
}));
}), [ n, c, r, o, e.onComplete, i, a ]);
}, BY = $f.InputBindings.Action, DY = () => {
const {navigate: e} = cv("overlay"), {history: t} = cv("main"), n = WT(), r = RY(), i = H.useCallback((() => (dO(n, {
pg_id: rO(t.location),
destination_name: "bottom_bar",
status: "click",
msg_id: "bottom_bar",
option: "social_settings"
}), e(lY.link()))), [ t, e, n ]);
AB({
registrationIdOverride: "GlobalSettings",
callback: i,
label: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_SETTINGS"),
action: BY.Settings,
priority: NB,
onSurfaceId: r
});
}, MY = Ii.observer((() => {
const e = Fs(nm), {fullscreenStyle: t} = qu(), n = TN(e ? 1 : 0), [r, i] = H.useState(e);
return H.useEffect((() => {
const t = {
duration: sd.AnimationTime.fastest,
easing: sd.AnimationEasing.ease
};
e ? (i(!0), n.to(1, t)) : n.to(0, {
...t,
onFinished: () => {
i(!1);
}
});
}), [ e, n ]), r ? H.createElement(nk, {
opacityTween: n,
type: 1,
style: t
}) : null;
})), FY = $f.Voip.VoipStatus, UY = Oc({
zOffset: 1,
flexDirection: "row",
alignItems: "center",
justifyContent: "space-between",
marginBottom: vc(sd.TextSizeHeading.medium)
}), HY = Oc({
marginRight: vc(sd.DimensionSpace.large)
}), VY = Oc({
flex: 1,
fontSize: bc(44),
color: sd.ColorNeutral._0
}), JY = Oc({
width: vc(32),
height: vc(32),
marginEnd: vc(sd.DimensionSpace.small),
texture: Up.PARTY_LEADER
}), zY = Oc({
marginStart: vc(sd.DimensionSpace.small),
marginEnd: vc(sd.DimensionSpace.small),
width: vc(sd.DimensionSpace.micro),
height: vc(sd.DimensionSpace.larger),
backgroundColor: sd.ColorNeutral._400
}), GY = Oc({
flexDirection: "row",
alignItems: "center"
}), jY = Rc((e => ({
texture: e ? Up.OFFLINE_STATUS_INDICATOR : Up.ONLINE_STATUS_INDICATOR,
color: e ? sd.IconColorStandard.emphasized : sd.ColorSystemSuccess._300
})), {
width: vc(sd.DimensionSpace.medium),
height: vc(sd.DimensionSpace.medium),
marginStart: vc(sd.DimensionSpace.small)
}), qY = Ii.observer((({photonPlayerId: e}) => {
const {data: t} = Wz(e), {data: n} = gL(), {data: r} = KM(e);
if (!t || !n) return null;
const i = HO(n.partyLeader, t.eaPlayerId, t.playerNetworkId), a = i, o = r && r.status !== FY.Disabled;
return o || a ? H.createElement(H.Fragment, null, H.createElement("surface", {
style: zY
}), i && H.createElement("surface", {
style: JY
}), o && H.createElement(eG, {
status: r.status
})) : null;
})), WY = Ii.observer((() => {
const {data: e} = oE(), t = zH(), n = e?.personaInfo;
return H.createElement("surface", {
style: UY
}, H.createElement(Jp, {
style: HY
}), H.createElement("surface", {
text: cm("PHOTON-SOCIAL_EA-LAYER_HEADER"),
style: [ zd, VY ]
}), n && H.createElement(H.Fragment, null, H.createElement("surface", {
style: GY
}, H.createElement(tN, {
playerNetworkId: n.playerNetworkId,
name: n.displayName
}), HH() ? H.createElement("surface", {
style: jY(t)
}) : void 0), By.isPartyEnabled && H.createElement(qY, {
photonPlayerId: e.photonPlayerId
})));
})), YY = $f.UserExperience.SoundEffect;
function KY() {
const e = ZB(), t = Tm("overlay"), {addZoom: n, removeZoom: r} = rm();
Ds(sk, H.useCallback((t => {
if (t) return e(YY.OverlayModalOpen), n(), () => {
r(), e(YY.OverlayModalClose);
};
}), [ e, n, r ]), !0), H.useEffect((() => t.listen((t => {
"/" === t.pathname ? e(YY.OverlaySlideOut) : e(YY.OverlaySlideIn);
}))), [ t, e ]);
}
Oc({
flexDirection: "row",
flex: 1,
zOffset: jE,
enableMouseEvents: !1,
position: "absolute",
top: ep.height,
left: ep.width,
opacity: .3
});
var XY = $f.InputBindings.Action, QY = Oc({
zOffset: 1,
position: "absolute",
top: vc(sd.DangerZone.height),
bottom: vc(sd.DangerZone.height),
left: vc(sd.DangerZone.width),
right: vc(sd.DangerZone.width)
}), $Y = Oc({
zOffset: 1,
flex: 1
}), ZY = Ii.observer((() => ($q(), zJ(), ZV(), KV(), Sz(), Ez(), null))), eK = () => {
const e = ew(), t = WT(), n = Ga(), {close: r, toggle: i} = H.useMemo((() => {
const r = () => {
e.isRevealed && dO(t, {
pg_id: rO(n.location),
msg_id: "bottom_bar",
destination_name: "bottom_bar",
option: "close"
});
};
return {
toggle: () => {
r(), e.toggle();
},
close: () => {
r(), e.close();
}
};
}), [ n, t, e ]);
AB({
action: XY.TogglePhoton,
callback: i,
label: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_CLOSE"),
priority: kB,
registrationIdOverride: "GlobalDismiss",
transcendBoundaries: !0
}), AB({
action: XY.Decline,
callback: r
});
}, tK = ({playerListConfig: e}) => {
const {getUnseenCount: t} = vB(), {getUnseenCountForAll: n} = QJ();
eK(), DY();
const r = H.useMemo((() => {
const r = [];
return r.push({
title: cm("PHOTON-SOCIAL_APP-BAR_FRIENDS"),
route: zy,
content: H.createElement(HJ, null)
}), By.isPartyEnabled ? r.push({
title: cm("PHOTON-SOCIAL_APP-BAR_PARTY"),
route: vJ,
content: H.createElement(OG, null),
getUnseenCount: n
}) : r.push({
title: cm("PHOTON-SOCIAL_APP-BAR_INVITES"),
route: oz,
content: H.createElement(cz, null),
getUnseenCount: n
}), r.push({
title: cm("PHOTON-SOCIAL_APP-BAR_REQUESTS"),
route: Gy,
content: H.createElement(YV, null),
getUnseenCount: t
}), r.push({
title: cm("PHOTON-SOCIAL_APP-BAR_SEARCH"),
route: OM,
content: H.createElement(bj, null)
}), e && r.push({
title: e.localizedName,
route: Vq,
content: H.createElement(Yq, null)
}), r.push({
title: cm("PHOTON-SOCIAL_APP-BAR_RECENT"),
route: nW,
content: H.createElement(lW, null)
}), r;
}), [ t, n, e ]);
return H.createElement(H.Fragment, null, H.createElement(WY, null), H.createElement("surface", {
style: $Y
}, H.createElement(mD, {
tabs: r
})));
}, nK = () => {
const e = TN(1);
return Bs((t => {
e.to(t ? .95 : 1, {
duration: sd.AnimationTime.faster,
easing: sd.AnimationEasing.accelerate
});
}), [ e ], nm, !0), H.useMemo((() => ({
zoomStyle: [ e.propStyle("scaleX"), e.propStyle("scaleY") ]
})), [ e ]);
}, rK = Ii.observer((() => {
KY();
const e = Rs(), {zoomStyle: t} = nK();
kz("app_opened");
const n = By.playerListsEnabled ? e.get(bH) : void 0;
return H.createElement(H.Fragment, null, null, false, false, false, false, !1, H.createElement(mB, {
router: "main"
}, H.createElement("surface", {
style: [ QY, t ]
}, H.createElement(tK, {
playerListConfig: n
}))), H.createElement(mB, {
router: "overlay",
shouldIsolate: pv.overlay
}, H.createElement(Da, {
path: [ BM.path, DM.path ]
}, (({match: e}) => H.createElement(dq, {
match: e
}))), H.createElement(Da, {
path: lY.path
}, (({match: e}) => H.createElement(CY, {
match: e
}))), H.createElement(pB, null)), H.createElement(Kq, {
portalId: "InsideContent"
}), H.createElement(RB, null), H.createElement(MY, null));
})), iK = $f.UserExperience.SoundEffect, aK = $f.StateApi.State, oK = {
duration: sd.AnimationTime.faster,
easing: sd.AnimationEasing.ease
}, sK = {
duration: sd.AnimationTime.faster,
easing: sd.AnimationEasing.accelerate
}, lK = e => e.getUntracked(Zf), cK = () => {
const {StateApi: e} = lm(), t = Rs(), {notificationManager: n} = SO(), [r, i] = Gs(Zf), a = TN(1.1), o = TN(0), s = ZB();
am("Hidden", H.useCallback((({currentState: r, actions: l}) => {
switch (r) {
case "Hidden":
return l().execute((() => {
var t;
t = n, As((() => t.activeItem)) ? e.setState({
state: aK.ShowingNotification
}) : e.setState({
state: aK.Closed
});
}), "StateApi.setState(Closed/ShowingNotification)");

case "Revealing":
{
let n = l().execute((() => {
e.setState({
state: aK.Open
});
}), "StateApi.setState(Open)");
return lK(t) || (n = n.execute((() => i(!0)), "setMounted(true)").wait(50)), n.executeAsync((e => {
const t = setTimeout(e, 1e3);
return a.to(1, oK), o.to(1, {
...oK,
onFinished: () => {
clearTimeout(t), e();
}
}), s(iK.LayerOpen), () => clearTimeout(t);
}), "tween: reveal").transition("Revealed");
}

case "Revealed":
return;

case "Hiding":
{
let e = l().executeAsync((e => {
const t = setTimeout(e, 1e3);
return a.to(1.1, sK), o.to(0, {
...sK,
onFinished: () => {
clearTimeout(t), e();
}
}), s(iK.LayerClose), () => clearTimeout(t);
}), "tween: hide");
return lK(t) && (e = e.execute((() => i(!1)), "setMounted(false)").wait(50)), e.transition("Hidden");
}

default:
Ts("Unhandled state");
}
}), [ t, i, a, o, s, e, n ]));
const l = ew();
return H.useEffect((() => {
const t = e.getState({});
return t && t.state === aK.Open && l.open(), e.onStateChanged.subscribe((({newState: e}) => {
switch (e) {
case aK.Open:
l.open();
break;

case aK.Closed:
l.close();
}
}));
}), [ e, l ]), {
isMounted: r,
opacityTween: o,
scaleTween: a
};
}, [dK, uK] = Es("FriendPicker"), pK = ({children: e, onSelect: t, request: n}) => {
const r = {
onSelect: t,
request: n
};
return H.createElement(dK.Provider, {
value: r
}, e);
}, fK = $f.InputBindings.Action, mK = Ii.observer((({photonPlayerId: e, telemetryInfo: t}) => {
const n = WT(), {data: r} = lH(e), {onSelect: i, request: a} = uK(), {name: o, playerNetworkId: s} = DO(e), l = yJ(r), c = H.useCallback((() => {
i(e), dO(n, {
...t,
msg_id: "list_control",
option: "select"
});
}), [ i, e, n, t ]), d = yL(fK.Primary), u = H.useMemo((() => ({
keyBinding: d,
label: cm("PHOTON-SOCIAL_PLAYER-SELECTION-OVERLAY_LIST-ACTIONS_SELECT"),
callback: c
})), [ d, c ]), p = fM({
playerName: o,
supplementaryText: l
});
return H.createElement(pM, {
id: "friendpickerfriend-" + e,
narrationItem: p,
onClick: c,
primaryAction: u
}, H.createElement(nM, {
playerNetworkId: s,
name: o
}), a.showPresence && !!l && H.createElement(QD, {
hideOnPressedOrFocused: !0,
text: l
}));
})), yK = $f.DeepLink.PickFriendPlayerInclusion, hK = () => {
const {DeepLink: e} = lm(), t = cw(), n = Rs(), r = Vs(sw), i = Vs(dw), a = Vs(uw), o = Ys((({get: t}) => async n => {
i({
loading: !0,
uninitialized: !1
});
const {data: r} = t(lw);
if (!r) return void i({
loading: !1,
uninitialized: !1,
error: new Error("Missing source players")
});
a(r);
const o = [];
r.forEach((e => {
(n.includePartyPlayers && e.inParty || e.isOnline || n.includeOfflinePlayers && !e.isOnline) && o.push(e);
}));
const s = await e.filterFriendsForPicker({
requestId: n.requestId,
players: o
});
if (s) {
const e = new Map;
s.players.forEach((t => {
t.inclusion !== yK.Hide && e.set($g({
eaPlayerId: t.player.playerId,
playerNetworkId: Sh(t.player.playerNetworkId)
}), t);
})), i({
loading: !1,
uninitialized: !1,
data: e
});
}
}), [ e, i, a ]), s = H.useCallback((r => {
const i = n.getUntracked(sw);
i && (e.pickFriendResponse({
requestId: i.requestId,
...r
}), n.reset(sw), t.stop());
}), [ e, t, n ]), l = H.useCallback((n => {
const r = e.onPickFriendRequest.subscribe((e => {
t.start(), n(e);
}));
return () => {
r(), t.stop();
};
}), [ e.onPickFriendRequest, t ]), c = H.useCallback((r => {
const i = e.onCancelFriendRequest.subscribe((() => {
n.reset(sw), r(), t.stop();
}));
return () => {
i();
};
}), [ e.onCancelFriendRequest, t, n ]);
return H.useEffect((() => () => {
s({
success: !1
});
}), [ n, s ]), {
setFriendPickerRequest: r,
sendPickFriendResponse: s,
subscribeToPickFriendRequest: l,
subscribeToPickFriendCancellation: c,
filterPlayers: o
};
};
async function gK(e, t) {
const n = dN(e, lw);
return await wg(n, t);
}
function IK(e, t) {
const {closeModal: n} = dk(), {showErrorNotification: r} = SO(), i = WT(), {filterPlayers: a, sendPickFriendResponse: o, setFriendPickerRequest: s, subscribeToPickFriendCancellation: l} = hK(), c = Rs(), d = Qf("SourcePlayers", H.useCallback((({currentState: l, actions: d}) => {
switch (l) {
case "SourcePlayers":
return d().executeAsync((n => {
s(e), gK(c, t).then((e => {
n(e.error || void 0 === e.data ? "Error" : void 0);
}));
}), "getSourcePlayers()").executeAsync((t => {
a(e).then((() => {
t();
}));
}), "filterPlayers()").transition("DisplayPlayers");

case "DisplayPlayers":
return;

case "Error":
return d().execute((() => {
o({
success: !1
}), r(void 0, "friend picker error", void 0);
}), "error()").transition("Close");

case "Cancel":
return d().execute((() => {
o({
success: !1
}), dO(i, {
pg_id: "overlay_friends_dialog",
option: "close",
destination_name: "bottom_bar",
msg_id: "bottom_bar"
});
}), "cancel()").transition("Close");

case "Close":
return d().execute((() => {
n();
}), "closeModal()");

default:
Ts("Unhandled state");
}
}), [ n, a, c, t, i, e, o, s, r ]), {
debugName: "FriendPicker"
});
H.useEffect((() => l((() => {
d.interrupt((() => "Close"));
}))), [ d, l ]);
const u = Ys((({get: e}) => t => {
const n = aI(t), r = e(dw).data?.get(n);
o(r ? {
player: r.player,
success: !0
} : {
success: !1
}), d.interrupt((() => "Close"));
}), [ o, d ]);
return {
onSelect: u,
closeAction: H.useMemo((() => ({
id: "close",
label: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_CLOSE"),
action: () => {
d.interrupt((() => "Cancel"));
}
})), [ d ])
};
}
var vK = {
0: Pu(),
1: Pu(),
2: Pu()
};
function bK(e, t) {
return "" + (e?.[t].length ?? 0);
}
function _K(e) {
const {isExpanded: t, onToggle: n} = FD({
id: "friendpicker-section-party",
isInitiallyExpanded: !0,
rememberExpandedState: !1,
onToggleCallback: pO("overlay_friends_dialog", "in_your_party")
}), {isExpanded: r, onToggle: i} = FD({
id: "friendpicker-section-online",
isInitiallyExpanded: !0,
rememberExpandedState: !1,
onToggleCallback: pO("overlay_friends_dialog", "online_friends")
}), {isExpanded: a, onToggle: o} = FD({
id: "friendpicker-section-offline",
isInitiallyExpanded: !0,
rememberExpandedState: !1,
onToggleCallback: pO("overlay_friends_dialog", "offline_friends")
});
return H.useMemo((() => {
const s = new RV;
return s.addSection({
id: 0,
isExpanded: t,
onToggle: n,
title: cm("PHOTON-SOCIAL_PLAYER-SELECTION-OVERLAY_SECTION-HEAD_PARTY", {
"%numberPartyMembers%": bK(e, 0)
}),
component: mK,
focusId: vK[0],
telemetryInfo: {
pg_id: "overlay_friends_dialog",
destination_name: "in_your_party",
msg_id: "in_your_party"
}
}), s.addSection({
id: 1,
isExpanded: r,
onToggle: i,
title: cm("PHOTON-SOCIAL_PLAYER-SELECTION-OVERLAY_SECTION-HEAD_ONLINE-ALL", {
"%numberOnlineFriends%": bK(e, 1)
}),
component: mK,
focusId: vK[1],
telemetryInfo: {
pg_id: "overlay_friends_dialog",
destination_name: "online_friends",
msg_id: "online_friends"
}
}), s.addSection({
id: 2,
isExpanded: a,
onToggle: o,
title: cm("PHOTON-SOCIAL_PLAYER-SELECTION-OVERLAY_SECTION-HEAD_OFFLINE", {
"%numberOfflineFriends%": bK(e, 2)
}),
component: mK,
focusId: vK[2],
telemetryInfo: {
pg_id: "overlay_friends_dialog",
destination_name: "offline_friends",
msg_id: "offline_friends"
}
}), s;
}), [ r, a, t, i, o, n, e ]);
}
var PK = SF, SK = Oc({
width: PK
}), TK = Jy("/friend-picker/:requestId?", void 0), EK = ({heading: e, body: t}) => H.createElement("surface", null, H.createElement(zw, {
headline: e,
body: t
})), kK = Oc({
width: Yw,
height: tp.height - vc(sd.DimensionLayout.medium)
}), NK = Oc({
flex: 1,
width: Yw
}), CK = ({title: e, headline: t, body: n, style: r, children: i}) => {
const a = Bc("marginTop", vc(n ? sd.DimensionSpace.largest : sd.DimensionSpace.larger));
return H.createElement(zw, {
style: kK,
childrenStyle: Bc("flex", 1),
title: e,
headline: t,
body: n
}, H.createElement("surface", {
style: [ a, NK, r ]
}, i));
};
var OK = {
duration: sd.AnimationTime.fastest,
easing: sd.AnimationEasing.ease,
delay: 50
};
function AK() {
const e = TN(0), t = TN(1.1), n = H.useRef(!1);
return H.useCallback((() => (n.current || (e.to(1, OK), t.to(1, OK), n.current = !0), 
[ t.propStyle("scaleX"), t.propStyle("scaleY"), e.propStyle("opacity") ])), [ e, t ]);
}
var wK = Ii.observer((({request: e}) => {
const {onSelect: t, closeAction: n} = IK(e, 8e3), {data: r, loading: i, uninitialized: a} = Fs(pw), o = _K(r), {rows: s} = FV(o, r, TK);
Hu("GlobalDismiss");
const l = e.heading ?? cm("PHOTON-SOCIAL_PLAYER-SELECTION-OVERLAY_TITLE"), c = e.description, d = AK();
return H.createElement(pK, {
onSelect: t,
request: e
}, H.createElement(CK, {
title: l,
body: c,
style: SK,
overlayTitleNarrationItem: lL
}, H.createElement(rL, {
closeAction: n
}, H.createElement(kj, null, (t => i || a ? H.createElement(qD, {
numRows: 1,
numSections: 2
}) : s.length ? t ? H.createElement(OU, {
style: d(),
rows: s,
height: t,
width: PK
}) : null : H.createElement(EK, {
heading: e.emptyHeading ?? cm("PHOTON-SOCIAL_PLAYER-SELECTION-OVERLAY_EMPTY_TITLE"),
body: e.emptyDescription ?? cm("PHOTON-SOCIAL_PLAYER-SELECTION-OVERLAY_EMPTY_DESC")
}))))));
})), LK = () => {
const {subscribeToPickFriendRequest: e} = hK(), {showModal: t} = dk();
H.useEffect((() => e((e => {
t((() => H.createElement(wK, {
request: e
})), {
telemetryId: "overlay_friends_dialog"
});
}))), [ t, e ]);
}, RK = Ii.observer((({children: e}) => (xY(), H.createElement(H.Fragment, null, e))));
function xK() {
const e = XR(), {playerNetworkId: t} = TO(), n = Rs(), r = WT(), i = dk(), a = SO(), o = CL(), s = lm();
H.useEffect((() => s.Lobby.onFirstPartyInviteAccepted.subscribe((({fromPlayerId: l}) => {
const c = $g({
eaPlayerId: l,
playerNetworkId: t
});
AY((() => e.get().data?.get(c)), (async e => {
const {data: t} = lE(n), l = t?.tokenInfo.userId;
if (l) {
const {data: t} = await HL(n, s.PresenceSession, s.GameInvite, c, e), d = t?.party, u = t?.lobby;
d && await UR(n, r, s.Lobby, s.Party, s.Voip, s.DeepLink, i, a, o, c, e, {
partyId: d
}, !1, s);
const p = await px(s.GameInvite, e.gameInviteId, l);
gR(n, r, c, p.error, void 0, void 0, d, u);
}
}), {
timeout: 1e4,
onError: () => {}
});
}))), [ s, e, n, i, o, a, r, t ]);
}
function BK(e) {
const {seconds: t, nanos: n = 0} = e;
return 1e3 * t + n / 1e6;
}
var DK = class {
constructor(e) {
this.toItemId = e, this.previousItemIds = new Set, this.withChangedItems = (e, t) => {
const n = [], r = new Set;
e.forEach((e => {
const t = this.toItemId(e);
r.add(t), this.previousItemIds.has(t) || n.push(e);
}));
const i = Array.from(this.previousItemIds.values()).filter((e => !r.has(e)));
(n.length || i.length) && (this.rememberItems(n), this.forgetItemIds(i), t({
addedItems: n,
removedItemIds: i
}));
}, this.resetItems = () => {
this.previousItemIds.clear();
};
}
rememberItems(e) {
e.forEach((e => {
this.previousItemIds.add(this.toItemId(e));
}));
}
forgetItemIds(e) {
e.forEach((e => {
this.previousItemIds.delete(e);
}));
}
};
function MK(e) {
return H.useRef(new DK(e)).current;
}
async function FK(e, t, n, r) {
const i = await Fh((() => e.getBlockList({})), PI);
if (i.error || !i.data) return {
...i,
data: void 0
};
const a = new Cs({});
return (await xC(t, i.data.blockList, n, r)).forEach((e => {
a.set(e.photonPlayerId, {
photonPlayerId: e.photonPlayerId
});
})), {
...i,
data: a
};
}
var UK = class extends Pg {
init(e, t, n, r) {
const i = [ this.initSeedStrategy(e, t, n, r), this.initBlockListUpdate(e) ];
return () => {
i.forEach((e => e?.()));
};
}
initSeedStrategy(e, t, n, r) {
return this.setSeedStrategy({
fetch: async () => Ng(await FK(e, t, n, r)),
updater: ug
});
}
initBlockListUpdate(e) {
return e.onBlockListUpdated.subscribe((() => {
this.reseed();
}));
}
}, [HK, VK] = $s({
debugName: "firstPartyBlockedStoreState",
create: () => new UK({
debugName: "FirstPartyBlocked"
})
}), JK = "reconnect";
function zK(e, t) {
const {timeout: n, disposeTimeout: r} = ru(), i = H.useRef(0), a = H.useCallback((e => {
n("successCheck", (() => {
e === i.current && (i.current = 0);
}), 15e3);
}), [ n ]);
H.useEffect((() => {
if (e) {
const o = eg((() => {
i.current++;
const e = 1 === i.current ? 0 : 5e3;
i.current <= 3 && n(JK, (() => {
a(i.current), t();
}), e);
}), {
trailing: !0,
wait: 1e3
}), s = e.error.subscribe((() => {
o();
})), l = e.end.subscribe((() => {
o();
}));
return () => {
s(), l(), r(JK), o.cancel();
};
}
}), [ e, r, n, t, a ]);
}
var GK = $f.GameInvite.GameInviteNotificationType, jK = Bh.object({
gameInviteId: Bh.string,
senderPlayerId: Hg,
senderPlayerNetworkId: zg,
senderDevicePlatformId: Gg,
senderProductId: qg,
createdTimestamp: Dg,
expiryTimestamp: Dg,
purgeTimestamp: Dg,
gameJoinTokenTypes: Bh.array(Bh.string)
}, {
revokeTimestamp: Dg,
targetPlayerNetworkId: Bh.array(zg),
targetDevicePlatformId: Bh.array(Gg),
properties: Bh.map(Ug)
}), qK = Bh.custom((e => "number" == typeof e && e in GK && e !== GK.GAME_INVITE_NOTIFICATION_TYPE_UNSPECIFIED)), WK = Bh.object({
gameInvite: jK,
gameInviteNotificationType: qK
}), YK = Bh.object({
gameInviteNotification: WK
}), KK = Bh.object({}), XK = Bh.object({
stream: Bh.custom(Yg()),
response: KK
}), QK = class {
constructor(e, t, n) {
this.gameInvitesStore = e, this.addInviteToSeenState = t, this.removeInviteFromSeenState = n, 
this.expireTimeouts = {}, this.expireLongAgoTimeouts = {};
}
refreshGameInviteStore() {
const e = this.gameInvitesStore.get();
e.update(e.toProps());
}
onExpiredCallback(e) {
this.refreshGameInviteStore(), this.removeInviteFromSeenState(e), this.addInviteToSeenState(e);
}
onExpiredLongAgoCallback(e) {
this.refreshGameInviteStore(), this.removeInviteFromSeenState(e);
}
addInvite(e, t) {
this.removeInvite(e);
const {purged: n, expired: r, expiredLongAgo: i} = ZR(t);
if (n || i) return;
const a = t.expiryTimestampMs - (new Date).getTime();
r || (this.expireTimeouts[e] = setTimeout((() => this.onExpiredCallback(t)), a)), 
this.expireLongAgoTimeouts[e] = setTimeout((() => this.onExpiredLongAgoCallback(t)), a + ML);
}
removeInvite(e) {
const t = this.expireTimeouts[e], n = this.expireLongAgoTimeouts[e];
t && clearTimeout(t), n && clearTimeout(n);
}
}, $K = $f.GameInvite.GameInviteNotificationType, ZK = (e, t) => t.createdTimestampMs - e.createdTimestampMs;
function eX(e) {
return e.data || new oB([], ZK);
}
function tX(e) {
let t = BK(e.expiryTimestamp), n = BK(e.purgeTimestamp);
const r = e.revokeTimestamp && BK(e.revokeTimestamp);
r && r < t && (t = r, n = r + 72e5);
const i = {};
return e.properties?.lobby && (i.lobby = e.properties.lobby.stringValue), e.properties?.party && (i.party = e.properties.party.stringValue), 
{
gameInviteId: e.gameInviteId,
targetPlayerNetworkId: e.targetPlayerNetworkId?.map(Sh),
targetDevicePlatformId: e.targetDevicePlatformId?.map(yc),
senderPlayerId: e.senderPlayerId.id,
senderPlayerNetworkId: Sh(e.senderPlayerNetworkId),
senderDevicePlatformId: yc(e.senderDevicePlatformId),
senderProductId: e.senderProductId.id,
createdTimestampMs: BK(e.createdTimestamp),
expiryTimestampMs: t,
purgeTimestampMs: n,
gameJoinTokenTypes: e.gameJoinTokenTypes,
properties: i
};
}
var nX = () => {
const e = lm(), {data: t} = oE(), n = t?.tokenInfo.userId, r = t?.personaInfo.playerNetworkId, i = Rs(), a = JI(), o = WR(), s = XR(), l = VK(), c = yN(), d = Pz(), u = xg(), p = QJ(), f = H.useRef(new QK(s, p.addInvite, p.removeFromAll)), {withChangedItems: m} = MK($R);
Ws((({get: e}) => {
const t = e(KR).get().data?.getSortedList() ?? [];
m(t, (({addedItems: e, removedItemIds: t}) => {
e.forEach((e => {
p.addInvite(e);
})), t.forEach((e => {
p.removeBySeenStateId(e);
}));
}));
}), [ p, m ]);
const y = Wh((() => e.GameInvite.SubscribeToReceivedGameInviteNotifications({
playerId: {
id: n
}
})), [ e, n ], XK, {
queryIsReady: !!n
});
zK(y.data?.stream, H.useCallback((() => y.fetch?.()), [ y ])), RI("GameInvite.SubscribeToReceivedGameInviteNotifications", y.data?.stream), 
H.useEffect((() => {
if (!y.data) return;
const e = setTimeout((() => {
As((() => {
const e = s.get();
e.data || e.update({
...e.toProps(),
uninitialized: !1,
loading: !1,
data: eX(e)
});
}));
}), 8e3), n = s.setStreamStrategy({
stream: new Wg(y.data.stream, YK),
updater: async (e, n) => {
const i = eX(e);
if (e.data || e.update({
...n,
data: i
}), !n.data) return;
const s = n.data.gameInviteNotification, p = tX(s.gameInvite), m = $g({
eaPlayerId: p.senderPlayerId,
playerNetworkId: p.senderPlayerNetworkId
});
if (t?.personaInfo.devicePlatformId && p.targetDevicePlatformId && p.targetDevicePlatformId.length && !p.targetDevicePlatformId.includes(t.personaInfo.devicePlatformId)) return;
if (await u(c.get(), 8e3), As((() => c.get().data?.has(p.senderPlayerId)))) return;
if (r && "EA" !== r && (await u(l.get(), 8e3), As((() => l.get().data?.has(m))))) return;
let y = !1;
switch (s.gameInviteNotificationType) {
case $K.GAME_INVITE_NOTIFICATION_TYPE_REMOVED:
i.delete(m), f.current.removeInvite(m);
break;

case $K.GAME_INVITE_NOTIFICATION_TYPE_ADDED:
i.set(m, p), f.current.addInvite(m, p);
break;

case $K.GAME_INVITE_NOTIFICATION_TYPE_REVOKED:
case $K.GAME_INVITE_NOTIFICATION_TYPE_EXISTING:
{
const e = As((() => i.get(m)));
if (e) {
const t = (new Date).getTime(), n = t > e.expiryTimestampMs, r = t > p.expiryTimestampMs;
y = n && !r;
}
i.set(m, p), f.current.addInvite(m, p);
break;
}
}
if (s.gameInviteNotificationType === $K.GAME_INVITE_NOTIFICATION_TYPE_ADDED || y) {
const e = (await u(a.get(m), 1e4))?.data;
if (!e) return;
const t = (await u(o.get(s.gameInvite.senderProductId.id), 1e4))?.data, n = As((() => i.get(m)));
n && d.trigger(n, e, t);
}
}
});
return () => {
n?.(), clearTimeout(e);
};
}), [ c, i, u, s, y.data, a, o, d, p, t, l, r ]);
}, rX = Ii.observer((({children: e}) => (xK(), nX(), H.createElement(H.Fragment, null, e)))), iX = ({children: e}) => {
const t = gB("GameInvites"), n = gB("CrossGameInvites"), r = gB("ExpiredInvites"), i = H.useMemo((() => {
function e(e) {
const {expired: i, expiredLongAgo: a, purged: o} = ZR(e), s = tx(e);
if (!a && !o) return i ? r : s ? t : n;
}
return {
gameInvites: t,
crossGameInvites: n,
expiredInvites: r,
removeFromAll(e) {
const i = $R(e);
t.removeItem(i), n.removeItem(i), r.removeItem(i);
},
removeBySeenStateId(e) {
t.removeItem(e), n.removeItem(e), r.removeItem(e);
},
addInvite(t) {
const n = e(t);
n && n.addNewItem($R(t));
},
getUnseenCountForAll: () => t.getUnseenCount() + n.getUnseenCount() + r.getUnseenCount()
};
}), [ t, n, r ]);
return H.createElement(XJ.Provider, {
value: i
}, H.createElement(rX, null, e));
}, aX = Bh.object({}), oX = e => {
const t = e.get(mA).get();
return {
lobbyJoinable: !!e.get(xk).get().data,
partyJoinable: !!t.data
};
}, sX = (e, t) => As((() => ({
loading: !1,
data: oX(e),
error: t
})));
function lX() {
const {Lobby: e, GameInvite: t} = lm(), n = Rs(), {compatiblePlayerNetworkIds: r, compatibleDevicePlatformIds: i} = sx(), a = H.useCallback(((e, n, a, o, s) => {
const l = BL(s);
return Fh((() => t.SendGameInvite({
playerId: {
id: e
},
targetPlayerId: {
id: n
},
targetPlayerNetworkId: r,
targetDevicePlatformId: i,
senderPlayerNetworkId: {
id: a
},
senderDevicePlatformId: {
id: o
},
senderProductId: {
id: By.productId
},
gameJoinTokenTypes: Array.from(s.keys()),
properties: l
})), aX);
}), [ i, r, t ]);
H.useEffect((() => e.onSendEaInvite.subscribe((async ({requestId: t, toPlayerId: r}) => {
const i = n.getUntracked(sE);
if (!i.data) return e.sendEaInviteResponse({
requestId: t,
errorMessage: "NO_USER"
});
const o = await new Promise((e => {
yr((() => {
const {lobbyJoinable: e, partyJoinable: t} = oX(n);
return e || t;
}), (() => {
e(sX(n));
}), {
timeout: 1e4,
onError: () => e(sX(n, new Error("TIMEOUT")))
});
}));
if (o.error) return e.sendEaInviteResponse({
requestId: t,
errorMessage: o.error.message
});
const s = ox(o.data?.partyJoinable, o.data?.lobbyJoinable), l = await a(i.data.tokenInfo.userId, r, i.data.personaInfo.playerNetworkId, i.data.personaInfo.devicePlatformId, Mx(n, s));
e.sendEaInviteResponse({
requestId: t,
errorMessage: l.error?.message
});
}))), [ e.onSendEaInvite, e, n, a ]);
}
var cX = Ps({
debugName: "shouldRevokeLobbyGameInvites",
get: ({get: e}) => {
const t = e(rE).get().data;
if (t?.photonPlayerId) {
const n = t?.photonPlayerId, r = e(xk).get().data, i = !!r?.members.get(n), a = !!r && r.maxSize <= r.members.size;
return !i || a;
}
return !0;
}
}), dX = Ps({
debugName: "shouldRevokeLobbyGameInvitesWhenLobbyIdChanges",
get: ({get: e}) => {
if (e(rE).get().data?.photonPlayerId) {
return e(xk).get().data?.lobbyId;
}
}
}), uX = Bh.optional(Bh.object({})), pX = () => {
const {GameInvite: e} = lm(), t = oE(), n = Yh((n => e.RevokeGameInvites({
senderPlayerId: {
id: t.data?.tokenInfo.userId
},
senderPlayerNetworkId: {
id: t.data?.personaInfo.playerNetworkId
},
senderProductId: {
id: By.productId
},
containedGameJoinTokenType: n
})), [ e, t.data?.personaInfo.playerNetworkId, t.data?.tokenInfo.userId ], uX, {
queryIsReady: !!t
});
Bs((e => {
e && n?.("lobby");
}), [ n ], cX), Bs((e => {
e && n?.("lobby");
}), [ n ], dX), Bs((e => {
e && n?.("party");
}), [ n ], QL);
};
function fX() {
const e = Bk(), t = Rs();
H.useEffect((() => Mn((() => e.get().data?.lobbyId), (() => {
Ox(0, t);
}))), [ t, e ]);
const n = gi.useObserver((() => e.get().data?.members));
H.useEffect((() => n?.observe_((({type: e, name: n}) => {
"add" === e && Ax(0, n, t);
}))), [ t, e, n ]);
}
function mX() {
const e = Rs(), t = Bk(), {Lobby: n} = lm();
H.useEffect((() => t.init(e, n)), [ t, e, n ]);
}
function yX() {
const e = lm(), {getUnseenCount: t} = vB(), {getUnseenCountForAll: n} = QJ();
H.useEffect((() => {
if (!e.isMethodAvailable("PhotonJsBindings.Badging.updateUnseenItemCount")) return;
const r = eg((() => As((() => {
const r = t() + n();
e.Badging.updateUnseenItemCount({
unseenItemCount: r
});
}))), {
wait: 3e3,
leading: !0
}), i = Mn((() => t() + n()), r, {
fireImmediately: !0
});
return () => {
i(), r.cancel();
};
}), [ t, n, e ]);
}
$f.InputBindings.Action;
var hX = Oc({
position: "absolute"
}), gX = Oc({
right: ep.width,
bottom: ep.height,
zOffset: GE
}), IX = ({positionStyle: e = gX, options: t, children: n}) => {
const r = Gu(), i = t?.appearance?.attachToSurface, [a, o] = H.useState(null), s = Dc((() => a && i ? {
bottom: Qu - a.y + vc(sd.DimensionSpace.small),
left: a.x + a.width / 2 + i.offsetX,
zOffset: FE
} : {}), [ i, a ]);
return H.useEffect((() => {
if (!i) return;
const e = r.reconciler.getSurfaceById(i.surfaceId)?.getBounds();
return e && o(e), r.reconciler.surfaceBindings.onSurfaceBoundsChanged.subscribe((e => {
e.changes.forEach((({bounds: e, surfaceId: t}) => {
t === i.surfaceId && o(e);
}));
}));
}), [ i, r.reconciler ]), i && !a ? null : H.createElement("surface", {
style: [ hX, e, s ]
}, n);
}, vX = fs.Input.DeviceType, bX = $f.UserExperience.SoundEffect, _X = $f.StateApi.State, PX = $f.StateApi.State, SX = $f.InputBindings.Action, TX = "notifications_in", EX = "notifications_out", kX = "notifications_ready", NX = {
easing: sd.AnimationEasing.accelerate,
duration: sd.AnimationTime.slow
}, CX = {
easing: sd.AnimationEasing.accelerate,
duration: sd.AnimationTime.slowest
}, OX = {
holdRequired: !1,
holdTimeSeconds: 0
}, AX = Oc({
position: "absolute",
top: 0,
left: 0,
right: 0,
bottom: 0,
flex: 1,
zOffset: JE,
backgroundColor: "#ffffff00"
}), wX = {
4: bX.NotificationOtherPlayerInvite,
2: bX.NotificationOtherPlayerActivity,
1: bX.NotificationTips,
0: bX.NotificationSystemResponseFailure,
3: bX.NotificationSystemResponseSuccess
}, LX = ({text: e, holdRequired: t}) => {
const n = yL(SX.NotificationFocus);
return pu((({getKeyBindingText: r}) => [ cm("PHOTON-SOCIAL_NARRATION_NOTIFICATION_RECEIVED", {
"%notificationText%": e
}), cm(t ? "PHOTON-SOCIAL_NARRATION_NOTIFICATION_HOLD-OPEN" : "PHOTON-SOCIAL_NARRATION_NOTIFICATION_PRESS-OPEN", {
"%key%": r(n)
}) ]), [ t, n, e ], 1), null;
}, RX = Ii.observer((() => {
const e = Gu(), t = Fs(Mu), {InputBindings: n, StateApi: r} = lm(), i = nJ(), a = Rs(), {notificationManager: o, showNextNotification: s} = SO(), {timeout: l, disposeTimeout: c} = ru(), d = ew(), [u, p] = Gs(em), f = WT(), [m, y] = H.useState(!1), [h, g] = H.useState(!1), [I, v] = H.useState(), b = TN(vc(60)), _ = TN(0), P = o.activeItem, S = ZB(), {holdRequired: T, holdTimeSeconds: E} = e.bindings.Input.getFocusNotificationConfig({}) || OX, k = H.useMemo((() => ({
setFocusable: () => {
g(!0);
}
})), []);
H.useEffect((() => {
if (m) return Uu(a, "GlobalDismiss");
}), [ m, a ]), H.useEffect((() => {
As((() => {
P && P.item.options?.telemetryInfo && dO(f, {
msg_id: P.item.options.telemetryInfo.pg_id,
...P.item.options.telemetryInfo,
status: "impression",
...P.item.data?.hasActions && {
option: "open",
destination_name: "main"
}
});
}));
}), [ P, f ]), H.useEffect((() => {
const e = (() => {
if (!P && !d.isRevealed) return PX.Closed;
switch (u) {
case PX.Open:
break;

case PX.Closed:
return h ? PX.ShowingFocusableNotification : PX.ShowingNotification;

case PX.ShowingNotification:
if (h) return PX.ShowingFocusableNotification;
break;

case PX.ShowingFocusableNotification:
if (!h) return PX.ShowingNotification;
if (m) return PX.FocusedNotification;
break;

case PX.FocusedNotification:
if (!h) return PX.ShowingNotification;
break;

default:
Ts("Unknown StateApiState");
}
return u;
})();
e !== u && (p(e), r.setState({
state: e
}));
}), [ P, u, h, m, p, r, d ]);
const N = H.useCallback((e => {
g(!1), y(!1), e.done(), c(TX), c(kX), c(EX), s();
}), [ c, s ]), C = H.useCallback((() => {
P && (_.set(0), N(P));
}), [ P, N, _ ]), O = H.useCallback((() => {
P?.item.options?.telemetryInfo && dO(f, {
msg_id: P.item.options.telemetryInfo.pg_id,
...P.item.options.telemetryInfo,
destination_name: "actions",
option: "close"
}), C();
}), [ P?.item.options, C, f ]), A = H.useCallback((() => {
P && (y(!0), _.set(1), b.set(0), P.done(), c(TX), c(kX), c(EX));
}), [ P, c, _, b ]);
H.useEffect((() => {
m && P?.item.options?.telemetryInfo && dO(f, {
msg_id: P.item.options.telemetryInfo.pg_id,
...P.item.options.telemetryInfo,
option: "open",
...P.item.data?.hasActions && {
destination_name: "main"
}
});
}), [ P, m, f ]), H.useEffect((() => {
u === _X.FocusedNotification && !m && h && A();
}), [ u, m, h, A ]), H.useEffect((() => {
if (u === _X.ShowingFocusableNotification && t === vX.MouseAndKeyboard && I) {
const {absHeight: e, absWidth: t, absX: r, absY: i} = I;
n.setExclusiveMouseRegion({
exclusiveMouseRegion: {
xTopLeftPixelCoordinate: r,
yTopLeftPixelCoordinate: i,
xBottomRightPixelCoordinate: r + t,
yBottomRightPixelCoordinate: i + e
}
});
} else n.setExclusiveMouseRegion({});
}), [ n, t, u, I ]), H.useEffect((() => {
if (P) {
const e = () => {
_.transition(1, 0, CX), l(EX, (() => N(P)), CX.duration + 100);
};
(() => {
S(wX[P.item.type]), y(!1);
const t = P.item.options?.appearance?.animationOffset ?? vc(60);
b.transition(t, 0, NX), _.transition(0, 1, NX), l(kX, (() => P.ready()), NX.duration);
const n = P.getScreenTimeInSeconds();
n && l(TX, e, 1e3 * n + NX.duration - 50);
})();
}
}), [ P, N, b, _, l, S ]), H.useEffect((() => () => {
r.setState({
state: _X.Closed
}), n.setExclusiveMouseRegion({});
}), [ n, r ]), H.useEffect((() => o.onDismiss.subscribe((() => {
C();
}))), [ C, o.onDismiss ]);
const w = P?.item?.options?.appearance?.portalId, L = H.useMemo((() => {
if (!P) return null;
const e = P.item?.options?.appearance?.positionStyle;
let t = b.propStyle("translateX");
const n = P.item.options?.appearance?.animation;
return 1 === n && (t = b.propStyle("translateY")), H.createElement(H.Fragment, null, m && H.createElement("surface", {
style: AX
}), H.createElement(IX, {
positionStyle: e,
options: P.item?.options
}, H.createElement("surface", {
onBounds: e => {
var t, n;
(t = I) === (n = e) || void 0 !== t && void 0 !== n && t.absHeight === n.absHeight && t.absWidth === n.absWidth && t.absX === n.absX && t.absY === n.absY || v(e);
}
}, h && !!P?.item.data?.text && H.createElement(LX, {
text: P?.item.data?.text,
holdRequired: T
}), H.createElement(rC.Provider, {
value: k
}, H.createElement("surface", {
style: [ t, _.propStyle("opacity") ]
}, P.item.content({
id: P.id,
dismiss: C,
onClose: O,
stayActive: A,
isActivated: m,
holdOptions: {
holdRequired: T,
holdTimeMs: E ? 1e3 * E : 0
}
}))))));
}), [ P, b, h, T, k, _, C, O, A, m, E, I ]);
return H.useEffect((() => {
w && L && i.teleport(w, L);
}), [ L, w, i ]), H.useEffect((() => {
if (w) return () => {
i.clear("InsideContent");
};
}), [ w, i ]), w ? null : L;
})), xX = ($f.Voip.VoipStatus, $f.Voip.VoipChannel, $f.Voip.VoipChannel), BX = () => {
const {showNotification: e, showCtaNotification: t} = SO(), n = NL(true), r = H.useCallback((async () => {
await (n?.({
channel: $f.Voip.VoipChannel.Game
}));
}), [ n ]);
return H.useCallback((i => {
const {channelsBefore: a, channelsAfter: o, voipIsDisabled: s} = i ?? {}, l = a?.map((e => e.channel)), c = o?.map((e => e.channel));
l && !l.includes($f.Voip.VoipChannel.Game) && c && c.includes($f.Voip.VoipChannel.Game) && t(0, 0, Up.VOIP, cm(s ? "PHOTON-SOCIAL_NOTIFICATION_LOCAL_VOICE-DISABLED_TEAM-AVAILABLE" : "PHOTON-SOCIAL_NOTIFICATION_LOCAL_CHAT_IN-PARTY_TEAM-AVAILABLE"), cm("PHOTON-SOCIAL_NOTIFICATION_TEAM-VOIP_BUTTON_OPEN"), r, {
telemetryInfo: {
pg_id: "tst_team_channel",
option: "hold_to_join"
}
}), !s && l && l.includes($f.Voip.VoipChannel.Game) && c && !c.includes($f.Voip.VoipChannel.Game) && c.includes($f.Voip.VoipChannel.Party) && (e(3, 3, {
icon: Up.VOIP,
text: cm("PHOTON-SOCIAL_NOTIFICATION_LOCAL_CHAT_IN-PARTY_FORCED")
}), n({
channel: xX.Party
}));
}), [ t, r, e, n ]);
}, [DX, MX] = $s({
debugName: "VoipNotificationEventsState",
create: () => ({
voipChannels: new as
})
}), FX = e => {
const t = MX();
H.useEffect((() => t.voipChannels.subscribe(e.voipChannels)), [ e.voipChannels, t.voipChannels ]);
}, UX = () => {
const e = BX(), t = H.useMemo((() => ({
voipChannels: e
})), [ e ]);
return FX(t);
}, HX = async (e, t) => {
let n = "tst_blocked_multi", r = cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_PARTY_BLOCKED-PLAYERS");
if (1 === t.size) {
const [i] = t, {data: a} = await wg(fw(e, i), 8e3);
a && (n = "tst_blocked_player_current", r = cm("PHOTON-SOCIAL_NOTIFICATION_OTHER_PARTY_BLOCKED-PLAYER", {
"%primaryID%": Zk({
name: a.displayName,
playerNetworkId: a.playerNetworkId
}, {
allowEllipsis: !0
})
}));
}
return {
text: r,
telemetryId: n
};
}, VX = () => {
const e = Rs(), {showNotification: t} = SO(), n = xg();
Bs((async r => {
if (!r) return;
const i = (await n(e.getUntracked(mN).get(), 1e4))?.data, a = (await n(e.getUntracked(mA).get(), 1e4))?.data;
if (!a || !As((() => i?.size))) return;
const o = new Set;
if (As((() => {
a.members.forEach((e => {
i?.has(e.eaPlayerId) && o.add(e.photonPlayerId);
}));
})), o.size > 0) {
const {text: n, telemetryId: r} = await HX(e, o);
t(0, 2, {
icon: Up.WARNING,
iconColor: sd.ColorSystem.warning,
text: n
}, {
telemetryInfo: {
pg_id: r,
context: {
tpid: By.productId
}
}
});
}
}), [ e, n, t ], XL, !0);
};
function JX() {
const e = yA(), t = Rs();
H.useEffect((() => Mn((() => e.get().data?.partyId), (() => {
Ox(0, t);
}))), [ t, e ]);
const n = gi.useObserver((() => e.get().data?.members));
H.useEffect((() => n?.observe_((({type: e, name: n}) => {
"add" === e && Ax(0, n, t);
}))), [ t, e, n ]);
}
var zX = Oc({
width: Yw
}), GX = Oc({
marginTop: vc(sd.DimensionSpace.largest),
width: vc(554)
}), jX = Oc({
marginBottom: vc(sd.DimensionSpace.small),
flex: 1
}), qX = ({actionConfig: e, closeModal: t}) => {
const {id: n, label: r, action: i, autoClose: a} = e, o = H.useCallback((() => {
e.isSelected || i(), a && t();
}), [ i, e.isSelected, a, t ]);
return H.createElement(MW, {
label: r,
id: "modal-" + n,
onSelect: o,
isSelected: e.isSelected,
isDisabled: e.isDisabled
});
};
function WX(e) {
const {closeModal: t} = dk();
return H.useMemo((() => e.map((e => H.createElement("surface", {
style: jX,
key: e.id
}, H.createElement(qX, {
actionConfig: e,
closeModal: t
}))))), [ e, t ]);
}
var YX = ({title: e, headline: t, body: n, actions: r, closeAction: i, closeLabel: a}) => {
const {closeModal: o} = dk();
Ww({
callback: i || o,
label: a,
action: 3
});
const s = WX(r);
return H.createElement("surface", {
style: zX
}, H.createElement(zw, {
title: e,
headline: t,
body: n,
bodyStyle: Qw
}, H.createElement("surface", {
style: GX
}, s)));
}, KX = $f.DeepLink.Setting, XX = $f.DeepLink.ParentalControlSettings, QX = () => {
const {data: e} = oE(), {data: t} = KM(e?.photonPlayerId), n = hY()(XX.Voip), r = t?.channel;
return {
currentChannel: r,
isVoipDisabled: t?.status === $f.Voip.VoipStatus.Disabled || n
};
}, $X = {
pg_id: "overlay_voip_toggle",
msg_id: "overlay_voip_toggle"
}, ZX = {
...$X,
option: "off"
}, eQ = {
...$X,
option: "team_channel"
}, tQ = {
...$X,
option: "party_channel"
}, nQ = Ii.observer((() => {
const {data: e} = XM(), {currentChannel: t, isVoipDisabled: n} = QX(), r = lm(), i = NL(), a = WT(), o = hY()(XX.Voip), s = H.useMemo((() => [ {
id: "open",
action: () => r.DeepLink.openSetting({
setting: KX.FirstPartyParentalVoip
}),
autoClose: !0,
label: cm("BUTTON_XBOX-SETTINGS"),
icon: Up.OPEN_EXTERNAL
} ]), [ r.DeepLink ]), l = H.useMemo((() => [ {
id: "partyChat",
action: uO(a, (() => i?.({
channel: $f.Voip.VoipChannel.Party
})), tQ),
autoClose: !0,
label: cm("BUTTON_PARTY-CHAT"),
isSelected: !n && t === $f.Voip.VoipChannel.Party
}, {
id: "teamChat",
action: uO(a, (() => i?.({
channel: $f.Voip.VoipChannel.Game
})), eQ),
autoClose: !0,
label: cm("BUTTON_TEAM-CHAT"),
isSelected: !n && t === $f.Voip.VoipChannel.Game,
isDisabled: !e?.some((e => e.channel === $f.Voip.VoipChannel.Game))
}, {
id: "voipDisabled",
action: uO(a, (() => i?.({
channel: $f.Voip.VoipChannel.None
})), ZX),
autoClose: !0,
label: cm("BUTTON_VOIP-DISABLE"),
isSelected: n
} ]), [ t, n, a, i, e ]);
return o ? H.createElement(oL, {
title: cm("PHOTON-SOCIAL_PARTY_OVERLAY_TITLE_VOIP-RESTRICTED"),
body: cm("PHOTON-SOCIAL_PARTY_OVERLAY_DESC_VOIP-RESTRICTED"),
overlayTitleNarrationItem: lL,
buttonNarrationItem: vC,
actions: s,
withoutCloseButton: !0
}) : H.createElement(YX, {
closeLabel: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_BACK"),
actions: l,
title: cm("PHOTON-SOCIAL_PARTY_OVERLAY_TITLE_VOIP"),
body: cm(n ? "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_VOIP-DISABLED" : "PHOTON-SOCIAL_PARTY_OVERLAY_DESC_VOIP-ENABLED")
});
}));
function rQ() {
const {currentChannel: e, isVoipDisabled: t} = QX(), {data: n} = XM(), {showModal: r} = dk(), i = WT(), {history: a} = cv("main"), {timeout: o} = ru(), s = n && n.length > 0;
let l = "", c = "";
e === $f.Voip.VoipChannel.Party ? (l = cm("PHOTON-SOCIAL_ACTIONS-GLOBAL_GLOBAL_SPEAK-PARTY"), 
c = "in_party_chat") : e === $f.Voip.VoipChannel.Game && (l = cm("PHOTON-SOCIAL_ACTIONS-GLOBAL_GLOBAL_SPEAK-TEAM"), 
c = "in_team_chat"), t && (l = cm("PHOTON-SOCIAL_ACTIONS-GLOBAL_GLOBAL_SPEAK-OFF"), 
c = "chat_off");
const d = l && cm("PHOTON-SOCIAL_ACTIONS-GLOBAL_GLOBAL_VOICE-CHANNEL", {
"%voiceChannel%": l
}), u = H.useCallback((() => {
dO(i, {
pg_id: rO(a.location),
destination_name: "bottom_bar",
msg_id: "bottom_bar",
option: c,
context: {
tpid: By.productId
}
}), r((() => H.createElement(nQ, null)), {
telemetryId: "overlay_voip_toggle"
});
}), [ a.location, i, r, c ]), [p, f] = H.useState({
toggleVoipChannel: void 0,
voiceBtnLabel: ""
});
return H.useEffect((() => {
o("voip_user", (() => {
f({
toggleVoipChannel: s ? u : void 0,
voiceBtnLabel: d
});
}), 200);
}), [ s, o, u, d ]), p;
}
function iQ() {
const e = Rs(), t = yA(), {Party: n, Voip: r} = lm();
H.useEffect((() => t.init(e, n, r)), [ t, e, n, r ]);
}
var aQ = $f.Voip.VoipChannel, oQ = $f.Voip.VoipStatus, sQ = Bh.custom((e => "number" == typeof e && e in aQ)), lQ = Bh.custom((e => "number" == typeof e && e in oQ)), cQ = Bh.object({
playerId: Bh.string,
playerNetworkId: Bh.string,
channel: sQ,
status: lQ
}), dQ = Bh.object({
state: Bh.object({
players: Bh.array(cQ)
})
}), uQ = Bh.object({
channel: sQ,
name: Bh.optional(Bh.string)
}), pQ = Bh.object({
channels: Bh.array(uQ)
});
function fQ(e) {
const t = {};
return e.state.players.forEach((e => {
const n = eA(e), r = $g(n);
t[r] && n.status === $f.Voip.VoipStatus.None || (t[r] = n);
})), {
players: new Cs(t)
};
}
function mQ() {
const {Voip: e} = lm();
return Yh((async () => e.getVoipState({})), [ e ], dQ, {
transformResponse: fQ
});
}
function yQ() {
const {Voip: e} = lm();
return Yh((async () => e.getVoipChannels({})), [ e ], pQ, {
transformResponse: e => e.channels
});
}
var hQ = class extends os {
constructor(e) {
super({
data: e
});
}
};
function gQ() {
const {data: e} = oE(), {data: t} = KM(e?.photonPlayerId);
return t?.status === $f.Voip.VoipStatus.Disabled;
}
function IQ() {
const e = rA(), t = cA(), n = mQ(), r = yQ(), {Voip: i} = lm(), a = MX(), o = gQ(), {data: s} = oE();
nF();
const l = H.useCallback((() => {
As((() => {
const n = t.get().data ?? [], r = e.get(), i = r.data?.players;
i?.forEach(((e, t) => {
t === s?.photonPlayerId || n.find((t => t.channel === e.channel)) || r.data?.players.delete(t);
}));
}));
}), [ t, e, s ]), c = H.useCallback(((e, t) => {
a.voipChannels.trigger({
channelsBefore: e,
channelsAfter: t,
voipIsDisabled: o
});
}), [ a.voipChannels, o ]);
H.useEffect((() => {
if (r) return t.setSeedStrategy({
fetch: async () => Ng(await r()),
updater: (e, t) => {
c(e.data, t.data), dg(e, t), l();
}
});
}), [ c, r, l, t ]), H.useEffect((() => e.setStreamStrategy({
stream: new hQ(i.onVoipStateUpdated),
updater: (e, t) => {
t.data?.players.forEach((t => {
const n = eA(t), r = $g(n);
e.data?.players.set(r, n);
}));
}
}, "voipUpdatedStreamStrategy")), [ i.onVoipStateUpdated, e ]), H.useEffect((() => {
if (n) return e.setSeedStrategy({
fetch: async () => Ng(await n())
});
}), [ n, e ]), H.useEffect((() => t.setStreamStrategy({
stream: new hQ(i.onVoipChannelsUpdated),
updater: (e, t) => {
t.data && (c(e.data, t.data.channels), e.update({
...e.toProps(),
data: t.data.channels
}), l());
}
}, "voipChannelsUpdatedStreamStrategy")), [ c, l, i.onVoipChannelsUpdated, t ]);
}
var vQ = $f.InputBindings.Action, bQ = Ii.observer((({children: e}) => {
const {toggleVoipChannel: t, voiceBtnLabel: n} = rQ(), {leaveParty: r} = NR();
return AB(t && {
registrationIdOverride: "GlobalChatParty",
action: vQ.ToggleMode,
callback: t,
label: n,
priority: CB
}, void 0, !!n), AB(r && {
registrationIdOverride: "GlobalLeaveParty",
action: vQ.LeaveParty,
callback: r,
label: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_LEAVE-PARTY"),
priority: OB
}), H.createElement(H.Fragment, null, e);
})), _Q = Ii.observer((({children: e}) => (cG(), iQ(), IQ(), WO(), UX(), JX(), VX(), 
H.createElement(H.Fragment, null, e))));
function PQ(e, t) {
const n = tw(e), r = nw(e);
let i;
r.start();
const a = n.onHidden((() => {
a(), i?.();
}));
i = t((() => {
a(), r.stop();
}));
}
var SQ = () => {
const e = lm(), t = WT(), {showModal: n, closeModal: r} = dk(), i = Rs();
H.useEffect((() => e.Moderation.onOpenPlayerReporting.subscribe((a => {
PQ(i, (i => {
const o = new VF(e, a, t, (t => {
i(), t && e.Moderation.playerReportingCancelled({}), r();
}));
return n((() => H.createElement(jF, {
reportPlayer: o
}))), () => o.abort();
}));
}))), [ t, n, r, i, e ]);
}, TQ = Bh.object({
entity: Bh.object({
id: Vg,
displayName: Bh.string
}),
createTime: Dg,
sourcePlayerNetworkId: Bh.optional(Bh.nullable(zg)),
targetPlayerNetworkId: Bh.optional(Bh.nullable(zg))
}), EQ = Bh.object({
invites: Bh.array(TQ)
}), kQ = Bh.object({
friendInviteDetails: TQ,
listUpdate: CI,
updateTimestamp: Dg
}), NQ = Bh.object({
inviteListNotification: kQ
}), CQ = Bh.object({
stream: Bh.custom(Yg()),
response: Bh.object({})
});
function OQ(e) {
return {
eaPlayerId: e.entity.id.playerId.id,
sourcePlayerNetworkId: Sh(e.sourcePlayerNetworkId ?? void 0),
targetPlayerNetworkId: Sh(e.targetPlayerNetworkId ?? void 0),
createTimeMs: BK(e.createTime)
};
}
var AQ = (e, t) => t.createTimeMs - e.createTimeMs;
function wQ(e) {
return new oB(e.invites.map((e => [ e.entity.id.playerId.id, OQ(e) ])), AQ);
}
function LQ(e, t, n) {
const {data: r} = cE();
return Yh((() => e({
entityId: {
playerId: {
id: r
}
},
view: $f.Invites.RequestedView.REQUESTED_VIEW_DETAILED
})), [ e, r ], EQ, {
transformResponse: t,
onSuccess: n,
queryIsReady: !!r
});
}
function RQ(e, t, n, r, i) {
const a = LQ(t, wQ, r), {data: o} = cE(), s = Wh((() => n({
entityId: {
playerId: {
id: o
}
}
})), [ n, o ], CQ, {
queryIsReady: !!o
});
zK(s.data?.stream, H.useCallback((() => s.fetch?.()), [ s ])), RI(n.name, s.data?.stream), 
H.useEffect((() => {
if (a) return e.setSeedStrategy({
fetch: async () => Ng(await a())
});
}), [ a, e ]), H.useEffect((() => {
if (s.data?.stream) return e.setStreamStrategy({
stream: new Wg(s.data.stream, NQ, (e => ({
update: e.inviteListNotification.listUpdate,
item: OQ(e.inviteListNotification.friendInviteDetails)
}))),
updater: (e, {data: t}) => {
t?.item && (t.update === $f.InviteListNotifications.ListUpdate.LIST_UPDATE_ITEM_ADDED ? e.data?.set(t.item.eaPlayerId, t.item) : setTimeout((() => {
e.data?.delete(t.item.eaPlayerId);
}), 5e3), i?.(t));
}
});
}), [ e, i, s.data?.stream ]);
}
var xQ = $f.InviteListNotifications.ListUpdate;
function BQ() {
const {Invites: e, InviteListNotifications: t} = lm(), n = TC(), r = $V(), i = JI(), {setItems: a, addNewItem: o, removeItem: s} = vB(), l = xg(), c = H.useMemo((() => ({
list: e.ListReceivedFriendInvites.bind(e),
stream: t.SubscribeToReceivedInviteListNotifications.bind(t)
})), [ t, e ]), d = H.useCallback((e => {
As((() => {
if (!e.data) return;
const t = e.data.map(bB);
a(t);
}));
}), [ a ]), u = H.useCallback((async e => {
const t = e.item.eaPlayerId;
if (e.update === xQ.LIST_UPDATE_ITEM_ADDED) {
const n = await l(i.get($g({
eaPlayerId: t,
playerNetworkId: e.item.sourcePlayerNetworkId
})), 1e4);
n?.data && r.trigger(n.data);
}
const n = bB(e.item);
e.update === xQ.LIST_UPDATE_ITEM_ADDED ? o(n) : e.update === xQ.LIST_UPDATE_ITEM_REMOVED && s(n);
}), [ l, r, i, o, s ]);
RQ(n, c.list, c.stream, d, u);
}
function DQ() {
const {Invites: e, InviteListNotifications: t} = lm(), n = kC(), r = H.useMemo((() => ({
list: e.ListSentFriendInvites.bind(e),
stream: t.SubscribeToSentInviteListNotifications.bind(t)
})), [ t, e ]);
RQ(n, r.list, r.stream);
}
var MQ = Ii.observer((({children: e}) => (DQ(), BQ(), H.createElement(H.Fragment, null, e))));
function FQ() {
const e = VK(), t = JI(), {PlatformFriends: n} = lm(), {data: r} = oE(), i = r?.personaInfo.playerNetworkId, a = $I();
H.useEffect((() => {
if (i && "EA" !== i) return e.init(n, t, a, i);
}), [ e, t, n, i, a ]);
}
function UQ(e, t) {
return (t.createTimeMs || 0) - (e.createTimeMs || 0);
}
function HQ(e) {
return new oB(e.blockedPlayers?.map((({entity: e, createTime: t}) => {
const n = e.id.playerId.id;
return [ n, {
eaPlayerId: n,
createTimeMs: t ? BK(t) : void 0,
photonPlayerId: $g({
eaPlayerId: n,
playerNetworkId: "EA"
})
} ];
})), UQ);
}
function VQ() {
const {BlockService: e} = lm(), {data: t} = cE();
return Yh((() => e.ListBlockedPlayers({
entityId: {
playerId: {
id: t
}
}
})), [ e, t ], EI, {
transformResponse: HQ,
queryIsReady: !!t
});
}
function JQ() {
const e = VQ(), t = yN();
H.useEffect((() => {
if (e) return t.setSeedStrategy({
fetch: async () => Ng(await e())
});
}), [ e, t ]);
}
var zQ = ({children: e}) => (JQ(), FQ(), H.createElement(H.Fragment, null, e)), GQ = $f.Friends.RequestedView, jQ = e => {
const t = VC();
return e.forEach((e => {
const n = e.photonPlayerId;
t.set(n, {
photonPlayerId: n
});
})), t;
};
function qQ() {
const {Friends: e} = lm(), {data: t} = oE(), n = t?.tokenInfo.userId, r = t?.personaInfo.playerNetworkId, i = QI();
return Yh((async () => {
const t = await e.ListFriends({
entityId: {
playerId: {
id: n
}
},
view: GQ.REQUESTED_VIEW_ID_ONLY
});
pP(t && t.friends);
const r = t.friends.map((e => e.entity?.id?.playerId?.id)).filter(Kh);
return i(r);
}), [ e, i, n ], yI, {
transformResponse: jQ,
queryIsReady: !!n && !!r
});
}
function WQ() {
const e = GC(), t = qQ();
H.useEffect((() => {
if (t) return e.setSeedStrategy({
fetch: async () => Ng(await t()),
updater: ug
});
}), [ t, e ]);
}
var YQ = ({children: e}) => (WQ(), H.createElement(H.Fragment, null, e));
function KQ() {
const e = HC(), t = QC(), n = JI(), {PlatformFriends: r} = lm(), {data: i} = oE(), a = i?.personaInfo.playerNetworkId, o = $I();
H.useEffect((() => {
if (a) return e.init(t, n, r, o, a);
}), [ e, t, n, r, a, o ]);
}
function XQ(e) {
const t = (e.mutedPlayers ?? []).map((e => [ e.entity.id.playerId.id, {
eaPlayerId: e.entity.id.playerId.id,
photonPlayerId: $g({
eaPlayerId: e.entity.id.playerId.id,
playerNetworkId: "EA"
})
} ]));
return new Cs(t);
}
function QQ() {
const {MuteService: e} = lm(), {data: t} = cE();
return Yh((() => e.ListMutedPlayers({
entityId: {
playerId: {
id: t
}
}
})), [ e, t ], NI, {
transformResponse: XQ,
queryIsReady: !!t
});
}
function $Q() {
const e = QQ(), t = WM();
H.useEffect((() => {
if (e) return t.setSeedStrategy({
fetch: async () => Ng(await e())
});
}), [ e, t ]);
}
var ZQ = ({children: e}) => ($Q(), H.createElement(H.Fragment, null, e));
function e$(e, t, n = !1) {
const r = H.useRef([]), {timeout: i, hasTimeout: a} = ru(), o = "batcher", s = H.useCallback((() => {
const t = r.current.splice(0, r.current.length);
t.length && e(t);
}), [ e ]);
return H.useCallback((e => {
r.current.push(e), a(o) && !n || i(o, s, t);
}), [ s, a, t, n, i ]);
}
function t$(e) {
const t = {};
return e.forEach((e => {
if (e?.eaPlayerId) {
const n = t[e.eaPlayerId] ?? [];
n.push(e), t[e.eaPlayerId] = n;
}
})), t;
}
function n$() {
const e = ZI(), t = QI();
return H.useCallback((async (n, r) => {
const i = r === $f.FriendListNotifications.ListUpdate.LIST_UPDATE_ITEM_ADDED ? await t(n) : await e(n);
return As((() => t$(i)));
}), [ t, e ]);
}
function r$() {
const {FriendListNotifications: e} = lm(), {data: t} = cE(), n = GC(), r = kC().get(), i = JJ(), a = n$(), o = Wh((async () => e.SubscribeToFriendListNotifications({
entityId: {
playerId: {
id: t
}
}
})), [ e, t ], wI, {
queryIsReady: !!t
}), s = e$(H.useCallback((async e => {
try {
const t = e.map((({friendListNotification: e}) => e?.friend.entity.id.playerId.id));
mr((() => {
e.forEach((async ({friendListNotification: e}) => {
const o = await a(t, e.listUpdate), s = e?.friend.entity.id.playerId.id, l = o[s]?.find((e => "EA" === e.playerNetworkId));
l && (e.listUpdate === $f.FriendListNotifications.ListUpdate.LIST_UPDATE_ITEM_ADDED ? (o[s]?.forEach((({photonPlayerId: e}) => {
n.addFriend({
photonPlayerId: e
});
})), i.trigger(l), As((() => {
r.data?.delete(s);
}))) : e.listUpdate === $f.FriendListNotifications.ListUpdate.LIST_UPDATE_ITEM_REMOVED && n.removeFriend(s));
}));
}));
} catch (e) {
console.error("Failed to update friends list from poll", e);
}
}), [ n, i, a, r ]), 500);
var l, c, d, u;
l = o.data?.stream, c = AI, d = s, H.useEffect((() => {
if (l) {
const e = new Wg(l, c), t = e.data.subscribe(d), n = e.error.subscribe((e => {
console.error("Stream error", e), u?.(e);
}));
return e.start(), () => {
t(), n(), e.close();
};
}
}), [ d, u, c, l ]), zK(o.data?.stream, H.useCallback((() => o.fetch?.()), [ o ])), 
RI("FriendListNotifications.SubscribeToFriendListNotifications", o.data?.stream);
}
var i$ = Ps({
debugName: "onlineFriendsFilterPlayersState",
get: ({get: e}) => {
const t = e(KA).data, n = new Set;
t?.[0]?.forEach((e => {
const t = aI(e.photonPlayerId);
rI(t) && n.add(t);
}));
const r = e(VI), i = [];
return n.forEach((e => {
const {eaPlayerId: t, playerNetworkId: n} = tI(e), a = r.getMaybeUntracked(e)?.data?.personaId;
t && a && i.push({
playerId: t,
playerNetworkId: n,
personaId: a
});
})), i;
}
});
function a$() {
const e = Rs();
return {
addUninvitable: H.useCallback((t => {
const n = new Map(e.getUntracked(VA));
t.forEach((e => {
n.set(e.photonPlayerId, {
uninvitable: !0,
reason: e.reason
});
})), e.set(VA, n);
}), [ e ]),
removeUninvitable: H.useCallback((t => {
const n = new Map(e.getUntracked(VA));
t.forEach((e => {
n.delete(e);
})), e.set(VA, n);
}), [ e ]),
resetUninvitable: H.useCallback((() => {
e.reset(VA);
}), [ e ])
};
}
function o$(e) {
return {
photonPlayerId: Zg({
eaPlayerId: e.playerId,
playerNetworkId: Sh(e.playerNetworkId)
}),
reason: e.reason
};
}
var s$ = () => {
const {Lobby: e} = lm(), t = Rs(), {addUninvitable: n, removeUninvitable: r, resetUninvitable: i} = a$(), a = H.useCallback((async () => {
if (As((() => t.getUntracked(xk).get().data))) {
const r = t.getUntracked(i$), a = await e.filterUninvitablePlayers({
players: r
});
mr((() => {
i(), a && n(a.uninvitablePlayers.map(o$));
}));
}
}), [ n, e, t, i ]);
H.useEffect((() => e.onUninvitablePlayersChanged.subscribe(a)), [ e.onUninvitablePlayersChanged, a ]);
const o = H.useCallback((async (t, i) => {
const a = t.length ? await e.filterUninvitablePlayers({
players: t
}) : void 0;
mr((() => {
a && n(a.uninvitablePlayers.map(o$)), r(i);
}));
}), [ n, e, r ]), s = H.useCallback((e => Zg({
eaPlayerId: e.playerId,
playerNetworkId: Sh(e.playerNetworkId)
})), []), {withChangedItems: l, resetItems: c} = MK(s);
Ws((({get: e}) => {
const t = e(i$);
e(xk).get().data ? l(t, (({addedItems: e, removedItemIds: t}) => {
o(e, t);
})) : (c(), i());
}), [ c, i, o, l ]);
}, l$ = Ps({
debugName: "onlineFriendCountState",
get: ({get: e}) => {
const t = e(KA), n = t.data?.[0].length;
return {
...t,
data: t.data ? n : void 0
};
}
});
function c$() {
const e = lm();
Bs((({data: t}) => {
e.isMethodAvailable("PhotonJsBindings.Badging.updateOnlineFriendCount") && void 0 !== t && e.Badging.updateOnlineFriendCount({
onlineFriendCount: t
});
}), [ e ], l$);
}
function d$() {
const e = Rs(), t = WT();
H.useEffect((() => AY((() => e.get(KA).data && e.get(SC).get().data && e.get(EC).get().data), (() => {
dO(t, {
pg_id: "game_boot_friends_info",
msg_id: "game_boot_friends_info"
});
}))), [ e, t ]);
}
var u$ = Ii.observer((({children: e}) => (r$(), s$(), KQ(), c$(), d$(), H.createElement(YQ, null, H.createElement(zQ, null, H.createElement(ZQ, null, H.createElement(_B, null, H.createElement(MQ, null, e)))))))), p$ = "retries";
function f$(e, t) {
const n = t?.maxRetries ?? 2, r = t?.delay ?? 2e3, i = H.useRef(0), {timeout: a, disposeTimeout: o} = ru(), {data: s, error: l, fetch: c} = e;
return H.useEffect((() => (l && i.current < n ? (a(p$, (() => {
c?.();
}), r), i.current += 1) : s && (i.current = 0), () => {
o(p$);
})), [ o, n, a, l, s, c, r ]), e;
}
function m$(e) {
const {sessionNotification: t} = e, {properties: n} = t, r = Sh(t.client?.playerNetworkId), i = yc(t.client?.devicePlatformId), a = {
sessionId: t.presenceSessionId,
isOnline: !!t.online,
devicePlatformId: i,
photonPlayerId: $g({
eaPlayerId: e.playerId.id,
playerNetworkId: r
}),
playerNetworkId: r,
isEAPresence: !0,
gameJoinTokenTypes: t.gameJoinTokenTypes,
isMissingClientInfo: !t.client?.playerNetworkId?.id,
updated: t.updated
};
return t.inputTypes && (a.inputType = aH(t.inputTypes)), void 0 !== t.joinable && (a.joinable = t.joinable), 
e.lastSeenOnline && (a.lastSeenOnline = e.lastSeenOnline.seconds), t.updateTimestamp && (a.updateTimestamp = t.updateTimestamp.seconds), 
t.client?.productId?.id && (a.productId = t.client.productId.id), t.client?.locale && (a.locale = t.client.locale.toLowerCase().replace("_", "-")), 
t.activityDescription && (a.activityDescription = t.activityDescription), t.activityDetails && (a.activityDetails = t.activityDetails), 
n && (a.properties = {}, a.properties.currentPartySize = n.photon_currentPartySize?.integerValue, 
a.properties.maxPartySize = n.photon_maxPartySize?.integerValue, a.properties.partyJoinable = n.photon_partyJoinable ? !!n.photon_partyJoinable.integerValue : void 0, 
a.properties.currentLobbySize = n.photon_currentLobbySize?.integerValue, a.properties.maxLobbySize = n.photon_maxLobbySize?.integerValue, 
a.properties.lobbyJoinable = n.photon_lobbyJoinable ? !!n.photon_lobbyJoinable.integerValue : void 0, 
a.properties.crossplayEnabled = 0 !== n.photon_crossplayEnabled?.integerValue, a.properties.lobbyCrossplayEnabled = n.photon_lobbyCrossplayEnabled ? 1 === n.photon_lobbyCrossplayEnabled.integerValue : void 0, 
a.properties.partyCrossplayEnabled = n.photon_partyCrossplayEnabled ? 1 === n.photon_partyCrossplayEnabled.integerValue : void 0), 
a;
}
function y$(e, t) {
return e.isOnline && t.isOnline && e.isEAPresence && t.isEAPresence && e.sessionId !== t.sessionId && e.productId === t.productId && e.devicePlatformId === t.devicePlatformId && (e.updateTimestamp ?? 0) < (t.updateTimestamp ?? 0);
}
var h$ = e => `${e.isOnline}:${e.isEAPresence}:${e.devicePlatformId}:${e.productId}:${e.photonPlayerId}`;
function g$(e) {
const t = new Map;
return e.forEach((e => {
const n = h$(e), r = t.get(n);
r && !y$(r, e) || t.set(n, e);
})), Array.from(t.values());
}
function I$(e) {
return e ? Object.values(e) : [];
}
function v$(e, t) {
const n = e.data;
n ? t.forEach((e => {
var t, r, i;
if (e.sessionId) if (!e.isOnline && e.isMissingClientInfo) {
const t = Array.from(n?.entries()).find((([, t]) => t[e.sessionId]));
if (t) {
const [r, i] = t, a = {
...i
};
delete a[e.sessionId], Object.keys(a).length > 0 ? n.set(r, a) : n.delete(r);
}
} else {
const a = (r = I$(n.get(e.photonPlayerId)), i = e, t = r.filter((e => !y$(e, i))), 
Object.fromEntries(t.map((e => [ e.sessionId, e ]))));
n.set(e.photonPlayerId, {
...a,
[e.sessionId]: e
});
}
})) : e.update({
...e.toProps(),
data: YC(g$(t))
});
}
function b$(e, t, n) {
As((() => {
n.uninitialized && n.update({
loading: !0,
uninitialized: !1
});
}));
const r = Zh(new lg(e, 1e3, 2e3), {
onStreamData: e => {
As((() => t(n, e)));
},
onStreamError: e => {}
}), i = setTimeout((() => {
As((() => {
n.loading && t(n, []);
}));
}), 3e3);
return () => {
clearTimeout(i), r();
};
}
var _$ = e => {
const {PresenceSession: t} = lm(), {data: n} = oE(), r = Rs();
H.useEffect((() => () => {
t.detachFromPresenceSession({});
}), [ t ]);
const i = Wh((() => t.attachToPresenceSession({})), [ t ], iH, {
queryIsReady: !!n
}), a = QC();
return H.useEffect((() => {
i.error && a.get().update({
error: i.error,
loading: !1,
uninitialized: !1
});
}), [ i.error, a ]), f$(Wh((() => t.subscribeToFriendsPresence({})), [ t ], XU, {
queryIsReady: !!i.data
})), RI("presenceSession.attachToPresenceSession", i.data?.stream), H.useEffect((() => {
if (i.data?.stream) return b$(new Wg(i.data?.stream, nH, (e => m$(e.presenceNotification))), e, a.get());
}), [ i, e, r, a ]), H.useEffect((() => b$(a.firstPartyPresenceStream, ((e, t) => {
t.length && (v$(e, t), e.data || e.update({
...e.toProps()
}));
}), a.get())), [ a.firstPartyPresenceStream, a, e ]), !!i.data;
};
function P$(e, t) {
return !(!By.playerListsEnabled || !rI(e)) && t.getItemUntracked(RH, e);
}
var S$ = (e, t) => !!e.getItemUntracked(QA, t).data, T$ = (e, t, n) => !!n.updated && (!e.getItemUntracked($A, n.photonPlayerId).data && (!(!n.isOnline || nO(t, n.photonPlayerId)?.isOnline) && (!!S$(e, n.photonPlayerId) || !!P$(n.photonPlayerId, e))));
function E$(e) {
const t = new Map;
for (const n of e) {
const e = t.get(n.sessionId);
e && e.lastSeenOnline && !e.isOnline && (n.lastSeenOnline = e.lastSeenOnline), t.set(n.sessionId, n);
}
return Array.from(t.values());
}
var k$ = Ii.observer((({children: e}) => {
const t = Qq(), n = JI(), r = Rs(), i = xg(), a = H.useCallback(((e, a) => {
const o = e.data, s = e.loading || e.uninitialized;
s || (a = E$(a));
let l = 0;
for (const e of a) if (!s && T$(r, o, e)) {
if (l++, 10 === l) break;
i(n.get(e.photonPlayerId), 1e4)?.then((({data: n}) => {
n && t.trigger(e, n, {
isFriend: S$(r, e.photonPlayerId)
});
}));
}
v$(e, a), s && e.update({
...e.toProps(),
loading: !1,
uninitialized: !1
});
}), [ r, i, n, t ]), o = _$(a);
return eV(o), FH(o), H.createElement(H.Fragment, null, e);
})), N$ = Bh.object({
teamId: Bh.string,
playerId: Bh.string,
playerNetworkId: Bh.string,
timestamp: Bh.number
}, {
displayName: Bh.string,
primaryContext: Bh.string,
secondaryContext: Bh.string
}), C$ = Bh.object({
teamId: Bh.string,
playerId: Bh.string,
playerNetworkId: Bh.string,
displayName: Bh.string
}, {
timestamp: Bh.number,
primaryContext: Bh.string,
secondaryContext: Bh.string
}), O$ = Bh.object({
encounters: Bh.array(N$)
}), A$ = Bh.object({
encounters: Bh.array(C$)
});
function w$(e) {
return e.encounters.map((e => {
const t = Sh(e.playerNetworkId), n = $g({
eaPlayerId: e.playerId,
playerNetworkId: t
});
return [ n, {
...e,
photonPlayerId: n,
playerNetworkId: t
} ];
}));
}
function L$(e, t, n) {
return () => {
const r = JI(), i = Bg(), {RecentlyMet: a} = lm(), o = e(), {data: s} = cE();
H.useEffect((() => {
if (s) return o.setOnDemandStrategy({
fetch: async () => kg(await t(a, s)),
maxAge: 3e4,
updater: async (e, t) => {
let a;
if (t.data) {
const e = t.data.map((([e]) => e));
await i(r.getByIds(e), 8e3), a = As((() => t.data?.filter((([e]) => !!r.get(e)?.data))));
}
As((() => {
mr((() => {
e.data && e.data.replace(a || []), e.update({
...t,
data: e.data || new oB(a, n)
});
}));
}));
}
});
}), [ i, o, r, a, s ]), Ds(Zf, H.useCallback((e => {
if (!e) {
const e = o.getMaybeUntracked();
return e?.onBecomeUnobserved((() => {
e.invalidateTimestamp();
}));
}
}), [ o ]), !1);
};
}
var R$ = L$(Dz, ((e, t) => Fh((() => e.getRecentlyMetPlayers({
playerId: t
})), O$, {
transformResponse: w$
})), (function(e, t) {
return t.timestamp - e.timestamp;
})), x$ = L$(xz, ((e, t) => Fh((() => e.getSessionPlayers({
playerId: t
})), A$, {
transformResponse: w$
})), CA), B$ = e => (R$(), x$(), H.createElement(H.Fragment, null, e.children)), D$ = class extends os {
constructor(e) {
super({
data: e
});
}
};
function M$(e, t) {
return Zh(new D$(e), t);
}
function F$() {
const e = JI(), t = Bg();
return H.useCallback((async n => {
const r = n.map((e => e.photonPlayerId));
return await t(e.getByIds(r), 8e3), As((() => n.filter((t => !!e.get(t.photonPlayerId)?.data))));
}), [ t, e ]);
}
function U$(e, t) {
const n = e.getUntracked(_H);
mr((() => {
As((() => n.clear())), t.forEach(((e, t) => {
n.set(e.id, {
...e,
index: t
});
}));
}));
}
function H$(e, t) {
return t.personas.length > 100 ? (e.get(km).bindings.Utilities.showError({
message: `PlayerList: too many personas (${t.personas.length}/100) in list '${t.playerListId}'`
}), t.personas.slice(0, 100)) : t.personas;
}
async function V$(e, t, n) {
const r = H$(e, t).map(((e, t) => ({
...e,
photonPlayerId: Zg({
eaPlayerId: e.playerId,
playerNetworkId: Sh(e.playerNetworkId)
}),
icons: new Set(e.icons),
index: t
}))), i = await n(r), {data: a} = e.getItemUntracked(PH, t.playerListId), o = a ?? new Cs([], "OptimizedObservableMap<playerListPersonas>");
mr((() => {
As((() => o.clear())), i.forEach((e => {
o.set(e.photonPlayerId, e);
})), e.setItem(PH, t.playerListId, {
loading: !1,
data: o
});
}));
}
async function J$(e, t) {
const n = await t.getPlayerListConfig({});
n && e.set(bH, n.playerList);
}
async function z$(e, t, n) {
const r = await t.getPlayerLists({});
r?.playerLists && (U$(e, r.playerLists), await Promise.all(r.playerLists.map((async ({id: r}) => {
const i = e.getItemUntracked(PH, r);
e.setItem(PH, r, {
...i,
loading: !0
});
const a = await t.getPlayerListPersonas({
playerListId: r
});
a && await V$(e, a, n);
}))));
}
var G$ = () => {
if (!HH()) return null;
const e = Rs(), {showNotification: t} = SO(), n = TO().playerNetworkId, r = H.useRef(!0);
H.useEffect((() => Mn((() => ({
appearOfflineSetting: e.get(PE),
firstPartyAppearOfflineSetting: e.get(vE)
})), (({appearOfflineSetting: e, firstPartyAppearOfflineSetting: i}) => {
if (VH(e, i)) {
const a = gE.isAppearOfflineSupported ? "tst_online_status_synced" : "tst_online_status_asynced";
t(0, 0, {
icon: Up.INFORMATION,
text: GH(e, i, n, r.current)
}, {
telemetryInfo: {
pg_id: r.current ? a : "tst_online_status"
}
});
}
r.current = !1;
}), {
fireImmediately: !0
})), [ t, e, n ]);
};
function j$() {
const e = WR(), {data: t} = cE(), {ContentMart: n} = lm();
H.useEffect((() => {
if (t) return e.init(n);
}), [ n, e, t ]);
}
var q$ = e => {
if (!HH()) return {};
const t = e.get(PE), n = e.get(vE);
let r = "online";
return 2 === t ? r = "offline" : 0 === t && (r = n ? "offline_sync" : "online_sync"), 
{
presence: r
};
};
function W$(e) {
const t = e.get(EC).get().data?.size, n = e.get(SC).get().data?.size, r = e.get(nB).get("FriendRequests")?.getUnseenCount();
return {
freqs_rcvd: n,
freqs_rcvd_unseen: r,
freqs_sent: t
};
}
function Y$(e, t) {
const n = e.get(jC).data, r = new Set(n?.map((e => e.eaPlayerId))), i = r.size;
if ("EA" === t) return {
frnds_ea: i,
frnds_loc: i,
frnds_loc_ea: i
};
const a = e.get(qC).data, o = a?.length;
let s = 0;
for (const e of a ?? []) s += r.has(e.eaPlayerId) ? 1 : 0;
return {
frnds_ea: i,
frnds_loc: o,
frnds_loc_ea: s
};
}
function K$(e, t) {
const n = e.get(KA).data?.[0], r = new Map;
let i = 0, a = 0, o = 0, s = 0, l = 0;
if (n) for (const e of n) {
const {eaPlayerId: n, firstPartyPlayerId: c, playerNetworkId: d} = tI(e.photonPlayerId), u = n || c;
if (u) {
let e = r.get(u) ?? 0;
r.set(u, ++e), 2 === e && ++i;
}
d === t ? ++a : ++o, e.presence.productId === By.productId ? ++s : e.presence.productId && ++l;
}
return {
frnds_on: r.size,
frnds_on_mpop: i,
pop_on: n?.length,
pop_on_same: a,
pop_on_other: o,
pop_on_cur_gm: s,
pop_on_oth_gms: l
};
}
function X$(e, t, n) {
const r = e.get(xk).get().data;
return {
gmplay: !!t,
xplay_opt: e.get(rk),
xplay_supp: r?.crossPlayEnabled,
lobby: r ? `${n}_${r.telemetryType}` : void 0,
lobby_rem: r ? r.maxSize - r.members.size : void 0
};
}
function Q$(e) {
return {
blocked: e.get(mN).get().data?.size ?? 0,
muted: e.get(qM).get().data?.size ?? 0
};
}
var $$ = (e, t, n, r) => {
const i = By.appName.replace(/\s/gi, "");
let a, o, s = t.Notifications.getInGamePlay({})?.inGamePlay;
n.setGetCustomCoreHeaders((() => As((() => ({
...a,
...o,
...W$(e),
...Q$(e),
...X$(e, s, i),
...q$(e)
})))));
const l = t.Notifications.onInGamePlayChanged.subscribe((e => {
s = e.inGamePlay;
})), c = Mn((() => Y$(e, r)), (e => {
a = e;
}), {
delay: 1e4,
fireImmediately: !0
}), d = Mn((() => K$(e, r)), (e => {
o = e;
}), {
delay: 1e4,
fireImmediately: !0
});
return () => {
l(), c(), d();
};
};
function Z$(e) {
return [ e.get(zC).get(), e.get(UC).get(), e.get(EC).get(), e.get(SC).get(), e.get(KR).get(), e.get(XC).get(), e.get(mN).get(), e.get(qM).get() ];
}
function eZ(e) {
const t = e.get(jC).data;
return {
eaFriends: (t && new Set(t.map((e => e.eaPlayerId))))?.size ?? -1,
eaFriendPersonas: t?.length ?? -1,
firstPartyFriends: e.get(UC).get().data?.size ?? -1,
sentFriendRequests: e.get(EC).get().data?.size ?? -1,
receivedFriendRequests: e.get(SC).get().data?.size ?? -1,
gameInvites: e.get(KR).get().data?.size ?? -1,
playerCards: e.get(VI).size,
recentlyMet: e.get(Bz).getMaybeUntracked()?.data?.size ?? -1,
sessionPlayers: e.get(Rz).getMaybeUntracked()?.data?.size ?? -1,
presence: e.get(XC).get().data?.size ?? -1,
blockedPlayers: e.get(mN).get().data?.size ?? -1,
mutedPlayers: e.get(qM).get().data?.size ?? -1
};
}
function tZ() {
const e = Gu(), t = Rs(), n = gh(), r = ew(), i = Bg(), {data: a} = oE();
H.useEffect((() => {
if (is.TwinkleNative && a && e.bindings.isMethodAvailable("TwinkleJsBindings.Metrics.getJsMemoryUsage")) {
const a = Date.now();
let o, s = !0;
const l = async () => {
const i = await e.bindings.Metrics.getJsMemoryUsage({});
As((() => {
n.addEvent({
eventType: "photon_js_engine_memory_usage",
timeSinceStart: Date.now() - a,
layerOpen: r.isRevealed,
...eZ(t),
...i
});
})), s && (o = setTimeout(l, 3e5));
};
return i(Z$(t), 1e4)?.then((() => {
s && l();
})), () => {
s = !1, o && clearTimeout(o);
};
}
}), [ e, t, n, r, a, i ]);
}
var {locale: nZ} = By, rZ = 0, iZ = !1;
function aZ() {
const e = lm(), t = WT(), n = gh();
H.useEffect((() => {
const r = e => {
rZ = Date.now(), t.updateSessionId(), t.triggerBootStart({
status: "success",
player_status: "online",
source: e ?? "unknown"
});
}, i = e => {
t.triggerBootEnd({
end_reason: e ?? "normal",
sdur: rZ > 0 ? Math.floor((Date.now() - rZ) / 1e3) : void 0
}), t.flushQueue(), n.flushQueue();
}, a = e.Telemetry.getTelemetryAllowed({})?.status ?? !0;
t.setTelemetryEnabled(a), n.setMetricsEnabled(a), iZ || (iZ = !0, r());
const o = [ e.Telemetry.onBootStart.subscribe((async () => {
r();
const t = await e.PlatformPresence.isAppearOffline({});
n.addEvent({
eventType: "photon_boot_start",
status: "source_update",
player_status: t?.appearOffline ? "offline" : "online"
});
})), e.Telemetry.onBootEnd.subscribe((() => i())), e.Telemetry.onTelemetryAllowChanged.subscribe((async e => {
e.status ? r("opt_in_tel") : i("opt_out_tel"), await Promise.all([ t.flushQueue(), n.flushQueue() ]), 
t.setTelemetryEnabled(e.status), n.setMetricsEnabled(e.status);
})) ];
return () => {
o.forEach((e => e())), i();
};
}), [ n, e, t ]);
}
var oZ = $f.StateApi.State, sZ = () => {
const e = Hs(em), {StateApi: t} = lm(), {closeAllModals: n} = dk(), r = dv("main"), i = dv("overlay"), a = wf(), o = sO(), {resetFocusState: s} = pf();
H.useEffect((() => {
const l = t.getState({});
l && e(l.state);
return t.onStateChanged.subscribe((({newState: t}) => {
e(t), t === oZ.Closed && (s(), a.trigger(), o.withDisabledEvents((() => {
r.navigate(zy.link()), i.navigate(uv.link()), n();
})));
}));
}), [ t, r, n, i, s, a, e, o ]);
}, lZ = $f.InputBindings.Action, cZ = Oc({
position: "absolute",
top: 0,
bottom: 0,
left: 0,
right: 0
}), dZ = class extends H.Component {
constructor() {
super(...arguments), this.state = {
hasError: !1
};
}
static getDerivedStateFromError() {
return {
hasError: !0
};
}
componentDidCatch(e) {
this.props.onError?.(e);
}
render() {
return this.state.hasError ? H.createElement("surface", {
style: jd,
text: cm("PHOTON-SOCIAL_PAGE-ERROR_TITLE_GENERIC")
}) : this.props.children || null;
}
}, uZ = () => {}, pZ = H.memo((({providers: e, children: t}) => H.createElement(H.Fragment, null, e.reduceRight(((e, t) => H.createElement(t, null, e)), t)))), fZ = [ RE, Hp ].concat(function(e) {
const t = [];
return e.forEach((e => {
Object.keys(e).forEach((n => {
const r = e[n];
switch (typeof r) {
case "string":
t.push(r);
break;

case "object":
t.push(...Object.keys(r).map((e => r[e])));
}
}));
})), t;
}([ Gp, (e => {
switch (e) {
case "XBOXONE":
case "XBSX":
return nd;

case "PS4":
case "PS5":
return rd;

case "STADIA":
return id;

case "NX":
return ad;

default:
return od;
}
})(By.devicePlatformId), zp, dd, yp, qp, Up, Rp, Xp ])), mZ = Ii.observer((({onJsError: e}) => {
const {isMounted: t, opacityTween: n, scaleTween: r} = cK(), {rootStyle: i, contentStyle: a} = qu(), o = op();
kz("app_started");
const s = ew();
return AB({
action: lZ.TogglePhoton,
callback: s.toggle
}), H.createElement("surface", {
style: i
}, false, t && H.createElement(nk, {
type: 0,
opacityTween: n,
key: "layer-background"
}), H.createElement("surface", {
style: [ a, o ]
}, H.createElement(ZY, null), t && H.createElement("surface", {
style: [ cZ, r.propStyle("scaleX"), r.propStyle("scaleY"), n.propStyle("opacity") ]
}, H.createElement(dZ, {
onError: e
}, H.createElement(rK, null))), H.createElement(RX, null)));
})), yZ = [ ({children: e}) => {
const t = lm(), n = Gu(), [r, i] = H.useState((() => hL(t)));
return H.useEffect((() => {
const e = () => {
i(hL(t));
}, r = [ n.bindings.Input.onInputDeviceChange.subscribe(e), t.InputBindings.onBindingsChanged.subscribe(e) ];
return () => {
r.forEach((e => e()));
};
}), [ t, n ]), H.createElement(fL.Provider, {
value: r
}, e);
}, ({children: e}) => {
const t = ZB(), n = mL(), r = H.useMemo((() => ({
2: n[lZ.Primary],
3: n[lZ.Decline],
0: n[lZ.NextPage],
1: n[lZ.PreviousPage],
4: n[lZ.NotificationFocus],
5: n[lZ.GoUp],
6: n[lZ.GoDown]
})), [ n ]);
return H.createElement(ip, {
playSoundEffect: t,
actionKeyBindings: r,
initialRTL: Gf()
}, e);
}, e => {
const t = Rs(), n = H.useRef({}).current, {setFocusById: r, setPressedById: i, resetPressedById: a, setMouseMode: o, resetFocusState: s} = pf(), l = cf();
H.useEffect((() => s), [ s ]);
const c = H.useCallback(((e, t) => (n[e] = t, () => {
delete n[e];
})), [ n ]), [d] = H.useState((() => new Map)), u = Ys((({getItem: e}) => (t, n) => {
if (r({
focusId: t,
source: n
}), t) {
const n = e(hl, t);
n && d.set(n, {
focusId: t,
time: Date.now()
});
}
}), [ r, d ]), p = H.useCallback(((e, t) => {
i((n => t ? e : n !== e ? n : void 0));
}), [ i ]), f = Ys((({get: e, getItem: t}) => () => {
const n = e(Ll);
return t(_l, n || l);
}), [ l ]), m = Ys((({getItem: e}) => (t, n, r) => {
const i = t.map((t => e(al, t))), a = e(al, n);
if (!a) return;
let o, s = Number.MAX_VALUE;
for (let e = 0; e <= t.length; e++) {
const l = t[e];
if (l === n) continue;
const c = i[e];
if (!c) continue;
const d = of(a, c, r);
!Number.isNaN(d) && d < s && (s = d, o = l);
}
return o;
}), []), y = Ys((({get: e, getItem: t}) => () => {
if (e(ll)) return;
const n = f();
let r;
for (const e of n) {
const n = t(hl, e);
if (n) {
const t = d.get(n);
t?.focusId === e && (!r || t.time > r.time) && (r = t);
}
}
r ? u(r.focusId, 2) : n.length && u(n[0], 2);
}), [ f, u, d ]), h = H.useCallback(((e, t) => {
const n = f(), r = m(n, e, t);
return r || bu;
}), [ f, m ]), g = Ys((({get: e}) => t => {
o(!1);
const r = e(ll);
if (!r) return void y();
const i = (0, n[r])?.(r, t);
"string" == typeof i && u(i, 0);
}), [ u, y, o, n ]), I = Hs(wl), v = H.useCallback((e => (I((t => t.includes(e) ? t : [ ...t, e ])), 
() => {
I((t => t.includes(e) ? t.filter((t => t !== e)) : t));
})), [ I ]);
Bs(a, [ a ], ll), Ws((({get: e, getItem: t}) => {
const n = e(ll);
n && t(Al, n) && u(void 0, 2);
}), [ u ]), Ws((({get: e, getItem: t}) => {
if (!e(pl) && !e(ll)) {
const n = e(Ll);
t(_l, n || l), y();
}
}), [ y, l ]), Ws((({get: e, getItem: t}) => {
const n = e(ll), r = e(Ll);
if (n && r) {
t(_l, r).includes(n) || (u(void 0, 2), y());
}
}), [ y, u ]);
const b = zs(fl), _ = zs(yl), P = zs(ml), S = zs(hl), T = H.useMemo((() => ({
setFocus: u,
setPressed: p,
setMouseMode: o,
navigate: g,
addNavigation: c,
isolateBoundaryId: v,
addBoundaryId: (e, n) => (mr((() => {
n && (_(e, n), b(n, (t => t.includes(e) ? t : [ ...t, e ])));
})), () => {
mr((() => {
d.delete(e), n && (t.resetItem(yl, e), b(n, (t => t.filter((t => t !== e)))));
}));
}),
addFocusId: (e, n) => (mr((() => {
S(e, n), P(n, (t => t.includes(e) ? t : [ ...t, e ]));
})), () => {
mr((() => {
t.resetItem(hl, e), r((t => {
if (t?.focusId !== e) return t;
})), i((t => {
if (t !== e) return t;
})), P(n, (t => t.filter((t => t !== e))));
}));
})
})), [ t, d, u, r, p, i, o, g, v, c, P, b, _, S ]);
return H.createElement(el.Provider, {
value: T
}, H.createElement(hu.Provider, {
value: h
}, H.createElement(uf, {
id: l
}, e.children)));
}, ({children: e}) => {
const t = mL(), n = H.useMemo((() => ({
left: t[lZ.GoLeft],
right: t[lZ.GoRight],
down: t[lZ.GoDown],
up: t[lZ.GoUp]
})), [ t ]);
return H.createElement(Df, {
navigationConfig: n
}, e);
}, ({children: e}) => {
const t = lm(), n = Rs(), r = F$();
return H.useEffect((() => {
if (!By.playerListsEnabled) return;
J$(n, t.PlayerList), z$(n, t.PlayerList, r);
const e = M$(t.PlayerList.onPlayerListsChanged, {
onStreamData: e => {
U$(n, e.playerLists);
}
}), i = M$(t.PlayerList.onPlayerListPersonasChanged, {
onStreamData: async e => {
await V$(n, e, r);
}
});
return () => {
e(), i();
};
}), [ r, n, t ]), H.createElement(H.Fragment, null, e);
}, ({children: e}) => {
const {data: t} = oE(), n = WT(), r = lm(), i = Rs(), {Telemetry: a} = r;
return H.useEffect((() => {
if (t) {
const e = a.getSessionHeaderInfo({})?.sessionHeader;
if (e) return n.updateSessionInfo({
...e,
platform: oR(t.personaInfo.devicePlatformId),
playerNetworkId: t.personaInfo.playerNetworkId,
personaId: t.personaInfo.personaId,
nucleusId: t.tokenInfo.userId,
versionNumber: "main_41713",
locale: nZ
}), $$(i, r, n, t.personaInfo.playerNetworkId);
}
}), [ a, i, r, n, t ]), lO(), aZ(), tZ(), H.createElement(H.Fragment, null, e);
}, ({children: e}) => {
const t = H.useRef(!0), [n, r] = Ks(hf), i = H.useCallback((e => {
n((t => {
const n = t.slice();
return e.forEach((e => {
const t = n.indexOf(e);
t > -1 && n.splice(t, 1);
})), n;
}));
}), [ n ]), a = H.useCallback((e => (t.current && n((t => [ ...t, ...e ])), () => t.current && i(e))), [ i, n ]);
H.useEffect((() => () => {
t.current = !1, r();
}), [ r ]);
const o = H.useMemo((() => ({
preloadImages: a
})), [ a ]);
return H.createElement(gf.Provider, {
value: o
}, H.createElement(_f, null), e);
}, ({children: e}) => {
const {data: t} = cE(), n = SN();
return H.useEffect((() => {
t && n.init(t);
}), [ n, t ]), H.createElement(H.Fragment, null, e);
}, ({children: e}) => H.createElement(H.Fragment, null, e), ({children: e}) => {
const {data: t} = cE(), {ftueManager: n} = uJ();
return H.useEffect((() => {
t && n.init(t);
}), [ n, t ]), H.createElement(RK, null, e);
}, ({children: e}) => (j$(), H.createElement(H.Fragment, null, e)), ({children: e}) => H.createElement(k$, null, H.createElement(u$, null, H.createElement(B$, null, e))), ({children: e}) => (pX(), 
lX(), H.createElement(iX, null, e)), ({children: e}) => By.isPartyEnabled ? H.createElement(_Q, null, H.createElement(bQ, null, e)) : H.createElement(H.Fragment, null, e), ({children: e}) => (mX(), 
fX(), H.createElement(H.Fragment, null, e)), e => (sZ(), G$(), LK(), SQ(), ik(), 
yX(), mm(), Sf(fZ), e.children), ({children: e}) => H.createElement(sF, null, H.createElement(GM, null, e)) ];
((e, t = []) => {
return n = {
roundedRectUrl: RE,
fullscreenResample: {
enable: !1,
width: vc(1920),
height: vc(1080)
},
createOnErrorCallback: (e, t) => (n, r) => {
r.message = n + ": " + r.message, vh(e, r), t(n, r);
},
async onStart(n, r) {
const i = new ws;
i.addExternalSingletonState(km, n);
const a = i.get(hh), o = new LE(n.nativeApi, a);
if (o.registerBinding(), i.addExternalSingletonState(Ih, o), CE.UseDevservice(n.bindings.Utilities)) {
const e = CE.EADPServiceHost(n.bindings.Utilities), {grpcClient: t, grpcMetadata: r} = BE(n, e);
VT(o, t, r), Uy(o);
}
IE(o), YT(i, o), n.bindings.Telemetry.sendTelemetryEvent.subscribe((e => {
if (e.httpRequestCompleteEvent) {
const {url: t, statusCode: n, requestCompletionDurationMs: r, requestQueueDurationMs: i} = e.httpRequestCompleteEvent;
ME(t) || a.addEvent({
eventType: "photon_http_request",
url: t,
status_code: n,
duration: r,
queue: i
});
} else e.noPublicKeyProvidedEvent && a.addEvent({
eventType: "photon_script_engine",
event: "no_public_key_provided"
});
}));
const s = i.get(vm);
await Sm(0, lv, s, xE), wc(n.bindings.Surface, [ qd ]), n.bindings.Surface.updateSurface({
surfaceId: "<TwinkleLayout::defaultSurface>",
surface: {
alignContent: "stretch",
textureFadeInTime: .3,
textureFadeInCutoff: .01,
textureFadeInEasing: "CubicOut",
styleObjects: [ qd ]
}
});
const l = [ Fd, Ud, Hd, Vd ], c = Md, d = await Im(n, l, c), u = 0 === d.length, p = CE.TranslationHost(n.bindings.Utilities), {data: f, error: m} = await mE(o.Identity), {translationsLoaded: y, errors: h} = await eE(n, By.locale, p);
var g;
g = {
CLOSE: cm("BUTTON_BACK"),
CONFIRM: cm("BUTTON_CONFIRM"),
INPUT_LABEL_CANCEL: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_CANCEL"),
INPUT_LABEL_DISMISS: cm("PHOTON-SOCIAL_ACTIONS-GLOBAL_GLOBAL_DISMISS"),
INPUT_LABEL_DISMISS_NOTIFICATION: cm("PHOTON-SOCIAL_BOTTOM-BAR_ACTIONS_DISMISS-NOTIFICATION")
}, fm = g;
const I = !u || !y || !f;
let v = "";
I && (v += "boot failure:", u || (v += " fonts failed to load"), y || (v += " translations failed to load"), 
f || (v += " user failed to load (" + m + ")"), a.addCountEvent("js_boot_fail", 1, v));
const b = await TE(n, o, i, f);
d.forEach((({url: e, duration: t}) => {
const n = e.split("/").pop();
a.addEvent({
eventType: "photon_font_fails",
filename: n,
duration: t
});
})), h.forEach((({url: e, duration: t, message: n}) => {
const r = e.split("/").pop();
a.addEvent({
eventType: "photon_translation_fails",
filename: r,
duration: t,
message: n
});
})), a.addEvent({
eventType: "photon_boot_start",
status: I ? "error" : "success",
player_status: b ? "offline" : "online",
error_code: v,
fallback_translation_used: 1 === h.length
}), I && await a.flushQueue(), r((n => {
n(e, [ ...t, e => H.createElement(xs, {
moby: i
}, H.createElement(sm.Provider, {
value: o
}, H.createElement(ov, null, H.createElement(hE, {
preloadedUser: f
}, e)))) ]);
}), I, v);
}
}, new Promise((e => {
const t = new vy, r = new Iy(t), i = (e, t) => {
const n = "Error during " + e + ": " + t.message;
console.log(n), r.bindings.Utilities.showError({
message: n
});
};
t.onErrorCallback = n.createOnErrorCallback?.(r, i) ?? i, r.bindings.Utilities.onSendErrorToJs.subscribe((e => {
const t = "Error from native: " + e.msg + ":\n" + e.debugStrings.join("\n");
console.log(t), r.bindings.Utilities.showError({
message: t
});
})), r.bindings.Layout.SetLayoutMode({
layoutMode: by.Yoga
}), r.bindings.Bootflow.onJsBootBegin({}), n.fullscreenResample && r.bindings.Utilities.setFullscreenResample(n.fullscreenResample), 
n?.roundedRectUrl && r.bindings.Texture.loadRoundedRectTexture({
url: n.roundedRectUrl
});
const a = async (t, n) => {
r.rootElementWrapper = e => {
let t = e;
return n?.forEach((e => {
t = e(t);
})), H.createElement(H.StrictMode, null, H.createElement(zu.Provider, {
value: r
}, t));
}, await r.render(t), e(r);
};
r.nativeApi.start((() => {
n.onStart(r, ((t, n = !1, i = "boot failure: unknown reason") => {
r.bindings.Bootflow.onJsBootEnd(n ? {
success: !1,
reason: i
} : {
success: !0
}), n ? (console.error(i), e(r)) : t(a);
}));
}));
}));
var n;
})(H.createElement((function() {
const e = bh(), t = gh(), n = H.useCallback((n => (t.addCountEvent("js_error", 1), 
t.flushQueue(), e(n))), [ t, e ]);
return H.createElement("surface", {
style: Bc("flex", 1),
onClick: uZ
}, H.createElement(dZ, {
onError: n
}, false, H.createElement(pZ, {
providers: yZ
}, H.createElement(mZ, {
onJsError: n
}))));
}), null));
}();
//# sourceMappingURL=bundle.js.map
